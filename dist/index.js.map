{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":"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","sourcesContent":["// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nimport libQ from 'kew';\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nimport vconf from 'v-conf';\n\nimport geoTZ from 'geo-tz';\nimport np from './lib/NowPlayingContext';\nimport { jsPromiseToKew, kewToJSPromise, getVolumioBackgrounds } from './lib/utils/Misc';\nimport * as App from './app';\nimport CommonSettingsLoader from './lib/config/CommonSettingsLoader';\nimport ConfigHelper from './lib/config/ConfigHelper';\nimport * as SystemUtils from './lib/utils/System';\nimport * as KioskUtils from './lib/utils/Kiosk';\nimport ConfigUpdater from './lib/config/ConfigUpdater';\nimport metadataAPI from './lib/api/MetadataAPI';\nimport weatherAPI from './lib/api/WeatherAPI';\nimport { CommonSettingsCategory, LocalizationSettings, NowPlayingScreenSettings, PerformanceSettings, ThemeSettings } from 'now-playing-common';\nimport UIConfigHelper from './lib/config/UIConfigHelper';\nimport ConfigBackupHelper from './lib/config/ConfigBackupHelper';\nimport myBackgroundMonitor from './lib/utils/MyBackgroundMonitor';\nimport vuMeterTemplateMonitor from './lib/utils/VUMeterTemplateMonitor';\nimport { UIConfigSelect } from './lib/config/UIConfig';\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\ntype DockedComponentKey<T = keyof NowPlayingScreenSettings> = T extends `docked${infer _X}` ? T : never;\n\nclass ControllerNowPlaying {\n  #context: any;\n  #config: any;\n  #commandRouter: any;\n  #volumioLanguageChangeCallback: (() => void) | null;\n\n  constructor(context: any) {\n    this.#context = context;\n    this.#commandRouter = this.#context.coreCommand;\n    this.#volumioLanguageChangeCallback = null;\n  }\n\n  getUIConfig() {\n    return jsPromiseToKew(this.#doGetUIConfig())\n      .fail((error: any) => {\n        np.getLogger().error(np.getErrorMessage('[now-playing] getUIConfig(): Cannot populate configuration:', error, true));\n        throw error;\n      });\n  }\n\n  async #doGetUIConfig() {\n    const langCode = this.#commandRouter.sharedVars.get('language_code');\n    const _uiconf = await kewToJSPromise(this.#commandRouter.i18nJson(\n      `${__dirname}/i18n/strings_${langCode}.json`,\n      `${__dirname}/i18n/strings_en.json`,\n      `${__dirname}/UIConfig.json`)) ;\n    const uiconf = UIConfigHelper.observe(_uiconf);\n\n    const daemonUIConf = uiconf.section_daemon;\n    const localizationUIConf = uiconf.section_localization;\n    const metadataServiceUIConf = uiconf.section_metadata_service;\n    const startupOptionsUIConf = uiconf.section_startup_options;\n    const textStylesUIConf = uiconf.section_text_styles;\n    const widgetStylesUIConf = uiconf.section_widget_styles;\n    const albumartStylesUIConf = uiconf.section_album_art_style;\n    const backgroundStylesUIConf = uiconf.section_background_style;\n    const vuMeterUIConf = uiconf.section_vu_meter;\n    const actionPanelUIConf = uiconf.section_action_panel;\n    const dockedMenuUIConf = uiconf.section_docked_menu;\n    const dockedActionPanelTriggerUIConf = uiconf.section_docked_action_panel_trigger;\n    const dockedVolumeIndicatorUIConf = uiconf.section_docked_volume_indicator;\n    const dockedClockUIConf = uiconf.section_docked_clock;\n    const dockedWeatherUIConf = uiconf.section_docked_weather;\n    const idleScreenUIConf = uiconf.section_idle_view;\n    const extraScreensUIConf = uiconf.section_extra_screens;\n    const kioskUIConf = uiconf.section_kiosk;\n    const performanceUIConf = uiconf.section_performance;\n    const backupConfigUIConf = uiconf.section_backup_config;\n\n    const volumioBackgrounds = getVolumioBackgrounds();\n    const myBackgrounds = myBackgroundMonitor.getImages();\n    const vuMeterTemplates = vuMeterTemplateMonitor.getTemplates();\n\n    if (myBackgroundMonitor.status === 'initializing' || myBackgroundMonitor.status === 'updating') {\n      np.toast('warning', np.getI18n('NOW_PLAYING_WARN_MY_BG_MONITOR_UPDATING'));\n    }\n\n    /**\n     * Daemon conf\n     */\n    const port = np.getConfigValue('port');\n    daemonUIConf.content.port.value = port;\n\n    // Get Now Playing Url\n    const thisDevice = np.getDeviceInfo();\n    const url = `${thisDevice.host}:${port}`;\n    const previewUrl = `${url}/preview`;\n    daemonUIConf.content.url.value = url;\n    daemonUIConf.content.previewUrl.value = previewUrl;\n    daemonUIConf.content.openPreview.onClick = {\n      type: 'openUrl',\n      url: previewUrl\n    };\n\n    /**\n     * Localization conf\n     */\n    const localization = CommonSettingsLoader.get(CommonSettingsCategory.Localization);\n    const geoCoordSetupUrl = `${url}/geo_coord_setup`;\n\n    localizationUIConf.content.geoCoordinates.value = localization.geoCoordinates;\n    localizationUIConf.content.geoCoordinatesGuide.onClick = {\n      type: 'openUrl',\n      url: geoCoordSetupUrl\n    };\n\n    // Locale list\n    const localeList = ConfigHelper.getLocaleList();\n    const matchLocale = localeList.find((lc) => lc.value === localization.locale);\n    if (matchLocale) {\n      localizationUIConf.content.locale.value = matchLocale;\n    }\n    else {\n      localizationUIConf.content.locale.value = {\n        value: localization.locale,\n        label: localization.locale\n      };\n    }\n    localizationUIConf.content.locale.options = localeList;\n\n    // Timezone list\n    const timezoneList = await ConfigHelper.getTimezoneList();\n    const matchTimezone = timezoneList.find((tz) => tz.value === localization.timezone);\n    if (matchTimezone) {\n      localizationUIConf.content.timezone.value = matchTimezone;\n    }\n    else {\n      localizationUIConf.content.timezone.value = {\n        value: localization.timezone,\n        label: localization.timezone\n      };\n    }\n    localizationUIConf.content.timezone.options = timezoneList;\n\n    // Unit system\n    localizationUIConf.content.unitSystem.value = {\n      value: localization.unitSystem,\n      label: ''\n    };\n    switch (localization.unitSystem) {\n      case 'imperial':\n        localizationUIConf.content.unitSystem.value.label = np.getI18n('NOW_PLAYING_UNITS_IMPERIAL');\n        break;\n      default: // Metric\n        localizationUIConf.content.unitSystem.value.label = np.getI18n('NOW_PLAYING_UNITS_METRIC');\n    }\n\n    /**\n     * Metadata Service conf\n     */\n    metadataServiceUIConf.content.geniusAccessToken.value = np.getConfigValue('geniusAccessToken');\n    const accessTokenSetupUrl = `${url}/genius_setup`;\n    metadataServiceUIConf.content.accessTokenGuide.onClick = {\n      type: 'openUrl',\n      url: accessTokenSetupUrl\n    };\n\n    const startupOptions = CommonSettingsLoader.get(CommonSettingsCategory.Startup);\n    startupOptionsUIConf.content.activeScreen.value = {\n      value: startupOptions.activeScreen,\n      label: ''\n    };\n    switch (startupOptions.activeScreen) {\n      case 'nowPlaying.infoView':\n        startupOptionsUIConf.content.activeScreen.value.label = np.getI18n('NOW_PLAYING_NP_INFO');\n        break;\n      case 'nowPlaying.vuMeter':\n        startupOptionsUIConf.content.activeScreen.value.label = np.getI18n('NOW_PLAYING_NP_VU_METER');\n        break;\n      case 'browse':\n        startupOptionsUIConf.content.activeScreen.value.label = np.getI18n('NOW_PLAYING_BROWSE');\n        break;\n      case 'volumio':\n        startupOptionsUIConf.content.activeScreen.value.label = np.getI18n('NOW_PLAYING_VOLUMIO');\n        break;\n      default:\n        startupOptionsUIConf.content.activeScreen.value.label = np.getI18n('NOW_PLAYING_NP_BASIC');\n    }\n    startupOptionsUIConf.content.activateIdleScreen.value = startupOptions.activateIdleScreen;\n\n    /**\n     * Text Styles conf\n     */\n    const nowPlayingScreen = CommonSettingsLoader.get(CommonSettingsCategory.NowPlayingScreen);\n\n    textStylesUIConf.content.trackInfoVisibility.value = {\n      value: nowPlayingScreen.trackInfoVisibility,\n      label: nowPlayingScreen.trackInfoVisibility == 'default' ? np.getI18n('NOW_PLAYING_DEFAULT') : np.getI18n('NOW_PLAYING_CUSTOM')\n    };\n    textStylesUIConf.content.titleVisibility.value = nowPlayingScreen.titleVisibility;\n    textStylesUIConf.content.artistVisibility.value = nowPlayingScreen.artistVisibility;\n    textStylesUIConf.content.albumVisibility.value = nowPlayingScreen.albumVisibility;\n    textStylesUIConf.content.mediaInfoVisibility.value = nowPlayingScreen.mediaInfoVisibility;\n\n    textStylesUIConf.content.fontSizes.value = {\n      value: nowPlayingScreen.fontSizes,\n      label: nowPlayingScreen.fontSizes == 'auto' ? np.getI18n('NOW_PLAYING_AUTO') : np.getI18n('NOW_PLAYING_CUSTOM')\n    };\n    textStylesUIConf.content.titleFontSize.value = nowPlayingScreen.titleFontSize;\n    textStylesUIConf.content.artistFontSize.value = nowPlayingScreen.artistFontSize;\n    textStylesUIConf.content.albumFontSize.value = nowPlayingScreen.albumFontSize;\n    textStylesUIConf.content.mediaInfoFontSize.value = nowPlayingScreen.mediaInfoFontSize;\n    textStylesUIConf.content.seekTimeFontSize.value = nowPlayingScreen.seekTimeFontSize;\n    textStylesUIConf.content.metadataFontSize.value = nowPlayingScreen.metadataFontSize;\n\n    textStylesUIConf.content.fontColors.value = {\n      value: nowPlayingScreen.fontColors,\n      label: nowPlayingScreen.fontColors == 'default' ? np.getI18n('NOW_PLAYING_DEFAULT') : np.getI18n('NOW_PLAYING_CUSTOM')\n    };\n    textStylesUIConf.content.titleFontColor.value = nowPlayingScreen.titleFontColor;\n    textStylesUIConf.content.artistFontColor.value = nowPlayingScreen.artistFontColor;\n    textStylesUIConf.content.albumFontColor.value = nowPlayingScreen.albumFontColor;\n    textStylesUIConf.content.mediaInfoFontColor.value = nowPlayingScreen.mediaInfoFontColor;\n    textStylesUIConf.content.seekTimeFontColor.value = nowPlayingScreen.seekTimeFontColor;\n    textStylesUIConf.content.metadataFontColor.value = nowPlayingScreen.metadataFontColor;\n\n    textStylesUIConf.content.textMargins.value = {\n      value: nowPlayingScreen.textMargins,\n      label: nowPlayingScreen.textMargins == 'auto' ? np.getI18n('NOW_PLAYING_AUTO') : np.getI18n('NOW_PLAYING_CUSTOM')\n    };\n    textStylesUIConf.content.titleMargin.value = nowPlayingScreen.titleMargin;\n    textStylesUIConf.content.artistMargin.value = nowPlayingScreen.artistMargin;\n    textStylesUIConf.content.albumMargin.value = nowPlayingScreen.albumMargin;\n    textStylesUIConf.content.mediaInfoMargin.value = nowPlayingScreen.mediaInfoMargin;\n\n    textStylesUIConf.content.textAlignmentH.value = {\n      value: nowPlayingScreen.textAlignmentH,\n      label: ''\n    };\n    switch (nowPlayingScreen.textAlignmentH) {\n      case 'center':\n        textStylesUIConf.content.textAlignmentH.value.label = np.getI18n('NOW_PLAYING_POSITION_CENTER');\n        break;\n      case 'right':\n        textStylesUIConf.content.textAlignmentH.value.label = np.getI18n('NOW_PLAYING_POSITION_RIGHT');\n        break;\n      default: // Left\n        textStylesUIConf.content.textAlignmentH.value.label = np.getI18n('NOW_PLAYING_POSITION_LEFT');\n    }\n\n    textStylesUIConf.content.textAlignmentV.value = {\n      value: nowPlayingScreen.textAlignmentV,\n      label: ''\n    };\n    switch (nowPlayingScreen.textAlignmentV) {\n      case 'center':\n        textStylesUIConf.content.textAlignmentV.value.label = np.getI18n('NOW_PLAYING_POSITION_CENTER');\n        break;\n      case 'flex-end':\n        textStylesUIConf.content.textAlignmentV.value.label = np.getI18n('NOW_PLAYING_POSITION_BOTTOM');\n        break;\n      case 'space-between':\n        textStylesUIConf.content.textAlignmentV.value.label = np.getI18n('NOW_PLAYING_SPREAD');\n        break;\n      default: // Top\n        textStylesUIConf.content.textAlignmentV.value.label = np.getI18n('NOW_PLAYING_POSITION_TOP');\n    }\n\n    textStylesUIConf.content.textAlignmentLyrics.value = {\n      value: nowPlayingScreen.textAlignmentLyrics,\n      label: ''\n    };\n    switch (nowPlayingScreen.textAlignmentLyrics) {\n      case 'center':\n        textStylesUIConf.content.textAlignmentLyrics.value.label = np.getI18n('NOW_PLAYING_POSITION_CENTER');\n        break;\n      case 'right':\n        textStylesUIConf.content.textAlignmentLyrics.value.label = np.getI18n('NOW_PLAYING_POSITION_RIGHT');\n        break;\n      default: // Left\n        textStylesUIConf.content.textAlignmentLyrics.value.label = np.getI18n('NOW_PLAYING_POSITION_LEFT');\n    }\n\n    textStylesUIConf.content.maxLines.value = {\n      value: nowPlayingScreen.maxLines,\n      label: nowPlayingScreen.maxLines == 'auto' ? np.getI18n('NOW_PLAYING_AUTO') : np.getI18n('NOW_PLAYING_CUSTOM')\n    };\n    textStylesUIConf.content.maxTitleLines.value = UIConfigHelper.sanitizeNumberInput(nowPlayingScreen.maxTitleLines);\n    textStylesUIConf.content.maxArtistLines.value = UIConfigHelper.sanitizeNumberInput(nowPlayingScreen.maxArtistLines);\n    textStylesUIConf.content.maxAlbumLines.value = UIConfigHelper.sanitizeNumberInput(nowPlayingScreen.maxAlbumLines);\n\n    textStylesUIConf.content.trackInfoOrder.value = {\n      value: nowPlayingScreen.trackInfoOrder,\n      label: nowPlayingScreen.trackInfoOrder == 'default' ? np.getI18n('NOW_PLAYING_DEFAULT') : np.getI18n('NOW_PLAYING_CUSTOM')\n    };\n    textStylesUIConf.content.trackInfoTitleOrder.value = UIConfigHelper.sanitizeNumberInput(nowPlayingScreen.trackInfoTitleOrder);\n    textStylesUIConf.content.trackInfoArtistOrder.value = UIConfigHelper.sanitizeNumberInput(nowPlayingScreen.trackInfoArtistOrder);\n    textStylesUIConf.content.trackInfoAlbumOrder.value = UIConfigHelper.sanitizeNumberInput(nowPlayingScreen.trackInfoAlbumOrder);\n    textStylesUIConf.content.trackInfoMediaInfoOrder.value = UIConfigHelper.sanitizeNumberInput(nowPlayingScreen.trackInfoMediaInfoOrder);\n\n    textStylesUIConf.content.trackInfoMarqueeTitle.value = nowPlayingScreen.trackInfoMarqueeTitle;\n\n    /**\n     * Widget Styles conf\n     */\n    widgetStylesUIConf.content.widgetColors.value = {\n      value: nowPlayingScreen.widgetColors,\n      label: nowPlayingScreen.widgetColors == 'default' ? np.getI18n('NOW_PLAYING_DEFAULT') : np.getI18n('NOW_PLAYING_CUSTOM')\n    };\n    widgetStylesUIConf.content.widgetPrimaryColor.value = nowPlayingScreen.widgetPrimaryColor;\n    widgetStylesUIConf.content.widgetHighlightColor.value = nowPlayingScreen.widgetHighlightColor;\n\n    widgetStylesUIConf.content.widgetVisibility.value = {\n      value: nowPlayingScreen.widgetVisibility,\n      label: nowPlayingScreen.widgetVisibility == 'default' ? np.getI18n('NOW_PLAYING_DEFAULT') : np.getI18n('NOW_PLAYING_CUSTOM')\n    };\n    widgetStylesUIConf.content.playbackButtonsVisibility.value = nowPlayingScreen.playbackButtonsVisibility;\n    widgetStylesUIConf.content.seekbarVisibility.value = nowPlayingScreen.seekbarVisibility;\n    widgetStylesUIConf.content.playbackButtonSizeType.value = {\n      value: nowPlayingScreen.playbackButtonSizeType,\n      label: nowPlayingScreen.playbackButtonSizeType == 'auto' ? np.getI18n('NOW_PLAYING_AUTO') : np.getI18n('NOW_PLAYING_CUSTOM')\n    };\n    widgetStylesUIConf.content.playbackButtonSize.value = nowPlayingScreen.playbackButtonSize;\n\n    widgetStylesUIConf.content.widgetMargins.value = {\n      value: nowPlayingScreen.widgetMargins,\n      label: nowPlayingScreen.widgetMargins == 'auto' ? np.getI18n('NOW_PLAYING_AUTO') : np.getI18n('NOW_PLAYING_CUSTOM')\n    };\n    widgetStylesUIConf.content.playbackButtonsMargin.value = nowPlayingScreen.playbackButtonsMargin;\n    widgetStylesUIConf.content.seekbarMargin.value = nowPlayingScreen.seekbarMargin;\n\n    /**\n     * Albumart Styles conf\n     */\n    albumartStylesUIConf.content.albumartVisibility.value = nowPlayingScreen.albumartVisibility;\n    albumartStylesUIConf.content.albumartSize.value = {\n      value: nowPlayingScreen.albumartSize,\n      label: nowPlayingScreen.albumartSize == 'auto' ? np.getI18n('NOW_PLAYING_AUTO') : np.getI18n('NOW_PLAYING_CUSTOM')\n    };\n    albumartStylesUIConf.content.albumartWidth.value = nowPlayingScreen.albumartWidth;\n    albumartStylesUIConf.content.albumartHeight.value = nowPlayingScreen.albumartHeight;\n\n    albumartStylesUIConf.content.albumartFit.value = {\n      value: nowPlayingScreen.albumartFit,\n      label: ''\n    };\n    switch (nowPlayingScreen.albumartFit) {\n      case 'contain':\n        albumartStylesUIConf.content.albumartFit.value.label = np.getI18n('NOW_PLAYING_FIT_CONTAIN');\n        break;\n      case 'fill':\n        albumartStylesUIConf.content.albumartFit.value.label = np.getI18n('NOW_PLAYING_FIT_FILL');\n        break;\n      default:\n        albumartStylesUIConf.content.albumartFit.value.label = np.getI18n('NOW_PLAYING_FIT_COVER');\n    }\n    albumartStylesUIConf.content.albumartBorder.value = nowPlayingScreen.albumartBorder;\n    albumartStylesUIConf.content.albumartBorderRadius.value = nowPlayingScreen.albumartBorderRadius;\n    if (!nowPlayingScreen.albumartVisibility) {\n      albumartStylesUIConf.content = [ albumartStylesUIConf.content.albumartVisibility ] as any;\n      if (albumartStylesUIConf.saveButton) {\n        albumartStylesUIConf.saveButton.data = [ 'albumartVisibility' ];\n      }\n    }\n\n    /**\n    * Background Styles Conf\n    */\n    const backgroundSettings = CommonSettingsLoader.get(CommonSettingsCategory.Background);\n    let volumioBackgroundImage = backgroundSettings.volumioBackgroundImage;\n    let backgroundStylesMyBackgroundImage = backgroundSettings.myBackgroundImage;\n    backgroundStylesUIConf.content.backgroundType.value = {\n      value: backgroundSettings.backgroundType,\n      label: ''\n    };\n    switch (backgroundSettings.backgroundType) {\n      case 'albumart':\n        backgroundStylesUIConf.content.backgroundType.value.label = np.getI18n('NOW_PLAYING_ALBUM_ART');\n        break;\n      case 'color':\n        backgroundStylesUIConf.content.backgroundType.value.label = np.getI18n('NOW_PLAYING_COLOR');\n        break;\n      case 'volumioBackground':\n        backgroundStylesUIConf.content.backgroundType.value.label = np.getI18n('NOW_PLAYING_VOLUMIO_BACKGROUND');\n        break;\n      case 'myBackground':\n        backgroundStylesUIConf.content.backgroundType.value.label = np.getI18n('NOW_PLAYING_MY_BACKGROUND');\n        break;\n      default:\n        backgroundStylesUIConf.content.backgroundType.value.label = np.getI18n('NOW_PLAYING_DEFAULT');\n    }\n\n    backgroundStylesUIConf.content.backgroundColor.value = backgroundSettings.backgroundColor;\n\n    backgroundStylesUIConf.content.albumartBackgroundFit.value = {\n      value: backgroundSettings.albumartBackgroundFit,\n      label: ''\n    };\n    switch (backgroundSettings.albumartBackgroundFit) {\n      case 'contain':\n        backgroundStylesUIConf.content.albumartBackgroundFit.value.label = np.getI18n('NOW_PLAYING_FIT_CONTAIN');\n        break;\n      case 'fill':\n        backgroundStylesUIConf.content.albumartBackgroundFit.value.label = np.getI18n('NOW_PLAYING_FIT_FILL');\n        break;\n      default:\n        backgroundStylesUIConf.content.albumartBackgroundFit.value.label = np.getI18n('NOW_PLAYING_FIT_COVER');\n    }\n    backgroundStylesUIConf.content.albumartBackgroundPosition.value = {\n      value: backgroundSettings.albumartBackgroundPosition,\n      label: ''\n    };\n    switch (backgroundSettings.albumartBackgroundPosition) {\n      case 'top':\n        backgroundStylesUIConf.content.albumartBackgroundPosition.value.label = np.getI18n('NOW_PLAYING_POSITION_TOP');\n        break;\n      case 'left':\n        backgroundStylesUIConf.content.albumartBackgroundPosition.value.label = np.getI18n('NOW_PLAYING_POSITION_LEFT');\n        break;\n      case 'bottom':\n        backgroundStylesUIConf.content.albumartBackgroundPosition.value.label = np.getI18n('NOW_PLAYING_POSITION_BOTTOM');\n        break;\n      case 'right':\n        backgroundStylesUIConf.content.albumartBackgroundPosition.value.label = np.getI18n('NOW_PLAYING_POSITION_RIGHT');\n        break;\n      default:\n        backgroundStylesUIConf.content.albumartBackgroundPosition.value.label = np.getI18n('NOW_PLAYING_POSITION_CENTER');\n    }\n    backgroundStylesUIConf.content.albumartBackgroundBlur.value = backgroundSettings.albumartBackgroundBlur;\n    backgroundStylesUIConf.content.albumartBackgroundScale.value = backgroundSettings.albumartBackgroundScale;\n\n    if (volumioBackgroundImage !== '' && !volumioBackgrounds.includes(volumioBackgroundImage)) {\n      volumioBackgroundImage = ''; // Image no longer exists\n    }\n    backgroundStylesUIConf.content.volumioBackgroundImage.value = {\n      value: volumioBackgroundImage,\n      label: volumioBackgroundImage\n    };\n    backgroundStylesUIConf.content.volumioBackgroundImage.options = volumioBackgrounds.map((bg) => ({\n      value: bg,\n      label: bg\n    }));\n    backgroundStylesUIConf.content.volumioBackgroundFit.value = {\n      value: backgroundSettings.volumioBackgroundFit,\n      label: ''\n    };\n    switch (backgroundSettings.volumioBackgroundFit) {\n      case 'contain':\n        backgroundStylesUIConf.content.volumioBackgroundFit.value.label = np.getI18n('NOW_PLAYING_FIT_CONTAIN');\n        break;\n      case 'fill':\n        backgroundStylesUIConf.content.volumioBackgroundFit.value.label = np.getI18n('NOW_PLAYING_FIT_FILL');\n        break;\n      default:\n        backgroundStylesUIConf.content.volumioBackgroundFit.value.label = np.getI18n('NOW_PLAYING_FIT_COVER');\n    }\n    backgroundStylesUIConf.content.volumioBackgroundPosition.value = {\n      value: backgroundSettings.volumioBackgroundPosition,\n      label: ''\n    };\n    switch (backgroundSettings.volumioBackgroundPosition) {\n      case 'top':\n        backgroundStylesUIConf.content.volumioBackgroundPosition.value.label = np.getI18n('NOW_PLAYING_POSITION_TOP');\n        break;\n      case 'left':\n        backgroundStylesUIConf.content.volumioBackgroundPosition.value.label = np.getI18n('NOW_PLAYING_POSITION_LEFT');\n        break;\n      case 'bottom':\n        backgroundStylesUIConf.content.volumioBackgroundPosition.value.label = np.getI18n('NOW_PLAYING_POSITION_BOTTOM');\n        break;\n      case 'right':\n        backgroundStylesUIConf.content.volumioBackgroundPosition.value.label = np.getI18n('NOW_PLAYING_POSITION_RIGHT');\n        break;\n      default:\n        backgroundStylesUIConf.content.volumioBackgroundPosition.value.label = np.getI18n('NOW_PLAYING_POSITION_CENTER');\n    }\n    backgroundStylesUIConf.content.volumioBackgroundBlur.value = backgroundSettings.volumioBackgroundBlur;\n    backgroundStylesUIConf.content.volumioBackgroundScale.value = backgroundSettings.volumioBackgroundScale;\n\n    if (backgroundSettings.myBackgroundImageType === 'fixed') {\n      if (backgroundStylesMyBackgroundImage !== '' && !myBackgrounds.find((bg) => bg.name === backgroundStylesMyBackgroundImage)) {\n        backgroundStylesMyBackgroundImage = ''; // Image no longer exists\n      }\n      backgroundStylesUIConf.content.myBackgroundImage.value = {\n        value: backgroundStylesMyBackgroundImage,\n        label: backgroundStylesMyBackgroundImage\n      };\n    }\n    else { // Random\n      backgroundStylesUIConf.content.myBackgroundImage.value = {\n        value: '/RANDOM/',\n        label: np.getI18n('NOW_PLAYING_RANDOM')\n      };\n    }\n    if (myBackgrounds.length > 0) {\n      backgroundStylesUIConf.content.myBackgroundImage.options.push({\n        value: '/SEPARATOR/',\n        label: '-'.repeat(np.getI18n('NOW_PLAYING_RANDOM').length)\n      });\n\n      myBackgrounds.forEach((bg) => {\n        backgroundStylesUIConf.content.myBackgroundImage.options.push({\n          value: bg.name,\n          label: bg.name\n        });\n      });\n    }\n    backgroundStylesUIConf.content.myBackgroundRandomRefreshInterval.value = backgroundSettings.myBackgroundRandomRefreshInterval;\n    backgroundStylesUIConf.content.myBackgroundRandomRefreshOnTrackChange.value = backgroundSettings.myBackgroundRandomRefreshOnTrackChange;\n    backgroundStylesUIConf.content.myBackgroundFit.value = {\n      value: backgroundSettings.myBackgroundFit,\n      label: ''\n    };\n    switch (backgroundSettings.myBackgroundFit) {\n      case 'contain':\n        backgroundStylesUIConf.content.myBackgroundFit.value.label = np.getI18n('NOW_PLAYING_FIT_CONTAIN');\n        break;\n      case 'fill':\n        backgroundStylesUIConf.content.myBackgroundFit.value.label = np.getI18n('NOW_PLAYING_FIT_FILL');\n        break;\n      default:\n        backgroundStylesUIConf.content.myBackgroundFit.value.label = np.getI18n('NOW_PLAYING_FIT_COVER');\n    }\n    backgroundStylesUIConf.content.myBackgroundPosition.value = {\n      value: backgroundSettings.myBackgroundPosition,\n      label: ''\n    };\n    switch (backgroundSettings.myBackgroundPosition) {\n      case 'top':\n        backgroundStylesUIConf.content.myBackgroundPosition.value.label = np.getI18n('NOW_PLAYING_POSITION_TOP');\n        break;\n      case 'left':\n        backgroundStylesUIConf.content.myBackgroundPosition.value.label = np.getI18n('NOW_PLAYING_POSITION_LEFT');\n        break;\n      case 'bottom':\n        backgroundStylesUIConf.content.myBackgroundPosition.value.label = np.getI18n('NOW_PLAYING_POSITION_BOTTOM');\n        break;\n      case 'right':\n        backgroundStylesUIConf.content.myBackgroundPosition.value.label = np.getI18n('NOW_PLAYING_POSITION_RIGHT');\n        break;\n      default:\n        backgroundStylesUIConf.content.myBackgroundPosition.value.label = np.getI18n('NOW_PLAYING_POSITION_CENTER');\n    }\n    backgroundStylesUIConf.content.myBackgroundBlur.value = backgroundSettings.myBackgroundBlur;\n    backgroundStylesUIConf.content.myBackgroundScale.value = backgroundSettings.myBackgroundScale;\n\n    backgroundStylesUIConf.content.backgroundOverlay.value = {\n      value: backgroundSettings.backgroundOverlay,\n      label: ''\n    };\n    switch (backgroundSettings.backgroundOverlay) {\n      case 'customColor':\n        backgroundStylesUIConf.content.backgroundOverlay.value.label = np.getI18n('NOW_PLAYING_CUSTOM_COLOR');\n        break;\n      case 'customGradient':\n        backgroundStylesUIConf.content.backgroundOverlay.value.label = np.getI18n('NOW_PLAYING_CUSTOM_GRADIENT');\n        break;\n      case 'none':\n        backgroundStylesUIConf.content.backgroundOverlay.value.label = np.getI18n('NOW_PLAYING_NONE');\n        break;\n      default:\n        backgroundStylesUIConf.content.backgroundOverlay.value.label = np.getI18n('NOW_PLAYING_DEFAULT');\n    }\n    backgroundStylesUIConf.content.backgroundOverlayColor.value = backgroundSettings.backgroundOverlayColor;\n    backgroundStylesUIConf.content.backgroundOverlayColorOpacity.value = backgroundSettings.backgroundOverlayColorOpacity;\n    backgroundStylesUIConf.content.backgroundOverlayGradient.value = backgroundSettings.backgroundOverlayGradient;\n    backgroundStylesUIConf.content.backgroundOverlayGradientOpacity.value = backgroundSettings.backgroundOverlayGradientOpacity;\n\n    /**\n     * VU Meter\n     */\n    const vuMeterSettings = nowPlayingScreen.vuMeter;\n    let vuMeterTemplate = '';\n    if (vuMeterSettings.templateType === 'fixed') {\n      vuMeterTemplate = vuMeterSettings.template;\n      if (vuMeterTemplate !== '' && !vuMeterTemplates.find((t) => t.name === vuMeterTemplate)) {\n        vuMeterTemplate = ''; // Template no longer exists\n      }\n    }\n    if (vuMeterTemplate) {\n      vuMeterUIConf.content.template.value = {\n        value: vuMeterTemplate,\n        label: vuMeterTemplate\n      };\n    }\n    else {\n      vuMeterUIConf.content.template.value = {\n        value: '/RANDOM/',\n        label: np.getI18n('NOW_PLAYING_RANDOM')\n      };\n    }\n    vuMeterUIConf.content.randomRefreshInterval.value = vuMeterSettings.randomRefreshInterval;\n    vuMeterUIConf.content.randomRefreshOnTrackChange.value = vuMeterSettings.randomRefreshOnTrackChange;\n\n    if (vuMeterTemplates.length > 0) {\n      vuMeterUIConf.content.template.options.push({\n        value: '/SEPARATOR/',\n        label: '-'.repeat(np.getI18n('NOW_PLAYING_RANDOM').length)\n      });\n\n      const vuMeterTemplateMeterSelectElements: UIConfigSelect<any>[] = [];\n      vuMeterTemplates.forEach((t) => {\n        vuMeterUIConf.content.template.options.push({\n          value: t.name,\n          label: t.name\n        });\n\n        // Create UIConfig `select` element for template's meters\n        const vuMeterTemplateMeterSelect: UIConfigSelect<any> = {\n          id: `${t.name}.meter` as any,\n          element: 'select',\n          label: np.getI18n('NOW_PLAYING_VU_METER_STYLE'),\n          options: [] as Array<{value: string, label: string}>,\n          value: {\n            value: '',\n            label: ''\n          },\n          visibleIf: {\n            field: 'template',\n            value: t.name\n          }\n        };\n        let selectedMeter = '';\n        if (t.name === vuMeterTemplate &&\n          vuMeterSettings.meterType === 'fixed' &&\n          t.meters.find((t2) => t2.name === vuMeterSettings.meter)) {\n\n          selectedMeter = vuMeterSettings.meter;\n        }\n        if (selectedMeter) {\n          vuMeterTemplateMeterSelect.value = ({\n            value: selectedMeter,\n            label: selectedMeter\n          });\n        }\n        else {\n          vuMeterTemplateMeterSelect.value = ({\n            value: '/RANDOM/',\n            label: np.getI18n('NOW_PLAYING_RANDOM')\n          });\n        }\n\n        vuMeterTemplateMeterSelect.options.push(\n          {\n            value: '/RANDOM/',\n            label: np.getI18n('NOW_PLAYING_RANDOM')\n          },\n          {\n            value: '/SEPARATOR/',\n            label: '-'.repeat(np.getI18n('NOW_PLAYING_RANDOM').length)\n          },\n          ...t.meters.map((m) => ({\n            value: m.name,\n            label: m.name\n          }))\n        );\n\n        vuMeterTemplateMeterSelectElements.push(vuMeterTemplateMeterSelect);\n\n        if (vuMeterUIConf.saveButton) {\n          vuMeterUIConf.saveButton.data.push(vuMeterTemplateMeterSelect.id as any);\n        }\n      });\n      const insertIndex = vuMeterUIConf.content.findIndex((c) => c.id === 'template') + 1;\n      vuMeterUIConf.content.splice(insertIndex, 0, ...vuMeterTemplateMeterSelectElements);\n    }\n    if (vuMeterTemplateMonitor.status === 'initializing' || vuMeterTemplateMonitor.status === 'updating') {\n      vuMeterUIConf.description = np.getI18n('NOW_PLAYING_WARN_VU_MONITOR_UPDATING');\n    }\n\n    /**\n     * Action Panel\n     */\n    const actionPanelSettings = CommonSettingsLoader.get(CommonSettingsCategory.ActionPanel);\n    actionPanelUIConf.content.showVolumeSlider.value = actionPanelSettings.showVolumeSlider;\n\n    /**\n     * Docked Menu\n     */\n    const dockedMenu = nowPlayingScreen.dockedMenu;\n    dockedMenuUIConf.content.enabled.value = dockedMenu.enabled;\n    dockedMenuUIConf.content.showInVUMeterView.value = dockedMenu.showInVUMeterView;\n\n    /**\n     * Docked Action Panel Trigger\n     */\n    const dockedActionPanelTrigger = nowPlayingScreen.dockedActionPanelTrigger;\n    dockedActionPanelTriggerUIConf.content.enabled.value = dockedActionPanelTrigger.enabled;\n    dockedActionPanelTriggerUIConf.content.showInVUMeterView.value = dockedActionPanelTrigger.showInVUMeterView;\n    dockedActionPanelTriggerUIConf.content.iconSettings.value = {\n      value: dockedActionPanelTrigger.iconSettings,\n      label: dockedActionPanelTrigger.iconSettings == 'default' ? np.getI18n('NOW_PLAYING_DEFAULT') : np.getI18n('NOW_PLAYING_CUSTOM')\n    };\n    dockedActionPanelTriggerUIConf.content.iconStyle.value = {\n      value: dockedActionPanelTrigger.iconStyle,\n      label: ''\n    };\n    switch (dockedActionPanelTrigger.iconStyle) {\n      case 'expand_circle_down':\n        dockedActionPanelTriggerUIConf.content.iconStyle.value.label = np.getI18n('NOW_PLAYING_CHEVRON_CIRCLE');\n        break;\n      case 'arrow_drop_down':\n        dockedActionPanelTriggerUIConf.content.iconStyle.value.label = np.getI18n('NOW_PLAYING_CARET');\n        break;\n      case 'arrow_drop_down_circle':\n        dockedActionPanelTriggerUIConf.content.iconStyle.value.label = np.getI18n('NOW_PLAYING_CARET_CIRCLE');\n        break;\n      case 'arrow_downward':\n        dockedActionPanelTriggerUIConf.content.iconStyle.value.label = np.getI18n('NOW_PLAYING_ARROW');\n        break;\n      case 'arrow_circle_down':\n        dockedActionPanelTriggerUIConf.content.iconStyle.value.label = np.getI18n('NOW_PLAYING_ARROW_CIRCLE');\n        break;\n      default:\n        dockedActionPanelTriggerUIConf.content.iconStyle.value.label = np.getI18n('NOW_PLAYING_CHEVRON');\n    }\n    dockedActionPanelTriggerUIConf.content.iconSize.value = dockedActionPanelTrigger.iconSize;\n    dockedActionPanelTriggerUIConf.content.iconColor.value = dockedActionPanelTrigger.iconColor;\n    dockedActionPanelTriggerUIConf.content.opacity.value = dockedActionPanelTrigger.opacity;\n    dockedActionPanelTriggerUIConf.content.margin.value = dockedActionPanelTrigger.margin;\n    if (!dockedActionPanelTrigger.enabled) {\n      dockedActionPanelTriggerUIConf.content = [ dockedActionPanelTriggerUIConf.content.enabled ] as any;\n      if (dockedActionPanelTriggerUIConf.saveButton) {\n        dockedActionPanelTriggerUIConf.saveButton.data = [ 'enabled' ];\n      }\n    }\n\n    /**\n     * Docked Volume Indicator\n     */\n    const dockedVolumeIndicator = nowPlayingScreen.dockedVolumeIndicator;\n    dockedVolumeIndicatorUIConf.content.enabled.value = dockedVolumeIndicator.enabled;\n    dockedVolumeIndicatorUIConf.content.showInVUMeterView.value = dockedVolumeIndicator.showInVUMeterView;\n    dockedVolumeIndicatorUIConf.content.placement.value = {\n      value: dockedVolumeIndicator.placement,\n      label: ''\n    };\n    switch (dockedVolumeIndicator.placement) {\n      case 'top-left':\n        dockedVolumeIndicatorUIConf.content.placement.value.label = np.getI18n('NOW_PLAYING_POSITION_TOP_LEFT');\n        break;\n      case 'top':\n        dockedVolumeIndicatorUIConf.content.placement.value.label = np.getI18n('NOW_PLAYING_POSITION_TOP');\n        break;\n      case 'top-right':\n        dockedVolumeIndicatorUIConf.content.placement.value.label = np.getI18n('NOW_PLAYING_POSITION_TOP_RIGHT');\n        break;\n      case 'left':\n        dockedVolumeIndicatorUIConf.content.placement.value.label = np.getI18n('NOW_PLAYING_POSITION_LEFT');\n        break;\n      case 'right':\n        dockedVolumeIndicatorUIConf.content.placement.value.label = np.getI18n('NOW_PLAYING_POSITION_RIGHT');\n        break;\n      case 'bottom-left':\n        dockedVolumeIndicatorUIConf.content.placement.value.label = np.getI18n('NOW_PLAYING_POSITION_BOTTOM_LEFT');\n        break;\n      case 'bottom':\n        dockedVolumeIndicatorUIConf.content.placement.value.label = np.getI18n('NOW_PLAYING_POSITION_BOTTOM');\n        break;\n      default:\n        dockedVolumeIndicatorUIConf.content.placement.value.label = np.getI18n('NOW_PLAYING_POSITION_BOTTOM_RIGHT');\n    }\n    dockedVolumeIndicatorUIConf.content.displayOrder.value = UIConfigHelper.sanitizeNumberInput(dockedVolumeIndicator.displayOrder);\n    dockedVolumeIndicatorUIConf.content.fontSettings.value = {\n      value: dockedVolumeIndicator.fontSettings,\n      label: dockedVolumeIndicator.fontSettings == 'default' ? np.getI18n('NOW_PLAYING_DEFAULT') : np.getI18n('NOW_PLAYING_CUSTOM')\n    };\n    dockedVolumeIndicatorUIConf.content.fontSize.value = dockedVolumeIndicator.fontSize;\n    dockedVolumeIndicatorUIConf.content.fontSizePercentSymbol.value = dockedVolumeIndicator.fontSizePercentSymbol;\n    dockedVolumeIndicatorUIConf.content.fontColor.value = dockedVolumeIndicator.fontColor;\n    dockedVolumeIndicatorUIConf.content.iconSettings.value = {\n      value: dockedVolumeIndicator.iconSettings,\n      label: dockedVolumeIndicator.iconSettings == 'default' ? np.getI18n('NOW_PLAYING_DEFAULT') : np.getI18n('NOW_PLAYING_CUSTOM')\n    };\n    dockedVolumeIndicatorUIConf.content.iconSize.value = dockedVolumeIndicator.iconSize;\n    dockedVolumeIndicatorUIConf.content.iconColor.value = dockedVolumeIndicator.iconColor;\n    dockedVolumeIndicatorUIConf.content.margin.value = dockedVolumeIndicator.margin;\n    dockedVolumeIndicatorUIConf.content.showVolumeBarOnClick.value = dockedVolumeIndicator.showVolumeBarOnClick;\n    dockedVolumeIndicatorUIConf.content.volumeBarPosition.value = {\n      value: dockedVolumeIndicator.volumeBarPosition,\n      label: ''\n    };\n    switch (dockedVolumeIndicator.volumeBarPosition) {\n      case 'anchored':\n        dockedVolumeIndicatorUIConf.content.volumeBarPosition.value.label = np.getI18n('NOW_PLAYING_VOL_BAR_ANCHORED');\n        break;\n      default:\n        dockedVolumeIndicatorUIConf.content.volumeBarPosition.value.label = np.getI18n('NOW_PLAYING_VOL_BAR_CENTER');\n    }\n    dockedVolumeIndicatorUIConf.content.volumeBarOrientation.value = {\n      value: dockedVolumeIndicator.volumeBarOrientation,\n      label: ''\n    };\n    switch (dockedVolumeIndicator.volumeBarOrientation) {\n      case 'vertical':\n        dockedVolumeIndicatorUIConf.content.volumeBarOrientation.value.label = np.getI18n('NOW_PLAYING_VERTICAL');\n        break;\n      default:\n        dockedVolumeIndicatorUIConf.content.volumeBarOrientation.value.label = np.getI18n('NOW_PLAYING_HORIZONTAL');\n    }\n    if (!dockedVolumeIndicator.enabled) {\n      dockedVolumeIndicatorUIConf.content = [ dockedVolumeIndicatorUIConf.content.enabled ] as any;\n      if (dockedVolumeIndicatorUIConf.saveButton) {\n        dockedVolumeIndicatorUIConf.saveButton.data = [ 'enabled' ];\n      }\n    }\n\n    /**\n     * Docked Clock\n     */\n    const dockedClock = nowPlayingScreen.dockedClock;\n    dockedClockUIConf.content.enabled.value = dockedClock.enabled;\n    dockedClockUIConf.content.showInVUMeterView.value = dockedClock.showInVUMeterView;\n    dockedClockUIConf.content.placement.value = {\n      value: dockedClock.placement,\n      label: ''\n    };\n    switch (dockedClock.placement) {\n      case 'top-left':\n        dockedClockUIConf.content.placement.value.label = np.getI18n('NOW_PLAYING_POSITION_TOP_LEFT');\n        break;\n      case 'top':\n        dockedClockUIConf.content.placement.value.label = np.getI18n('NOW_PLAYING_POSITION_TOP');\n        break;\n      case 'top-right':\n        dockedClockUIConf.content.placement.value.label = np.getI18n('NOW_PLAYING_POSITION_TOP_RIGHT');\n        break;\n      case 'left':\n        dockedClockUIConf.content.placement.value.label = np.getI18n('NOW_PLAYING_POSITION_LEFT');\n        break;\n      case 'right':\n        dockedClockUIConf.content.placement.value.label = np.getI18n('NOW_PLAYING_POSITION_RIGHT');\n        break;\n      case 'bottom-left':\n        dockedClockUIConf.content.placement.value.label = np.getI18n('NOW_PLAYING_POSITION_BOTTOM_LEFT');\n        break;\n      case 'bottom':\n        dockedClockUIConf.content.placement.value.label = np.getI18n('NOW_PLAYING_POSITION_BOTTOM');\n        break;\n      default:\n        dockedClockUIConf.content.placement.value.label = np.getI18n('NOW_PLAYING_POSITION_BOTTOM_RIGHT');\n    }\n    dockedClockUIConf.content.displayOrder.value = UIConfigHelper.sanitizeNumberInput(dockedClock.displayOrder);\n    dockedClockUIConf.content.showInfo.value = {\n      value: dockedClock.showInfo,\n      label: ''\n    };\n    switch (dockedClock.showInfo) {\n      case 'time':\n        dockedClockUIConf.content.showInfo.value.label = np.getI18n('NOW_PLAYING_TIME_ONLY');\n        break;\n      case 'date':\n        dockedClockUIConf.content.showInfo.value.label = np.getI18n('NOW_PLAYING_DATE_ONLY');\n        break;\n      default:\n        dockedClockUIConf.content.showInfo.value.label = np.getI18n('NOW_PLAYING_DATE_TIME');\n    }\n    dockedClockUIConf.content.fontSettings.value = {\n      value: dockedClock.fontSettings,\n      label: dockedClock.fontSettings == 'default' ? np.getI18n('NOW_PLAYING_DEFAULT') : np.getI18n('NOW_PLAYING_CUSTOM')\n    };\n    dockedClockUIConf.content.fontSize.value = dockedClock.fontSize;\n    dockedClockUIConf.content.dateColor.value = dockedClock.dateColor;\n    dockedClockUIConf.content.timeColor.value = dockedClock.timeColor;\n    dockedClockUIConf.content.dateFormat.value = {\n      value: dockedClock.dateFormat,\n      label: dockedClock.dateFormat == 'default' ? np.getI18n('NOW_PLAYING_DEFAULT') : np.getI18n('NOW_PLAYING_CUSTOM')\n    };\n    dockedClockUIConf.content.yearFormat.value = {\n      value: dockedClock.yearFormat,\n      label: ''\n    };\n    switch (dockedClock.yearFormat) {\n      case 'numeric':\n        dockedClockUIConf.content.yearFormat.value.label = np.getI18n('NOW_PLAYING_NUMERIC_YEAR');\n        break;\n      case '2-digit':\n        dockedClockUIConf.content.yearFormat.value.label = np.getI18n('NOW_PLAYING_2DIGIT_YEAR');\n        break;\n      default:\n        dockedClockUIConf.content.yearFormat.value.label = np.getI18n('NOW_PLAYING_NONE');\n    }\n    dockedClockUIConf.content.monthFormat.value = {\n      value: dockedClock.monthFormat,\n      label: ''\n    };\n    switch (dockedClock.monthFormat) {\n      case 'numeric':\n        dockedClockUIConf.content.monthFormat.value.label = np.getI18n('NOW_PLAYING_NUMERIC_MONTH');\n        break;\n      case '2-digit':\n        dockedClockUIConf.content.monthFormat.value.label = np.getI18n('NOW_PLAYING_2DIGIT_MONTH');\n        break;\n      case 'long':\n        dockedClockUIConf.content.monthFormat.value.label = np.getI18n('NOW_PLAYING_LONG_MONTH');\n        break;\n      default:\n        dockedClockUIConf.content.monthFormat.value.label = np.getI18n('NOW_PLAYING_SHORT_MONTH');\n    }\n    dockedClockUIConf.content.dayFormat.value = {\n      value: dockedClock.dayFormat,\n      label: ''\n    };\n    switch (dockedClock.dayFormat) {\n      case '2-digit':\n        dockedClockUIConf.content.dayFormat.value.label = np.getI18n('NOW_PLAYING_2DIGIT_DAY');\n        break;\n      default:\n        dockedClockUIConf.content.dayFormat.value.label = np.getI18n('NOW_PLAYING_NUMERIC_DAY');\n    }\n    dockedClockUIConf.content.dayOfWeekFormat.value = {\n      value: dockedClock.dayOfWeekFormat,\n      label: ''\n    };\n    switch (dockedClock.dayOfWeekFormat) {\n      case 'long':\n        dockedClockUIConf.content.dayOfWeekFormat.value.label = np.getI18n('NOW_PLAYING_LONG_DAY_OF_WEEK');\n        break;\n      case 'short':\n        dockedClockUIConf.content.dayOfWeekFormat.value.label = np.getI18n('NOW_PLAYING_SHORT_DAY_OF_WEEK');\n        break;\n      default:\n        dockedClockUIConf.content.dayOfWeekFormat.value.label = np.getI18n('NOW_PLAYING_NONE');\n    }\n    dockedClockUIConf.content.timeFormat.value = {\n      value: dockedClock.timeFormat,\n      label: dockedClock.timeFormat == 'default' ? np.getI18n('NOW_PLAYING_DEFAULT') : np.getI18n('NOW_PLAYING_CUSTOM')\n    };\n    dockedClockUIConf.content.hourFormat.value = {\n      value: dockedClock.hourFormat,\n      label: ''\n    };\n    switch (dockedClock.hourFormat) {\n      case '2-digit':\n        dockedClockUIConf.content.hourFormat.value.label = np.getI18n('NOW_PLAYING_2DIGIT_HOUR');\n        break;\n      default:\n        dockedClockUIConf.content.hourFormat.value.label = np.getI18n('NOW_PLAYING_NUMERIC_HOUR');\n    }\n    dockedClockUIConf.content.hour24.value = dockedClock.hour24;\n    dockedClockUIConf.content.showSeconds.value = dockedClock.showSeconds;\n    dockedClockUIConf.content.margin.value = dockedClock.margin;\n    if (!dockedClock.enabled) {\n      dockedClockUIConf.content = [ dockedClockUIConf.content.enabled ] as any;\n      if (dockedClockUIConf.saveButton) {\n        dockedClockUIConf.saveButton.data = [ 'enabled' ];\n      }\n    }\n\n    /**\n     * Docked Weather\n     */\n    const dockedWeather = nowPlayingScreen.dockedWeather;\n    dockedWeatherUIConf.content.enabled.value = dockedWeather.enabled;\n    dockedWeatherUIConf.content.showInVUMeterView.value = dockedWeather.showInVUMeterView;\n    dockedWeatherUIConf.content.placement.value = {\n      value: dockedWeather.placement,\n      label: ''\n    };\n    switch (dockedWeather.placement) {\n      case 'top-left':\n        dockedWeatherUIConf.content.placement.value.label = np.getI18n('NOW_PLAYING_POSITION_TOP_LEFT');\n        break;\n      case 'top':\n        dockedWeatherUIConf.content.placement.value.label = np.getI18n('NOW_PLAYING_POSITION_TOP');\n        break;\n      case 'top-right':\n        dockedWeatherUIConf.content.placement.value.label = np.getI18n('NOW_PLAYING_POSITION_TOP_RIGHT');\n        break;\n      case 'left':\n        dockedWeatherUIConf.content.placement.value.label = np.getI18n('NOW_PLAYING_POSITION_LEFT');\n        break;\n      case 'right':\n        dockedWeatherUIConf.content.placement.value.label = np.getI18n('NOW_PLAYING_POSITION_RIGHT');\n        break;\n      case 'bottom-left':\n        dockedWeatherUIConf.content.placement.value.label = np.getI18n('NOW_PLAYING_POSITION_BOTTOM_LEFT');\n        break;\n      case 'bottom':\n        dockedWeatherUIConf.content.placement.value.label = np.getI18n('NOW_PLAYING_POSITION_BOTTOM');\n        break;\n      default:\n        dockedWeatherUIConf.content.placement.value.label = np.getI18n('NOW_PLAYING_POSITION_BOTTOM_RIGHT');\n    }\n    dockedWeatherUIConf.content.displayOrder.value = UIConfigHelper.sanitizeNumberInput(dockedWeather.displayOrder);\n    dockedWeatherUIConf.content.showHumidity.value = dockedWeather.showHumidity;\n    dockedWeatherUIConf.content.showWindSpeed.value = dockedWeather.showWindSpeed;\n    dockedWeatherUIConf.content.fontSettings.value = {\n      value: dockedWeather.fontSettings,\n      label: dockedWeather.fontSettings == 'default' ? np.getI18n('NOW_PLAYING_DEFAULT') : np.getI18n('NOW_PLAYING_CUSTOM')\n    };\n    dockedWeatherUIConf.content.fontSize.value = dockedWeather.fontSize;\n    dockedWeatherUIConf.content.fontColor.value = dockedWeather.fontColor;\n    dockedWeatherUIConf.content.iconSettings.value = {\n      value: dockedWeather.iconSettings,\n      label: dockedWeather.iconSettings == 'default' ? np.getI18n('NOW_PLAYING_DEFAULT') : np.getI18n('NOW_PLAYING_CUSTOM')\n    };\n    dockedWeatherUIConf.content.iconStyle.value = {\n      value: dockedWeather.iconStyle,\n      label: ''\n    };\n    switch (dockedWeather.iconStyle) {\n      case 'outline':\n        dockedWeatherUIConf.content.iconStyle.value.label = np.getI18n('NOW_PLAYING_OUTLINE');\n        break;\n      case 'mono':\n        dockedWeatherUIConf.content.iconStyle.value.label = np.getI18n('NOW_PLAYING_MONOCHROME');\n        break;\n      default:\n        dockedWeatherUIConf.content.iconStyle.value.label = np.getI18n('NOW_PLAYING_FILLED');\n    }\n    dockedWeatherUIConf.content.iconSize.value = dockedWeather.iconSize;\n    dockedWeatherUIConf.content.iconMonoColor.value = dockedWeather.iconMonoColor;\n    dockedWeatherUIConf.content.iconAnimate.value = dockedWeather.iconAnimate;\n    dockedWeatherUIConf.content.margin.value = dockedWeather.margin;\n    if (!dockedWeather.enabled) {\n      dockedWeatherUIConf.content = [ dockedWeatherUIConf.content.enabled ] as any;\n      if (dockedWeatherUIConf.saveButton) {\n        dockedWeatherUIConf.saveButton.data = [ 'enabled' ];\n      }\n    }\n\n    /**\n     * Idle Screen conf\n     */\n    const idleScreen = CommonSettingsLoader.get(CommonSettingsCategory.IdleScreen);\n    let idleScreenVolumioImage = idleScreen.volumioBackgroundImage;\n    let idleScreenMyBackgroundImage = idleScreen.myBackgroundImage;\n\n    idleScreenUIConf.content.enabled.value = {\n      value: idleScreen.enabled,\n      label: ''\n    };\n    switch (idleScreen.enabled) {\n      case 'all':\n        idleScreenUIConf.content.enabled.value.label = np.getI18n('NOW_PLAYING_ALL_CLIENTS');\n        break;\n      case 'disabled':\n        idleScreenUIConf.content.enabled.value.label = np.getI18n('NOW_PLAYING_DISABLED');\n        break;\n      default:\n        idleScreenUIConf.content.enabled.value.label = np.getI18n('NOW_PLAYING_KIOSK_ONLY');\n        break;\n    }\n    idleScreenUIConf.content.waitTime.value = idleScreen.waitTime;\n    idleScreenUIConf.content.showLocation.value = idleScreen.showLocation;\n    idleScreenUIConf.content.showWeather.value = idleScreen.showWeather;\n    idleScreenUIConf.content.mainAlignment.value = {\n      value: idleScreen.mainAlignment,\n      label: ''\n    };\n    switch (idleScreen.mainAlignment) {\n      case 'center':\n        idleScreenUIConf.content.mainAlignment.value.label = np.getI18n('NOW_PLAYING_POSITION_CENTER');\n        break;\n      case 'flex-end':\n        idleScreenUIConf.content.mainAlignment.value.label = np.getI18n('NOW_PLAYING_POSITION_RIGHT');\n        break;\n      case 'cycle':\n        idleScreenUIConf.content.mainAlignment.value.label = np.getI18n('NOW_PLAYING_CYCLE');\n        break;\n      default: // 'flex-start'\n        idleScreenUIConf.content.mainAlignment.value.label = np.getI18n('NOW_PLAYING_POSITION_LEFT');\n    }\n    idleScreenUIConf.content.mainAlignmentCycleInterval.value = UIConfigHelper.sanitizeNumberInput(idleScreen.mainAlignmentCycleInterval.toString());\n    idleScreenUIConf.content.timeFormat.value = {\n      value: idleScreen.timeFormat,\n      label: idleScreen.timeFormat == 'default' ? np.getI18n('NOW_PLAYING_DEFAULT') : np.getI18n('NOW_PLAYING_CUSTOM')\n    };\n    idleScreenUIConf.content.hour24.value = idleScreen.hour24;\n    idleScreenUIConf.content.showSeconds.value = idleScreen.showSeconds;\n    idleScreenUIConf.content.fontSizes.value = {\n      value: idleScreen.fontSizes,\n      label: idleScreen.fontSizes == 'auto' ? np.getI18n('NOW_PLAYING_AUTO') : np.getI18n('NOW_PLAYING_CUSTOM')\n    };\n    idleScreenUIConf.content.timeFontSize.value = idleScreen.timeFontSize;\n    idleScreenUIConf.content.dateFontSize.value = idleScreen.dateFontSize;\n    idleScreenUIConf.content.locationFontSize.value = idleScreen.locationFontSize;\n    idleScreenUIConf.content.weatherCurrentBaseFontSize.value = idleScreen.weatherCurrentBaseFontSize;\n    idleScreenUIConf.content.weatherForecastBaseFontSize.value = idleScreen.weatherForecastBaseFontSize;\n    idleScreenUIConf.content.fontColors.value = {\n      value: idleScreen.fontColors,\n      label: idleScreen.fontColors == 'default' ? np.getI18n('NOW_PLAYING_DEFAULT') : np.getI18n('NOW_PLAYING_CUSTOM')\n    };\n    idleScreenUIConf.content.timeColor.value = idleScreen.timeColor;\n    idleScreenUIConf.content.dateColor.value = idleScreen.dateColor;\n    idleScreenUIConf.content.locationColor.value = idleScreen.locationColor;\n    idleScreenUIConf.content.weatherCurrentColor.value = idleScreen.weatherCurrentColor;\n    idleScreenUIConf.content.weatherForecastColor.value = idleScreen.weatherForecastColor;\n    idleScreenUIConf.content.weatherIconSettings.value = {\n      value: idleScreen.weatherIconSettings,\n      label: idleScreen.weatherIconSettings == 'default' ? np.getI18n('NOW_PLAYING_DEFAULT') : np.getI18n('NOW_PLAYING_CUSTOM')\n    };\n    idleScreenUIConf.content.weatherIconStyle.value = {\n      value: idleScreen.weatherIconStyle,\n      label: ''\n    };\n    switch (idleScreen.weatherIconStyle) {\n      case 'outline':\n        idleScreenUIConf.content.weatherIconStyle.value.label = np.getI18n('NOW_PLAYING_OUTLINE');\n        break;\n      case 'mono':\n        idleScreenUIConf.content.weatherIconStyle.value.label = np.getI18n('NOW_PLAYING_MONOCHROME');\n        break;\n      default:\n        idleScreenUIConf.content.weatherIconStyle.value.label = np.getI18n('NOW_PLAYING_FILLED');\n        break;\n    }\n    idleScreenUIConf.content.weatherCurrentIconSize.value = idleScreen.weatherCurrentIconSize;\n    idleScreenUIConf.content.weatherForecastIconSize.value = idleScreen.weatherForecastIconSize;\n    idleScreenUIConf.content.weatherCurrentIconMonoColor.value = idleScreen.weatherCurrentIconMonoColor;\n    idleScreenUIConf.content.weatherForecastIconMonoColor.value = idleScreen.weatherForecastIconMonoColor;\n    idleScreenUIConf.content.weatherCurrentIconAnimate.value = idleScreen.weatherCurrentIconAnimate;\n    idleScreenUIConf.content.backgroundType.value = {\n      value: idleScreen.backgroundType,\n      label: ''\n    };\n    switch (idleScreen.backgroundType) {\n      case 'color':\n        idleScreenUIConf.content.backgroundType.value.label = np.getI18n('NOW_PLAYING_COLOR');\n        break;\n      case 'volumioBackground':\n        idleScreenUIConf.content.backgroundType.value.label = np.getI18n('NOW_PLAYING_VOLUMIO_BACKGROUND');\n        break;\n      case 'myBackground':\n        idleScreenUIConf.content.backgroundType.value.label = np.getI18n('NOW_PLAYING_MY_BACKGROUND');\n        break;\n      default:\n        idleScreenUIConf.content.backgroundType.value.label = np.getI18n('NOW_PLAYING_UNSPLASH');\n    }\n    idleScreenUIConf.content.backgroundColor.value = idleScreen.backgroundColor;\n    if (idleScreenVolumioImage !== '' && !volumioBackgrounds.includes(idleScreenVolumioImage)) {\n      idleScreenVolumioImage = ''; // Image no longer exists\n    }\n    idleScreenUIConf.content.volumioBackgroundImage.value = {\n      value: idleScreenVolumioImage,\n      label: idleScreenVolumioImage\n    };\n    idleScreenUIConf.content.volumioBackgroundImage.options = [];\n    volumioBackgrounds.forEach((bg) => {\n      idleScreenUIConf.content.volumioBackgroundImage.options.push({\n        value: bg,\n        label: bg\n      });\n    });\n    idleScreenUIConf.content.volumioBackgroundFit.value = {\n      value: idleScreen.volumioBackgroundFit,\n      label: ''\n    };\n    switch (idleScreen.volumioBackgroundFit) {\n      case 'contain':\n        idleScreenUIConf.content.volumioBackgroundFit.value.label = np.getI18n('NOW_PLAYING_FIT_CONTAIN');\n        break;\n      case 'fill':\n        idleScreenUIConf.content.volumioBackgroundFit.value.label = np.getI18n('NOW_PLAYING_FIT_FILL');\n        break;\n      default:\n        idleScreenUIConf.content.volumioBackgroundFit.value.label = np.getI18n('NOW_PLAYING_FIT_COVER');\n    }\n    idleScreenUIConf.content.volumioBackgroundPosition.value = {\n      value: idleScreen.volumioBackgroundPosition,\n      label: ''\n    };\n    switch (idleScreen.volumioBackgroundPosition) {\n      case 'top':\n        idleScreenUIConf.content.volumioBackgroundPosition.value.label = np.getI18n('NOW_PLAYING_POSITION_TOP');\n        break;\n      case 'left':\n        idleScreenUIConf.content.volumioBackgroundPosition.value.label = np.getI18n('NOW_PLAYING_POSITION_LEFT');\n        break;\n      case 'bottom':\n        idleScreenUIConf.content.volumioBackgroundPosition.value.label = np.getI18n('NOW_PLAYING_POSITION_BOTTOM');\n        break;\n      case 'right':\n        idleScreenUIConf.content.volumioBackgroundPosition.value.label = np.getI18n('NOW_PLAYING_POSITION_RIGHT');\n        break;\n      default:\n        idleScreenUIConf.content.volumioBackgroundPosition.value.label = np.getI18n('NOW_PLAYING_POSITION_CENTER');\n    }\n    idleScreenUIConf.content.volumioBackgroundBlur.value = idleScreen.volumioBackgroundBlur;\n    idleScreenUIConf.content.volumioBackgroundScale.value = idleScreen.volumioBackgroundScale;\n    if (idleScreen.myBackgroundImageType === 'fixed') {\n      if (idleScreenMyBackgroundImage !== '' && !myBackgrounds.find((bg) => bg.name === idleScreenMyBackgroundImage)) {\n        idleScreenMyBackgroundImage = ''; // Image no longer exists\n      }\n      idleScreenUIConf.content.myBackgroundImage.value = {\n        value: idleScreenMyBackgroundImage,\n        label: idleScreenMyBackgroundImage\n      };\n    }\n    else { // Random\n      idleScreenUIConf.content.myBackgroundImage.value = {\n        value: '/RANDOM/',\n        label: np.getI18n('NOW_PLAYING_RANDOM')\n      };\n    }\n    if (myBackgrounds.length > 0) {\n      idleScreenUIConf.content.myBackgroundImage.options.push({\n        value: '/SEPARATOR/',\n        label: '-'.repeat(np.getI18n('NOW_PLAYING_RANDOM').length)\n      });\n\n      myBackgrounds.forEach((bg) => {\n        idleScreenUIConf.content.myBackgroundImage.options.push({\n          value: bg.name,\n          label: bg.name\n        });\n      });\n    }\n    idleScreenUIConf.content.myBackgroundRandomRefreshInterval.value = idleScreen.myBackgroundRandomRefreshInterval;\n    idleScreenUIConf.content.myBackgroundFit.value = {\n      value: idleScreen.myBackgroundFit,\n      label: ''\n    };\n    switch (idleScreen.myBackgroundFit) {\n      case 'contain':\n        idleScreenUIConf.content.myBackgroundFit.value.label = np.getI18n('NOW_PLAYING_FIT_CONTAIN');\n        break;\n      case 'fill':\n        idleScreenUIConf.content.myBackgroundFit.value.label = np.getI18n('NOW_PLAYING_FIT_FILL');\n        break;\n      default:\n        idleScreenUIConf.content.myBackgroundFit.value.label = np.getI18n('NOW_PLAYING_FIT_COVER');\n    }\n    idleScreenUIConf.content.myBackgroundPosition.value = {\n      value: idleScreen.myBackgroundPosition,\n      label: ''\n    };\n    switch (idleScreen.myBackgroundPosition) {\n      case 'top':\n        idleScreenUIConf.content.myBackgroundPosition.value.label = np.getI18n('NOW_PLAYING_POSITION_TOP');\n        break;\n      case 'left':\n        idleScreenUIConf.content.myBackgroundPosition.value.label = np.getI18n('NOW_PLAYING_POSITION_LEFT');\n        break;\n      case 'bottom':\n        idleScreenUIConf.content.myBackgroundPosition.value.label = np.getI18n('NOW_PLAYING_POSITION_BOTTOM');\n        break;\n      case 'right':\n        idleScreenUIConf.content.myBackgroundPosition.value.label = np.getI18n('NOW_PLAYING_POSITION_RIGHT');\n        break;\n      default:\n        idleScreenUIConf.content.myBackgroundPosition.value.label = np.getI18n('NOW_PLAYING_POSITION_CENTER');\n    }\n    idleScreenUIConf.content.myBackgroundBlur.value = idleScreen.myBackgroundBlur;\n    idleScreenUIConf.content.myBackgroundScale.value = idleScreen.myBackgroundScale;\n    idleScreenUIConf.content.unsplashKeywords.value = idleScreen.unsplashKeywords;\n    idleScreenUIConf.content.unsplashKeywordsAppendDayPeriod.value = idleScreen.unsplashKeywordsAppendDayPeriod;\n    idleScreenUIConf.content.unsplashMatchScreenSize.value = idleScreen.unsplashMatchScreenSize;\n    idleScreenUIConf.content.unsplashRefreshInterval.value = idleScreen.unsplashRefreshInterval;\n    idleScreenUIConf.content.unsplashBackgroundBlur.value = idleScreen.unsplashBackgroundBlur;\n    idleScreenUIConf.content.backgroundOverlay.value = {\n      value: idleScreen.backgroundOverlay,\n      label: ''\n    };\n    switch (idleScreen.backgroundOverlay) {\n      case 'customColor':\n        idleScreenUIConf.content.backgroundOverlay.value.label = np.getI18n('NOW_PLAYING_CUSTOM_COLOR');\n        break;\n      case 'customGradient':\n        idleScreenUIConf.content.backgroundOverlay.value.label = np.getI18n('NOW_PLAYING_CUSTOM_GRADIENT');\n        break;\n      case 'none':\n        idleScreenUIConf.content.backgroundOverlay.value.label = np.getI18n('NOW_PLAYING_NONE');\n        break;\n      default:\n        idleScreenUIConf.content.backgroundOverlay.value.label = np.getI18n('NOW_PLAYING_DEFAULT');\n    }\n    idleScreenUIConf.content.backgroundOverlayColor.value = idleScreen.backgroundOverlayColor;\n    idleScreenUIConf.content.backgroundOverlayColorOpacity.value = idleScreen.backgroundOverlayColorOpacity;\n    idleScreenUIConf.content.backgroundOverlayGradient.value = idleScreen.backgroundOverlayGradient;\n    idleScreenUIConf.content.backgroundOverlayGradientOpacity.value = idleScreen.backgroundOverlayGradientOpacity;\n    idleScreenUIConf.content.weatherBackground.value = {\n      value: idleScreen.weatherBackground,\n      label: ''\n    };\n    switch (idleScreen.weatherBackground) {\n      case 'customColor':\n        idleScreenUIConf.content.weatherBackground.value.label = np.getI18n('NOW_PLAYING_CUSTOM_COLOR');\n        break;\n      case 'customGradient':\n        idleScreenUIConf.content.weatherBackground.value.label = np.getI18n('NOW_PLAYING_CUSTOM_GRADIENT');\n        break;\n      case 'none':\n        idleScreenUIConf.content.weatherBackground.value.label = np.getI18n('NOW_PLAYING_NONE');\n        break;\n      default:\n        idleScreenUIConf.content.weatherBackground.value.label = np.getI18n('NOW_PLAYING_DEFAULT');\n    }\n    idleScreenUIConf.content.weatherBackgroundColor.value = idleScreen.weatherBackgroundColor;\n    idleScreenUIConf.content.weatherBackgroundColorOpacity.value = idleScreen.weatherBackgroundColorOpacity;\n    idleScreenUIConf.content.weatherBackgroundGradient.value = idleScreen.weatherBackgroundGradient;\n    idleScreenUIConf.content.weatherBackgroundGradientOpacity.value = idleScreen.weatherBackgroundGradientOpacity;\n    idleScreenUIConf.content.weatherAreaHeightType.value = {\n      value: idleScreen.weatherAreaHeightType,\n      label: idleScreen.weatherAreaHeightType == 'auto' ? np.getI18n('NOW_PLAYING_AUTO') : np.getI18n('NOW_PLAYING_CUSTOM')\n    };\n    idleScreenUIConf.content.weatherAreaHeight.value = idleScreen.weatherAreaHeight;\n\n    if (idleScreen.enabled === 'disabled') {\n      idleScreenUIConf.content = [ idleScreenUIConf.content.enabled ] as any;\n      if (idleScreenUIConf.saveButton) {\n        idleScreenUIConf.saveButton.data = [ 'enabled' ];\n      }\n    }\n\n    /**\n     * Extra Screens conf\n     */\n    const theme = CommonSettingsLoader.get(CommonSettingsCategory.Theme);\n    extraScreensUIConf.content.theme.value = {\n      value: theme.active,\n      label: ''\n    };\n    switch (theme.active) {\n      case 'glass':\n        extraScreensUIConf.content.theme.value.label = np.getI18n('NOW_PLAYING_GLASS');\n        break;\n      default:\n        extraScreensUIConf.content.theme.value.label = np.getI18n('NOW_PLAYING_DEFAULT');\n    }\n\n    /**\n     * Kiosk conf\n     */\n    const kiosk = KioskUtils.checkVolumioKiosk();\n    let kioskDesc, kioskButton;\n    if (!kiosk.exists) {\n      kioskDesc = np.getI18n('NOW_PLAYING_KIOSK_NOT_FOUND');\n    }\n    else if (kiosk.display == 'default') {\n      kioskDesc = np.getI18n('NOW_PLAYING_KIOSK_SHOWING_DEFAULT');\n      kioskButton = {\n        id: 'kioskSetToNowPlaying',\n        element: 'button',\n        label: np.getI18n('NOW_PLAYING_KIOSK_SET_TO_NOW_PLAYING'),\n        onClick: {\n          type: 'emit',\n          message: 'callMethod',\n          data: {\n            endpoint: 'user_interface/now_playing',\n            method: 'configureVolumioKiosk',\n            data: {\n              display: 'nowPlaying'\n            }\n          }\n        }\n      };\n    }\n    else if (kiosk.display == 'nowPlaying') {\n      kioskDesc = np.getI18n('NOW_PLAYING_KIOSK_SHOWING_NOW_PLAYING');\n      kioskButton = {\n        id: 'kioskRestore',\n        element: 'button',\n        label: np.getI18n('NOW_PLAYING_KIOSK_RESTORE'),\n        onClick: {\n          type: 'emit',\n          message: 'callMethod',\n          data: {\n            endpoint: 'user_interface/now_playing',\n            method: 'configureVolumioKiosk',\n            data: {\n              display: 'default'\n            }\n          }\n        }\n      };\n    }\n    else {\n      kioskDesc = np.getI18n('NOW_PLAYING_KIOSK_SHOWING_UNKNOWN');\n      if (KioskUtils.volumioKioskBackupPathExists()) {\n        kioskDesc += ` ${np.getI18n('NOW_PLAYING_DOC_KIOSK_RESTORE_BAK')}`;\n        kioskButton = {\n          id: 'kioskRestoreBak',\n          element: 'button',\n          label: np.getI18n('NOW_PLAYING_KIOSK_RESTORE_BAK'),\n          onClick: {\n            type: 'emit',\n            message: 'callMethod',\n            data: {\n              endpoint: 'user_interface/now_playing',\n              method: 'restoreVolumioKioskBak'\n            }\n          }\n        };\n      }\n    }\n    kioskUIConf.description = kioskDesc;\n    if (kioskButton) {\n      kioskUIConf.content = [ kioskButton ];\n    }\n\n    // Performance conf\n    const performanceSettings = CommonSettingsLoader.get(CommonSettingsCategory.Performance);\n    performanceUIConf.content.transitionEffectsKiosk.value = performanceSettings.transitionEffectsKiosk;\n    performanceUIConf.content.transitionEffectsOtherDevices.value = performanceSettings.transitionEffectsOtherDevices;\n    performanceUIConf.content.unmountScreensOnExit.value = {\n      value: performanceSettings.unmountScreensOnExit,\n      label: performanceSettings.unmountScreensOnExit == 'default' ? np.getI18n('NOW_PLAYING_DEFAULT') : np.getI18n('NOW_PLAYING_CUSTOM')\n    };\n    performanceUIConf.content.unmountNowPlayingScreenOnExit.value = performanceSettings.unmountNowPlayingScreenOnExit;\n    performanceUIConf.content.unmountBrowseScreenOnExit.value = performanceSettings.unmountBrowseScreenOnExit;\n    performanceUIConf.content.unmountQueueScreenOnExit.value = performanceSettings.unmountQueueScreenOnExit;\n    performanceUIConf.content.unmountVolumioScreenOnExit.value = performanceSettings.unmountVolumioScreenOnExit;\n    performanceUIConf.content.vuMeterRenderingKiosk.value = {\n      value: performanceSettings.vuMeterRenderingKiosk,\n      label: performanceSettings.vuMeterRenderingKiosk == 'webgl' ? np.getI18n('NOW_PLAYING_VU_METER_RENDERING_WEBGL') : np.getI18n('NOW_PLAYING_VU_METER_RENDERING_CSS')\n    };\n    performanceUIConf.content.vuMeterRenderingOtherDevices.value = {\n      value: performanceSettings.vuMeterRenderingOtherDevices,\n      label: performanceSettings.vuMeterRenderingOtherDevices == 'webgl' ? np.getI18n('NOW_PLAYING_VU_METER_RENDERING_WEBGL') : np.getI18n('NOW_PLAYING_VU_METER_RENDERING_CSS')\n    };\n    performanceUIConf.content.vuMeterWebGLShowStats.value = performanceSettings.vuMeterWebGLShowStats;\n\n    // Backup Config conf\n    const backups = await ConfigBackupHelper.getBackupNames();\n    if (backups.length > 0) {\n      const restoreBackupSelect = {\n        id: 'previousBackup',\n        element: 'select',\n        label: np.getI18n('NOW_PLAYING_PREVIOUS_BACKUPS'),\n        value: {\n          value: backups[0],\n          label: backups.length === 1 ? backups[0] : np.getI18n('NOW_PLAYING_LATEST_BACKUP', backups[0])\n        },\n        options: backups.map((bak, i) => ({\n          value: bak,\n          label: backups.length === 1 || i > 0 ? bak : np.getI18n('NOW_PLAYING_LATEST_BACKUP', bak)\n        }))\n      };\n      const restoreButtons = backups.map((bak) => ({\n        id: `restoreButton-${bak}`,\n        element: 'button',\n        label: np.getI18n('NOW_PLAYING_RESTORE_SELECTED'),\n        onClick: {\n          type: 'emit',\n          message: 'callMethod',\n          data: {\n            endpoint: 'user_interface/now_playing',\n            method: 'configRestoreConfigFromBackup',\n            data: {\n              backupName: bak\n            }\n          }\n        },\n        visibleIf: {\n          field: 'previousBackup',\n          value: bak\n        }\n      }));\n      const deleteButtons = backups.map((bak) => ({\n        id: `restoreButton-${bak}`,\n        element: 'button',\n        label: np.getI18n('NOW_PLAYING_DELETE_SELECTED'),\n        onClick: {\n          type: 'emit',\n          message: 'callMethod',\n          data: {\n            endpoint: 'user_interface/now_playing',\n            method: 'configDeleteConfigBackup',\n            data: {\n              backupName: bak\n            }\n          }\n        },\n        visibleIf: {\n          field: 'previousBackup',\n          value: bak\n        }\n      }));\n\n      backupConfigUIConf.content.unshift(restoreBackupSelect, ...restoreButtons, ...deleteButtons);\n    }\n\n    return uiconf;\n  }\n\n  configureVolumioKiosk(data: { display: 'nowPlaying' | 'default' }) {\n    KioskUtils.configureVolumioKiosk(data.display).finally(() => {\n      np.refreshUIConfig();\n    });\n  }\n\n  restoreVolumioKioskBak() {\n    KioskUtils.restoreVolumioKiosk().finally(() => {\n      np.refreshUIConfig();\n    });\n  }\n\n  configSaveDaemon(data: Record<string, any>) {\n    const oldPort = np.getConfigValue('port');\n    const port = parseInt(data['port'], 10);\n    if (port < 1024 || port > 65353) {\n      np.toast('error', np.getI18n('NOW_PLAYING_INVALID_PORT'));\n      return;\n    }\n\n    if (oldPort !== port) {\n      const modalData = {\n        title: np.getI18n('NOW_PLAYING_CONFIGURATION'),\n        message: np.getI18n('NOW_PLAYING_CONF_RESTART_CONFIRM'),\n        size: 'lg',\n        buttons: [\n          {\n            name: np.getI18n('NOW_PLAYING_NO'),\n            class: 'btn btn-warning'\n          },\n          {\n            name: np.getI18n('NOW_PLAYING_YES'),\n            class: 'btn btn-info',\n            emit: 'callMethod',\n            payload: {\n              'endpoint': 'user_interface/now_playing',\n              'method': 'configConfirmSaveDaemon',\n              'data': { port, oldPort }\n            }\n          }\n        ]\n      };\n      np.broadcastMessage('openModal', modalData);\n    }\n    else {\n      np.toast('success', np.getI18n('NOW_PLAYING_SETTINGS_SAVED'));\n    }\n  }\n\n  configConfirmSaveDaemon(data: Record<string, any>) {\n    // Obtain kiosk info before saving new port\n    const kiosk = KioskUtils.checkVolumioKiosk();\n\n    np.setConfigValue('port', data.port);\n\n    this.#restartApp().then(() => {\n      np.toast('success', np.getI18n('NOW_PLAYING_RESTARTED'));\n\n      // Update cached plugin info and broadcast it\n      np.delete('pluginInfo');\n      this.#broadcastPluginInfo();\n\n      /**\n       * Check if kiosk script was set to show Now Playing, and update\n       * to new port (do not restart volumio-kiosk service because\n       * the screen will reload itself when app is started).\n       */\n      if (kiosk.exists && kiosk.display == 'nowPlaying') {\n        KioskUtils.modifyVolumioKioskScript(data.oldPort, data.port, false);\n      }\n\n      np.refreshUIConfig();\n    })\n      .catch(() => {\n        np.setConfigValue('port', data['oldPort']);\n        np.refreshUIConfig();\n      });\n  }\n\n  configSaveStartupOptions(data: Record<string, any>) {\n    const apply = this.#parseConfigSaveData(data);\n    np.setConfigValue('startup', apply);\n    np.toast('success', np.getI18n('NOW_PLAYING_SETTINGS_SAVED'));\n\n    /**\n     * Note here we don't broadcast 'settings updated' message, because\n     * startup options are applied only once during app startup.\n     */\n  }\n\n  configSaveTextStyles(data: Record<string, any>) {\n    const maxTitleLines = data.maxTitleLines !== '' ? parseInt(data.maxTitleLines, 10) : '';\n    const maxArtistLines = data.maxArtistLines !== '' ? parseInt(data.maxArtistLines, 10) : '';\n    const maxAlbumLines = data.maxAlbumLines !== '' ? parseInt(data.maxAlbumLines, 10) : '';\n    const trackInfoTitleOrder = data.trackInfoTitleOrder !== '' ? parseInt(data.trackInfoTitleOrder, 10) : '';\n    const trackInfoArtistOrder = data.trackInfoArtistOrder !== '' ? parseInt(data.trackInfoArtistOrder, 10) : '';\n    const trackInfoAlbumOrder = data.trackInfoAlbumOrder !== '' ? parseInt(data.trackInfoAlbumOrder, 10) : '';\n    const trackInfoMediaInfoOrder = data.trackInfoMediaInfoOrder !== '' ? parseInt(data.trackInfoMediaInfoOrder, 10) : '';\n    const apply: {[k in keyof NowPlayingScreenSettings]: any} = {\n      trackInfoVisibility: data.trackInfoVisibility.value,\n      titleVisibility: data.titleVisibility,\n      artistVisibility: data.artistVisibility,\n      albumVisibility: data.albumVisibility,\n      mediaInfoVisibility: data.mediaInfoVisibility,\n      fontSizes: data.fontSizes.value,\n      titleFontSize: data.titleFontSize,\n      artistFontSize: data.artistFontSize,\n      albumFontSize: data.albumFontSize,\n      mediaInfoFontSize: data.mediaInfoFontSize,\n      seekTimeFontSize: data.seekTimeFontSize,\n      metadataFontSize: data.metadataFontSize,\n      fontColors: data.fontColors.value,\n      titleFontColor: data.titleFontColor,\n      artistFontColor: data.artistFontColor,\n      albumFontColor: data.albumFontColor,\n      mediaInfoFontColor: data.mediaInfoFontColor,\n      seekTimeFontColor: data.seekTimeFontColor,\n      metadataFontColor: data.metadataFontColor,\n      textAlignmentH: data.textAlignmentH.value,\n      textAlignmentV: data.textAlignmentV.value,\n      textAlignmentLyrics: data.textAlignmentLyrics.value,\n      textMargins: data.textMargins.value,\n      titleMargin: data.titleMargin,\n      artistMargin: data.artistMargin,\n      albumMargin: data.albumMargin,\n      mediaInfoMargin: data.mediaInfoMargin,\n      maxLines: data.maxLines.value,\n      maxTitleLines,\n      maxArtistLines,\n      maxAlbumLines,\n      trackInfoOrder: data.trackInfoOrder.value,\n      trackInfoTitleOrder,\n      trackInfoArtistOrder,\n      trackInfoAlbumOrder,\n      trackInfoMediaInfoOrder,\n      trackInfoMarqueeTitle: data.trackInfoMarqueeTitle\n    };\n    const current = np.getConfigValue('screen.nowPlaying');\n    const updated = Object.assign(current, apply);\n    np.setConfigValue('screen.nowPlaying', updated);\n    np.toast('success', np.getI18n('NOW_PLAYING_SETTINGS_SAVED'));\n\n    this.#notifyCommonSettingsUpdated(CommonSettingsCategory.NowPlayingScreen);\n  }\n\n  configSaveWidgetStyles(data: Record<string, any>) {\n    const apply = {\n      widgetColors: data.widgetColors.value,\n      widgetPrimaryColor: data.widgetPrimaryColor,\n      widgetHighlightColor: data.widgetHighlightColor,\n      widgetVisibility: data.widgetVisibility.value,\n      playbackButtonsVisibility: data.playbackButtonsVisibility,\n      seekbarVisibility: data.seekbarVisibility,\n      playbackButtonSizeType: data.playbackButtonSizeType.value,\n      playbackButtonSize: data.playbackButtonSize,\n      widgetMargins: data.widgetMargins.value,\n      playbackButtonsMargin: data.playbackButtonsMargin,\n      seekbarMargin: data.seekbarMargin\n    };\n    const current = np.getConfigValue('screen.nowPlaying');\n    const updated = Object.assign(current, apply);\n    np.setConfigValue('screen.nowPlaying', updated);\n    np.toast('success', np.getI18n('NOW_PLAYING_SETTINGS_SAVED'));\n\n    this.#notifyCommonSettingsUpdated(CommonSettingsCategory.NowPlayingScreen);\n  }\n\n  #parseConfigSaveData(data: object) {\n    const apply: Record<string, any> = {};\n    for (const [ key, value ] of Object.entries(data)) {\n      // Check if dropdown selection\n      if (typeof value === 'object' && Reflect.has(value, 'value')) {\n        apply[key] = value.value;\n      }\n      else {\n        apply[key] = value;\n      }\n    }\n    return apply;\n  }\n\n  configSaveAlbumartStyles(data: Record<string, any>) {\n    const apply = this.#parseConfigSaveData(data);\n    const current = np.getConfigValue('screen.nowPlaying');\n    const normalizedCurrent = CommonSettingsLoader.get(CommonSettingsCategory.NowPlayingScreen);\n    const refresh = normalizedCurrent.albumartVisibility !== apply.albumartVisibility;\n    const updated = Object.assign(current, apply);\n    np.setConfigValue('screen.nowPlaying', updated);\n    np.toast('success', np.getI18n('NOW_PLAYING_SETTINGS_SAVED'));\n\n    this.#notifyCommonSettingsUpdated(CommonSettingsCategory.NowPlayingScreen);\n\n    if (refresh) {\n      np.refreshUIConfig();\n    }\n  }\n\n  configSaveBackgroundStyles(data: Record<string, any>) {\n    const apply = this.#parseConfigSaveData(data);\n    if (apply.myBackgroundImage === '/RANDOM/') {\n      apply.myBackgroundImageType = 'random';\n      apply.myBackgroundImage = '';\n    }\n    else {\n      apply.myBackgroundImageType = 'fixed';\n    }\n    apply.myBackgroundRandomRefreshInterval = apply.myBackgroundRandomRefreshInterval ? parseInt(apply.myBackgroundRandomRefreshInterval, 10) : 0;\n    if (apply.myBackgroundImage === '/SEPARATOR/') {\n      np.toast('error', np.getI18n('NOW_PLAYING_ERR_INVALID_BACKGROUND'));\n      return;\n    }\n\n    const current = np.getConfigValue('background');\n    const updated = Object.assign(current, apply);\n    np.setConfigValue('background', updated);\n    np.toast('success', np.getI18n('NOW_PLAYING_SETTINGS_SAVED'));\n\n    this.#notifyCommonSettingsUpdated(CommonSettingsCategory.Background);\n  }\n\n  configSaveVUMeterSettings(data: Record<string, any>) {\n    const parsed = this.#parseConfigSaveData(data);\n    if (parsed.template === '/SEPARATOR/') {\n      np.toast('error', np.getI18n('NOW_PLAYING_ERR_INVALID_TEMPLATE'));\n      return;\n    }\n    const settings = np.getConfigValue('screen.nowPlaying');\n    if (parsed.template === '/RANDOM/') {\n      settings.vuMeter = {\n        templateType: 'random'\n      };\n    }\n    else {\n      settings.vuMeter = {\n        templateType: 'fixed',\n        template: parsed.template\n      };\n      const meterKey = `${parsed.template}.meter`;\n      if (parsed[meterKey] === '/RANDOM/') {\n        settings.vuMeter.meterType = 'random';\n      }\n      else if (parsed[meterKey] === '/SEPARATOR/') {\n        np.toast('error', np.getI18n('NOW_PLAYING_ERR_INVALID_METER'));\n        return;\n      }\n      else {\n        settings.vuMeter.meterType = 'fixed';\n        settings.vuMeter.meter = parsed[meterKey];\n      }\n    }\n    settings.vuMeter.randomRefreshInterval = parsed.randomRefreshInterval ? parseInt(parsed.randomRefreshInterval, 10) : 0;\n    settings.vuMeter.randomRefreshOnTrackChange = parsed.randomRefreshOnTrackChange;\n\n    np.setConfigValue('screen.nowPlaying', settings);\n    np.toast('success', np.getI18n('NOW_PLAYING_SETTINGS_SAVED'));\n\n    this.#notifyCommonSettingsUpdated(CommonSettingsCategory.NowPlayingScreen);\n  }\n\n  configSaveActionPanelSettings(data: Record<string, any>) {\n    const settings = {\n      showVolumeSlider: data.showVolumeSlider\n    };\n    const current = np.getConfigValue('actionPanel');\n    const updated = Object.assign(current, settings);\n    np.setConfigValue('actionPanel', updated);\n    np.toast('success', np.getI18n('NOW_PLAYING_SETTINGS_SAVED'));\n\n    this.#notifyCommonSettingsUpdated(CommonSettingsCategory.ActionPanel);\n  }\n\n  configSaveDockedMenuSettings(data: Record<string, any>) {\n    this.#configSaveDockedComponentSettings(data, 'dockedMenu');\n  }\n\n  configSaveDockedActionPanelTriggerSettings(data: Record<string, any>) {\n    this.#configSaveDockedComponentSettings(data, 'dockedActionPanelTrigger');\n  }\n\n  configSaveDockedVolumeIndicatorSettings(data: Record<string, any>) {\n    this.#configSaveDockedComponentSettings(data, 'dockedVolumeIndicator');\n  }\n\n  configSaveDockedClockSettings(data: Record<string, any>) {\n    this.#configSaveDockedComponentSettings(data, 'dockedClock');\n  }\n\n  configSaveDockedWeatherSettings(data: Record<string, any>) {\n    this.#configSaveDockedComponentSettings(data, 'dockedWeather');\n  }\n\n  #configSaveDockedComponentSettings(data: Record<string, any>, componentName: DockedComponentKey) {\n    const apply = this.#parseConfigSaveData(data);\n    const screen = np.getConfigValue('screen.nowPlaying');\n    const current = screen[componentName] || {};\n    const normalizedCurrent = CommonSettingsLoader.get(CommonSettingsCategory.NowPlayingScreen)[componentName];\n    const refresh = normalizedCurrent.enabled !== apply.enabled;\n    const updated = Object.assign(current, apply);\n    screen[componentName] = updated;\n    np.setConfigValue('screen.nowPlaying', screen);\n    np.toast('success', np.getI18n('NOW_PLAYING_SETTINGS_SAVED'));\n\n    this.#notifyCommonSettingsUpdated(CommonSettingsCategory.NowPlayingScreen);\n\n    if (refresh) {\n      np.refreshUIConfig();\n    }\n  }\n\n  configSaveLocalizationSettings(data: Record<string, any>) {\n    const settings: LocalizationSettings = {\n      geoCoordinates: data.geoCoordinates,\n      locale: data.locale.value,\n      timezone: data.timezone.value,\n      unitSystem: data.unitSystem.value\n    };\n\n    if (settings.locale === 'localeListDivider') {\n      np.toast('error', np.getI18n('NOW_PLAYING_LOCALE_SELECTION_INVALID'));\n      return;\n    }\n    if (settings.timezone === 'timezoneListDivider') {\n      np.toast('error', np.getI18n('NOW_PLAYING_TIMEZONE_SELECTION_INVALID'));\n      return;\n    }\n\n    let successMessage: string | null = np.getI18n('NOW_PLAYING_SETTINGS_SAVED');\n    if (settings.timezone === 'matchGeoCoordinates') {\n      const coord = ConfigHelper.parseCoordinates(settings.geoCoordinates || '');\n      if (!coord) {\n        np.toast('error', np.getI18n('NOW_PLAYING_INVALID_GEO_COORD'));\n        return;\n      }\n      const matchTimezones = geoTZ.find(coord.lat, coord.lon);\n      if (Array.isArray(matchTimezones) && matchTimezones.length > 0) {\n        settings.geoTimezone = matchTimezones[0];\n        successMessage = np.getI18n('NOW_PLAYING_TZ_SET_BY_GEO_COORD', matchTimezones[0]);\n      }\n      else {\n        settings.geoTimezone = null;\n        successMessage = null;\n        np.toast('warning', np.getI18n('NOW_PLAYING_TZ_BY_GEO_COORD_NOT_FOUND'));\n      }\n    }\n\n    np.setConfigValue('localization', settings);\n    if (successMessage) {\n      np.toast('success', successMessage);\n    }\n\n    this.#configureWeatherApi();\n\n    this.#notifyCommonSettingsUpdated(CommonSettingsCategory.Localization);\n  }\n\n  #configureWeatherApi() {\n    const localization = CommonSettingsLoader.get(CommonSettingsCategory.Localization);\n    weatherAPI.setConfig({\n      coordinates: localization.geoCoordinates,\n      units: localization.unitSystem\n    });\n  }\n\n  configSaveMetadataServiceSettings(data: Record<string, any>) {\n    const token = data['geniusAccessToken'].trim();\n    np.setConfigValue('geniusAccessToken', token);\n    metadataAPI.setAccessToken(token);\n    np.toast('success', np.getI18n('NOW_PLAYING_SETTINGS_SAVED'));\n  }\n\n  configSaveIdleScreenSettings(data: Record<string, any>) {\n    const apply = this.#parseConfigSaveData(data);\n    if (apply.waitTime) {\n      apply.waitTime = parseInt(apply.waitTime, 10);\n    }\n    if (apply.myBackgroundImage === '/RANDOM/') {\n      apply.myBackgroundImageType = 'random';\n      apply.myBackgroundImage = '';\n    }\n    else {\n      apply.myBackgroundImageType = 'fixed';\n    }\n    apply.myBackgroundRandomRefreshInterval = apply.myBackgroundRandomRefreshInterval ? parseInt(apply.myBackgroundRandomRefreshInterval, 10) : 10;\n    apply.unsplashRefreshInterval = data.unsplashRefreshInterval ? parseInt(apply.unsplashRefreshInterval, 10) : 10;\n    if (apply.waitTime < 10) {\n      np.toast('error', np.getI18n('NOW_PLAYING_ERR_IDLE_SCREEN_WAIT_TIME'));\n      return;\n    }\n    if (apply.myBackgroundImage === '/SEPARATOR/') {\n      np.toast('error', np.getI18n('NOW_PLAYING_ERR_INVALID_BACKGROUND'));\n      return;\n    }\n    if (apply.unsplashRefreshInterval !== 0 && apply.unsplashRefreshInterval < 10) {\n      np.toast('error', np.getI18n('NOW_PLAYING_ERR_UNSPLASH_REFRESH_INTERVAL'));\n      return;\n    }\n    apply.mainAlignmentCycleInterval = data.mainAlignmentCycleInterval ? parseInt(apply.mainAlignmentCycleInterval, 10) : 60;\n    if (apply.mainAlignmentCycleInterval !== 0 && apply.mainAlignmentCycleInterval < 10) {\n      np.toast('error', np.getI18n('NOW_PLAYING_ERR_CYCLE_INTERVAL'));\n      return;\n    }\n\n    const current = np.getConfigValue('screen.idle');\n    const normalizedCurrent = CommonSettingsLoader.get(CommonSettingsCategory.IdleScreen);\n    const refresh = (normalizedCurrent.enabled !== 'disabled' && apply.enabled === 'disabled') ||\n      (normalizedCurrent.enabled === 'disabled' && apply.enabled !== 'disabled');\n    const updated = Object.assign(current, apply);\n    np.setConfigValue('screen.idle', updated);\n    np.toast('success', np.getI18n('NOW_PLAYING_SETTINGS_SAVED'));\n\n    this.#notifyCommonSettingsUpdated(CommonSettingsCategory.IdleScreen);\n\n    if (refresh) {\n      np.refreshUIConfig();\n    }\n  }\n\n  configSaveExtraScreenSettings(data: Record<string, any>) {\n    const theme: ThemeSettings = {\n      active: data.theme.value\n    };\n    np.setConfigValue('theme', theme);\n    np.toast('success', np.getI18n('NOW_PLAYING_SETTINGS_SAVED'));\n\n    this.#notifyCommonSettingsUpdated(CommonSettingsCategory.Theme);\n  }\n\n  configSavePerformanceSettings(data: Record<string, any>) {\n    const settings: PerformanceSettings = {\n      transitionEffectsKiosk: data.transitionEffectsKiosk,\n      transitionEffectsOtherDevices: data.transitionEffectsOtherDevices,\n      unmountScreensOnExit: data.unmountScreensOnExit.value,\n      unmountNowPlayingScreenOnExit: data.unmountNowPlayingScreenOnExit,\n      unmountBrowseScreenOnExit: data.unmountBrowseScreenOnExit,\n      unmountQueueScreenOnExit: data.unmountQueueScreenOnExit,\n      unmountVolumioScreenOnExit: data.unmountVolumioScreenOnExit,\n      vuMeterRenderingKiosk: data.vuMeterRenderingKiosk.value,\n      vuMeterRenderingOtherDevices: data.vuMeterRenderingOtherDevices.value,\n      vuMeterWebGLShowStats: data.vuMeterWebGLShowStats\n    };\n    np.setConfigValue('performance', settings);\n    np.toast('success', np.getI18n('NOW_PLAYING_SETTINGS_SAVED'));\n\n    this.#notifyCommonSettingsUpdated(CommonSettingsCategory.Performance);\n  }\n\n  configBackupConfig(data: any) {\n    const backupName = data.backupName?.trim();\n    if (!backupName) {\n      np.toast('error', np.getI18n('NOW_PLAYING_ERR_NO_BACKUP_NAME'));\n      return;\n    }\n    try {\n      ConfigBackupHelper.createBackup(backupName);\n    }\n    catch (error: any) {\n      np.getLogger().error(`[now-playing] Failed to backup config: ${error.message}`);\n      np.toast('error', np.getI18n('NOW_PLAYING_ERR_BACKUP_CONFIG', np.getErrorMessage('', error, false)));\n      return;\n    }\n    np.toast('success', np.getI18n('NOW_PLAYING_BACKUP_CREATED'));\n    np.refreshUIConfig();\n  }\n\n  async configRestoreConfigFromBackup(data: any) {\n    const backupName = data.backupName?.trim();\n    if (!backupName) {\n      np.toast('error', np.getI18n('NOW_PLAYING_ERR_NO_BACKUP_NAME'));\n      return;\n    }\n\n    try {\n      await ConfigBackupHelper.replacePluginConfigWithBackup(backupName);\n    }\n    catch (error: any) {\n      np.getLogger().error(`[now-playing] Failed to restore config: ${error.message}`);\n      np.toast('error', np.getI18n('NOW_PLAYING_ERR_RESTORE_CONFIG', np.getErrorMessage('', error, false)));\n      return;\n    }\n\n    /**\n     * ConfigBackupHelper only replaces the plugin config with backup. We still need\n     * to restart the plugin for changed config to take effect.\n     */\n    const configFilePath = np.getConfigFilePath();\n    await this.#doOnStop();\n    this.#config.loadFile(configFilePath);\n    await this.#doOnStart();\n\n    this.broadcastRefresh();\n    np.toast('success', np.getI18n('NOW_PLAYING_CONFIG_RESTORED', backupName));\n    np.refreshUIConfig();\n  }\n\n  configDeleteConfigBackup(data: any) {\n    const backupName = data.backupName?.trim();\n    if (!backupName) {\n      np.toast('error', np.getI18n('NOW_PLAYING_ERR_NO_BACKUP_NAME'));\n      return;\n    }\n\n    try {\n      ConfigBackupHelper.deleteBackup(backupName);\n    }\n    catch (error: any) {\n      np.getLogger().error(`[now-playing] Failed to delete config backup: ${error.message}`);\n      np.toast('error', np.getI18n('NOW_PLAYING_ERR_DELETE_BACKUP', np.getErrorMessage('', error, false)));\n      return;\n    }\n\n    np.toast('success', np.getI18n('NOW_PLAYING_BACKUP_DELETED'));\n    np.refreshUIConfig();\n  }\n\n  clearMetadataCache() {\n    metadataAPI.clearCache();\n    np.toast('success', np.getI18n('NOW_PLAYING_CACHE_CLEARED'));\n  }\n\n  clearWeatherCache() {\n    weatherAPI.clearCache();\n    np.toast('success', np.getI18n('NOW_PLAYING_CACHE_CLEARED'));\n  }\n\n  broadcastRefresh() {\n    np.broadcastMessage('nowPlayingRefresh');\n    np.toast('success', np.getI18n('NOW_PLAYING_BROADCASTED_COMMAND'));\n  }\n\n  #broadcastPluginInfo() {\n    const {message, payload} = this.getPluginInfo();\n    np.broadcastMessage(message, payload);\n  }\n\n  #notifyCommonSettingsUpdated(category: CommonSettingsCategory) {\n    np.broadcastMessage('nowPlayingPushSettings', {\n      category,\n      data: CommonSettingsLoader.get(category)\n    });\n  }\n\n  // Socket callMethod\n  getPluginInfo() {\n    return {\n      message: 'nowPlayingPluginInfo',\n      payload: SystemUtils.getPluginInfo()\n    };\n  }\n\n  // Plugin lifecycle\n\n  onVolumioStart() {\n    const configFile = this.#commandRouter.pluginManager.getConfigurationFile(this.#context, 'config.json');\n    this.#config = new vconf();\n    this.#config.loadFile(configFile);\n\n    return libQ.resolve(true);\n  }\n\n  onStart() {\n    return jsPromiseToKew(this.#doOnStart());\n  }\n\n  async #doOnStart() {\n    np.init(this.#context, this.#config);\n\n    await ConfigUpdater.checkAndUpdate();\n\n    metadataAPI.setAccessToken(np.getConfigValue('geniusAccessToken'));\n    this.#configureWeatherApi();\n\n    // Register language change listener\n    this.#volumioLanguageChangeCallback = this.#onVolumioLanguageChanged.bind(this);\n    this.#context.coreCommand.sharedVars.registerCallback('language_code', this.#volumioLanguageChangeCallback);\n\n    await this.#startApp();\n\n    const display = np.getConfigValue('kioskDisplay');\n    if (display == 'nowPlaying') {\n      const kiosk = KioskUtils.checkVolumioKiosk();\n      if (kiosk.exists && kiosk.display == 'default') {\n        await KioskUtils.modifyVolumioKioskScript(3000, np.getConfigValue('port'));\n      }\n    }\n\n    myBackgroundMonitor.start();\n    vuMeterTemplateMonitor.start();\n  }\n\n  onStop() {\n    return jsPromiseToKew(this.#doOnStop());\n  }\n\n  async #doOnStop() {\n    this.#stopApp();\n\n    // Remove language change listener (this is hacky but prevents a potential\n    // Memory leak)\n    if (this.#config.callbacks && this.#volumioLanguageChangeCallback) {\n      this.#config.callbacks.delete('language_code', this.#volumioLanguageChangeCallback);\n      this.#volumioLanguageChangeCallback = null;\n    }\n\n    // If kiosk is set to Now Playing, restore it back to default\n    const kiosk = KioskUtils.checkVolumioKiosk();\n    if (kiosk.exists && kiosk.display == 'nowPlaying') {\n      try {\n        await KioskUtils.modifyVolumioKioskScript(np.getConfigValue('port'), 3000);\n      }\n      catch (error) {\n        // Do nothing\n      }\n    }\n\n    await myBackgroundMonitor.stop();\n    await vuMeterTemplateMonitor.stop();\n\n    np.reset();\n  }\n\n  getConfigurationFiles() {\n    return [ 'config.json' ];\n  }\n\n  async #startApp() {\n    try {\n      await App.start();\n    }\n    catch (error: any) {\n      np.toast('error', np.getI18n('NOW_PLAYING_DAEMON_START_ERR', error.message));\n      throw error;\n    }\n  }\n\n  #stopApp() {\n    App.stop();\n  }\n\n  #restartApp() {\n    this.#stopApp();\n    return this.#startApp();\n  }\n\n  #onVolumioLanguageChanged() {\n    // Push localization settings\n    np.getLogger().info('[now-playing] Volumio language changed - pushing localization settings');\n    this.#notifyCommonSettingsUpdated(CommonSettingsCategory.Localization);\n  }\n}\n\nexport = ControllerNowPlaying;\n"]}