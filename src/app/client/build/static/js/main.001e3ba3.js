/*! For license information please see main.001e3ba3.js.LICENSE.txt */
!function(){var e={8454:function(e){var t={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};e.exports=function(e,n){return"number"!==typeof n||t[e]?n:n+"px"}},7186:function(e){function t(){}e.exports=function(e,n,r){var i=!1;return r=r||t,a.count=e,0===e?n():a;function a(e,t){if(a.count<=0)throw new Error("after called too many times");--a.count,e?(i=!0,n(e),n=r):0!==a.count||i||n(null,t)}}},2713:function(e,t,n){"use strict";var r=n(4037)("ArrayBuffer.prototype.byteLength",!0),i=n(9188);e.exports=function(e){return i(e)?r?r(e):e.byteLength:NaN}},9873:function(e){e.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(e),a=new Uint8Array(n-t),o=t,s=0;o<n;o++,s++)a[s]=i[o];return a.buffer}},8077:function(e){function t(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=t,t.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},t.prototype.reset=function(){this.attempts=0},t.prototype.setMin=function(e){this.ms=e},t.prototype.setMax=function(e){this.max=e},t.prototype.setJitter=function(e){this.jitter=e}},934:function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<64;r++)n[e.charCodeAt(r)]=r;t.encode=function(t){var n,r=new Uint8Array(t),i=r.length,a="";for(n=0;n<i;n+=3)a+=e[r[n]>>2],a+=e[(3&r[n])<<4|r[n+1]>>4],a+=e[(15&r[n+1])<<2|r[n+2]>>6],a+=e[63&r[n+2]];return i%3===2?a=a.substring(0,a.length-1)+"=":i%3===1&&(a=a.substring(0,a.length-2)+"=="),a},t.decode=function(e){var t,r,i,a,o,s=.75*e.length,u=e.length,l=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var c=new ArrayBuffer(s),f=new Uint8Array(c);for(t=0;t<u;t+=4)r=n[e.charCodeAt(t)],i=n[e.charCodeAt(t+1)],a=n[e.charCodeAt(t+2)],o=n[e.charCodeAt(t+3)],f[l++]=r<<2|i>>4,f[l++]=(15&i)<<4|a>>2,f[l++]=(3&a)<<6|63&o;return c}}()},5665:function(e,t,n){var r=n.g.BlobBuilder||n.g.WebKitBlobBuilder||n.g.MSBlobBuilder||n.g.MozBlobBuilder,i=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),a=i&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),o=r&&r.prototype.append&&r.prototype.getBlob;function s(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var i=new Uint8Array(n.byteLength);i.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=i.buffer}e[t]=r}}}function u(e,t){t=t||{};var n=new r;s(e);for(var i=0;i<e.length;i++)n.append(e[i]);return t.type?n.getBlob(t.type):n.getBlob()}function l(e,t){return s(e),new Blob(e,t||{})}e.exports=i?a?n.g.Blob:l:o?u:void 0},4037:function(e,t,n){"use strict";var r=n(2506),i=n(9722),a=i(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"===typeof n&&a(e,".prototype.")>-1?i(n):n}},9722:function(e,t,n){"use strict";var r=n(3350),i=n(2506),a=i("%Function.prototype.apply%"),o=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||r.call(o,a),u=i("%Object.getOwnPropertyDescriptor%",!0),l=i("%Object.defineProperty%",!0),c=i("%Math.max%");if(l)try{l({},"a",{value:1})}catch(h){l=null}e.exports=function(e){var t=s(r,o,arguments);u&&l&&(u(t,"length").configurable&&l(t,"length",{value:1+c(0,e.length-(arguments.length-1))}));return t};var f=function(){return s(r,a,arguments)};l?l(e.exports,"apply",{value:f}):e.exports.apply=f},3469:function(e){!function(){"use strict";var t=document,n=window,r=t.documentElement,i=t.createElement.bind(t),a=i("div"),o=i("table"),s=i("tbody"),u=i("tr"),l=Array.isArray,c=Array.prototype,f=c.concat,h=c.filter,d=c.indexOf,p=c.map,v=c.push,m=c.slice,g=c.some,y=c.splice,b=/^#(?:[\w-]|\\.|[^\x00-\xa0])*$/,_=/^\.(?:[\w-]|\\.|[^\x00-\xa0])*$/,x=/<.+>/,k=/^\w+$/;function w(e,t){var n,r=!!(n=t)&&11===n.nodeType;return e&&(r||P(t)||I(t))?!r&&_.test(e)?t.getElementsByClassName(e.slice(1).replace(/\\/g,"")):!r&&k.test(e)?t.getElementsByTagName(e):t.querySelectorAll(e):[]}var S=function(){function e(e,r){if(e){if(C(e))return e;var i=e;if(M(e)){var a=r||t;if(!(i=b.test(e)&&P(a)?a.getElementById(e.slice(1).replace(/\\/g,"")):x.test(e)?$(e):C(a)?a.find(e):M(a)?E(a).find(e):w(e,a)))return}else if(O(e))return this.ready(e);(i.nodeType||i===n)&&(i=[i]),this.length=i.length;for(var o=0,s=this.length;o<s;o++)this[o]=i[o]}}return e.prototype.init=function(t,n){return new e(t,n)},e}(),T=S.prototype,E=T.init;function C(e){return e instanceof S}function A(e){return!!e&&e===e.window}function P(e){return!!e&&9===e.nodeType}function I(e){return!!e&&1===e.nodeType}function O(e){return"function"===typeof e}function M(e){return"string"===typeof e}function R(e){return void 0===e}function N(e){return null===e}function D(e){return!isNaN(parseFloat(e))&&isFinite(e)}function B(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function L(e,t,n){if(n){for(var r=e.length;r--;)if(!1===t.call(e[r],r,e[r]))return e}else if(B(e))for(var i=Object.keys(e),a=(r=0,i.length);r<a;r++){var o=i[r];if(!1===t.call(e[o],o,e[o]))return e}else for(r=0,a=e.length;r<a;r++)if(!1===t.call(e[r],r,e[r]))return e;return e}function j(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="boolean"===typeof e[0]&&e.shift(),r=e.shift(),i=e.length;if(!r)return{};if(!i)return j(n,E,r);for(var a=0;a<i;a++){var o=e[a];for(var s in o)n&&(l(o[s])||B(o[s]))?(r[s]&&r[s].constructor===o[s].constructor||(r[s]=new o[s].constructor),j(n,r[s],o[s])):r[s]=o[s]}return r}E.fn=E.prototype=T,T.length=0,T.splice=y,"function"===typeof Symbol&&(T[Symbol.iterator]=c[Symbol.iterator]),E.isWindow=A,E.isFunction=O,E.isArray=l,E.isNumeric=D,E.isPlainObject=B,E.each=L,T.each=function(e){return L(this,e)},T.empty=function(){return this.each((function(e,t){for(;t.firstChild;)t.removeChild(t.firstChild)}))},E.extend=j,T.extend=function(e){return j(T,e)};var F=/\S+/g;function U(e){return M(e)&&e.match(F)||[]}function z(e,t,r){if(I(e)){var i=n.getComputedStyle(e,null);return r?i.getPropertyValue(t)||void 0:i[t]||e.style[t]}}function V(e,t){return parseInt(z(e,t),10)||0}function H(e,t){return V(e,"border".concat(t?"Left":"Top","Width"))+V(e,"padding".concat(t?"Left":"Top"))+V(e,"padding".concat(t?"Right":"Bottom"))+V(e,"border".concat(t?"Right":"Bottom","Width"))}T.toggleClass=function(e,t){var n=U(e),r=!R(t);return this.each((function(e,i){I(i)&&L(n,(function(e,n){r?t?i.classList.add(n):i.classList.remove(n):i.classList.toggle(n)}))}))},T.addClass=function(e){return this.toggleClass(e,!0)},T.removeAttr=function(e){var t=U(e);return this.each((function(e,n){I(n)&&L(t,(function(e,t){n.removeAttribute(t)}))}))},T.attr=function(e,t){if(e){if(M(e)){if(arguments.length<2){if(!this[0]||!I(this[0]))return;var n=this[0].getAttribute(e);return N(n)?void 0:n}return R(t)?this:N(t)?this.removeAttr(e):this.each((function(n,r){I(r)&&r.setAttribute(e,t)}))}for(var r in e)this.attr(r,e[r]);return this}},T.removeClass=function(e){return arguments.length?this.toggleClass(e,!1):this.attr("class","")},T.hasClass=function(e){return!!e&&g.call(this,(function(t){return I(t)&&t.classList.contains(e)}))},T.get=function(e){return R(e)?m.call(this):this[(e=Number(e))<0?e+this.length:e]},T.eq=function(e){return E(this.get(e))},T.first=function(){return this.eq(0)},T.last=function(){return this.eq(-1)},T.text=function(e){return R(e)?this.get().map((function(e){return I(e)||(t=e)&&3===t.nodeType?e.textContent:"";var t})).join(""):this.each((function(t,n){I(n)&&(n.textContent=e)}))};var W={};function G(e){return"none"===z(e,"display")}function q(e,t){var n=e&&(e.matches||e.webkitMatchesSelector||e.msMatchesSelector);return!!n&&!!t&&n.call(e,t)}function X(e){return M(e)?function(t,n){return q(n,e)}:O(e)?e:C(e)?function(t,n){return e.is(n)}:e?function(t,n){return n===e}:function(){return!1}}function Y(e,t){return t?e.filter(t):e}T.filter=function(e){var t=X(e);return E(h.call(this,(function(e,n){return t.call(e,n,e)})))},T.detach=function(e){return Y(this,e).each((function(e,t){t.parentNode&&t.parentNode.removeChild(t)})),this};var Q=/^\s*<(\w+)[^>]*>/,K=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,Z={"*":a,tr:s,td:u,th:u,thead:o,tbody:o,tfoot:o};function $(e){if(!M(e))return[];if(K.test(e))return[i(RegExp.$1)];var t=Q.test(e)&&RegExp.$1,n=Z[t]||Z["*"];return n.innerHTML=e,E(n.childNodes).detach().get()}function J(e,t,n,r){for(var i=[],a=O(t),o=r&&X(r),s=0,u=e.length;s<u;s++)if(a){var l=t(e[s]);l.length&&v.apply(i,l)}else for(var c=e[s][t];null!=c&&(!r||!o(-1,c));)i.push(c),c=n?c[t]:null;return i}function ee(e){return e.multiple&&e.options?J(h.call(e.options,(function(e){return e.selected&&!e.disabled&&!e.parentNode.disabled})),"value"):e.value||""}function te(e){return e.length>1?h.call(e,(function(e,t,n){return d.call(n,e)===t})):e}E.parseHTML=$,T.has=function(e){var t=M(e)?function(t,n){return w(e,n).length}:function(t,n){return n.contains(e)};return this.filter(t)},T.not=function(e){var t=X(e);return this.filter((function(n,r){return(!M(e)||I(r))&&!t.call(r,n,r)}))},T.val=function(e){return arguments.length?this.each((function(t,n){var r=n.multiple&&n.options;if(r||Ne.test(n.type)){var i=l(e)?p.call(e,String):N(e)?[]:[String(e)];r?L(n.options,(function(e,t){t.selected=i.indexOf(t.value)>=0}),!0):n.checked=i.indexOf(n.value)>=0}else n.value=R(e)||N(e)?"":e})):this[0]&&ee(this[0])},T.is=function(e){var t=X(e);return g.call(this,(function(e,n){return t.call(e,n,e)}))},E.guid=1,E.unique=te,T.add=function(e,t){return E(te(this.get().concat(E(e,t).get())))},T.children=function(e){return Y(E(te(J(this,(function(e){return e.children})))),e)},T.parent=function(e){return Y(E(te(J(this,"parentNode"))),e)},T.index=function(e){var t=e?E(e)[0]:this[0],n=e?this:E(t).parent().children();return d.call(n,t)},T.closest=function(e){var t=this.filter(e);if(t.length)return t;var n=this.parent();return n.length?n.closest(e):t},T.siblings=function(e){return Y(E(te(J(this,(function(e){return E(e).parent().children().not(e)})))),e)},T.find=function(e){return E(te(J(this,(function(t){return w(e,t)}))))};var ne=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,re=/^$|^module$|\/(java|ecma)script/i,ie=["type","src","nonce","noModule"];function ae(e,t,n,a,o){a?e.insertBefore(t,n?e.firstChild:null):"HTML"===e.nodeName?e.parentNode.replaceChild(t,e):e.parentNode.insertBefore(t,n?e:e.nextSibling),o&&function(e,t){var n=E(e);n.filter("script").add(n.find("script")).each((function(e,n){if(re.test(n.type)&&r.contains(n)){var a=i("script");a.text=n.textContent.replace(ne,""),L(ie,(function(e,t){n[t]&&(a[t]=n[t])})),t.head.insertBefore(a,null),t.head.removeChild(a)}}))}(t,e.ownerDocument)}function oe(e,t,n,r,i,a,o,s){return L(e,(function(e,a){L(E(a),(function(e,a){L(E(t),(function(t,o){var s=n?o:a,u=n?e:t;ae(n?a:o,u?s.cloneNode(!0):s,r,i,!u)}),s)}),o)}),a),t}T.after=function(){return oe(arguments,this,!1,!1,!1,!0,!0)},T.append=function(){return oe(arguments,this,!1,!1,!0)},T.html=function(e){if(!arguments.length)return this[0]&&this[0].innerHTML;if(R(e))return this;var t=/<script[\s>]/.test(e);return this.each((function(n,r){I(r)&&(t?E(r).empty().append(e):r.innerHTML=e)}))},T.appendTo=function(e){return oe(arguments,this,!0,!1,!0)},T.wrapInner=function(e){return this.each((function(t,n){var r=E(n),i=r.contents();i.length?i.wrapAll(e):r.append(e)}))},T.before=function(){return oe(arguments,this,!1,!0)},T.wrapAll=function(e){for(var t=E(e),n=t[0];n.children.length;)n=n.firstElementChild;return this.first().before(t),this.appendTo(n)},T.wrap=function(e){return this.each((function(t,n){var r=E(e)[0];E(n).wrapAll(t?r.cloneNode(!0):r)}))},T.insertAfter=function(e){return oe(arguments,this,!0,!1,!1,!1,!1,!0)},T.insertBefore=function(e){return oe(arguments,this,!0,!0)},T.prepend=function(){return oe(arguments,this,!1,!0,!0,!0,!0)},T.prependTo=function(e){return oe(arguments,this,!0,!0,!0,!1,!1,!0)},T.contents=function(){return E(te(J(this,(function(e){return"IFRAME"===e.tagName?[e.contentDocument]:"TEMPLATE"===e.tagName?e.content.childNodes:e.childNodes}))))},T.next=function(e,t,n){return Y(E(te(J(this,"nextElementSibling",t,n))),e)},T.nextAll=function(e){return this.next(e,!0)},T.nextUntil=function(e,t){return this.next(t,!0,e)},T.parents=function(e,t){return Y(E(te(J(this,"parentElement",!0,t))),e)},T.parentsUntil=function(e,t){return this.parents(t,e)},T.prev=function(e,t,n){return Y(E(te(J(this,"previousElementSibling",t,n))),e)},T.prevAll=function(e){return this.prev(e,!0)},T.prevUntil=function(e,t){return this.prev(t,!0,e)},T.map=function(e){return E(f.apply([],p.call(this,(function(t,n){return e.call(t,n,t)}))))},T.clone=function(){return this.map((function(e,t){return t.cloneNode(!0)}))},T.offsetParent=function(){return this.map((function(e,t){for(var n=t.offsetParent;n&&"static"===z(n,"position");)n=n.offsetParent;return n||r}))},T.slice=function(e,t){return E(m.call(this,e,t))};var se=/-([a-z])/g;function ue(e){return e.replace(se,(function(e,t){return t.toUpperCase()}))}T.ready=function(e){var n=function(){return setTimeout(e,0,E)};return"loading"!==t.readyState?n():t.addEventListener("DOMContentLoaded",n),this},T.unwrap=function(){return this.parent().each((function(e,t){if("BODY"!==t.tagName){var n=E(t);n.replaceWith(n.children())}})),this},T.offset=function(){var e=this[0];if(e){var t=e.getBoundingClientRect();return{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}}},T.position=function(){var e=this[0];if(e){var t="fixed"===z(e,"position"),n=t?e.getBoundingClientRect():this.offset();if(!t){for(var r=e.ownerDocument,i=e.offsetParent||r.documentElement;(i===r.body||i===r.documentElement)&&"static"===z(i,"position");)i=i.parentNode;if(i!==e&&I(i)){var a=E(i).offset();n.top-=a.top+V(i,"borderTopWidth"),n.left-=a.left+V(i,"borderLeftWidth")}}return{top:n.top-V(e,"marginTop"),left:n.left-V(e,"marginLeft")}}};var le={class:"className",contenteditable:"contentEditable",for:"htmlFor",readonly:"readOnly",maxlength:"maxLength",tabindex:"tabIndex",colspan:"colSpan",rowspan:"rowSpan",usemap:"useMap"};T.prop=function(e,t){if(e){if(M(e))return e=le[e]||e,arguments.length<2?this[0]&&this[0][e]:this.each((function(n,r){r[e]=t}));for(var n in e)this.prop(n,e[n]);return this}},T.removeProp=function(e){return this.each((function(t,n){delete n[le[e]||e]}))};var ce=/^--/;function fe(e){return ce.test(e)}var he={},de=a.style,pe=["webkit","moz","ms"];var ve={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function me(e,t,n){return void 0===n&&(n=fe(e)),n||ve[e]||!D(t)?t:"".concat(t,"px")}function ge(e,t){try{return e(t)}catch(n){return t}}T.css=function(e,t){if(M(e)){var n=fe(e);return e=function(e,t){if(void 0===t&&(t=fe(e)),t)return e;if(!he[e]){var n=ue(e),r="".concat(n[0].toUpperCase()).concat(n.slice(1));L("".concat(n," ").concat(pe.join("".concat(r," "))).concat(r).split(" "),(function(t,n){if(n in de)return he[e]=n,!1}))}return he[e]}(e,n),arguments.length<2?this[0]&&z(this[0],e,n):e?(t=me(e,t,n),this.each((function(r,i){I(i)&&(n?i.style.setProperty(e,t):i.style[e]=t)}))):this}for(var r in e)this.css(r,e[r]);return this};var ye=/^\s+|\s+$/;function be(e,t){var n=e.dataset[t]||e.dataset[ue(t)];return ye.test(n)?n:ge(JSON.parse,n)}function _e(e,t){var n=e.documentElement;return Math.max(e.body["scroll".concat(t)],n["scroll".concat(t)],e.body["offset".concat(t)],n["offset".concat(t)],n["client".concat(t)])}T.data=function(e,t){if(!e){if(!this[0])return;var n={};for(var r in this[0].dataset)n[r]=be(this[0],r);return n}if(M(e))return arguments.length<2?this[0]&&be(this[0],e):R(t)?this:this.each((function(n,r){!function(e,t,n){n=ge(JSON.stringify,n),e.dataset[ue(t)]=n}(r,e,t)}));for(var r in e)this.data(r,e[r]);return this},L([!0,!1],(function(e,t){L(["Width","Height"],(function(e,n){var r="".concat(t?"outer":"inner").concat(n);T[r]=function(r){if(this[0])return A(this[0])?t?this[0]["inner".concat(n)]:this[0].document.documentElement["client".concat(n)]:P(this[0])?_e(this[0],n):this[0]["".concat(t?"offset":"client").concat(n)]+(r&&t?V(this[0],"margin".concat(e?"Top":"Left"))+V(this[0],"margin".concat(e?"Bottom":"Right")):0)}}))})),L(["Width","Height"],(function(e,t){var n=t.toLowerCase();T[n]=function(r){if(!this[0])return R(r)?void 0:this;if(!arguments.length)return A(this[0])?this[0].document.documentElement["client".concat(t)]:P(this[0])?_e(this[0],t):this[0].getBoundingClientRect()[n]-H(this[0],!e);var i=parseInt(r,10);return this.each((function(t,r){if(I(r)){var a=z(r,"boxSizing");r.style[n]=me(n,i+("border-box"===a?H(r,!e):0))}}))}}));var xe="___cd";T.toggle=function(e){return this.each((function(n,r){if(I(r)){var a=G(r);(R(e)?a:e)?(r.style.display=r[xe]||"",G(r)&&(r.style.display=function(e){if(W[e])return W[e];var n=i(e);t.body.insertBefore(n,null);var r=z(n,"display");return t.body.removeChild(n),W[e]="none"!==r?r:"block"}(r.tagName))):a||(r[xe]=z(r,"display"),r.style.display="none")}}))},T.hide=function(){return this.toggle(!1)},T.show=function(){return this.toggle(!0)};var ke="___ce",we=".",Se={focus:"focusin",blur:"focusout"},Te={mouseenter:"mouseover",mouseleave:"mouseout"},Ee=/^(mouse|pointer|contextmenu|drag|drop|click|dblclick)/i;function Ce(e){return Te[e]||Se[e]||e}function Ae(e){var t=e.split(we);return[t[0],t.slice(1).sort()]}function Pe(e){return e[ke]=e[ke]||{}}function Ie(e,t){return!t||!g.call(t,(function(t){return e.indexOf(t)<0}))}function Oe(e,t,n,r,i){var a=Pe(e);if(t)a[t]&&(a[t]=a[t].filter((function(a){var o=a[0],s=a[1],u=a[2];if(i&&u.guid!==i.guid||!Ie(o,n)||r&&r!==s)return!0;e.removeEventListener(t,u)})));else for(t in a)Oe(e,t,n,r,i)}T.trigger=function(e,n){if(M(e)){var r=Ae(e),i=r[0],a=r[1],o=Ce(i);if(!o)return this;var s=Ee.test(o)?"MouseEvents":"HTMLEvents";(e=t.createEvent(s)).initEvent(o,!0,!0),e.namespace=a.join(we),e.___ot=i}e.___td=n;var u=e.___ot in Se;return this.each((function(t,n){u&&O(n[e.___ot])&&(n["___i".concat(e.type)]=!0,n[e.___ot](),n["___i".concat(e.type)]=!1),n.dispatchEvent(e)}))},T.off=function(e,t,n){var r=this;if(R(e))this.each((function(e,t){(I(t)||P(t)||A(t))&&Oe(t)}));else if(M(e))O(t)&&(n=t,t=""),L(U(e),(function(e,i){var a=Ae(i),o=a[0],s=a[1],u=Ce(o);r.each((function(e,r){(I(r)||P(r)||A(r))&&Oe(r,u,s,t,n)}))}));else for(var i in e)this.off(i,e[i]);return this},T.remove=function(e){return Y(this,e).detach().off(),this},T.replaceWith=function(e){return this.before(e).remove()},T.replaceAll=function(e){return E(e).replaceWith(this),this},T.on=function(e,t,n,r,i){var a=this;if(!M(e)){for(var o in e)this.on(o,t,n,e[o],i);return this}return M(t)||(R(t)||N(t)?t="":R(n)?(n=t,t=""):(r=n,n=t,t="")),O(r)||(r=n,n=void 0),r?(L(U(e),(function(e,o){var s=Ae(o),u=s[0],l=s[1],c=Ce(u),f=u in Te,h=u in Se;c&&a.each((function(e,a){if(I(a)||P(a)||A(a)){var o=function e(o){if(o.target["___i".concat(o.type)])return o.stopImmediatePropagation();if((!o.namespace||Ie(l,o.namespace.split(we)))&&(t||!(h&&(o.target!==a||o.___ot===c)||f&&o.relatedTarget&&a.contains(o.relatedTarget)))){var s=a;if(t){for(var u=o.target;!q(u,t);){if(u===a)return;if(!(u=u.parentNode))return}s=u}Object.defineProperty(o,"currentTarget",{configurable:!0,get:function(){return s}}),Object.defineProperty(o,"delegateTarget",{configurable:!0,get:function(){return a}}),Object.defineProperty(o,"data",{configurable:!0,get:function(){return n}});var d=r.call(s,o,o.___td);i&&Oe(a,c,l,t,e),!1===d&&(o.preventDefault(),o.stopPropagation())}};o.guid=r.guid=r.guid||E.guid++,function(e,t,n,r,i){var a=Pe(e);a[t]=a[t]||[],a[t].push([n,r,i]),e.addEventListener(t,i)}(a,c,l,t,o)}}))})),this):this},T.one=function(e,t,n,r){return this.on(e,t,n,r,!0)};var Me=/\r?\n/g;var Re=/file|reset|submit|button|image/i,Ne=/radio|checkbox/i;T.serialize=function(){var e="";return this.each((function(t,n){L(n.elements||[n],(function(t,n){if(!(n.disabled||!n.name||"FIELDSET"===n.tagName||Re.test(n.type)||Ne.test(n.type)&&!n.checked)){var r=ee(n);if(!R(r))L(l(r)?r:[r],(function(t,r){e+=function(e,t){return"&".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t.replace(Me,"\r\n")))}(n.name,r)}))}}))})),e.slice(1)},e.exports=E}()},4383:function(e){var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},4870:function(e){var t=[].slice;e.exports=function(e,n){if("string"==typeof n&&(n=e[n]),"function"!=typeof n)throw new Error("bind() requires a function");var r=t.call(arguments,2);return function(){return n.apply(e,r.concat(t.call(arguments)))}}},9773:function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},993:function(e){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},7857:function(e,t){"use strict";var n=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,r=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,i=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,a=/\\([\u000b\u0020-\u00ff])/g,o=/([\\"])/g,s=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;function u(e){var t=String(e);if(i.test(t))return t;if(t.length>0&&!r.test(t))throw new TypeError("invalid parameter value");return'"'+t.replace(o,"\\$1")+'"'}function l(e){this.parameters=Object.create(null),this.type=e}t.Q=function(e){if(!e)throw new TypeError("argument string is required");var t="object"===typeof e?function(e){var t;"function"===typeof e.getHeader?t=e.getHeader("content-type"):"object"===typeof e.headers&&(t=e.headers&&e.headers["content-type"]);if("string"!==typeof t)throw new TypeError("content-type header is missing from object");return t}(e):e;if("string"!==typeof t)throw new TypeError("argument string is required to be a string");var r=t.indexOf(";"),i=-1!==r?t.slice(0,r).trim():t.trim();if(!s.test(i))throw new TypeError("invalid media type");var o=new l(i.toLowerCase());if(-1!==r){var u,c,f;for(n.lastIndex=r;c=n.exec(t);){if(c.index!==r)throw new TypeError("invalid parameter format");r+=c[0].length,u=c[1].toLowerCase(),34===(f=c[2]).charCodeAt(0)&&-1!==(f=f.slice(1,-1)).indexOf("\\")&&(f=f.replace(a,"$1")),o.parameters[u]=f}if(r!==t.length)throw new TypeError("invalid parameter format")}return o}},2358:function(e){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],a=0;a<4;a++)8*r+6*a<=8*e.length?n.push(t.charAt(i>>>6*(3-a)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return n}};e.exports=n}()},4058:function(e,t,n){"use strict";var r=n(4624),i=n(4037),a=n(3535),o=n(2506),s=n(4786),u=n(581),l=n(3454),c=n(5450),f=n(2234),h=n(9188),d=n(2833),p=n(1146),v=n(6195),m=n(4892),g=n(7724),y=n(905),b=n(8264),_=n(2713),x=i("SharedArrayBuffer.prototype.byteLength",!0),k=i("Date.prototype.getTime"),w=Object.getPrototypeOf,S=i("Object.prototype.toString"),T=o("%Set%",!0),E=i("Map.prototype.has",!0),C=i("Map.prototype.get",!0),A=i("Map.prototype.size",!0),P=i("Set.prototype.add",!0),I=i("Set.prototype.delete",!0),O=i("Set.prototype.has",!0),M=i("Set.prototype.size",!0);function R(e,t,n,r){for(var i,a=s(e);(i=a.next())&&!i.done;)if(j(t,i.value,n,r))return I(e,i.value),!0;return!1}function N(e){return"undefined"===typeof e?null:"object"!==typeof e?"symbol"!==typeof e&&("string"!==typeof e&&"number"!==typeof e||+e===+e):void 0}function D(e,t,n,i,a,o){var s=N(n);if(null!=s)return s;var u=C(t,s),l=r({},a,{strict:!1});return!("undefined"===typeof u&&!E(t,s)||!j(i,u,l,o))&&(!E(e,s)&&j(i,u,l,o))}function B(e,t,n){var r=N(n);return null!=r?r:O(t,r)&&!O(e,r)}function L(e,t,n,r,i,a){for(var o,u,l=s(e);(o=l.next())&&!o.done;)if(j(n,u=o.value,i,a)&&j(r,C(t,u),i,a))return I(e,u),!0;return!1}function j(e,t,n,i){var o=n||{};if(o.strict?l(e,t):e===t)return!0;if(g(e)!==g(t))return!1;if(!e||!t||"object"!==typeof e&&"object"!==typeof t)return o.strict?l(e,t):e==t;var u,I=i.has(e),N=i.has(t);if(I&&N){if(i.get(e)===i.get(t))return!0}else u={};return I||i.set(e,u),N||i.set(t,u),function(e,t,n,i){var o,u;if(typeof e!==typeof t)return!1;if(null==e||null==t)return!1;if(S(e)!==S(t))return!1;if(c(e)!==c(t))return!1;var l=f(e),g=f(t);if(l!==g)return!1;var I=e instanceof Error,N=t instanceof Error;if(I!==N)return!1;if((I||N)&&(e.name!==t.name||e.message!==t.message))return!1;var U=p(e),z=p(t);if(U!==z)return!1;if((U||z)&&(e.source!==t.source||a(e)!==a(t)))return!1;var V=d(e),H=d(t);if(V!==H)return!1;if((V||H)&&k(e)!==k(t))return!1;if(n.strict&&w&&w(e)!==w(t))return!1;var W=b(e),G=b(t);if(W!==G)return!1;if(W||G){if(e.length!==t.length)return!1;for(o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}var q=F(e),X=F(t);if(q!==X)return!1;if(q||X){if(e.length!==t.length)return!1;for(o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}var Y=h(e),Q=h(t);if(Y!==Q)return!1;if(Y||Q)return _(e)===_(t)&&("function"===typeof Uint8Array&&j(new Uint8Array(e),new Uint8Array(t),n,i));var K=v(e),Z=v(t);if(K!==Z)return!1;if(K||Z)return x(e)===x(t)&&("function"===typeof Uint8Array&&j(new Uint8Array(e),new Uint8Array(t),n,i));if(typeof e!==typeof t)return!1;var $=m(e),J=m(t);if($.length!==J.length)return!1;for($.sort(),J.sort(),o=$.length-1;o>=0;o--)if($[o]!=J[o])return!1;for(o=$.length-1;o>=0;o--)if(!j(e[u=$[o]],t[u],n,i))return!1;var ee=y(e),te=y(t);if(ee!==te)return!1;if("Set"===ee||"Set"===te)return function(e,t,n,r){if(M(e)!==M(t))return!1;var i,a,o,u=s(e),l=s(t);for(;(i=u.next())&&!i.done;)if(i.value&&"object"===typeof i.value)o||(o=new T),P(o,i.value);else if(!O(t,i.value)){if(n.strict)return!1;if(!B(e,t,i.value))return!1;o||(o=new T),P(o,i.value)}if(o){for(;(a=l.next())&&!a.done;)if(a.value&&"object"===typeof a.value){if(!R(o,a.value,n.strict,r))return!1}else if(!n.strict&&!O(e,a.value)&&!R(o,a.value,n.strict,r))return!1;return 0===M(o)}return!0}(e,t,n,i);if("Map"===ee)return function(e,t,n,i){if(A(e)!==A(t))return!1;var a,o,u,l,c,f,h=s(e),d=s(t);for(;(a=h.next())&&!a.done;)if(l=a.value[0],c=a.value[1],l&&"object"===typeof l)u||(u=new T),P(u,l);else if("undefined"===typeof(f=C(t,l))&&!E(t,l)||!j(c,f,n,i)){if(n.strict)return!1;if(!D(e,t,l,c,n,i))return!1;u||(u=new T),P(u,l)}if(u){for(;(o=d.next())&&!o.done;)if(l=o.value[0],f=o.value[1],l&&"object"===typeof l){if(!L(u,e,l,f,n,i))return!1}else if(!n.strict&&(!e.has(l)||!j(C(e,l),f,n,i))&&!L(u,e,l,f,r({},n,{strict:!1}),i))return!1;return 0===M(u)}return!0}(e,t,n,i);return!0}(e,t,o,i)}function F(e){return!(!e||"object"!==typeof e||"number"!==typeof e.length)&&("function"===typeof e.copy&&"function"===typeof e.slice&&(!(e.length>0&&"number"!==typeof e[0])&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))))}e.exports=function(e,t,n){return j(e,t,n,u())}},2234:function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},9396:function(e,t,n){"use strict";var r=n(4892),i="function"===typeof Symbol&&"symbol"===typeof Symbol("foo"),a=Object.prototype.toString,o=Array.prototype.concat,s=Object.defineProperty,u=n(4510)(),l=s&&u,c=function(e,t,n,r){if(t in e)if(!0===r){if(e[t]===n)return}else if("function"!==typeof(i=r)||"[object Function]"!==a.call(i)||!r())return;var i;l?s(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n},f=function(e,t){var n=arguments.length>2?arguments[2]:{},a=r(t);i&&(a=o.call(a,Object.getOwnPropertySymbols(t)));for(var s=0;s<a.length;s+=1)c(e,a[s],t[a[s]],n[a[s]])};f.supportsDescriptors=!!l,e.exports=f},6356:function(e,t,n){var r=n(5165),i=n(2832),a={float:"cssFloat"},o=n(8454);function s(e,t,n){var s=a[t];if("undefined"===typeof s&&(s=function(e){var t=i(e),n=r(t);return a[t]=a[e]=a[n]=n,n}(t)),s){if(void 0===n)return e.style[s];e.style[s]=o(s,n)}}function u(){2===arguments.length?"string"===typeof arguments[1]?arguments[0].style.cssText=arguments[1]:function(e,t){for(var n in t)t.hasOwnProperty(n)&&s(e,n,t[n])}(arguments[0],arguments[1]):s(arguments[0],arguments[1],arguments[2])}e.exports=u,e.exports.set=u,e.exports.get=function(e,t){return Array.isArray(t)?t.reduce((function(t,n){return t[n]=s(e,n||""),t}),{}):s(e,t||"")}},7089:function(e){"use strict";function t(e,t,r){r=r||2;var a,o,s,u,f,h,p,v=t&&t.length,m=v?t[0]*r:e.length,g=n(e,0,m,r,!0),y=[];if(!g||g.next===g.prev)return y;if(v&&(g=function(e,t,r,i){var a,o,s,u=[];for(a=0,o=t.length;a<o;a++)(s=n(e,t[a]*i,a<o-1?t[a+1]*i:e.length,i,!1))===s.next&&(s.steiner=!0),u.push(d(s));for(u.sort(l),a=0;a<u.length;a++)r=c(u[a],r);return r}(e,t,g,r)),e.length>80*r){a=s=e[0],o=u=e[1];for(var b=r;b<m;b+=r)(f=e[b])<a&&(a=f),(h=e[b+1])<o&&(o=h),f>s&&(s=f),h>u&&(u=h);p=0!==(p=Math.max(s-a,u-o))?32767/p:0}return i(g,y,r,a,o,p,0),y}function n(e,t,n,r,i){var a,o;if(i===E(e,t,n,r)>0)for(a=t;a<n;a+=r)o=w(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=w(a,e[a],e[a+1],o);return o&&g(o,o.next)&&(S(o),o=o.next),o}function r(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!g(r,r.next)&&0!==m(r.prev,r,r.next))r=r.next;else{if(S(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function i(e,t,n,l,c,f,d){if(e){!d&&f&&function(e,t,n,r){var i=e;do{0===i.z&&(i.z=h(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,s,u,l=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(o>1)}(i)}(e,l,c,f);for(var p,v,m=e;e.prev!==e.next;)if(p=e.prev,v=e.next,f?o(e,l,c,f):a(e))t.push(p.i/n|0),t.push(e.i/n|0),t.push(v.i/n|0),S(e),e=v.next,m=v.next;else if((e=v)===m){d?1===d?i(e=s(r(e),t,n),t,n,l,c,f,2):2===d&&u(e,t,n,l,c,f):i(r(e),t,n,l,c,f,1);break}}}function a(e){var t=e.prev,n=e,r=e.next;if(m(t,n,r)>=0)return!1;for(var i=t.x,a=n.x,o=r.x,s=t.y,u=n.y,l=r.y,c=i<a?i<o?i:o:a<o?a:o,f=s<u?s<l?s:l:u<l?u:l,h=i>a?i>o?i:o:a>o?a:o,d=s>u?s>l?s:l:u>l?u:l,v=r.next;v!==t;){if(v.x>=c&&v.x<=h&&v.y>=f&&v.y<=d&&p(i,s,a,u,o,l,v.x,v.y)&&m(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function o(e,t,n,r){var i=e.prev,a=e,o=e.next;if(m(i,a,o)>=0)return!1;for(var s=i.x,u=a.x,l=o.x,c=i.y,f=a.y,d=o.y,v=s<u?s<l?s:l:u<l?u:l,g=c<f?c<d?c:d:f<d?f:d,y=s>u?s>l?s:l:u>l?u:l,b=c>f?c>d?c:d:f>d?f:d,_=h(v,g,t,n,r),x=h(y,b,t,n,r),k=e.prevZ,w=e.nextZ;k&&k.z>=_&&w&&w.z<=x;){if(k.x>=v&&k.x<=y&&k.y>=g&&k.y<=b&&k!==i&&k!==o&&p(s,c,u,f,l,d,k.x,k.y)&&m(k.prev,k,k.next)>=0)return!1;if(k=k.prevZ,w.x>=v&&w.x<=y&&w.y>=g&&w.y<=b&&w!==i&&w!==o&&p(s,c,u,f,l,d,w.x,w.y)&&m(w.prev,w,w.next)>=0)return!1;w=w.nextZ}for(;k&&k.z>=_;){if(k.x>=v&&k.x<=y&&k.y>=g&&k.y<=b&&k!==i&&k!==o&&p(s,c,u,f,l,d,k.x,k.y)&&m(k.prev,k,k.next)>=0)return!1;k=k.prevZ}for(;w&&w.z<=x;){if(w.x>=v&&w.x<=y&&w.y>=g&&w.y<=b&&w!==i&&w!==o&&p(s,c,u,f,l,d,w.x,w.y)&&m(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function s(e,t,n){var i=e;do{var a=i.prev,o=i.next.next;!g(a,o)&&y(a,i,i.next,o)&&x(a,o)&&x(o,a)&&(t.push(a.i/n|0),t.push(i.i/n|0),t.push(o.i/n|0),S(i),S(i.next),i=e=o),i=i.next}while(i!==e);return r(i)}function u(e,t,n,a,o,s){var u=e;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&v(u,l)){var c=k(u,l);return u=r(u,u.next),c=r(c,c.next),i(u,t,n,a,o,s,0),void i(c,t,n,a,o,s,0)}l=l.next}u=u.next}while(u!==e)}function l(e,t){return e.x-t.x}function c(e,t){var n=function(e,t){var n,r=t,i=e.x,a=e.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o&&(o=s,n=r.x<r.next.x?r:r.next,s===i))return n}r=r.next}while(r!==t);if(!n)return null;var u,l=n,c=n.x,h=n.y,d=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&p(a<h?i:o,a,c,h,a<h?o:i,a,r.x,r.y)&&(u=Math.abs(a-r.y)/(i-r.x),x(r,e)&&(u<d||u===d&&(r.x>n.x||r.x===n.x&&f(n,r)))&&(n=r,d=u)),r=r.next}while(r!==l);return n}(e,t);if(!n)return t;var i=k(n,e);return r(i,i.next),r(n,n.next)}function f(e,t){return m(e.prev,e,t.prev)<0&&m(t.next,e,e.next)<0}function h(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function d(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function p(e,t,n,r,i,a,o,s){return(i-o)*(t-s)>=(e-o)*(a-s)&&(e-o)*(r-s)>=(n-o)*(t-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function v(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&y(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(x(e,t)&&x(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(m(e.prev,e,t.prev)||m(e,t.prev,t))||g(e,t)&&m(e.prev,e,e.next)>0&&m(t.prev,t,t.next)>0)}function m(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function g(e,t){return e.x===t.x&&e.y===t.y}function y(e,t,n,r){var i=_(m(e,t,n)),a=_(m(e,t,r)),o=_(m(n,r,e)),s=_(m(n,r,t));return i!==a&&o!==s||(!(0!==i||!b(e,n,t))||(!(0!==a||!b(e,r,t))||(!(0!==o||!b(n,e,r))||!(0!==s||!b(n,t,r)))))}function b(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function _(e){return e>0?1:e<0?-1:0}function x(e,t){return m(e.prev,e,e.next)<0?m(e,t,e.next)>=0&&m(e,e.prev,t)>=0:m(e,t,e.prev)<0||m(e,e.next,t)<0}function k(e,t){var n=new T(e.i,e.x,e.y),r=new T(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function w(e,t,n,r){var i=new T(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function S(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function T(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function E(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}e.exports=t,e.exports.default=t,t.deviation=function(e,t,n,r){var i=t&&t.length,a=i?t[0]*n:e.length,o=Math.abs(E(e,0,a,n));if(i)for(var s=0,u=t.length;s<u;s++){var l=t[s]*n,c=s<u-1?t[s+1]*n:e.length;o-=Math.abs(E(e,l,c,n))}var f=0;for(s=0;s<r.length;s+=3){var h=r[s]*n,d=r[s+1]*n,p=r[s+2]*n;f+=Math.abs((e[h]-e[p])*(e[d+1]-e[h+1])-(e[h]-e[d])*(e[p+1]-e[h+1]))}return 0===o&&0===f?0:Math.abs((f-o)/o)},t.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)for(var o=0;o<t;o++)n.vertices.push(e[i][a][o]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n}},7984:function(e,t,n){e.exports=n(2370)},2370:function(e,t,n){e.exports=n(225),e.exports.parser=n(2103)},225:function(e,t,n){var r=n(6624),i=n(9773),a=n(3848)("engine.io-client:socket"),o=n(4295),s=n(2103),u=n(1176),l=n(1852),c=n(5988);function f(e,t){if(!(this instanceof f))return new f(e,t);t=t||{},e&&"object"===typeof e&&(t=e,e=null),e?(e=u(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=u(t.host).host),this.secure=null!=t.secure?t.secure:n.g.location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(n.g.location?location.hostname:"localhost"),this.port=t.port||(n.g.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"===typeof this.query&&(this.query=c.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized?null:t.rejectUnauthorized,this.forceNode=!!t.forceNode;var r="object"===typeof n.g&&n.g;r.global===r&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}e.exports=f,f.priorWebsocketSuccess=!1,i(f.prototype),f.protocol=s.protocol,f.Socket=f,f.Transport=n(1221),f.transports=n(6624),f.parser=n(2103),f.prototype.createTransport=function(e){a('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);return t.EIO=s.protocol,t.transport=e,this.id&&(t.sid=this.id),new r[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders,forceNode:this.forceNode,localAddress:this.localAddress})},f.prototype.open=function(){var e;if(this.rememberUpgrade&&f.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},f.prototype.setTransport=function(e){a("setting transport %s",e.name);var t=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},f.prototype.probe=function(e){a('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,r=this;function i(){if(r.onlyBinaryUpgrades){var i=!this.supportsBinary&&r.transport.supportsBinary;n=n||i}n||(a('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(i){if(!n)if("pong"===i.type&&"probe"===i.data){if(a('probe transport "%s" pong',e),r.upgrading=!0,r.emit("upgrading",t),!t)return;f.priorWebsocketSuccess="websocket"===t.name,a('pausing current transport "%s"',r.transport.name),r.transport.pause((function(){n||"closed"!==r.readyState&&(a("changing transport and sending upgrade packet"),h(),r.setTransport(t),t.send([{type:"upgrade"}]),r.emit("upgrade",t),t=null,r.upgrading=!1,r.flush())}))}else{a('probe transport "%s" failed',e);var o=new Error("probe error");o.transport=t.name,r.emit("upgradeError",o)}})))}function o(){n||(n=!0,h(),t.close(),t=null)}function s(n){var i=new Error("probe error: "+n);i.transport=t.name,o(),a('probe transport "%s" failed because of error: %s',e,n),r.emit("upgradeError",i)}function u(){s("transport closed")}function l(){s("socket closed")}function c(e){t&&e.name!==t.name&&(a('"%s" works - aborting "%s"',e.name,t.name),o())}function h(){t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",u),r.removeListener("close",l),r.removeListener("upgrading",c)}f.priorWebsocketSuccess=!1,t.once("open",i),t.once("error",s),t.once("close",u),this.once("close",l),this.once("upgrading",c),t.open()},f.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",f.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},f.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(a('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(l(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else a('packet received with socket readyState "%s"',this.readyState)},f.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},f.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},f.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){a("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},f.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},f.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},f.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},f.prototype.write=f.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},f.prototype.sendPacket=function(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},f.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?r():t()})):this.upgrading?r():t()}function t(){e.onClose("forced close"),a("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function r(){e.once("upgrade",n),e.once("upgradeError",n)}return this},f.prototype.onError=function(e){a("socket error %j",e),f.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},f.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){a('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},f.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~o(this.transports,e[n])&&t.push(e[n]);return t}},1221:function(e,t,n){var r=n(2103),i=n(9773);function a(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=a,i(a.prototype),a.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},a.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},a.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},a.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},a.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},a.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},a.prototype.onPacket=function(e){this.emit("packet",e)},a.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},6624:function(e,t,n){var r=n(7536),i=n(9812),a=n(5479),o=n(9747);t.polling=function(e){var t=!1,o=!1,s=!1!==e.jsonp;if(n.g.location){var u="https:"===location.protocol,l=location.port;l||(l=u?443:80),t=e.hostname!==location.hostname||l!==e.port,o=e.secure!==u}if(e.xdomain=t,e.xscheme=o,"open"in new r(e)&&!e.forceJSONP)return new i(e);if(!s)throw new Error("JSONP disabled");return new a(e)},t.websocket=o},5479:function(e,t,n){var r=n(1857),i=n(993);e.exports=l;var a,o=/\n/g,s=/\\n/g;function u(){}function l(e){r.call(this,e),this.query=this.query||{},a||(n.g.___eio||(n.g.___eio=[]),a=n.g.___eio),this.index=a.length;var t=this;a.push((function(e){t.onData(e)})),this.query.j=this.index,n.g.document&&n.g.addEventListener&&n.g.addEventListener("beforeunload",(function(){t.script&&(t.script.onerror=u)}),!1)}i(l,r),l.prototype.supportsBinary=!1,l.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},l.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!==typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)},l.prototype.doWrite=function(e,t){var n=this;if(!this.form){var r,i=document.createElement("form"),a=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=u,i.method="POST",i.setAttribute("accept-charset","utf-8"),a.name="d",i.appendChild(a),document.body.appendChild(i),this.form=i,this.area=a}function l(){c(),t()}function c(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(e)}catch(t){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),c(),e=e.replace(s,"\\\n"),this.area.value=e.replace(o,"\\n");try{this.form.submit()}catch(f){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&l()}:this.iframe.onload=l}},9812:function(e,t,n){var r=n(7536),i=n(1857),a=n(9773),o=n(993),s=n(3848)("engine.io-client:polling-xhr");function u(){}function l(e){if(i.call(this,e),this.requestTimeout=e.requestTimeout,n.g.location){var t="https:"===location.protocol,r=location.port;r||(r=t?443:80),this.xd=e.hostname!==n.g.location.hostname||r!==e.port,this.xs=e.secure!==t}else this.extraHeaders=e.extraHeaders}function c(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function f(){for(var e in c.requests)c.requests.hasOwnProperty(e)&&c.requests[e].abort()}e.exports=l,e.exports.Request=c,o(l,i),l.prototype.supportsBinary=!0,l.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new c(e)},l.prototype.doWrite=function(e,t){var n="string"!==typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),i=this;r.on("success",t),r.on("error",(function(e){i.onError("xhr post error",e)})),this.sendXhr=r},l.prototype.doPoll=function(){s("xhr poll");var e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e},a(c.prototype),c.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new r(e),i=this;try{s("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var a in t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(a)&&t.setRequestHeader(a,this.extraHeaders[a])}catch(o){}if(this.supportsBinary&&(t.responseType="arraybuffer"),"POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(o){}try{t.setRequestHeader("Accept","*/*")}catch(o){}"withCredentials"in t&&(t.withCredentials=!0),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){i.onLoad()},t.onerror=function(){i.onError(t.responseText)}):t.onreadystatechange=function(){4===t.readyState&&(200===t.status||1223===t.status?i.onLoad():setTimeout((function(){i.onError(t.status)}),0))},s("xhr data %s",this.data),t.send(this.data)}catch(o){return void setTimeout((function(){i.onError(o)}),0)}n.g.document&&(this.index=c.requestsCount++,c.requests[this.index]=this)},c.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},c.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},c.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},c.prototype.cleanup=function(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=u:this.xhr.onreadystatechange=u,e)try{this.xhr.abort()}catch(t){}n.g.document&&delete c.requests[this.index],this.xhr=null}},c.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(o){}if("application/octet-stream"===t)e=this.xhr.response||this.xhr.responseText;else if(this.supportsBinary)try{e=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(o){for(var n=new Uint8Array(this.xhr.response),r=[],i=0,a=n.length;i<a;i++)r.push(n[i]);e=String.fromCharCode.apply(null,r)}else e=this.xhr.responseText}catch(o){this.onError(o)}null!=e&&this.onData(e)},c.prototype.hasXDR=function(){return"undefined"!==typeof n.g.XDomainRequest&&!this.xs&&this.enablesXDR},c.prototype.abort=function(){this.cleanup()},c.requestsCount=0,c.requests={},n.g.document&&(n.g.attachEvent?n.g.attachEvent("onunload",f):n.g.addEventListener&&n.g.addEventListener("beforeunload",f,!1))},1857:function(e,t,n){var r=n(1221),i=n(5988),a=n(2103),o=n(993),s=n(5590),u=n(3848)("engine.io-client:polling");e.exports=c;var l=null!=new(n(7536))({xdomain:!1}).responseType;function c(e){var t=e&&e.forceBase64;l&&!t||(this.supportsBinary=!1),r.call(this,e)}o(c,r),c.prototype.name="polling",c.prototype.doOpen=function(){this.poll()},c.prototype.pause=function(e){var t=this;function n(){u("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(u("we are currently polling - waiting to pause"),r++,this.once("pollComplete",(function(){u("pre-pause polling complete"),--r||n()}))),this.writable||(u("we are currently writing - waiting to pause"),r++,this.once("drain",(function(){u("pre-pause writing complete"),--r||n()})))}else n()},c.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},c.prototype.onData=function(e){var t=this;u("polling got data %s",e);a.decodePayload(e,this.socket.binaryType,(function(e,n,r){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},c.prototype.doClose=function(){var e=this;function t(){u("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(u("transport open - closing"),t()):(u("transport not open - deferring close"),this.once("open",t))},c.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};a.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,n)}))},c.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=s()),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},9747:function(e,t,n){var r,i=n(1221),a=n(2103),o=n(5988),s=n(993),u=n(5590),l=n(3848)("engine.io-client:websocket"),c=n.g.WebSocket||n.g.MozWebSocket;if("undefined"===typeof window)try{r=n(7020)}catch(d){}var f=c;function h(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=c&&!e.forceNode,this.usingBrowserWebSocket||(f=r),i.call(this,e)}f||"undefined"!==typeof window||(f=r),e.exports=h,s(h,i),h.prototype.name="websocket",h.prototype.supportsBinary=!0,h.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t={agent:this.agent,perMessageDeflate:this.perMessageDeflate};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(t.headers=this.extraHeaders),this.localAddress&&(t.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?new f(e):new f(e,void 0,t)}catch(n){return this.emit("error",n)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},h.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},h.prototype.write=function(e){var t=this;this.writable=!1;for(var r=e.length,i=0,o=r;i<o;i++)!function(e){a.encodePacket(e,t.supportsBinary,(function(i){if(!t.usingBrowserWebSocket){var a={};if(e.options&&(a.compress=e.options.compress),t.perMessageDeflate)("string"===typeof i?n.g.Buffer.byteLength(i):i.length)<t.perMessageDeflate.threshold&&(a.compress=!1)}try{t.usingBrowserWebSocket?t.ws.send(i):t.ws.send(i,a)}catch(d){l("websocket closed before onclose event")}--r||s()}))}(e[i]);function s(){t.emit("flush"),setTimeout((function(){t.writable=!0,t.emit("drain")}),0)}},h.prototype.onClose=function(){i.prototype.onClose.call(this)},h.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()},h.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=u()),this.supportsBinary||(e.b64=1),(e=o.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},h.prototype.check=function(){return!!f&&!("__initialize"in f&&this.name===h.prototype.name)}},7536:function(e,t,n){var r=n(6421);e.exports=function(e){var t=e.xdomain,i=e.xscheme,a=e.enablesXDR;try{if("undefined"!==typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(o){}try{if("undefined"!==typeof XDomainRequest&&!i&&a)return new XDomainRequest}catch(o){}if(!t)try{return new(n.g[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(o){}}},3848:function(e,t,n){function r(){try{return t.storage.debug}catch(e){}if("undefined"!==typeof process&&"env"in process)return{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DEBUG}(t=e.exports=n(9760)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(){var e=arguments,n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,a=0;return e[0].replace(/%[a-z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(a=i))})),e.splice(a,0,r),e},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=r,t.useColors=function(){return"undefined"!==typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(r())},9760:function(e,t,n){(t=e.exports=a.debug=a).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(178),t.names=[],t.skips=[],t.formatters={};var r,i=0;function a(e){function n(){}function a(){var e=a,n=+new Date,o=n-(r||n);e.diff=o,e.prev=r,e.curr=n,r=n,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=t.colors[i++%t.colors.length]);for(var s=new Array(arguments.length),u=0;u<s.length;u++)s[u]=arguments[u];s[0]=t.coerce(s[0]),"string"!==typeof s[0]&&(s=["%o"].concat(s));var l=0;s[0]=s[0].replace(/%([a-z%])/g,(function(n,r){if("%%"===n)return n;l++;var i=t.formatters[r];if("function"===typeof i){var a=s[l];n=i.call(e,a),s.splice(l,1),l--}return n})),s=t.formatArgs.apply(e,s),(a.log||t.log||console.log.bind(console)).apply(e,s)}n.enabled=!1,a.enabled=!0;var o=t.enabled(e)?a:n;return o.namespace=e,o}},178:function(e){var t=1e3,n=60*t,r=60*n,i=24*r,a=365.25*i;function o(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,s){s=s||{};var u,l=typeof e;if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>1e4)return;var o=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!o)return;var s=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===l&&!1===isNaN(e))return s.long?o(u=e,i,"day")||o(u,r,"hour")||o(u,n,"minute")||o(u,t,"second")||u+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=r)return Math.round(e/r)+"h";if(e>=n)return Math.round(e/n)+"m";if(e>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},2103:function(e,t,n){var r,i=n(7660),a=n(2560),o=n(9873),s=n(7186),u=n(8277);n.g&&n.g.ArrayBuffer&&(r=n(934));var l="undefined"!==typeof navigator&&/Android/i.test(navigator.userAgent),c="undefined"!==typeof navigator&&/PhantomJS/i.test(navigator.userAgent),f=l||c;t.protocol=3;var h=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},d=i(h),p={type:"error",data:"parser error"},v=n(5665);function m(e,t,n){for(var r=new Array(e.length),i=s(e.length,n),a=function(e,n,i){t(n,(function(t,n){r[e]=n,i(t,r)}))},o=0;o<e.length;o++)a(o,e[o],i)}t.encodePacket=function(e,r,i,a){"function"==typeof r&&(a=r,r=!1),"function"==typeof i&&(a=i,i=null);var o=void 0===e.data?void 0:e.data.buffer||e.data;if(n.g.ArrayBuffer&&o instanceof ArrayBuffer)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=e.data,a=new Uint8Array(i),o=new Uint8Array(1+i.byteLength);o[0]=h[e.type];for(var s=0;s<a.length;s++)o[s+1]=a[s];return r(o.buffer)}(e,r,a);if(v&&o instanceof n.g.Blob)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);if(f)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=new FileReader;return i.onload=function(){e.data=i.result,t.encodePacket(e,n,!0,r)},i.readAsArrayBuffer(e.data)}(e,n,r);var i=new Uint8Array(1);i[0]=h[e.type];var a=new v([i.buffer,e.data]);return r(a)}(e,r,a);if(o&&o.base64)return function(e,n){var r="b"+t.packets[e.type]+e.data.data;return n(r)}(e,a);var s=h[e.type];return void 0!==e.data&&(s+=i?u.encode(String(e.data)):String(e.data)),a(""+s)},t.encodeBase64Packet=function(e,r){var i,a="b"+t.packets[e.type];if(v&&e.data instanceof n.g.Blob){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];r(a+e)},o.readAsDataURL(e.data)}try{i=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(c){for(var s=new Uint8Array(e.data),u=new Array(s.length),l=0;l<s.length;l++)u[l]=s[l];i=String.fromCharCode.apply(null,u)}return a+=n.g.btoa(i),r(a)},t.decodePacket=function(e,n,r){if(void 0===e)return p;if("string"==typeof e){if("b"==e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(r&&!1===(e=function(e){try{e=u.decode(e)}catch(t){return!1}return e}(e)))return p;var i=e.charAt(0);return Number(i)==i&&d[i]?e.length>1?{type:d[i],data:e.substring(1)}:{type:d[i]}:p}i=new Uint8Array(e)[0];var a=o(e,1);return v&&"blob"===n&&(a=new v([a])),{type:d[i],data:a}},t.decodeBase64Packet=function(e,t){var n=d[e.charAt(0)];if(!r)return{type:n,data:{base64:!0,data:e.substr(1)}};var i=r.decode(e.substr(1));return"blob"===t&&v&&(i=new v([i])),{type:n,data:i}},t.encodePayload=function(e,n,r){"function"==typeof n&&(r=n,n=null);var i=a(e);if(n&&i)return v&&!f?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r);if(!e.length)return r("0:");m(e,(function(e,r){t.encodePacket(e,!!i&&n,!0,(function(e){r(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return r(t.join(""))}))},t.decodePayload=function(e,n,r){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,r);var i;if("function"===typeof n&&(r=n,n=null),""==e)return r(p,0,1);for(var a,o,s="",u=0,l=e.length;u<l;u++){var c=e.charAt(u);if(":"!=c)s+=c;else{if(""==s||s!=(a=Number(s)))return r(p,0,1);if(s!=(o=e.substr(u+1,a)).length)return r(p,0,1);if(o.length){if(i=t.decodePacket(o,n,!0),p.type==i.type&&p.data==i.data)return r(p,0,1);if(!1===r(i,u+a,l))return}u+=a,s=""}}return""!=s?r(p,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){if(!e.length)return n(new ArrayBuffer(0));m(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){return n(null,e)}))}),(function(e,t){var r=t.reduce((function(e,t){var n;return e+(n="string"===typeof t?t.length:t.byteLength).toString().length+n+2}),0),i=new Uint8Array(r),a=0;return t.forEach((function(e){var t="string"===typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),o=0;o<e.length;o++)r[o]=e.charCodeAt(o);n=r.buffer}i[a++]=t?0:1;var s=n.byteLength.toString();for(o=0;o<s.length;o++)i[a++]=parseInt(s[o]);i[a++]=255;for(r=new Uint8Array(n),o=0;o<r.length;o++)i[a++]=r[o]})),n(i.buffer)}))},t.encodePayloadAsBlob=function(e,n){m(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1);if(t[0]=1,"string"===typeof e){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);e=r.buffer,t[0]=0}var a=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),o=new Uint8Array(a.length+1);for(i=0;i<a.length;i++)o[i]=parseInt(a[i]);if(o[a.length]=255,v){var s=new v([t.buffer,o.buffer,e]);n(null,s)}}))}),(function(e,t){return n(new v(t))}))},t.decodePayloadAsBinary=function(e,n,r){"function"===typeof n&&(r=n,n=null);for(var i=e,a=[],s=!1;i.byteLength>0;){for(var u=new Uint8Array(i),l=0===u[0],c="",f=1;255!=u[f];f++){if(c.length>310){s=!0;break}c+=u[f]}if(s)return r(p,0,1);i=o(i,2+c.length),c=parseInt(c);var h=o(i,0,c);if(l)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(m){var d=new Uint8Array(h);h="";for(f=0;f<d.length;f++)h+=String.fromCharCode(d[f])}a.push(h),i=o(i,c)}var v=a.length;a.forEach((function(e,i){r(t.decodePacket(e,n,!0),i,v)}))}},7660:function(e){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},7644:function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},7143:function(e){"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,o){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,a||e,o),u=n?n+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,o=new Array(a);i<a;i++)o[i]=r[i].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,a,o){var s=n?n+e:e;if(!this._events[s])return!1;var u,l,c=this._events[s],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,i),!0;case 5:return c.fn.call(c.context,t,r,i,a),!0;case 6:return c.fn.call(c.context,t,r,i,a,o),!0}for(l=1,u=new Array(f-1);l<f;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var h,d=c.length;for(l=0;l<d;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),f){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,r);break;case 4:c[l].fn.call(c[l].context,t,r,i);break;default:if(!u)for(h=1,u=new Array(f-1);h<f;h++)u[h-1]=arguments[h];c[l].fn.apply(c[l].context,u)}}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return o(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||o(this,a);else{for(var u=0,l=[],c=s.length;u<c;u++)(s[u].fn!==t||i&&!s[u].once||r&&s[u].context!==r)&&l.push(s[u]);l.length?this._events[a]=1===l.length?l[0]:l:o(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},7465:function(e){"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,a),r(n)}function a(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}v(e,t,a,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&v(e,"error",t,n)}(e,i,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var o=10;function s(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var i,a,o,l;if(s(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"===typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=u(e))>0&&o.length>i&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,l=c,console&&console.warn&&console.warn(l)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=c.bind(r);return i.listener=n,r.wrapFn=i,i}function h(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function d(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(a){r.once&&e.removeEventListener(t,i),n(a)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,a=this._events;if(void 0!==a)i=i&&void 0===a.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var u=a[e];if(void 0===u)return!1;if("function"===typeof u)r(u,this,t);else{var l=u.length,c=p(u,l);for(n=0;n<l;++n)r(c[n],this,t)}return!0},a.prototype.addListener=function(e,t){return l(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return l(this,e,t,!0)},a.prototype.once=function(e,t){return s(t),this.on(e,f(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,f(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,i,a,o;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return h(this,e,!0)},a.prototype.rawListeners=function(e){return h(this,e,!1)},a.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},a.prototype.listenerCount=d,a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},2618:function(e,t,n){var r;!function(){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),a={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},5369:function(e,t,n){"use strict";var r=n(460),i=Object.prototype.toString,a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){if(!r(t))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=n),"[object Array]"===i.call(e)?function(e,t,n){for(var r=0,i=e.length;r<i;r++)a.call(e,r)&&(null==n?t(e[r],r,e):t.call(n,e[r],r,e))}(e,t,o):"string"===typeof e?function(e,t,n){for(var r=0,i=e.length;r<i;r++)null==n?t(e.charAt(r),r,e):t.call(n,e.charAt(r),r,e)}(e,t,o):function(e,t,n){for(var r in e)a.call(e,r)&&(null==n?t(e[r],r,e):t.call(n,e[r],r,e))}(e,t,o)}},222:function(e){"use strict";var t=Array.prototype.slice,n=Object.prototype.toString;e.exports=function(e){var r=this;if("function"!==typeof r||"[object Function]"!==n.call(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var i,a=t.call(arguments,1),o=Math.max(0,r.length-a.length),s=[],u=0;u<o;u++)s.push("$"+u);if(i=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var n=r.apply(this,a.concat(t.call(arguments)));return Object(n)===n?n:this}return r.apply(e,a.concat(t.call(arguments)))})),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i}},3350:function(e,t,n){"use strict";var r=n(222);e.exports=Function.prototype.bind||r},4583:function(e){"use strict";var t=function(){return"string"===typeof function(){}.name},n=Object.getOwnPropertyDescriptor;if(n)try{n([],"length")}catch(i){n=null}t.functionsHaveConfigurableNames=function(){if(!t()||!n)return!1;var e=n((function(){}),"name");return!!e&&!!e.configurable};var r=Function.prototype.bind;t.boundFunctionsHaveNames=function(){return t()&&"function"===typeof r&&""!==function(){}.bind().name},e.exports=t},2506:function(e,t,n){"use strict";var r,i=SyntaxError,a=Function,o=TypeError,s=function(e){try{return a('"use strict"; return ('+e+").constructor;")()}catch(t){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(I){u=null}var l=function(){throw new o},c=u?function(){try{return l}catch(e){try{return u(arguments,"callee").get}catch(t){return l}}}():l,f=n(697)(),h=n(2203)(),d=Object.getPrototypeOf||(h?function(e){return e.__proto__}:null),p={},v="undefined"!==typeof Uint8Array&&d?d(Uint8Array):r,m={"%AggregateError%":"undefined"===typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":f&&d?d([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%BigInt%":"undefined"===typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"===typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"===typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":p,"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f&&d?d(d([][Symbol.iterator]())):r,"%JSON%":"object"===typeof JSON?JSON:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&f&&d?d((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&f&&d?d((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f&&d?d(""[Symbol.iterator]()):r,"%Symbol%":f?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":c,"%TypedArray%":v,"%TypeError%":o,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet};if(d)try{null.error}catch(I){var g=d(d(I));m["%Error.prototype%"]=g}var y=function e(t){var n;if("%AsyncFunction%"===t)n=s("async function () {}");else if("%GeneratorFunction%"===t)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=s("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&d&&(n=d(i.prototype))}return m[t]=n,n},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},_=n(3350),x=n(8316),k=_.call(Function.call,Array.prototype.concat),w=_.call(Function.apply,Array.prototype.splice),S=_.call(Function.call,String.prototype.replace),T=_.call(Function.call,String.prototype.slice),E=_.call(Function.call,RegExp.prototype.exec),C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,P=function(e,t){var n,r=e;if(x(b,r)&&(r="%"+(n=b[r])[0]+"%"),x(m,r)){var a=m[r];if(a===p&&(a=y(r)),"undefined"===typeof a&&!t)throw new o("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:a}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new o('"allowMissing" argument must be a boolean');if(null===E(/^%?[^%]*%?$/,e))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=T(e,0,1),n=T(e,-1);if("%"===t&&"%"!==n)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var r=[];return S(e,C,(function(e,t,n,i){r[r.length]=n?S(i,A,"$1"):t||e})),r}(e),r=n.length>0?n[0]:"",a=P("%"+r+"%",t),s=a.name,l=a.value,c=!1,f=a.alias;f&&(r=f[0],w(n,k([0,1],f)));for(var h=1,d=!0;h<n.length;h+=1){var p=n[h],v=T(p,0,1),g=T(p,-1);if(('"'===v||"'"===v||"`"===v||'"'===g||"'"===g||"`"===g)&&v!==g)throw new i("property names with quotes must have matching quotes");if("constructor"!==p&&d||(c=!0),x(m,s="%"+(r+="."+p)+"%"))l=m[s];else if(null!=l){if(!(p in l)){if(!t)throw new o("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&h+1>=n.length){var y=u(l,p);l=(d=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:l[p]}else d=x(l,p),l=l[p];d&&!c&&(m[s]=l)}}return l}},3347:function(e,t,n){"use strict";var r=n(2506)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(i){r=null}e.exports=r},2965:function(e){"use strict";var t="undefined"!==typeof BigInt&&BigInt;e.exports=function(){return"function"===typeof t&&"function"===typeof BigInt&&"bigint"===typeof t(42)&&"bigint"===typeof BigInt(42)}},2560:function(e,t,n){var r=n(4949);e.exports=function(e){return function e(t){if(!t)return!1;if(n.g.Buffer&&n.g.Buffer.isBuffer&&n.g.Buffer.isBuffer(t)||n.g.ArrayBuffer&&t instanceof ArrayBuffer||n.g.Blob&&t instanceof Blob||n.g.File&&t instanceof File)return!0;if(r(t)){for(var i=0;i<t.length;i++)if(e(t[i]))return!0}else if(t&&"object"==typeof t)for(var a in t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),t)if(Object.prototype.hasOwnProperty.call(t,a)&&e(t[a]))return!0;return!1}(e)}},4949:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},6421:function(e){try{e.exports="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},4510:function(e,t,n){"use strict";var r=n(2506)("%Object.defineProperty%",!0),i=function(){if(r)try{return r({},"a",{value:1}),!0}catch(e){return!1}return!1};i.hasArrayLengthDefineBug=function(){if(!i())return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=i},2203:function(e){"use strict";var t={foo:{}},n=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof n)}},697:function(e,t,n){"use strict";var r="undefined"!==typeof Symbol&&Symbol,i=n(3297);e.exports=function(){return"function"===typeof r&&("function"===typeof Symbol&&("symbol"===typeof r("foo")&&("symbol"===typeof Symbol("bar")&&i())))}},3297:function(e){"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},4707:function(e,t,n){"use strict";var r=n(3297);e.exports=function(){return r()&&!!Symbol.toStringTag}},8316:function(e,t,n){"use strict";var r=n(3350);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},4295:function(e){var t=[].indexOf;e.exports=function(e,n){if(t)return e.indexOf(n);for(var r=0;r<e.length;++r)if(e[r]===n)return r;return-1}},3865:function(e,t,n){"use strict";var r=n(2506),i=n(8316),a=n(581)(),o=r("%TypeError%"),s={assert:function(e,t){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new o("`O` is not an object");if("string"!==typeof t)throw new o("`slot` must be a string");if(a.assert(e),!s.has(e,t))throw new o("`"+t+"` is not present on `O`")},get:function(e,t){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new o("`O` is not an object");if("string"!==typeof t)throw new o("`slot` must be a string");var n=a.get(e);return n&&n["$"+t]},has:function(e,t){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new o("`O` is not an object");if("string"!==typeof t)throw new o("`slot` must be a string");var n=a.get(e);return!!n&&i(n,"$"+t)},set:function(e,t,n){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new o("`O` is not an object");if("string"!==typeof t)throw new o("`slot` must be a string");var r=a.get(e);r||(r={},a.set(e,r)),r["$"+t]=n}};Object.freeze&&Object.freeze(s),e.exports=s},5450:function(e,t,n){"use strict";var r=n(4707)(),i=n(4037)("Object.prototype.toString"),a=function(e){return!(r&&e&&"object"===typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},o=function(e){return!!a(e)||null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},s=function(){return a(arguments)}();a.isLegacyArguments=o,e.exports=s?a:o},9188:function(e,t,n){"use strict";var r=n(9722),i=n(4037),a=n(2506),o=n(6218),s=a("ArrayBuffer",!0),u=a("Float32Array",!0),l=i("ArrayBuffer.prototype.byteLength",!0),c=s&&!l&&(new s).slice,f=c&&r(c);e.exports=l||f?function(e){if(!e||"object"!==typeof e)return!1;try{return l?l(e):f(e,0),!0}catch(t){return!1}}:u?function(e){try{return new u(e).buffer===e&&!o(e)}catch(t){return"object"===typeof e&&"RangeError"===t.name}}:function(e){return!1}},6423:function(e,t,n){"use strict";if(n(2965)()){var r=BigInt.prototype.valueOf;e.exports=function(e){return null!==e&&"undefined"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e&&"number"!==typeof e&&"symbol"!==typeof e&&"function"!==typeof e&&("bigint"===typeof e||function(e){try{return r.call(e),!0}catch(t){}return!1}(e))}}else e.exports=function(e){return!1}},8486:function(e,t,n){"use strict";var r=n(4037),i=r("Boolean.prototype.toString"),a=r("Object.prototype.toString"),o=n(4707)();e.exports=function(e){return"boolean"===typeof e||null!==e&&"object"===typeof e&&(o&&Symbol.toStringTag in e?function(e){try{return i(e),!0}catch(t){return!1}}(e):"[object Boolean]"===a(e))}},5586:function(e){function t(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},460:function(e){"use strict";var t,n,r=Function.prototype.toString,i="object"===typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"===typeof i&&"function"===typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw n}}),n={},i((function(){throw 42}),null,t)}catch(d){d!==n&&(i=null)}else i=null;var a=/^\s*class\b/,o=function(e){try{var t=r.call(e);return a.test(t)}catch(n){return!1}},s=function(e){try{return!o(e)&&(r.call(e),!0)}catch(t){return!1}},u=Object.prototype.toString,l="function"===typeof Symbol&&!!Symbol.toStringTag,c=!(0 in[,]),f=function(){return!1};if("object"===typeof document){var h=document.all;u.call(h)===u.call(document.all)&&(f=function(e){if((c||!e)&&("undefined"===typeof e||"object"===typeof e))try{var t=u.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(n){}return!1})}e.exports=i?function(e){if(f(e))return!0;if(!e)return!1;if("function"!==typeof e&&"object"!==typeof e)return!1;try{i(e,null,t)}catch(r){if(r!==n)return!1}return!o(e)&&s(e)}:function(e){if(f(e))return!0;if(!e)return!1;if("function"!==typeof e&&"object"!==typeof e)return!1;if(l)return s(e);if(o(e))return!1;var t=u.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&s(e)}},2833:function(e,t,n){"use strict";var r=Date.prototype.getDay,i=Object.prototype.toString,a=n(4707)();e.exports=function(e){return"object"===typeof e&&null!==e&&(a?function(e){try{return r.call(e),!0}catch(t){return!1}}(e):"[object Date]"===i.call(e))}},242:function(e){"use strict";var t,n="function"===typeof Map&&Map.prototype?Map:null,r="function"===typeof Set&&Set.prototype?Set:null;n||(t=function(e){return!1});var i=n?Map.prototype.has:null,a=r?Set.prototype.has:null;t||i||(t=function(e){return!1}),e.exports=t||function(e){if(!e||"object"!==typeof e)return!1;try{if(i.call(e),a)try{a.call(e)}catch(t){return!0}return e instanceof n}catch(t){}return!1}},4814:function(e,t,n){"use strict";var r=Number.prototype.toString,i=Object.prototype.toString,a=n(4707)();e.exports=function(e){return"number"===typeof e||"object"===typeof e&&(a?function(e){try{return r.call(e),!0}catch(t){return!1}}(e):"[object Number]"===i.call(e))}},1146:function(e,t,n){"use strict";var r,i,a,o,s=n(4037),u=n(4707)();if(u){r=s("Object.prototype.hasOwnProperty"),i=s("RegExp.prototype.exec"),a={};var l=function(){throw a};o={toString:l,valueOf:l},"symbol"===typeof Symbol.toPrimitive&&(o[Symbol.toPrimitive]=l)}var c=s("Object.prototype.toString"),f=Object.getOwnPropertyDescriptor;e.exports=u?function(e){if(!e||"object"!==typeof e)return!1;var t=f(e,"lastIndex");if(!(t&&r(t,"value")))return!1;try{i(e,o)}catch(n){return n===a}}:function(e){return!(!e||"object"!==typeof e&&"function"!==typeof e)&&"[object RegExp]"===c(e)}},6325:function(e){"use strict";var t,n="function"===typeof Map&&Map.prototype?Map:null,r="function"===typeof Set&&Set.prototype?Set:null;r||(t=function(e){return!1});var i=n?Map.prototype.has:null,a=r?Set.prototype.has:null;t||a||(t=function(e){return!1}),e.exports=t||function(e){if(!e||"object"!==typeof e)return!1;try{if(a.call(e),i)try{i.call(e)}catch(t){return!0}return e instanceof r}catch(t){}return!1}},6195:function(e,t,n){"use strict";var r=n(4037)("SharedArrayBuffer.prototype.byteLength",!0);e.exports=r?function(e){if(!e||"object"!==typeof e)return!1;try{return r(e),!0}catch(t){return!1}}:function(e){return!1}},5038:function(e,t,n){"use strict";var r=String.prototype.valueOf,i=Object.prototype.toString,a=n(4707)();e.exports=function(e){return"string"===typeof e||"object"===typeof e&&(a?function(e){try{return r.call(e),!0}catch(t){return!1}}(e):"[object String]"===i.call(e))}},3137:function(e,t,n){"use strict";var r=Object.prototype.toString;if(n(697)()){var i=Symbol.prototype.toString,a=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"===typeof e)return!0;if("[object Symbol]"!==r.call(e))return!1;try{return function(e){return"symbol"===typeof e.valueOf()&&a.test(i.call(e))}(e)}catch(t){return!1}}}else e.exports=function(e){return!1}},6218:function(e,t,n){"use strict";var r=n(8264);e.exports=function(e){return!!r(e)}},7517:function(e){"use strict";var t,n="function"===typeof WeakMap&&WeakMap.prototype?WeakMap:null,r="function"===typeof WeakSet&&WeakSet.prototype?WeakSet:null;n||(t=function(e){return!1});var i=n?n.prototype.has:null,a=r?r.prototype.has:null;t||i||(t=function(e){return!1}),e.exports=t||function(e){if(!e||"object"!==typeof e)return!1;try{if(i.call(e,i),a)try{a.call(e,a)}catch(t){return!0}return e instanceof n}catch(t){}return!1}},1920:function(e,t,n){"use strict";var r=n(2506),i=n(4037),a=r("%WeakSet%",!0),o=i("WeakSet.prototype.has",!0);if(o){var s=i("WeakMap.prototype.has",!0);e.exports=function(e){if(!e||"object"!==typeof e)return!1;try{if(o(e,o),s)try{s(e,s)}catch(t){return!0}return e instanceof a}catch(t){}return!1}}else e.exports=function(e){return!1}},9826:function(e,t,n){var r;e=n.nmd(e),function(){var i=n.amdO,a={function:!0,object:!0},o=a[typeof t]&&t&&!t.nodeType&&t,s=a[typeof window]&&window||this,u=o&&a.object&&e&&!e.nodeType&&"object"==typeof n.g&&n.g;function l(e,t){e||(e=s.Object()),t||(t=s.Object());var n=e.Number||s.Number,r=e.String||s.String,i=e.Object||s.Object,o=e.Date||s.Date,u=e.SyntaxError||s.SyntaxError,c=e.TypeError||s.TypeError,f=e.Math||s.Math,h=e.JSON||s.JSON;"object"==typeof h&&h&&(t.stringify=h.stringify,t.parse=h.parse);var d,p,v,m=i.prototype,g=m.toString,y=new o(-0xc782b5b800cec);try{y=-109252==y.getUTCFullYear()&&0===y.getUTCMonth()&&1===y.getUTCDate()&&10==y.getUTCHours()&&37==y.getUTCMinutes()&&6==y.getUTCSeconds()&&708==y.getUTCMilliseconds()}catch(z){}function b(e){if(b[e]!==v)return b[e];var i;if("bug-string-char-index"==e)i="a"!="a"[0];else if("json"==e)i=b("json-stringify")&&b("json-parse");else{var a,s='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var u=t.stringify,l="function"==typeof u&&y;if(l){(a=function(){return 1}).toJSON=a;try{l="0"===u(0)&&"0"===u(new n)&&'""'==u(new r)&&u(g)===v&&u(v)===v&&u()===v&&"1"===u(a)&&"[1]"==u([a])&&"[null]"==u([v])&&"null"==u(null)&&"[null,null,null]"==u([v,g,null])&&u({a:[a,!0,!1,null,"\0\b\n\f\r\t"]})==s&&"1"===u(null,a)&&"[\n 1,\n 2\n]"==u([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==u(new o(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==u(new o(864e13))&&'"-000001-01-01T00:00:00.000Z"'==u(new o(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==u(new o(-1))}catch(z){l=!1}}i=l}if("json-parse"==e){var c=t.parse;if("function"==typeof c)try{if(0===c("0")&&!c(!1)){var f=5==(a=c(s)).a.length&&1===a.a[0];if(f){try{f=!c('"\t"')}catch(z){}if(f)try{f=1!==c("01")}catch(z){}if(f)try{f=1!==c("1.")}catch(z){}}}}catch(z){f=!1}i=f}}return b[e]=!!i}if(!b("json")){var _="[object Function]",x="[object Number]",k="[object String]",w="[object Array]",S=b("bug-string-char-index");if(!y)var T=f.floor,E=[0,31,59,90,120,151,181,212,243,273,304,334],C=function(e,t){return E[t]+365*(e-1970)+T((e-1969+(t=+(t>1)))/4)-T((e-1901+t)/100)+T((e-1601+t)/400)};if((d=m.hasOwnProperty)||(d=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=g?d=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,d=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,d.call(this,e)}),p=function(e,t){var n,r,i,o=0;for(i in(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n)d.call(r,i)&&o++;return n=r=null,o?p=2==o?function(e,t){var n,r={},i=g.call(e)==_;for(n in e)i&&"prototype"==n||d.call(r,n)||!(r[n]=1)||!d.call(e,n)||t(n)}:function(e,t){var n,r,i=g.call(e)==_;for(n in e)i&&"prototype"==n||!d.call(e,n)||(r="constructor"===n)||t(n);(r||d.call(e,n="constructor"))&&t(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],p=function(e,t){var n,i,o=g.call(e)==_,s=!o&&"function"!=typeof e.constructor&&a[typeof e.hasOwnProperty]&&e.hasOwnProperty||d;for(n in e)o&&"prototype"==n||!s.call(e,n)||t(n);for(i=r.length;n=r[--i];s.call(e,n)&&t(n));}),p(e,t)},!b("json-stringify")){var A={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},P=function(e,t){return("000000"+(t||0)).slice(-e)},I=function(e){for(var t='"',n=0,r=e.length,i=!S||r>10,a=i&&(S?e.split(""):e);n<r;n++){var o=e.charCodeAt(n);switch(o){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=A[o];break;default:if(o<32){t+="\\u00"+P(2,o.toString(16));break}t+=i?a[n]:e.charAt(n)}}return t+'"'},O=function e(t,n,r,i,a,o,s){var u,l,f,h,m,y,b,_,S,E,A,O,M,R,N,D;try{u=n[t]}catch(z){}if("object"==typeof u&&u)if("[object Date]"!=(l=g.call(u))||d.call(u,"toJSON"))"function"==typeof u.toJSON&&(l!=x&&l!=k&&l!=w||d.call(u,"toJSON"))&&(u=u.toJSON(t));else if(u>-1/0&&u<1/0){if(C){for(m=T(u/864e5),f=T(m/365.2425)+1970-1;C(f+1,0)<=m;f++);for(h=T((m-C(f,0))/30.42);C(f,h+1)<=m;h++);m=1+m-C(f,h),b=T((y=(u%864e5+864e5)%864e5)/36e5)%24,_=T(y/6e4)%60,S=T(y/1e3)%60,E=y%1e3}else f=u.getUTCFullYear(),h=u.getUTCMonth(),m=u.getUTCDate(),b=u.getUTCHours(),_=u.getUTCMinutes(),S=u.getUTCSeconds(),E=u.getUTCMilliseconds();u=(f<=0||f>=1e4?(f<0?"-":"+")+P(6,f<0?-f:f):P(4,f))+"-"+P(2,h+1)+"-"+P(2,m)+"T"+P(2,b)+":"+P(2,_)+":"+P(2,S)+"."+P(3,E)+"Z"}else u=null;if(r&&(u=r.call(n,t,u)),null===u)return"null";if("[object Boolean]"==(l=g.call(u)))return""+u;if(l==x)return u>-1/0&&u<1/0?""+u:"null";if(l==k)return I(""+u);if("object"==typeof u){for(R=s.length;R--;)if(s[R]===u)throw c();if(s.push(u),A=[],N=o,o+=a,l==w){for(M=0,R=u.length;M<R;M++)O=e(M,u,r,i,a,o,s),A.push(O===v?"null":O);D=A.length?a?"[\n"+o+A.join(",\n"+o)+"\n"+N+"]":"["+A.join(",")+"]":"[]"}else p(i||u,(function(t){var n=e(t,u,r,i,a,o,s);n!==v&&A.push(I(t)+":"+(a?" ":"")+n)})),D=A.length?a?"{\n"+o+A.join(",\n"+o)+"\n"+N+"}":"{"+A.join(",")+"}":"{}";return s.pop(),D}};t.stringify=function(e,t,n){var r,i,o,s;if(a[typeof t]&&t)if((s=g.call(t))==_)i=t;else if(s==w){o={};for(var u,l=0,c=t.length;l<c;u=t[l++],((s=g.call(u))==k||s==x)&&(o[u]=1));}if(n)if((s=g.call(n))==x){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else s==k&&(r=n.length<=10?n:n.slice(0,10));return O("",((u={})[""]=e,u),i,o,r,"",[])}}if(!b("json-parse")){var M,R,N=r.fromCharCode,D={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},B=function(){throw M=R=null,u()},L=function(){for(var e,t,n,r,i,a=R,o=a.length;M<o;)switch(i=a.charCodeAt(M)){case 9:case 10:case 13:case 32:M++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=S?a.charAt(M):a[M],M++,e;case 34:for(e="@",M++;M<o;)if((i=a.charCodeAt(M))<32)B();else if(92==i)switch(i=a.charCodeAt(++M)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=D[i],M++;break;case 117:for(t=++M,n=M+4;M<n;M++)(i=a.charCodeAt(M))>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||B();e+=N("0x"+a.slice(t,M));break;default:B()}else{if(34==i)break;for(i=a.charCodeAt(M),t=M;i>=32&&92!=i&&34!=i;)i=a.charCodeAt(++M);e+=a.slice(t,M)}if(34==a.charCodeAt(M))return M++,e;B();default:if(t=M,45==i&&(r=!0,i=a.charCodeAt(++M)),i>=48&&i<=57){for(48==i&&((i=a.charCodeAt(M+1))>=48&&i<=57)&&B(),r=!1;M<o&&((i=a.charCodeAt(M))>=48&&i<=57);M++);if(46==a.charCodeAt(M)){for(n=++M;n<o&&((i=a.charCodeAt(n))>=48&&i<=57);n++);n==M&&B(),M=n}if(101==(i=a.charCodeAt(M))||69==i){for(43!=(i=a.charCodeAt(++M))&&45!=i||M++,n=M;n<o&&((i=a.charCodeAt(n))>=48&&i<=57);n++);n==M&&B(),M=n}return+a.slice(t,M)}if(r&&B(),"true"==a.slice(M,M+4))return M+=4,!0;if("false"==a.slice(M,M+5))return M+=5,!1;if("null"==a.slice(M,M+4))return M+=4,null;B()}return"$"},j=function e(t){var n,r;if("$"==t&&B(),"string"==typeof t){if("@"==(S?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(n=[];"]"!=(t=L());r||(r=!0))r&&(","==t?"]"==(t=L())&&B():B()),","==t&&B(),n.push(e(t));return n}if("{"==t){for(n={};"}"!=(t=L());r||(r=!0))r&&(","==t?"}"==(t=L())&&B():B()),","!=t&&"string"==typeof t&&"@"==(S?t.charAt(0):t[0])&&":"==L()||B(),n[t.slice(1)]=e(L());return n}B()}return t},F=function(e,t,n){var r=U(e,t,n);r===v?delete e[t]:e[t]=r},U=function(e,t,n){var r,i=e[t];if("object"==typeof i&&i)if(g.call(i)==w)for(r=i.length;r--;)F(i,r,n);else p(i,(function(e){F(i,e,n)}));return n.call(e,t,i)};t.parse=function(e,t){var n,r;return M=0,R=""+e,n=j(L()),"$"!=L()&&B(),M=R=null,t&&g.call(t)==_?U(((r={})[""]=n,r),"",t):n}}}return t.runInContext=l,t}if(!u||u.global!==u&&u.window!==u&&u.self!==u||(s=u),o&&!i)l(s,o);else{var c=s.JSON,f=s.JSON3,h=!1,d=l(s,s.JSON3={noConflict:function(){return h||(h=!0,s.JSON=c,s.JSON3=f,c=f=null),d}});s.JSON={parse:d.parse,stringify:d.stringify}}i&&(void 0===(r=function(){return d}.call(t,n,t,e))||(e.exports=r))}.call(this)},763:function(e,t,n){var r;e=n.nmd(e),function(){var i,a="Expected a function",o="__lodash_hash_undefined__",s="__lodash_placeholder__",u=16,l=32,c=64,f=128,h=256,d=1/0,p=9007199254740991,v=NaN,m=4294967295,g=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",l],["partialRight",c],["rearg",h]],y="[object Arguments]",b="[object Array]",_="[object Boolean]",x="[object Date]",k="[object Error]",w="[object Function]",S="[object GeneratorFunction]",T="[object Map]",E="[object Number]",C="[object Object]",A="[object Promise]",P="[object RegExp]",I="[object Set]",O="[object String]",M="[object Symbol]",R="[object WeakMap]",N="[object ArrayBuffer]",D="[object DataView]",B="[object Float32Array]",L="[object Float64Array]",j="[object Int8Array]",F="[object Int16Array]",U="[object Int32Array]",z="[object Uint8Array]",V="[object Uint8ClampedArray]",H="[object Uint16Array]",W="[object Uint32Array]",G=/\b__p \+= '';/g,q=/\b(__p \+=) '' \+/g,X=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Y=/&(?:amp|lt|gt|quot|#39);/g,Q=/[&<>"']/g,K=RegExp(Y.source),Z=RegExp(Q.source),$=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,ae=RegExp(ie.source),oe=/^\s+/,se=/\s/,ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,de=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,me=/^[-+]0x[0-9a-f]+$/i,ge=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,_e=/^(?:0|[1-9]\d*)$/,xe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ke=/($^)/,we=/['\n\r\u2028\u2029\\]/g,Se="\\ud800-\\udfff",Te="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ee="\\u2700-\\u27bf",Ce="a-z\\xdf-\\xf6\\xf8-\\xff",Ae="A-Z\\xc0-\\xd6\\xd8-\\xde",Pe="\\ufe0e\\ufe0f",Ie="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Oe="['\u2019]",Me="["+Se+"]",Re="["+Ie+"]",Ne="["+Te+"]",De="\\d+",Be="["+Ee+"]",Le="["+Ce+"]",je="[^"+Se+Ie+De+Ee+Ce+Ae+"]",Fe="\\ud83c[\\udffb-\\udfff]",Ue="[^"+Se+"]",ze="(?:\\ud83c[\\udde6-\\uddff]){2}",Ve="[\\ud800-\\udbff][\\udc00-\\udfff]",He="["+Ae+"]",We="\\u200d",Ge="(?:"+Le+"|"+je+")",qe="(?:"+He+"|"+je+")",Xe="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ye="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Qe="(?:"+Ne+"|"+Fe+")"+"?",Ke="["+Pe+"]?",Ze=Ke+Qe+("(?:"+We+"(?:"+[Ue,ze,Ve].join("|")+")"+Ke+Qe+")*"),$e="(?:"+[Be,ze,Ve].join("|")+")"+Ze,Je="(?:"+[Ue+Ne+"?",Ne,ze,Ve,Me].join("|")+")",et=RegExp(Oe,"g"),tt=RegExp(Ne,"g"),nt=RegExp(Fe+"(?="+Fe+")|"+Je+Ze,"g"),rt=RegExp([He+"?"+Le+"+"+Xe+"(?="+[Re,He,"$"].join("|")+")",qe+"+"+Ye+"(?="+[Re,He+Ge,"$"].join("|")+")",He+"?"+Ge+"+"+Xe,He+"+"+Ye,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",De,$e].join("|"),"g"),it=RegExp("["+We+Se+Te+Pe+"]"),at=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ot=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],st=-1,ut={};ut[B]=ut[L]=ut[j]=ut[F]=ut[U]=ut[z]=ut[V]=ut[H]=ut[W]=!0,ut[y]=ut[b]=ut[N]=ut[_]=ut[D]=ut[x]=ut[k]=ut[w]=ut[T]=ut[E]=ut[C]=ut[P]=ut[I]=ut[O]=ut[R]=!1;var lt={};lt[y]=lt[b]=lt[N]=lt[D]=lt[_]=lt[x]=lt[B]=lt[L]=lt[j]=lt[F]=lt[U]=lt[T]=lt[E]=lt[C]=lt[P]=lt[I]=lt[O]=lt[M]=lt[z]=lt[V]=lt[H]=lt[W]=!0,lt[k]=lt[w]=lt[R]=!1;var ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ft=parseFloat,ht=parseInt,dt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pt="object"==typeof self&&self&&self.Object===Object&&self,vt=dt||pt||Function("return this")(),mt=t&&!t.nodeType&&t,gt=mt&&e&&!e.nodeType&&e,yt=gt&&gt.exports===mt,bt=yt&&dt.process,_t=function(){try{var e=gt&&gt.require&&gt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(t){}}(),xt=_t&&_t.isArrayBuffer,kt=_t&&_t.isDate,wt=_t&&_t.isMap,St=_t&&_t.isRegExp,Tt=_t&&_t.isSet,Et=_t&&_t.isTypedArray;function Ct(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function At(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function Pt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function It(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Ot(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Mt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function Rt(e,t){return!!(null==e?0:e.length)&&Ht(e,t,0)>-1}function Nt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Dt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Bt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Lt(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function jt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Ft(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ut=Xt("length");function zt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Vt(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function Ht(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Vt(e,Gt,n)}function Wt(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function Gt(e){return e!==e}function qt(e,t){var n=null==e?0:e.length;return n?Kt(e,t)/n:v}function Xt(e){return function(t){return null==t?i:t[e]}}function Yt(e){return function(t){return null==e?i:e[t]}}function Qt(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}function Kt(e,t){for(var n,r=-1,a=e.length;++r<a;){var o=t(e[r]);o!==i&&(n=n===i?o:n+o)}return n}function Zt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function $t(e){return e?e.slice(0,mn(e)+1).replace(oe,""):e}function Jt(e){return function(t){return e(t)}}function en(e,t){return Dt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&Ht(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&Ht(t,e[n],0)>-1;);return n}var an=Yt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),on=Yt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(e){return"\\"+ct[e]}function un(e){return it.test(e)}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function fn(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n];o!==t&&o!==s||(e[n]=s,a[i++]=n)}return a}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return un(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Ut(e)}function vn(e){return un(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function mn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var gn=Yt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function e(t){var n=(t=null==t?vt:yn.defaults(vt.Object(),t,yn.pick(vt,ot))).Array,r=t.Date,se=t.Error,Se=t.Function,Te=t.Math,Ee=t.Object,Ce=t.RegExp,Ae=t.String,Pe=t.TypeError,Ie=n.prototype,Oe=Se.prototype,Me=Ee.prototype,Re=t["__core-js_shared__"],Ne=Oe.toString,De=Me.hasOwnProperty,Be=0,Le=function(){var e=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),je=Me.toString,Fe=Ne.call(Ee),Ue=vt._,ze=Ce("^"+Ne.call(De).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ve=yt?t.Buffer:i,He=t.Symbol,We=t.Uint8Array,Ge=Ve?Ve.allocUnsafe:i,qe=cn(Ee.getPrototypeOf,Ee),Xe=Ee.create,Ye=Me.propertyIsEnumerable,Qe=Ie.splice,Ke=He?He.isConcatSpreadable:i,Ze=He?He.iterator:i,$e=He?He.toStringTag:i,Je=function(){try{var e=fa(Ee,"defineProperty");return e({},"",{}),e}catch(t){}}(),nt=t.clearTimeout!==vt.clearTimeout&&t.clearTimeout,it=r&&r.now!==vt.Date.now&&r.now,ct=t.setTimeout!==vt.setTimeout&&t.setTimeout,dt=Te.ceil,pt=Te.floor,mt=Ee.getOwnPropertySymbols,gt=Ve?Ve.isBuffer:i,bt=t.isFinite,_t=Ie.join,Ut=cn(Ee.keys,Ee),Yt=Te.max,bn=Te.min,_n=r.now,xn=t.parseInt,kn=Te.random,wn=Ie.reverse,Sn=fa(t,"DataView"),Tn=fa(t,"Map"),En=fa(t,"Promise"),Cn=fa(t,"Set"),An=fa(t,"WeakMap"),Pn=fa(Ee,"create"),In=An&&new An,On={},Mn=La(Sn),Rn=La(Tn),Nn=La(En),Dn=La(Cn),Bn=La(An),Ln=He?He.prototype:i,jn=Ln?Ln.valueOf:i,Fn=Ln?Ln.toString:i;function Un(e){if(ts(e)&&!Wo(e)&&!(e instanceof Wn)){if(e instanceof Hn)return e;if(De.call(e,"__wrapped__"))return ja(e)}return new Hn(e)}var zn=function(){function e(){}return function(t){if(!es(t))return{};if(Xe)return Xe(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Vn(){}function Hn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Wn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Xn;++t<n;)this.add(e[t])}function Qn(e){var t=this.__data__=new qn(e);this.size=t.size}function Kn(e,t){var n=Wo(e),r=!n&&Ho(e),i=!n&&!r&&Yo(e),a=!n&&!r&&!i&&ls(e),o=n||r||i||a,s=o?Zt(e.length,Ae):[],u=s.length;for(var l in e)!t&&!De.call(e,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ya(l,u))||s.push(l);return s}function Zn(e){var t=e.length;return t?e[Yr(0,t-1)]:i}function $n(e,t){return Na(Pi(e),sr(t,0,e.length))}function Jn(e){return Na(Pi(e))}function er(e,t,n){(n!==i&&!Uo(e[t],n)||n===i&&!(t in e))&&ar(e,t,n)}function tr(e,t,n){var r=e[t];De.call(e,t)&&Uo(r,n)&&(n!==i||t in e)||ar(e,t,n)}function nr(e,t){for(var n=e.length;n--;)if(Uo(e[n][0],t))return n;return-1}function rr(e,t,n,r){return hr(e,(function(e,i,a){t(r,e,n(e),a)})),r}function ir(e,t){return e&&Ii(t,Os(t),e)}function ar(e,t,n){"__proto__"==t&&Je?Je(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function or(e,t){for(var r=-1,a=t.length,o=n(a),s=null==e;++r<a;)o[r]=s?i:Es(e,t[r]);return o}function sr(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function ur(e,t,n,r,a,o){var s,u=1&t,l=2&t,c=4&t;if(n&&(s=a?n(e,r,a,o):n(e)),s!==i)return s;if(!es(e))return e;var f=Wo(e);if(f){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&De.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!u)return Pi(e,s)}else{var h=pa(e),d=h==w||h==S;if(Yo(e))return wi(e,u);if(h==C||h==y||d&&!a){if(s=l||d?{}:ma(e),!u)return l?function(e,t){return Ii(e,da(e),t)}(e,function(e,t){return e&&Ii(t,Ms(t),e)}(s,e)):function(e,t){return Ii(e,ha(e),t)}(e,ir(s,e))}else{if(!lt[h])return a?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case N:return Si(e);case _:case x:return new r(+e);case D:return function(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case B:case L:case j:case F:case U:case z:case V:case H:case W:return Ti(e,n);case T:return new r;case E:case O:return new r(e);case P:return function(e){var t=new e.constructor(e.source,ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case I:return new r;case M:return i=e,jn?Ee(jn.call(i)):{}}var i}(e,h,u)}}o||(o=new Qn);var p=o.get(e);if(p)return p;o.set(e,s),os(e)?e.forEach((function(r){s.add(ur(r,t,n,r,e,o))})):ns(e)&&e.forEach((function(r,i){s.set(i,ur(r,t,n,i,e,o))}));var v=f?i:(c?l?ia:ra:l?Ms:Os)(e);return Pt(v||e,(function(r,i){v&&(r=e[i=r]),tr(s,i,ur(r,t,n,i,e,o))})),s}function lr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ee(e);r--;){var a=n[r],o=t[a],s=e[a];if(s===i&&!(a in e)||!o(s))return!1}return!0}function cr(e,t,n){if("function"!=typeof e)throw new Pe(a);return Ia((function(){e.apply(i,n)}),t)}function fr(e,t,n,r){var i=-1,a=Rt,o=!0,s=e.length,u=[],l=t.length;if(!s)return u;n&&(t=Dt(t,Jt(n))),r?(a=Nt,o=!1):t.length>=200&&(a=tn,o=!1,t=new Yn(t));e:for(;++i<s;){var c=e[i],f=null==n?c:n(c);if(c=r||0!==c?c:0,o&&f===f){for(var h=l;h--;)if(t[h]===f)continue e;u.push(c)}else a(t,f,r)||u.push(c)}return u}Un.templateSettings={escape:$,evaluate:J,interpolate:ee,variable:"",imports:{_:Un}},Un.prototype=Vn.prototype,Un.prototype.constructor=Un,Hn.prototype=zn(Vn.prototype),Hn.prototype.constructor=Hn,Wn.prototype=zn(Vn.prototype),Wn.prototype.constructor=Wn,Gn.prototype.clear=function(){this.__data__=Pn?Pn(null):{},this.size=0},Gn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Gn.prototype.get=function(e){var t=this.__data__;if(Pn){var n=t[e];return n===o?i:n}return De.call(t,e)?t[e]:i},Gn.prototype.has=function(e){var t=this.__data__;return Pn?t[e]!==i:De.call(t,e)},Gn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Pn&&t===i?o:t,this},qn.prototype.clear=function(){this.__data__=[],this.size=0},qn.prototype.delete=function(e){var t=this.__data__,n=nr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Qe.call(t,n,1),--this.size,!0)},qn.prototype.get=function(e){var t=this.__data__,n=nr(t,e);return n<0?i:t[n][1]},qn.prototype.has=function(e){return nr(this.__data__,e)>-1},qn.prototype.set=function(e,t){var n=this.__data__,r=nr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Xn.prototype.clear=function(){this.size=0,this.__data__={hash:new Gn,map:new(Tn||qn),string:new Gn}},Xn.prototype.delete=function(e){var t=la(this,e).delete(e);return this.size-=t?1:0,t},Xn.prototype.get=function(e){return la(this,e).get(e)},Xn.prototype.has=function(e){return la(this,e).has(e)},Xn.prototype.set=function(e,t){var n=la(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Yn.prototype.add=Yn.prototype.push=function(e){return this.__data__.set(e,o),this},Yn.prototype.has=function(e){return this.__data__.has(e)},Qn.prototype.clear=function(){this.__data__=new qn,this.size=0},Qn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Qn.prototype.get=function(e){return this.__data__.get(e)},Qn.prototype.has=function(e){return this.__data__.has(e)},Qn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof qn){var r=n.__data__;if(!Tn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Xn(r)}return n.set(e,t),this.size=n.size,this};var hr=Ri(_r),dr=Ri(xr,!0);function pr(e,t){var n=!0;return hr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function vr(e,t,n){for(var r=-1,a=e.length;++r<a;){var o=e[r],s=t(o);if(null!=s&&(u===i?s===s&&!us(s):n(s,u)))var u=s,l=o}return l}function mr(e,t){var n=[];return hr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function gr(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=ga),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?gr(s,t-1,n,r,i):Bt(i,s):r||(i[i.length]=s)}return i}var yr=Ni(),br=Ni(!0);function _r(e,t){return e&&yr(e,t,Os)}function xr(e,t){return e&&br(e,t,Os)}function kr(e,t){return Mt(t,(function(t){return Zo(e[t])}))}function wr(e,t){for(var n=0,r=(t=bi(t,e)).length;null!=e&&n<r;)e=e[Ba(t[n++])];return n&&n==r?e:i}function Sr(e,t,n){var r=t(e);return Wo(e)?r:Bt(r,n(e))}function Tr(e){return null==e?e===i?"[object Undefined]":"[object Null]":$e&&$e in Ee(e)?function(e){var t=De.call(e,$e),n=e[$e];try{e[$e]=i;var r=!0}catch(o){}var a=je.call(e);r&&(t?e[$e]=n:delete e[$e]);return a}(e):function(e){return je.call(e)}(e)}function Er(e,t){return e>t}function Cr(e,t){return null!=e&&De.call(e,t)}function Ar(e,t){return null!=e&&t in Ee(e)}function Pr(e,t,r){for(var a=r?Nt:Rt,o=e[0].length,s=e.length,u=s,l=n(s),c=1/0,f=[];u--;){var h=e[u];u&&t&&(h=Dt(h,Jt(t))),c=bn(h.length,c),l[u]=!r&&(t||o>=120&&h.length>=120)?new Yn(u&&h):i}h=e[0];var d=-1,p=l[0];e:for(;++d<o&&f.length<c;){var v=h[d],m=t?t(v):v;if(v=r||0!==v?v:0,!(p?tn(p,m):a(f,m,r))){for(u=s;--u;){var g=l[u];if(!(g?tn(g,m):a(e[u],m,r)))continue e}p&&p.push(m),f.push(v)}}return f}function Ir(e,t,n){var r=null==(e=Ca(e,t=bi(t,e)))?e:e[Ba(Qa(t))];return null==r?i:Ct(r,e,n)}function Or(e){return ts(e)&&Tr(e)==y}function Mr(e,t,n,r,a){return e===t||(null==e||null==t||!ts(e)&&!ts(t)?e!==e&&t!==t:function(e,t,n,r,a,o){var s=Wo(e),u=Wo(t),l=s?b:pa(e),c=u?b:pa(t),f=(l=l==y?C:l)==C,h=(c=c==y?C:c)==C,d=l==c;if(d&&Yo(e)){if(!Yo(t))return!1;s=!0,f=!1}if(d&&!f)return o||(o=new Qn),s||ls(e)?ta(e,t,n,r,a,o):function(e,t,n,r,i,a,o){switch(n){case D:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case N:return!(e.byteLength!=t.byteLength||!a(new We(e),new We(t)));case _:case x:case E:return Uo(+e,+t);case k:return e.name==t.name&&e.message==t.message;case P:case O:return e==t+"";case T:var s=ln;case I:var u=1&r;if(s||(s=hn),e.size!=t.size&&!u)return!1;var l=o.get(e);if(l)return l==t;r|=2,o.set(e,t);var c=ta(s(e),s(t),r,i,a,o);return o.delete(e),c;case M:if(jn)return jn.call(e)==jn.call(t)}return!1}(e,t,l,n,r,a,o);if(!(1&n)){var p=f&&De.call(e,"__wrapped__"),v=h&&De.call(t,"__wrapped__");if(p||v){var m=p?e.value():e,g=v?t.value():t;return o||(o=new Qn),a(m,g,n,r,o)}}if(!d)return!1;return o||(o=new Qn),function(e,t,n,r,a,o){var s=1&n,u=ra(e),l=u.length,c=ra(t),f=c.length;if(l!=f&&!s)return!1;var h=l;for(;h--;){var d=u[h];if(!(s?d in t:De.call(t,d)))return!1}var p=o.get(e),v=o.get(t);if(p&&v)return p==t&&v==e;var m=!0;o.set(e,t),o.set(t,e);var g=s;for(;++h<l;){var y=e[d=u[h]],b=t[d];if(r)var _=s?r(b,y,d,t,e,o):r(y,b,d,e,t,o);if(!(_===i?y===b||a(y,b,n,r,o):_)){m=!1;break}g||(g="constructor"==d)}if(m&&!g){var x=e.constructor,k=t.constructor;x==k||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof k&&k instanceof k||(m=!1)}return o.delete(e),o.delete(t),m}(e,t,n,r,a,o)}(e,t,n,r,Mr,a))}function Rr(e,t,n,r){var a=n.length,o=a,s=!r;if(null==e)return!o;for(e=Ee(e);a--;){var u=n[a];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<o;){var l=(u=n[a])[0],c=e[l],f=u[1];if(s&&u[2]){if(c===i&&!(l in e))return!1}else{var h=new Qn;if(r)var d=r(c,f,l,e,t,h);if(!(d===i?Mr(f,c,3,r,h):d))return!1}}return!0}function Nr(e){return!(!es(e)||(t=e,Le&&Le in t))&&(Zo(e)?ze:ye).test(La(e));var t}function Dr(e){return"function"==typeof e?e:null==e?ru:"object"==typeof e?Wo(e)?zr(e[0],e[1]):Ur(e):hu(e)}function Br(e){if(!wa(e))return Ut(e);var t=[];for(var n in Ee(e))De.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Lr(e){if(!es(e))return function(e){var t=[];if(null!=e)for(var n in Ee(e))t.push(n);return t}(e);var t=wa(e),n=[];for(var r in e)("constructor"!=r||!t&&De.call(e,r))&&n.push(r);return n}function jr(e,t){return e<t}function Fr(e,t){var r=-1,i=qo(e)?n(e.length):[];return hr(e,(function(e,n,a){i[++r]=t(e,n,a)})),i}function Ur(e){var t=ca(e);return 1==t.length&&t[0][2]?Ta(t[0][0],t[0][1]):function(n){return n===e||Rr(n,e,t)}}function zr(e,t){return _a(e)&&Sa(t)?Ta(Ba(e),t):function(n){var r=Es(n,e);return r===i&&r===t?Cs(n,e):Mr(t,r,3)}}function Vr(e,t,n,r,a){e!==t&&yr(t,(function(o,s){if(a||(a=new Qn),es(o))!function(e,t,n,r,a,o,s){var u=Aa(e,n),l=Aa(t,n),c=s.get(l);if(c)return void er(e,n,c);var f=o?o(u,l,n+"",e,t,s):i,h=f===i;if(h){var d=Wo(l),p=!d&&Yo(l),v=!d&&!p&&ls(l);f=l,d||p||v?Wo(u)?f=u:Xo(u)?f=Pi(u):p?(h=!1,f=wi(l,!0)):v?(h=!1,f=Ti(l,!0)):f=[]:is(l)||Ho(l)?(f=u,Ho(u)?f=gs(u):es(u)&&!Zo(u)||(f=ma(l))):h=!1}h&&(s.set(l,f),a(f,l,r,o,s),s.delete(l));er(e,n,f)}(e,t,s,n,Vr,r,a);else{var u=r?r(Aa(e,s),o,s+"",e,t,a):i;u===i&&(u=o),er(e,s,u)}}),Ms)}function Hr(e,t){var n=e.length;if(n)return ya(t+=t<0?n:0,n)?e[t]:i}function Wr(e,t,n){t=t.length?Dt(t,(function(e){return Wo(e)?function(t){return wr(t,1===e.length?e[0]:e)}:e})):[ru];var r=-1;t=Dt(t,Jt(ua()));var i=Fr(e,(function(e,n,i){var a=Dt(t,(function(t){return t(e)}));return{criteria:a,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;for(;++r<o;){var u=Ei(i[r],a[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Gr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=wr(e,o);n(s,o)&&Jr(a,bi(o,e),s)}return a}function qr(e,t,n,r){var i=r?Wt:Ht,a=-1,o=t.length,s=e;for(e===t&&(t=Pi(t)),n&&(s=Dt(e,Jt(n)));++a<o;)for(var u=0,l=t[a],c=n?n(l):l;(u=i(s,c,u,r))>-1;)s!==e&&Qe.call(s,u,1),Qe.call(e,u,1);return e}function Xr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;ya(i)?Qe.call(e,i,1):fi(e,i)}}return e}function Yr(e,t){return e+pt(kn()*(t-e+1))}function Qr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=pt(t/2))&&(e+=e)}while(t);return n}function Kr(e,t){return Oa(Ea(e,t,ru),e+"")}function Zr(e){return Zn(Us(e))}function $r(e,t){var n=Us(e);return Na(n,sr(t,0,n.length))}function Jr(e,t,n,r){if(!es(e))return e;for(var a=-1,o=(t=bi(t,e)).length,s=o-1,u=e;null!=u&&++a<o;){var l=Ba(t[a]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(a!=s){var f=u[l];(c=r?r(f,l,u):i)===i&&(c=es(f)?f:ya(t[a+1])?[]:{})}tr(u,l,c),u=u[l]}return e}var ei=In?function(e,t){return In.set(e,t),e}:ru,ti=Je?function(e,t){return Je(e,"toString",{configurable:!0,enumerable:!1,value:eu(t),writable:!0})}:ru;function ni(e){return Na(Us(e))}function ri(e,t,r){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=n(a);++i<a;)o[i]=e[i+t];return o}function ii(e,t){var n;return hr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ai(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!us(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return oi(e,t,ru,n)}function oi(e,t,n,r){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=n(t))!==t,u=null===t,l=us(t),c=t===i;a<o;){var f=pt((a+o)/2),h=n(e[f]),d=h!==i,p=null===h,v=h===h,m=us(h);if(s)var g=r||v;else g=c?v&&(r||d):u?v&&d&&(r||!p):l?v&&d&&!p&&(r||!m):!p&&!m&&(r?h<=t:h<t);g?a=f+1:o=f}return bn(o,4294967294)}function si(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],s=t?t(o):o;if(!n||!Uo(s,u)){var u=s;a[i++]=0===o?0:o}}return a}function ui(e){return"number"==typeof e?e:us(e)?v:+e}function li(e){if("string"==typeof e)return e;if(Wo(e))return Dt(e,li)+"";if(us(e))return Fn?Fn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ci(e,t,n){var r=-1,i=Rt,a=e.length,o=!0,s=[],u=s;if(n)o=!1,i=Nt;else if(a>=200){var l=t?null:Qi(e);if(l)return hn(l);o=!1,i=tn,u=new Yn}else u=t?[]:s;e:for(;++r<a;){var c=e[r],f=t?t(c):c;if(c=n||0!==c?c:0,o&&f===f){for(var h=u.length;h--;)if(u[h]===f)continue e;t&&u.push(f),s.push(c)}else i(u,f,n)||(u!==s&&u.push(f),s.push(c))}return s}function fi(e,t){return null==(e=Ca(e,t=bi(t,e)))||delete e[Ba(Qa(t))]}function hi(e,t,n,r){return Jr(e,t,n(wr(e,t)),r)}function di(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?ri(e,r?0:a,r?a+1:i):ri(e,r?a+1:0,r?i:a)}function pi(e,t){var n=e;return n instanceof Wn&&(n=n.value()),Lt(t,(function(e,t){return t.func.apply(t.thisArg,Bt([e],t.args))}),n)}function vi(e,t,r){var i=e.length;if(i<2)return i?ci(e[0]):[];for(var a=-1,o=n(i);++a<i;)for(var s=e[a],u=-1;++u<i;)u!=a&&(o[a]=fr(o[a]||s,e[u],t,r));return ci(gr(o,1),t,r)}function mi(e,t,n){for(var r=-1,a=e.length,o=t.length,s={};++r<a;){var u=r<o?t[r]:i;n(s,e[r],u)}return s}function gi(e){return Xo(e)?e:[]}function yi(e){return"function"==typeof e?e:ru}function bi(e,t){return Wo(e)?e:_a(e,t)?[e]:Da(ys(e))}var _i=Kr;function xi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ri(e,t,n)}var ki=nt||function(e){return vt.clearTimeout(e)};function wi(e,t){if(t)return e.slice();var n=e.length,r=Ge?Ge(n):new e.constructor(n);return e.copy(r),r}function Si(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function Ti(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ei(e,t){if(e!==t){var n=e!==i,r=null===e,a=e===e,o=us(e),s=t!==i,u=null===t,l=t===t,c=us(t);if(!u&&!c&&!o&&e>t||o&&s&&l&&!u&&!c||r&&s&&l||!n&&l||!a)return 1;if(!r&&!o&&!c&&e<t||c&&n&&a&&!r&&!o||u&&n&&a||!s&&a||!l)return-1}return 0}function Ci(e,t,r,i){for(var a=-1,o=e.length,s=r.length,u=-1,l=t.length,c=Yt(o-s,0),f=n(l+c),h=!i;++u<l;)f[u]=t[u];for(;++a<s;)(h||a<o)&&(f[r[a]]=e[a]);for(;c--;)f[u++]=e[a++];return f}function Ai(e,t,r,i){for(var a=-1,o=e.length,s=-1,u=r.length,l=-1,c=t.length,f=Yt(o-u,0),h=n(f+c),d=!i;++a<f;)h[a]=e[a];for(var p=a;++l<c;)h[p+l]=t[l];for(;++s<u;)(d||a<o)&&(h[p+r[s]]=e[a++]);return h}function Pi(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Ii(e,t,n,r){var a=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var u=t[o],l=r?r(n[u],e[u],u,n,e):i;l===i&&(l=e[u]),a?ar(n,u,l):tr(n,u,l)}return n}function Oi(e,t){return function(n,r){var i=Wo(n)?At:rr,a=t?t():{};return i(n,e,ua(r,2),a)}}function Mi(e){return Kr((function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:i,s=a>2?n[2]:i;for(o=e.length>3&&"function"==typeof o?(a--,o):i,s&&ba(n[0],n[1],s)&&(o=a<3?i:o,a=1),t=Ee(t);++r<a;){var u=n[r];u&&e(t,u,r,o)}return t}))}function Ri(e,t){return function(n,r){if(null==n)return n;if(!qo(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Ee(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function Ni(e){return function(t,n,r){for(var i=-1,a=Ee(t),o=r(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===n(a[u],u,a))break}return t}}function Di(e){return function(t){var n=un(t=ys(t))?vn(t):i,r=n?n[0]:t.charAt(0),a=n?xi(n,1).join(""):t.slice(1);return r[e]()+a}}function Bi(e){return function(t){return Lt(Zs(Hs(t).replace(et,"")),e,"")}}function Li(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=zn(e.prototype),r=e.apply(n,t);return es(r)?r:n}}function ji(e){return function(t,n,r){var a=Ee(t);if(!qo(t)){var o=ua(n,3);t=Os(t),n=function(e){return o(a[e],e,a)}}var s=e(t,n,r);return s>-1?a[o?t[s]:s]:i}}function Fi(e){return na((function(t){var n=t.length,r=n,o=Hn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Pe(a);if(o&&!u&&"wrapper"==oa(s))var u=new Hn([],!0)}for(r=u?r:n;++r<n;){var l=oa(s=t[r]),c="wrapper"==l?aa(s):i;u=c&&xa(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[oa(c[0])].apply(u,c[3]):1==s.length&&xa(s)?u[l]():u.thru(s)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&Wo(r))return u.plant(r).value();for(var i=0,a=n?t[i].apply(this,e):r;++i<n;)a=t[i].call(this,a);return a}}))}function Ui(e,t,r,a,o,s,u,l,c,h){var d=t&f,p=1&t,v=2&t,m=24&t,g=512&t,y=v?i:Li(e);return function f(){for(var b=arguments.length,_=n(b),x=b;x--;)_[x]=arguments[x];if(m)var k=sa(f),w=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(_,k);if(a&&(_=Ci(_,a,o,m)),s&&(_=Ai(_,s,u,m)),b-=w,m&&b<h){var S=fn(_,k);return Xi(e,t,Ui,f.placeholder,r,_,S,l,c,h-b)}var T=p?r:this,E=v?T[e]:e;return b=_.length,l?_=function(e,t){var n=e.length,r=bn(t.length,n),a=Pi(e);for(;r--;){var o=t[r];e[r]=ya(o,n)?a[o]:i}return e}(_,l):g&&b>1&&_.reverse(),d&&c<b&&(_.length=c),this&&this!==vt&&this instanceof f&&(E=y||Li(E)),E.apply(T,_)}}function zi(e,t){return function(n,r){return function(e,t,n,r){return _r(e,(function(e,i,a){t(r,n(e),i,a)})),r}(n,e,t(r),{})}}function Vi(e,t){return function(n,r){var a;if(n===i&&r===i)return t;if(n!==i&&(a=n),r!==i){if(a===i)return r;"string"==typeof n||"string"==typeof r?(n=li(n),r=li(r)):(n=ui(n),r=ui(r)),a=e(n,r)}return a}}function Hi(e){return na((function(t){return t=Dt(t,Jt(ua())),Kr((function(n){var r=this;return e(t,(function(e){return Ct(e,r,n)}))}))}))}function Wi(e,t){var n=(t=t===i?" ":li(t)).length;if(n<2)return n?Qr(t,e):t;var r=Qr(t,dt(e/pn(t)));return un(t)?xi(vn(r),0,e).join(""):r.slice(0,e)}function Gi(e){return function(t,r,a){return a&&"number"!=typeof a&&ba(t,r,a)&&(r=a=i),t=ds(t),r===i?(r=t,t=0):r=ds(r),function(e,t,r,i){for(var a=-1,o=Yt(dt((t-e)/(r||1)),0),s=n(o);o--;)s[i?o:++a]=e,e+=r;return s}(t,r,a=a===i?t<r?1:-1:ds(a),e)}}function qi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ms(t),n=ms(n)),e(t,n)}}function Xi(e,t,n,r,a,o,s,u,f,h){var d=8&t;t|=d?l:c,4&(t&=~(d?c:l))||(t&=-4);var p=[e,t,a,d?o:i,d?s:i,d?i:o,d?i:s,u,f,h],v=n.apply(i,p);return xa(e)&&Pa(v,p),v.placeholder=r,Ma(v,e,t)}function Yi(e){var t=Te[e];return function(e,n){if(e=ms(e),(n=null==n?0:bn(ps(n),292))&&bt(e)){var r=(ys(e)+"e").split("e");return+((r=(ys(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Qi=Cn&&1/hn(new Cn([,-0]))[1]==d?function(e){return new Cn(e)}:uu;function Ki(e){return function(t){var n=pa(t);return n==T?ln(t):n==I?dn(t):function(e,t){return Dt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Zi(e,t,r,o,d,p,v,m){var g=2&t;if(!g&&"function"!=typeof e)throw new Pe(a);var y=o?o.length:0;if(y||(t&=-97,o=d=i),v=v===i?v:Yt(ps(v),0),m=m===i?m:ps(m),y-=d?d.length:0,t&c){var b=o,_=d;o=d=i}var x=g?i:aa(e),k=[e,t,r,o,d,b,_,p,v,m];if(x&&function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,o=r==f&&8==n||r==f&&n==h&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!o)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var l=e[3];e[3]=l?Ci(l,u,t[4]):u,e[4]=l?fn(e[3],s):t[4]}(u=t[5])&&(l=e[5],e[5]=l?Ai(l,u,t[6]):u,e[6]=l?fn(e[5],s):t[6]);(u=t[7])&&(e[7]=u);r&f&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(k,x),e=k[0],t=k[1],r=k[2],o=k[3],d=k[4],!(m=k[9]=k[9]===i?g?0:e.length:Yt(k[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)w=8==t||t==u?function(e,t,r){var a=Li(e);return function o(){for(var s=arguments.length,u=n(s),l=s,c=sa(o);l--;)u[l]=arguments[l];var f=s<3&&u[0]!==c&&u[s-1]!==c?[]:fn(u,c);return(s-=f.length)<r?Xi(e,t,Ui,o.placeholder,i,u,f,i,i,r-s):Ct(this&&this!==vt&&this instanceof o?a:e,this,u)}}(e,t,m):t!=l&&33!=t||d.length?Ui.apply(i,k):function(e,t,r,i){var a=1&t,o=Li(e);return function t(){for(var s=-1,u=arguments.length,l=-1,c=i.length,f=n(c+u),h=this&&this!==vt&&this instanceof t?o:e;++l<c;)f[l]=i[l];for(;u--;)f[l++]=arguments[++s];return Ct(h,a?r:this,f)}}(e,t,r,o);else var w=function(e,t,n){var r=1&t,i=Li(e);return function t(){return(this&&this!==vt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return Ma((x?ei:Pa)(w,k),e,t)}function $i(e,t,n,r){return e===i||Uo(e,Me[n])&&!De.call(r,n)?t:e}function Ji(e,t,n,r,a,o){return es(e)&&es(t)&&(o.set(t,e),Vr(e,t,i,Ji,o),o.delete(t)),e}function ea(e){return is(e)?i:e}function ta(e,t,n,r,a,o){var s=1&n,u=e.length,l=t.length;if(u!=l&&!(s&&l>u))return!1;var c=o.get(e),f=o.get(t);if(c&&f)return c==t&&f==e;var h=-1,d=!0,p=2&n?new Yn:i;for(o.set(e,t),o.set(t,e);++h<u;){var v=e[h],m=t[h];if(r)var g=s?r(m,v,h,t,e,o):r(v,m,h,e,t,o);if(g!==i){if(g)continue;d=!1;break}if(p){if(!Ft(t,(function(e,t){if(!tn(p,t)&&(v===e||a(v,e,n,r,o)))return p.push(t)}))){d=!1;break}}else if(v!==m&&!a(v,m,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function na(e){return Oa(Ea(e,i,Wa),e+"")}function ra(e){return Sr(e,Os,ha)}function ia(e){return Sr(e,Ms,da)}var aa=In?function(e){return In.get(e)}:uu;function oa(e){for(var t=e.name+"",n=On[t],r=De.call(On,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function sa(e){return(De.call(Un,"placeholder")?Un:e).placeholder}function ua(){var e=Un.iteratee||iu;return e=e===iu?Dr:e,arguments.length?e(arguments[0],arguments[1]):e}function la(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function ca(e){for(var t=Os(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Sa(i)]}return t}function fa(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Nr(n)?n:i}var ha=mt?function(e){return null==e?[]:(e=Ee(e),Mt(mt(e),(function(t){return Ye.call(e,t)})))}:vu,da=mt?function(e){for(var t=[];e;)Bt(t,ha(e)),e=qe(e);return t}:vu,pa=Tr;function va(e,t,n){for(var r=-1,i=(t=bi(t,e)).length,a=!1;++r<i;){var o=Ba(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&Jo(i)&&ya(o,i)&&(Wo(e)||Ho(e))}function ma(e){return"function"!=typeof e.constructor||wa(e)?{}:zn(qe(e))}function ga(e){return Wo(e)||Ho(e)||!!(Ke&&e&&e[Ke])}function ya(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&_e.test(e))&&e>-1&&e%1==0&&e<t}function ba(e,t,n){if(!es(n))return!1;var r=typeof t;return!!("number"==r?qo(n)&&ya(t,n.length):"string"==r&&t in n)&&Uo(n[t],e)}function _a(e,t){if(Wo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!us(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Ee(t))}function xa(e){var t=oa(e),n=Un[t];if("function"!=typeof n||!(t in Wn.prototype))return!1;if(e===n)return!0;var r=aa(n);return!!r&&e===r[0]}(Sn&&pa(new Sn(new ArrayBuffer(1)))!=D||Tn&&pa(new Tn)!=T||En&&pa(En.resolve())!=A||Cn&&pa(new Cn)!=I||An&&pa(new An)!=R)&&(pa=function(e){var t=Tr(e),n=t==C?e.constructor:i,r=n?La(n):"";if(r)switch(r){case Mn:return D;case Rn:return T;case Nn:return A;case Dn:return I;case Bn:return R}return t});var ka=Re?Zo:mu;function wa(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Me)}function Sa(e){return e===e&&!es(e)}function Ta(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Ee(n)))}}function Ea(e,t,r){return t=Yt(t===i?e.length-1:t,0),function(){for(var i=arguments,a=-1,o=Yt(i.length-t,0),s=n(o);++a<o;)s[a]=i[t+a];a=-1;for(var u=n(t+1);++a<t;)u[a]=i[a];return u[t]=r(s),Ct(e,this,u)}}function Ca(e,t){return t.length<2?e:wr(e,ri(t,0,-1))}function Aa(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Pa=Ra(ei),Ia=ct||function(e,t){return vt.setTimeout(e,t)},Oa=Ra(ti);function Ma(e,t,n){var r=t+"";return Oa(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ue,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Pt(g,(function(n){var r="_."+n[0];t&n[1]&&!Rt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(ce):[]}(r),n)))}function Ra(e){var t=0,n=0;return function(){var r=_n(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Na(e,t){var n=-1,r=e.length,a=r-1;for(t=t===i?r:t;++n<t;){var o=Yr(n,a),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}var Da=function(e){var t=No(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(de,"$1"):n||e)})),t}));function Ba(e){if("string"==typeof e||us(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function La(e){if(null!=e){try{return Ne.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function ja(e){if(e instanceof Wn)return e.clone();var t=new Hn(e.__wrapped__,e.__chain__);return t.__actions__=Pi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Fa=Kr((function(e,t){return Xo(e)?fr(e,gr(t,1,Xo,!0)):[]})),Ua=Kr((function(e,t){var n=Qa(t);return Xo(n)&&(n=i),Xo(e)?fr(e,gr(t,1,Xo,!0),ua(n,2)):[]})),za=Kr((function(e,t){var n=Qa(t);return Xo(n)&&(n=i),Xo(e)?fr(e,gr(t,1,Xo,!0),i,n):[]}));function Va(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ps(n);return i<0&&(i=Yt(r+i,0)),Vt(e,ua(t,3),i)}function Ha(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r-1;return n!==i&&(a=ps(n),a=n<0?Yt(r+a,0):bn(a,r-1)),Vt(e,ua(t,3),a,!0)}function Wa(e){return(null==e?0:e.length)?gr(e,1):[]}function Ga(e){return e&&e.length?e[0]:i}var qa=Kr((function(e){var t=Dt(e,gi);return t.length&&t[0]===e[0]?Pr(t):[]})),Xa=Kr((function(e){var t=Qa(e),n=Dt(e,gi);return t===Qa(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Pr(n,ua(t,2)):[]})),Ya=Kr((function(e){var t=Qa(e),n=Dt(e,gi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Pr(n,i,t):[]}));function Qa(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Ka=Kr(Za);function Za(e,t){return e&&e.length&&t&&t.length?qr(e,t):e}var $a=na((function(e,t){var n=null==e?0:e.length,r=or(e,t);return Xr(e,Dt(t,(function(e){return ya(e,n)?+e:e})).sort(Ei)),r}));function Ja(e){return null==e?e:wn.call(e)}var eo=Kr((function(e){return ci(gr(e,1,Xo,!0))})),to=Kr((function(e){var t=Qa(e);return Xo(t)&&(t=i),ci(gr(e,1,Xo,!0),ua(t,2))})),no=Kr((function(e){var t=Qa(e);return t="function"==typeof t?t:i,ci(gr(e,1,Xo,!0),i,t)}));function ro(e){if(!e||!e.length)return[];var t=0;return e=Mt(e,(function(e){if(Xo(e))return t=Yt(e.length,t),!0})),Zt(t,(function(t){return Dt(e,Xt(t))}))}function io(e,t){if(!e||!e.length)return[];var n=ro(e);return null==t?n:Dt(n,(function(e){return Ct(t,i,e)}))}var ao=Kr((function(e,t){return Xo(e)?fr(e,t):[]})),oo=Kr((function(e){return vi(Mt(e,Xo))})),so=Kr((function(e){var t=Qa(e);return Xo(t)&&(t=i),vi(Mt(e,Xo),ua(t,2))})),uo=Kr((function(e){var t=Qa(e);return t="function"==typeof t?t:i,vi(Mt(e,Xo),i,t)})),lo=Kr(ro);var co=Kr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,io(e,n)}));function fo(e){var t=Un(e);return t.__chain__=!0,t}function ho(e,t){return t(e)}var po=na((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,a=function(t){return or(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Wn&&ya(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ho,args:[a],thisArg:i}),new Hn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(a)}));var vo=Oi((function(e,t,n){De.call(e,n)?++e[n]:ar(e,n,1)}));var mo=ji(Va),go=ji(Ha);function yo(e,t){return(Wo(e)?Pt:hr)(e,ua(t,3))}function bo(e,t){return(Wo(e)?It:dr)(e,ua(t,3))}var _o=Oi((function(e,t,n){De.call(e,n)?e[n].push(t):ar(e,n,[t])}));var xo=Kr((function(e,t,r){var i=-1,a="function"==typeof t,o=qo(e)?n(e.length):[];return hr(e,(function(e){o[++i]=a?Ct(t,e,r):Ir(e,t,r)})),o})),ko=Oi((function(e,t,n){ar(e,n,t)}));function wo(e,t){return(Wo(e)?Dt:Fr)(e,ua(t,3))}var So=Oi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var To=Kr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&ba(e,t[0],t[1])?t=[]:n>2&&ba(t[0],t[1],t[2])&&(t=[t[0]]),Wr(e,gr(t,1),[])})),Eo=it||function(){return vt.Date.now()};function Co(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Zi(e,f,i,i,i,i,t)}function Ao(e,t){var n;if("function"!=typeof t)throw new Pe(a);return e=ps(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Po=Kr((function(e,t,n){var r=1;if(n.length){var i=fn(n,sa(Po));r|=l}return Zi(e,r,t,n,i)})),Io=Kr((function(e,t,n){var r=3;if(n.length){var i=fn(n,sa(Io));r|=l}return Zi(t,r,e,n,i)}));function Oo(e,t,n){var r,o,s,u,l,c,f=0,h=!1,d=!1,p=!0;if("function"!=typeof e)throw new Pe(a);function v(t){var n=r,a=o;return r=o=i,f=t,u=e.apply(a,n)}function m(e){var n=e-c;return c===i||n>=t||n<0||d&&e-f>=s}function g(){var e=Eo();if(m(e))return y(e);l=Ia(g,function(e){var n=t-(e-c);return d?bn(n,s-(e-f)):n}(e))}function y(e){return l=i,p&&r?v(e):(r=o=i,u)}function b(){var e=Eo(),n=m(e);if(r=arguments,o=this,c=e,n){if(l===i)return function(e){return f=e,l=Ia(g,t),h?v(e):u}(c);if(d)return ki(l),l=Ia(g,t),v(c)}return l===i&&(l=Ia(g,t)),u}return t=ms(t)||0,es(n)&&(h=!!n.leading,s=(d="maxWait"in n)?Yt(ms(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),b.cancel=function(){l!==i&&ki(l),f=0,r=c=o=l=i},b.flush=function(){return l===i?u:y(Eo())},b}var Mo=Kr((function(e,t){return cr(e,1,t)})),Ro=Kr((function(e,t,n){return cr(e,ms(t)||0,n)}));function No(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Pe(a);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(No.Cache||Xn),n}function Do(e){if("function"!=typeof e)throw new Pe(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}No.Cache=Xn;var Bo=_i((function(e,t){var n=(t=1==t.length&&Wo(t[0])?Dt(t[0],Jt(ua())):Dt(gr(t,1),Jt(ua()))).length;return Kr((function(r){for(var i=-1,a=bn(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return Ct(e,this,r)}))})),Lo=Kr((function(e,t){var n=fn(t,sa(Lo));return Zi(e,l,i,t,n)})),jo=Kr((function(e,t){var n=fn(t,sa(jo));return Zi(e,c,i,t,n)})),Fo=na((function(e,t){return Zi(e,h,i,i,i,t)}));function Uo(e,t){return e===t||e!==e&&t!==t}var zo=qi(Er),Vo=qi((function(e,t){return e>=t})),Ho=Or(function(){return arguments}())?Or:function(e){return ts(e)&&De.call(e,"callee")&&!Ye.call(e,"callee")},Wo=n.isArray,Go=xt?Jt(xt):function(e){return ts(e)&&Tr(e)==N};function qo(e){return null!=e&&Jo(e.length)&&!Zo(e)}function Xo(e){return ts(e)&&qo(e)}var Yo=gt||mu,Qo=kt?Jt(kt):function(e){return ts(e)&&Tr(e)==x};function Ko(e){if(!ts(e))return!1;var t=Tr(e);return t==k||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!is(e)}function Zo(e){if(!es(e))return!1;var t=Tr(e);return t==w||t==S||"[object AsyncFunction]"==t||"[object Proxy]"==t}function $o(e){return"number"==typeof e&&e==ps(e)}function Jo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function es(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ts(e){return null!=e&&"object"==typeof e}var ns=wt?Jt(wt):function(e){return ts(e)&&pa(e)==T};function rs(e){return"number"==typeof e||ts(e)&&Tr(e)==E}function is(e){if(!ts(e)||Tr(e)!=C)return!1;var t=qe(e);if(null===t)return!0;var n=De.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ne.call(n)==Fe}var as=St?Jt(St):function(e){return ts(e)&&Tr(e)==P};var os=Tt?Jt(Tt):function(e){return ts(e)&&pa(e)==I};function ss(e){return"string"==typeof e||!Wo(e)&&ts(e)&&Tr(e)==O}function us(e){return"symbol"==typeof e||ts(e)&&Tr(e)==M}var ls=Et?Jt(Et):function(e){return ts(e)&&Jo(e.length)&&!!ut[Tr(e)]};var cs=qi(jr),fs=qi((function(e,t){return e<=t}));function hs(e){if(!e)return[];if(qo(e))return ss(e)?vn(e):Pi(e);if(Ze&&e[Ze])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ze]());var t=pa(e);return(t==T?ln:t==I?hn:Us)(e)}function ds(e){return e?(e=ms(e))===d||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function ps(e){var t=ds(e),n=t%1;return t===t?n?t-n:t:0}function vs(e){return e?sr(ps(e),0,m):0}function ms(e){if("number"==typeof e)return e;if(us(e))return v;if(es(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=es(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=$t(e);var n=ge.test(e);return n||be.test(e)?ht(e.slice(2),n?2:8):me.test(e)?v:+e}function gs(e){return Ii(e,Ms(e))}function ys(e){return null==e?"":li(e)}var bs=Mi((function(e,t){if(wa(t)||qo(t))Ii(t,Os(t),e);else for(var n in t)De.call(t,n)&&tr(e,n,t[n])})),_s=Mi((function(e,t){Ii(t,Ms(t),e)})),xs=Mi((function(e,t,n,r){Ii(t,Ms(t),e,r)})),ks=Mi((function(e,t,n,r){Ii(t,Os(t),e,r)})),ws=na(or);var Ss=Kr((function(e,t){e=Ee(e);var n=-1,r=t.length,a=r>2?t[2]:i;for(a&&ba(t[0],t[1],a)&&(r=1);++n<r;)for(var o=t[n],s=Ms(o),u=-1,l=s.length;++u<l;){var c=s[u],f=e[c];(f===i||Uo(f,Me[c])&&!De.call(e,c))&&(e[c]=o[c])}return e})),Ts=Kr((function(e){return e.push(i,Ji),Ct(Ns,i,e)}));function Es(e,t,n){var r=null==e?i:wr(e,t);return r===i?n:r}function Cs(e,t){return null!=e&&va(e,t,Ar)}var As=zi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),e[t]=n}),eu(ru)),Ps=zi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),De.call(e,t)?e[t].push(n):e[t]=[n]}),ua),Is=Kr(Ir);function Os(e){return qo(e)?Kn(e):Br(e)}function Ms(e){return qo(e)?Kn(e,!0):Lr(e)}var Rs=Mi((function(e,t,n){Vr(e,t,n)})),Ns=Mi((function(e,t,n,r){Vr(e,t,n,r)})),Ds=na((function(e,t){var n={};if(null==e)return n;var r=!1;t=Dt(t,(function(t){return t=bi(t,e),r||(r=t.length>1),t})),Ii(e,ia(e),n),r&&(n=ur(n,7,ea));for(var i=t.length;i--;)fi(n,t[i]);return n}));var Bs=na((function(e,t){return null==e?{}:function(e,t){return Gr(e,t,(function(t,n){return Cs(e,n)}))}(e,t)}));function Ls(e,t){if(null==e)return{};var n=Dt(ia(e),(function(e){return[e]}));return t=ua(t),Gr(e,n,(function(e,n){return t(e,n[0])}))}var js=Ki(Os),Fs=Ki(Ms);function Us(e){return null==e?[]:en(e,Os(e))}var zs=Bi((function(e,t,n){return t=t.toLowerCase(),e+(n?Vs(t):t)}));function Vs(e){return Ks(ys(e).toLowerCase())}function Hs(e){return(e=ys(e))&&e.replace(xe,an).replace(tt,"")}var Ws=Bi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Gs=Bi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),qs=Di("toLowerCase");var Xs=Bi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Ys=Bi((function(e,t,n){return e+(n?" ":"")+Ks(t)}));var Qs=Bi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ks=Di("toUpperCase");function Zs(e,t,n){return e=ys(e),(t=n?i:t)===i?function(e){return at.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(fe)||[]}(e):e.match(t)||[]}var $s=Kr((function(e,t){try{return Ct(e,i,t)}catch(n){return Ko(n)?n:new se(n)}})),Js=na((function(e,t){return Pt(t,(function(t){t=Ba(t),ar(e,t,Po(e[t],e))})),e}));function eu(e){return function(){return e}}var tu=Fi(),nu=Fi(!0);function ru(e){return e}function iu(e){return Dr("function"==typeof e?e:ur(e,1))}var au=Kr((function(e,t){return function(n){return Ir(n,e,t)}})),ou=Kr((function(e,t){return function(n){return Ir(e,n,t)}}));function su(e,t,n){var r=Os(t),i=kr(t,r);null!=n||es(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=kr(t,Os(t)));var a=!(es(n)&&"chain"in n)||!!n.chain,o=Zo(e);return Pt(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__);return(n.__actions__=Pi(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Bt([this.value()],arguments))})})),e}function uu(){}var lu=Hi(Dt),cu=Hi(Ot),fu=Hi(Ft);function hu(e){return _a(e)?Xt(Ba(e)):function(e){return function(t){return wr(t,e)}}(e)}var du=Gi(),pu=Gi(!0);function vu(){return[]}function mu(){return!1}var gu=Vi((function(e,t){return e+t}),0),yu=Yi("ceil"),bu=Vi((function(e,t){return e/t}),1),_u=Yi("floor");var xu=Vi((function(e,t){return e*t}),1),ku=Yi("round"),wu=Vi((function(e,t){return e-t}),0);return Un.after=function(e,t){if("function"!=typeof t)throw new Pe(a);return e=ps(e),function(){if(--e<1)return t.apply(this,arguments)}},Un.ary=Co,Un.assign=bs,Un.assignIn=_s,Un.assignInWith=xs,Un.assignWith=ks,Un.at=ws,Un.before=Ao,Un.bind=Po,Un.bindAll=Js,Un.bindKey=Io,Un.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Wo(e)?e:[e]},Un.chain=fo,Un.chunk=function(e,t,r){t=(r?ba(e,t,r):t===i)?1:Yt(ps(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var o=0,s=0,u=n(dt(a/t));o<a;)u[s++]=ri(e,o,o+=t);return u},Un.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},Un.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Bt(Wo(r)?Pi(r):[r],gr(t,1))},Un.cond=function(e){var t=null==e?0:e.length,n=ua();return e=t?Dt(e,(function(e){if("function"!=typeof e[1])throw new Pe(a);return[n(e[0]),e[1]]})):[],Kr((function(n){for(var r=-1;++r<t;){var i=e[r];if(Ct(i[0],this,n))return Ct(i[1],this,n)}}))},Un.conforms=function(e){return function(e){var t=Os(e);return function(n){return lr(n,e,t)}}(ur(e,1))},Un.constant=eu,Un.countBy=vo,Un.create=function(e,t){var n=zn(e);return null==t?n:ir(n,t)},Un.curry=function e(t,n,r){var a=Zi(t,8,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},Un.curryRight=function e(t,n,r){var a=Zi(t,u,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},Un.debounce=Oo,Un.defaults=Ss,Un.defaultsDeep=Ts,Un.defer=Mo,Un.delay=Ro,Un.difference=Fa,Un.differenceBy=Ua,Un.differenceWith=za,Un.drop=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,(t=n||t===i?1:ps(t))<0?0:t,r):[]},Un.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,0,(t=r-(t=n||t===i?1:ps(t)))<0?0:t):[]},Un.dropRightWhile=function(e,t){return e&&e.length?di(e,ua(t,3),!0,!0):[]},Un.dropWhile=function(e,t){return e&&e.length?di(e,ua(t,3),!0):[]},Un.fill=function(e,t,n,r){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&ba(e,t,n)&&(n=0,r=a),function(e,t,n,r){var a=e.length;for((n=ps(n))<0&&(n=-n>a?0:a+n),(r=r===i||r>a?a:ps(r))<0&&(r+=a),r=n>r?0:vs(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Un.filter=function(e,t){return(Wo(e)?Mt:mr)(e,ua(t,3))},Un.flatMap=function(e,t){return gr(wo(e,t),1)},Un.flatMapDeep=function(e,t){return gr(wo(e,t),d)},Un.flatMapDepth=function(e,t,n){return n=n===i?1:ps(n),gr(wo(e,t),n)},Un.flatten=Wa,Un.flattenDeep=function(e){return(null==e?0:e.length)?gr(e,d):[]},Un.flattenDepth=function(e,t){return(null==e?0:e.length)?gr(e,t=t===i?1:ps(t)):[]},Un.flip=function(e){return Zi(e,512)},Un.flow=tu,Un.flowRight=nu,Un.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Un.functions=function(e){return null==e?[]:kr(e,Os(e))},Un.functionsIn=function(e){return null==e?[]:kr(e,Ms(e))},Un.groupBy=_o,Un.initial=function(e){return(null==e?0:e.length)?ri(e,0,-1):[]},Un.intersection=qa,Un.intersectionBy=Xa,Un.intersectionWith=Ya,Un.invert=As,Un.invertBy=Ps,Un.invokeMap=xo,Un.iteratee=iu,Un.keyBy=ko,Un.keys=Os,Un.keysIn=Ms,Un.map=wo,Un.mapKeys=function(e,t){var n={};return t=ua(t,3),_r(e,(function(e,r,i){ar(n,t(e,r,i),e)})),n},Un.mapValues=function(e,t){var n={};return t=ua(t,3),_r(e,(function(e,r,i){ar(n,r,t(e,r,i))})),n},Un.matches=function(e){return Ur(ur(e,1))},Un.matchesProperty=function(e,t){return zr(e,ur(t,1))},Un.memoize=No,Un.merge=Rs,Un.mergeWith=Ns,Un.method=au,Un.methodOf=ou,Un.mixin=su,Un.negate=Do,Un.nthArg=function(e){return e=ps(e),Kr((function(t){return Hr(t,e)}))},Un.omit=Ds,Un.omitBy=function(e,t){return Ls(e,Do(ua(t)))},Un.once=function(e){return Ao(2,e)},Un.orderBy=function(e,t,n,r){return null==e?[]:(Wo(t)||(t=null==t?[]:[t]),Wo(n=r?i:n)||(n=null==n?[]:[n]),Wr(e,t,n))},Un.over=lu,Un.overArgs=Bo,Un.overEvery=cu,Un.overSome=fu,Un.partial=Lo,Un.partialRight=jo,Un.partition=So,Un.pick=Bs,Un.pickBy=Ls,Un.property=hu,Un.propertyOf=function(e){return function(t){return null==e?i:wr(e,t)}},Un.pull=Ka,Un.pullAll=Za,Un.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?qr(e,t,ua(n,2)):e},Un.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?qr(e,t,i,n):e},Un.pullAt=$a,Un.range=du,Un.rangeRight=pu,Un.rearg=Fo,Un.reject=function(e,t){return(Wo(e)?Mt:mr)(e,Do(ua(t,3)))},Un.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=ua(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Xr(e,i),n},Un.rest=function(e,t){if("function"!=typeof e)throw new Pe(a);return Kr(e,t=t===i?t:ps(t))},Un.reverse=Ja,Un.sampleSize=function(e,t,n){return t=(n?ba(e,t,n):t===i)?1:ps(t),(Wo(e)?$n:$r)(e,t)},Un.set=function(e,t,n){return null==e?e:Jr(e,t,n)},Un.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Jr(e,t,n,r)},Un.shuffle=function(e){return(Wo(e)?Jn:ni)(e)},Un.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&ba(e,t,n)?(t=0,n=r):(t=null==t?0:ps(t),n=n===i?r:ps(n)),ri(e,t,n)):[]},Un.sortBy=To,Un.sortedUniq=function(e){return e&&e.length?si(e):[]},Un.sortedUniqBy=function(e,t){return e&&e.length?si(e,ua(t,2)):[]},Un.split=function(e,t,n){return n&&"number"!=typeof n&&ba(e,t,n)&&(t=n=i),(n=n===i?m:n>>>0)?(e=ys(e))&&("string"==typeof t||null!=t&&!as(t))&&!(t=li(t))&&un(e)?xi(vn(e),0,n):e.split(t,n):[]},Un.spread=function(e,t){if("function"!=typeof e)throw new Pe(a);return t=null==t?0:Yt(ps(t),0),Kr((function(n){var r=n[t],i=xi(n,0,t);return r&&Bt(i,r),Ct(e,this,i)}))},Un.tail=function(e){var t=null==e?0:e.length;return t?ri(e,1,t):[]},Un.take=function(e,t,n){return e&&e.length?ri(e,0,(t=n||t===i?1:ps(t))<0?0:t):[]},Un.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,(t=r-(t=n||t===i?1:ps(t)))<0?0:t,r):[]},Un.takeRightWhile=function(e,t){return e&&e.length?di(e,ua(t,3),!1,!0):[]},Un.takeWhile=function(e,t){return e&&e.length?di(e,ua(t,3)):[]},Un.tap=function(e,t){return t(e),e},Un.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Pe(a);return es(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Oo(e,t,{leading:r,maxWait:t,trailing:i})},Un.thru=ho,Un.toArray=hs,Un.toPairs=js,Un.toPairsIn=Fs,Un.toPath=function(e){return Wo(e)?Dt(e,Ba):us(e)?[e]:Pi(Da(ys(e)))},Un.toPlainObject=gs,Un.transform=function(e,t,n){var r=Wo(e),i=r||Yo(e)||ls(e);if(t=ua(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:es(e)&&Zo(a)?zn(qe(e)):{}}return(i?Pt:_r)(e,(function(e,r,i){return t(n,e,r,i)})),n},Un.unary=function(e){return Co(e,1)},Un.union=eo,Un.unionBy=to,Un.unionWith=no,Un.uniq=function(e){return e&&e.length?ci(e):[]},Un.uniqBy=function(e,t){return e&&e.length?ci(e,ua(t,2)):[]},Un.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ci(e,i,t):[]},Un.unset=function(e,t){return null==e||fi(e,t)},Un.unzip=ro,Un.unzipWith=io,Un.update=function(e,t,n){return null==e?e:hi(e,t,yi(n))},Un.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:hi(e,t,yi(n),r)},Un.values=Us,Un.valuesIn=function(e){return null==e?[]:en(e,Ms(e))},Un.without=ao,Un.words=Zs,Un.wrap=function(e,t){return Lo(yi(t),e)},Un.xor=oo,Un.xorBy=so,Un.xorWith=uo,Un.zip=lo,Un.zipObject=function(e,t){return mi(e||[],t||[],tr)},Un.zipObjectDeep=function(e,t){return mi(e||[],t||[],Jr)},Un.zipWith=co,Un.entries=js,Un.entriesIn=Fs,Un.extend=_s,Un.extendWith=xs,su(Un,Un),Un.add=gu,Un.attempt=$s,Un.camelCase=zs,Un.capitalize=Vs,Un.ceil=yu,Un.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ms(n))===n?n:0),t!==i&&(t=(t=ms(t))===t?t:0),sr(ms(e),t,n)},Un.clone=function(e){return ur(e,4)},Un.cloneDeep=function(e){return ur(e,5)},Un.cloneDeepWith=function(e,t){return ur(e,5,t="function"==typeof t?t:i)},Un.cloneWith=function(e,t){return ur(e,4,t="function"==typeof t?t:i)},Un.conformsTo=function(e,t){return null==t||lr(e,t,Os(t))},Un.deburr=Hs,Un.defaultTo=function(e,t){return null==e||e!==e?t:e},Un.divide=bu,Un.endsWith=function(e,t,n){e=ys(e),t=li(t);var r=e.length,a=n=n===i?r:sr(ps(n),0,r);return(n-=t.length)>=0&&e.slice(n,a)==t},Un.eq=Uo,Un.escape=function(e){return(e=ys(e))&&Z.test(e)?e.replace(Q,on):e},Un.escapeRegExp=function(e){return(e=ys(e))&&ae.test(e)?e.replace(ie,"\\$&"):e},Un.every=function(e,t,n){var r=Wo(e)?Ot:pr;return n&&ba(e,t,n)&&(t=i),r(e,ua(t,3))},Un.find=mo,Un.findIndex=Va,Un.findKey=function(e,t){return zt(e,ua(t,3),_r)},Un.findLast=go,Un.findLastIndex=Ha,Un.findLastKey=function(e,t){return zt(e,ua(t,3),xr)},Un.floor=_u,Un.forEach=yo,Un.forEachRight=bo,Un.forIn=function(e,t){return null==e?e:yr(e,ua(t,3),Ms)},Un.forInRight=function(e,t){return null==e?e:br(e,ua(t,3),Ms)},Un.forOwn=function(e,t){return e&&_r(e,ua(t,3))},Un.forOwnRight=function(e,t){return e&&xr(e,ua(t,3))},Un.get=Es,Un.gt=zo,Un.gte=Vo,Un.has=function(e,t){return null!=e&&va(e,t,Cr)},Un.hasIn=Cs,Un.head=Ga,Un.identity=ru,Un.includes=function(e,t,n,r){e=qo(e)?e:Us(e),n=n&&!r?ps(n):0;var i=e.length;return n<0&&(n=Yt(i+n,0)),ss(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Ht(e,t,n)>-1},Un.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ps(n);return i<0&&(i=Yt(r+i,0)),Ht(e,t,i)},Un.inRange=function(e,t,n){return t=ds(t),n===i?(n=t,t=0):n=ds(n),function(e,t,n){return e>=bn(t,n)&&e<Yt(t,n)}(e=ms(e),t,n)},Un.invoke=Is,Un.isArguments=Ho,Un.isArray=Wo,Un.isArrayBuffer=Go,Un.isArrayLike=qo,Un.isArrayLikeObject=Xo,Un.isBoolean=function(e){return!0===e||!1===e||ts(e)&&Tr(e)==_},Un.isBuffer=Yo,Un.isDate=Qo,Un.isElement=function(e){return ts(e)&&1===e.nodeType&&!is(e)},Un.isEmpty=function(e){if(null==e)return!0;if(qo(e)&&(Wo(e)||"string"==typeof e||"function"==typeof e.splice||Yo(e)||ls(e)||Ho(e)))return!e.length;var t=pa(e);if(t==T||t==I)return!e.size;if(wa(e))return!Br(e).length;for(var n in e)if(De.call(e,n))return!1;return!0},Un.isEqual=function(e,t){return Mr(e,t)},Un.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Mr(e,t,i,n):!!r},Un.isError=Ko,Un.isFinite=function(e){return"number"==typeof e&&bt(e)},Un.isFunction=Zo,Un.isInteger=$o,Un.isLength=Jo,Un.isMap=ns,Un.isMatch=function(e,t){return e===t||Rr(e,t,ca(t))},Un.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Rr(e,t,ca(t),n)},Un.isNaN=function(e){return rs(e)&&e!=+e},Un.isNative=function(e){if(ka(e))throw new se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Nr(e)},Un.isNil=function(e){return null==e},Un.isNull=function(e){return null===e},Un.isNumber=rs,Un.isObject=es,Un.isObjectLike=ts,Un.isPlainObject=is,Un.isRegExp=as,Un.isSafeInteger=function(e){return $o(e)&&e>=-9007199254740991&&e<=p},Un.isSet=os,Un.isString=ss,Un.isSymbol=us,Un.isTypedArray=ls,Un.isUndefined=function(e){return e===i},Un.isWeakMap=function(e){return ts(e)&&pa(e)==R},Un.isWeakSet=function(e){return ts(e)&&"[object WeakSet]"==Tr(e)},Un.join=function(e,t){return null==e?"":_t.call(e,t)},Un.kebabCase=Ws,Un.last=Qa,Un.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r;return n!==i&&(a=(a=ps(n))<0?Yt(r+a,0):bn(a,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,a):Vt(e,Gt,a,!0)},Un.lowerCase=Gs,Un.lowerFirst=qs,Un.lt=cs,Un.lte=fs,Un.max=function(e){return e&&e.length?vr(e,ru,Er):i},Un.maxBy=function(e,t){return e&&e.length?vr(e,ua(t,2),Er):i},Un.mean=function(e){return qt(e,ru)},Un.meanBy=function(e,t){return qt(e,ua(t,2))},Un.min=function(e){return e&&e.length?vr(e,ru,jr):i},Un.minBy=function(e,t){return e&&e.length?vr(e,ua(t,2),jr):i},Un.stubArray=vu,Un.stubFalse=mu,Un.stubObject=function(){return{}},Un.stubString=function(){return""},Un.stubTrue=function(){return!0},Un.multiply=xu,Un.nth=function(e,t){return e&&e.length?Hr(e,ps(t)):i},Un.noConflict=function(){return vt._===this&&(vt._=Ue),this},Un.noop=uu,Un.now=Eo,Un.pad=function(e,t,n){e=ys(e);var r=(t=ps(t))?pn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Wi(pt(i),n)+e+Wi(dt(i),n)},Un.padEnd=function(e,t,n){e=ys(e);var r=(t=ps(t))?pn(e):0;return t&&r<t?e+Wi(t-r,n):e},Un.padStart=function(e,t,n){e=ys(e);var r=(t=ps(t))?pn(e):0;return t&&r<t?Wi(t-r,n)+e:e},Un.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),xn(ys(e).replace(oe,""),t||0)},Un.random=function(e,t,n){if(n&&"boolean"!=typeof n&&ba(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=ds(e),t===i?(t=e,e=0):t=ds(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var a=kn();return bn(e+a*(t-e+ft("1e-"+((a+"").length-1))),t)}return Yr(e,t)},Un.reduce=function(e,t,n){var r=Wo(e)?Lt:Qt,i=arguments.length<3;return r(e,ua(t,4),n,i,hr)},Un.reduceRight=function(e,t,n){var r=Wo(e)?jt:Qt,i=arguments.length<3;return r(e,ua(t,4),n,i,dr)},Un.repeat=function(e,t,n){return t=(n?ba(e,t,n):t===i)?1:ps(t),Qr(ys(e),t)},Un.replace=function(){var e=arguments,t=ys(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Un.result=function(e,t,n){var r=-1,a=(t=bi(t,e)).length;for(a||(a=1,e=i);++r<a;){var o=null==e?i:e[Ba(t[r])];o===i&&(r=a,o=n),e=Zo(o)?o.call(e):o}return e},Un.round=ku,Un.runInContext=e,Un.sample=function(e){return(Wo(e)?Zn:Zr)(e)},Un.size=function(e){if(null==e)return 0;if(qo(e))return ss(e)?pn(e):e.length;var t=pa(e);return t==T||t==I?e.size:Br(e).length},Un.snakeCase=Xs,Un.some=function(e,t,n){var r=Wo(e)?Ft:ii;return n&&ba(e,t,n)&&(t=i),r(e,ua(t,3))},Un.sortedIndex=function(e,t){return ai(e,t)},Un.sortedIndexBy=function(e,t,n){return oi(e,t,ua(n,2))},Un.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ai(e,t);if(r<n&&Uo(e[r],t))return r}return-1},Un.sortedLastIndex=function(e,t){return ai(e,t,!0)},Un.sortedLastIndexBy=function(e,t,n){return oi(e,t,ua(n,2),!0)},Un.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ai(e,t,!0)-1;if(Uo(e[n],t))return n}return-1},Un.startCase=Ys,Un.startsWith=function(e,t,n){return e=ys(e),n=null==n?0:sr(ps(n),0,e.length),t=li(t),e.slice(n,n+t.length)==t},Un.subtract=wu,Un.sum=function(e){return e&&e.length?Kt(e,ru):0},Un.sumBy=function(e,t){return e&&e.length?Kt(e,ua(t,2)):0},Un.template=function(e,t,n){var r=Un.templateSettings;n&&ba(e,t,n)&&(t=i),e=ys(e),t=xs({},t,r,$i);var a,o,s=xs({},t.imports,r.imports,$i),u=Os(s),l=en(s,u),c=0,f=t.interpolate||ke,h="__p += '",d=Ce((t.escape||ke).source+"|"+f.source+"|"+(f===ee?pe:ke).source+"|"+(t.evaluate||ke).source+"|$","g"),p="//# sourceURL="+(De.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++st+"]")+"\n";e.replace(d,(function(t,n,r,i,s,u){return r||(r=i),h+=e.slice(c,u).replace(we,sn),n&&(a=!0,h+="' +\n__e("+n+") +\n'"),s&&(o=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t})),h+="';\n";var v=De.call(t,"variable")&&t.variable;if(v){if(he.test(v))throw new se("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(G,""):h).replace(q,"$1").replace(X,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=$s((function(){return Se(u,p+"return "+h).apply(i,l)}));if(m.source=h,Ko(m))throw m;return m},Un.times=function(e,t){if((e=ps(e))<1||e>p)return[];var n=m,r=bn(e,m);t=ua(t),e-=m;for(var i=Zt(r,t);++n<e;)t(n);return i},Un.toFinite=ds,Un.toInteger=ps,Un.toLength=vs,Un.toLower=function(e){return ys(e).toLowerCase()},Un.toNumber=ms,Un.toSafeInteger=function(e){return e?sr(ps(e),-9007199254740991,p):0===e?e:0},Un.toString=ys,Un.toUpper=function(e){return ys(e).toUpperCase()},Un.trim=function(e,t,n){if((e=ys(e))&&(n||t===i))return $t(e);if(!e||!(t=li(t)))return e;var r=vn(e),a=vn(t);return xi(r,nn(r,a),rn(r,a)+1).join("")},Un.trimEnd=function(e,t,n){if((e=ys(e))&&(n||t===i))return e.slice(0,mn(e)+1);if(!e||!(t=li(t)))return e;var r=vn(e);return xi(r,0,rn(r,vn(t))+1).join("")},Un.trimStart=function(e,t,n){if((e=ys(e))&&(n||t===i))return e.replace(oe,"");if(!e||!(t=li(t)))return e;var r=vn(e);return xi(r,nn(r,vn(t))).join("")},Un.truncate=function(e,t){var n=30,r="...";if(es(t)){var a="separator"in t?t.separator:a;n="length"in t?ps(t.length):n,r="omission"in t?li(t.omission):r}var o=(e=ys(e)).length;if(un(e)){var s=vn(e);o=s.length}if(n>=o)return e;var u=n-pn(r);if(u<1)return r;var l=s?xi(s,0,u).join(""):e.slice(0,u);if(a===i)return l+r;if(s&&(u+=l.length-u),as(a)){if(e.slice(u).search(a)){var c,f=l;for(a.global||(a=Ce(a.source,ys(ve.exec(a))+"g")),a.lastIndex=0;c=a.exec(f);)var h=c.index;l=l.slice(0,h===i?u:h)}}else if(e.indexOf(li(a),u)!=u){var d=l.lastIndexOf(a);d>-1&&(l=l.slice(0,d))}return l+r},Un.unescape=function(e){return(e=ys(e))&&K.test(e)?e.replace(Y,gn):e},Un.uniqueId=function(e){var t=++Be;return ys(e)+t},Un.upperCase=Qs,Un.upperFirst=Ks,Un.each=yo,Un.eachRight=bo,Un.first=Ga,su(Un,function(){var e={};return _r(Un,(function(t,n){De.call(Un.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Un.VERSION="4.17.21",Pt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Un[e].placeholder=Un})),Pt(["drop","take"],(function(e,t){Wn.prototype[e]=function(n){n=n===i?1:Yt(ps(n),0);var r=this.__filtered__&&!t?new Wn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,m),type:e+(r.__dir__<0?"Right":"")}),r},Wn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Pt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Wn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ua(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Pt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Wn.prototype[e]=function(){return this[n](1).value()[0]}})),Pt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Wn.prototype[e]=function(){return this.__filtered__?new Wn(this):this[n](1)}})),Wn.prototype.compact=function(){return this.filter(ru)},Wn.prototype.find=function(e){return this.filter(e).head()},Wn.prototype.findLast=function(e){return this.reverse().find(e)},Wn.prototype.invokeMap=Kr((function(e,t){return"function"==typeof e?new Wn(this):this.map((function(n){return Ir(n,e,t)}))})),Wn.prototype.reject=function(e){return this.filter(Do(ua(e)))},Wn.prototype.slice=function(e,t){e=ps(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Wn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=ps(t))<0?n.dropRight(-t):n.take(t-e)),n)},Wn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Wn.prototype.toArray=function(){return this.take(m)},_r(Wn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),a=Un[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);a&&(Un.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,u=t instanceof Wn,l=s[0],c=u||Wo(t),f=function(e){var t=a.apply(Un,Bt([e],s));return r&&h?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var h=this.__chain__,d=!!this.__actions__.length,p=o&&!h,v=u&&!d;if(!o&&c){t=v?t:new Wn(this);var m=e.apply(t,s);return m.__actions__.push({func:ho,args:[f],thisArg:i}),new Hn(m,h)}return p&&v?e.apply(this,s):(m=this.thru(f),p?r?m.value()[0]:m.value():m)})})),Pt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ie[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Un.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Wo(i)?i:[],e)}return this[n]((function(n){return t.apply(Wo(n)?n:[],e)}))}})),_r(Wn.prototype,(function(e,t){var n=Un[t];if(n){var r=n.name+"";De.call(On,r)||(On[r]=[]),On[r].push({name:t,func:n})}})),On[Ui(i,2).name]=[{name:"wrapper",func:i}],Wn.prototype.clone=function(){var e=new Wn(this.__wrapped__);return e.__actions__=Pi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Pi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Pi(this.__views__),e},Wn.prototype.reverse=function(){if(this.__filtered__){var e=new Wn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Wn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Wo(e),r=t<0,i=n?e.length:0,a=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=bn(t,e+o);break;case"takeRight":e=Yt(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,u=s-o,l=r?s:o-1,c=this.__iteratees__,f=c.length,h=0,d=bn(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return pi(e,this.__actions__);var p=[];e:for(;u--&&h<d;){for(var v=-1,m=e[l+=t];++v<f;){var g=c[v],y=g.iteratee,b=g.type,_=y(m);if(2==b)m=_;else if(!_){if(1==b)continue e;break e}}p[h++]=m}return p},Un.prototype.at=po,Un.prototype.chain=function(){return fo(this)},Un.prototype.commit=function(){return new Hn(this.value(),this.__chain__)},Un.prototype.next=function(){this.__values__===i&&(this.__values__=hs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Un.prototype.plant=function(e){for(var t,n=this;n instanceof Vn;){var r=ja(n);r.__index__=0,r.__values__=i,t?a.__wrapped__=r:t=r;var a=r;n=n.__wrapped__}return a.__wrapped__=e,t},Un.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Wn){var t=e;return this.__actions__.length&&(t=new Wn(this)),(t=t.reverse()).__actions__.push({func:ho,args:[Ja],thisArg:i}),new Hn(t,this.__chain__)}return this.thru(Ja)},Un.prototype.toJSON=Un.prototype.valueOf=Un.prototype.value=function(){return pi(this.__wrapped__,this.__actions__)},Un.prototype.first=Un.prototype.head,Ze&&(Un.prototype[Ze]=function(){return this}),Un}();vt._=yn,(r=function(){return yn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},3329:function(e,t,n){!function(){var t=n(2358),r=n(4383).utf8,i=n(5586),a=n(4383).bin,o=function e(n,o){n.constructor==String?n=o&&"binary"===o.encoding?a.stringToBytes(n):r.stringToBytes(n):i(n)?n=Array.prototype.slice.call(n,0):Array.isArray(n)||n.constructor===Uint8Array||(n=n.toString());for(var s=t.bytesToWords(n),u=8*n.length,l=1732584193,c=-271733879,f=-1732584194,h=271733878,d=0;d<s.length;d++)s[d]=16711935&(s[d]<<8|s[d]>>>24)|4278255360&(s[d]<<24|s[d]>>>8);s[u>>>5]|=128<<u%32,s[14+(u+64>>>9<<4)]=u;var p=e._ff,v=e._gg,m=e._hh,g=e._ii;for(d=0;d<s.length;d+=16){var y=l,b=c,_=f,x=h;l=p(l,c,f,h,s[d+0],7,-680876936),h=p(h,l,c,f,s[d+1],12,-389564586),f=p(f,h,l,c,s[d+2],17,606105819),c=p(c,f,h,l,s[d+3],22,-1044525330),l=p(l,c,f,h,s[d+4],7,-176418897),h=p(h,l,c,f,s[d+5],12,1200080426),f=p(f,h,l,c,s[d+6],17,-1473231341),c=p(c,f,h,l,s[d+7],22,-45705983),l=p(l,c,f,h,s[d+8],7,1770035416),h=p(h,l,c,f,s[d+9],12,-1958414417),f=p(f,h,l,c,s[d+10],17,-42063),c=p(c,f,h,l,s[d+11],22,-1990404162),l=p(l,c,f,h,s[d+12],7,1804603682),h=p(h,l,c,f,s[d+13],12,-40341101),f=p(f,h,l,c,s[d+14],17,-1502002290),l=v(l,c=p(c,f,h,l,s[d+15],22,1236535329),f,h,s[d+1],5,-165796510),h=v(h,l,c,f,s[d+6],9,-1069501632),f=v(f,h,l,c,s[d+11],14,643717713),c=v(c,f,h,l,s[d+0],20,-373897302),l=v(l,c,f,h,s[d+5],5,-701558691),h=v(h,l,c,f,s[d+10],9,38016083),f=v(f,h,l,c,s[d+15],14,-660478335),c=v(c,f,h,l,s[d+4],20,-405537848),l=v(l,c,f,h,s[d+9],5,568446438),h=v(h,l,c,f,s[d+14],9,-1019803690),f=v(f,h,l,c,s[d+3],14,-187363961),c=v(c,f,h,l,s[d+8],20,1163531501),l=v(l,c,f,h,s[d+13],5,-1444681467),h=v(h,l,c,f,s[d+2],9,-51403784),f=v(f,h,l,c,s[d+7],14,1735328473),l=m(l,c=v(c,f,h,l,s[d+12],20,-1926607734),f,h,s[d+5],4,-378558),h=m(h,l,c,f,s[d+8],11,-2022574463),f=m(f,h,l,c,s[d+11],16,1839030562),c=m(c,f,h,l,s[d+14],23,-35309556),l=m(l,c,f,h,s[d+1],4,-1530992060),h=m(h,l,c,f,s[d+4],11,1272893353),f=m(f,h,l,c,s[d+7],16,-155497632),c=m(c,f,h,l,s[d+10],23,-1094730640),l=m(l,c,f,h,s[d+13],4,681279174),h=m(h,l,c,f,s[d+0],11,-358537222),f=m(f,h,l,c,s[d+3],16,-722521979),c=m(c,f,h,l,s[d+6],23,76029189),l=m(l,c,f,h,s[d+9],4,-640364487),h=m(h,l,c,f,s[d+12],11,-421815835),f=m(f,h,l,c,s[d+15],16,530742520),l=g(l,c=m(c,f,h,l,s[d+2],23,-995338651),f,h,s[d+0],6,-198630844),h=g(h,l,c,f,s[d+7],10,1126891415),f=g(f,h,l,c,s[d+14],15,-1416354905),c=g(c,f,h,l,s[d+5],21,-57434055),l=g(l,c,f,h,s[d+12],6,1700485571),h=g(h,l,c,f,s[d+3],10,-1894986606),f=g(f,h,l,c,s[d+10],15,-1051523),c=g(c,f,h,l,s[d+1],21,-2054922799),l=g(l,c,f,h,s[d+8],6,1873313359),h=g(h,l,c,f,s[d+15],10,-30611744),f=g(f,h,l,c,s[d+6],15,-1560198380),c=g(c,f,h,l,s[d+13],21,1309151649),l=g(l,c,f,h,s[d+4],6,-145523070),h=g(h,l,c,f,s[d+11],10,-1120210379),f=g(f,h,l,c,s[d+2],15,718787259),c=g(c,f,h,l,s[d+9],21,-343485551),l=l+y>>>0,c=c+b>>>0,f=f+_>>>0,h=h+x>>>0}return t.endian([l,c,f,h])};o._ff=function(e,t,n,r,i,a,o){var s=e+(t&n|~t&r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},o._gg=function(e,t,n,r,i,a,o){var s=e+(t&r|n&~r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},o._hh=function(e,t,n,r,i,a,o){var s=e+(t^n^r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},o._ii=function(e,t,n,r,i,a,o){var s=e+(n^(t|~r))+(i>>>0)+o;return(s<<a|s>>>32-a)+t},o._blocksize=16,o._digestsize=16,e.exports=function(e,n){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var r=t.wordsToBytes(o(e,n));return n&&n.asBytes?r:n&&n.asString?a.bytesToString(r):t.bytesToHex(r)}}()},2584:function(e,t,n){var r="function"===typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,a=r&&i&&"function"===typeof i.get?i.get:null,o=r&&Map.prototype.forEach,s="function"===typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,l=s&&u&&"function"===typeof u.get?u.get:null,c=s&&Set.prototype.forEach,f="function"===typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,h="function"===typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,d="function"===typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,p=Boolean.prototype.valueOf,v=Object.prototype.toString,m=Function.prototype.toString,g=String.prototype.match,y=String.prototype.slice,b=String.prototype.replace,_=String.prototype.toUpperCase,x=String.prototype.toLowerCase,k=RegExp.prototype.test,w=Array.prototype.concat,S=Array.prototype.join,T=Array.prototype.slice,E=Math.floor,C="function"===typeof BigInt?BigInt.prototype.valueOf:null,A=Object.getOwnPropertySymbols,P="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?Symbol.prototype.toString:null,I="function"===typeof Symbol&&"object"===typeof Symbol.iterator,O="function"===typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===I||"symbol")?Symbol.toStringTag:null,M=Object.prototype.propertyIsEnumerable,R=("function"===typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function N(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||k.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"===typeof e){var r=e<0?-E(-e):E(e);if(r!==e){var i=String(r),a=y.call(t,i.length+1);return b.call(i,n,"$&_")+"."+b.call(b.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,n,"$&_")}var D=n(4654),B=D.custom,L=V(B)?B:null;function j(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function F(e){return b.call(String(e),/"/g,"&quot;")}function U(e){return"[object Array]"===G(e)&&(!O||!("object"===typeof e&&O in e))}function z(e){return"[object RegExp]"===G(e)&&(!O||!("object"===typeof e&&O in e))}function V(e){if(I)return e&&"object"===typeof e&&e instanceof Symbol;if("symbol"===typeof e)return!0;if(!e||"object"!==typeof e||!P)return!1;try{return P.call(e),!0}catch(t){}return!1}e.exports=function e(t,n,r,i){var s=n||{};if(W(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(W(s,"maxStringLength")&&("number"===typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=!W(s,"customInspect")||s.customInspect;if("boolean"!==typeof u&&"symbol"!==u)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(W(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(W(s,"numericSeparator")&&"boolean"!==typeof s.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var v=s.numericSeparator;if("undefined"===typeof t)return"undefined";if(null===t)return"null";if("boolean"===typeof t)return t?"true":"false";if("string"===typeof t)return X(t,s);if("number"===typeof t){if(0===t)return 1/0/t>0?"0":"-0";var _=String(t);return v?N(t,_):_}if("bigint"===typeof t){var k=String(t)+"n";return v?N(t,k):k}var E="undefined"===typeof s.depth?5:s.depth;if("undefined"===typeof r&&(r=0),r>=E&&E>0&&"object"===typeof t)return U(t)?"[Array]":"[Object]";var A=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"===typeof e.indent&&e.indent>0))return null;n=S.call(Array(e.indent+1)," ")}return{base:n,prev:S.call(Array(t+1),n)}}(s,r);if("undefined"===typeof i)i=[];else if(q(i,t)>=0)return"[Circular]";function B(t,n,a){if(n&&(i=T.call(i)).push(n),a){var o={depth:s.depth};return W(s,"quoteStyle")&&(o.quoteStyle=s.quoteStyle),e(t,o,r+1,i)}return e(t,s,r+1,i)}if("function"===typeof t&&!z(t)){var H=function(e){if(e.name)return e.name;var t=g.call(m.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),Y=J(t,B);return"[Function"+(H?": "+H:" (anonymous)")+"]"+(Y.length>0?" { "+S.call(Y,", ")+" }":"")}if(V(t)){var ee=I?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):P.call(t);return"object"!==typeof t||I?ee:Q(ee)}if(function(e){if(!e||"object"!==typeof e)return!1;if("undefined"!==typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"===typeof e.nodeName&&"function"===typeof e.getAttribute}(t)){for(var te="<"+x.call(String(t.nodeName)),ne=t.attributes||[],re=0;re<ne.length;re++)te+=" "+ne[re].name+"="+j(F(ne[re].value),"double",s);return te+=">",t.childNodes&&t.childNodes.length&&(te+="..."),te+="</"+x.call(String(t.nodeName))+">"}if(U(t)){if(0===t.length)return"[]";var ie=J(t,B);return A&&!function(e){for(var t=0;t<e.length;t++)if(q(e[t],"\n")>=0)return!1;return!0}(ie)?"["+$(ie,A)+"]":"[ "+S.call(ie,", ")+" ]"}if(function(e){return"[object Error]"===G(e)&&(!O||!("object"===typeof e&&O in e))}(t)){var ae=J(t,B);return"cause"in Error.prototype||!("cause"in t)||M.call(t,"cause")?0===ae.length?"["+String(t)+"]":"{ ["+String(t)+"] "+S.call(ae,", ")+" }":"{ ["+String(t)+"] "+S.call(w.call("[cause]: "+B(t.cause),ae),", ")+" }"}if("object"===typeof t&&u){if(L&&"function"===typeof t[L]&&D)return D(t,{depth:E-r});if("symbol"!==u&&"function"===typeof t.inspect)return t.inspect()}if(function(e){if(!a||!e||"object"!==typeof e)return!1;try{a.call(e);try{l.call(e)}catch(te){return!0}return e instanceof Map}catch(t){}return!1}(t)){var oe=[];return o&&o.call(t,(function(e,n){oe.push(B(n,t,!0)+" => "+B(e,t))})),Z("Map",a.call(t),oe,A)}if(function(e){if(!l||!e||"object"!==typeof e)return!1;try{l.call(e);try{a.call(e)}catch(t){return!0}return e instanceof Set}catch(n){}return!1}(t)){var se=[];return c&&c.call(t,(function(e){se.push(B(e,t))})),Z("Set",l.call(t),se,A)}if(function(e){if(!f||!e||"object"!==typeof e)return!1;try{f.call(e,f);try{h.call(e,h)}catch(te){return!0}return e instanceof WeakMap}catch(t){}return!1}(t))return K("WeakMap");if(function(e){if(!h||!e||"object"!==typeof e)return!1;try{h.call(e,h);try{f.call(e,f)}catch(te){return!0}return e instanceof WeakSet}catch(t){}return!1}(t))return K("WeakSet");if(function(e){if(!d||!e||"object"!==typeof e)return!1;try{return d.call(e),!0}catch(t){}return!1}(t))return K("WeakRef");if(function(e){return"[object Number]"===G(e)&&(!O||!("object"===typeof e&&O in e))}(t))return Q(B(Number(t)));if(function(e){if(!e||"object"!==typeof e||!C)return!1;try{return C.call(e),!0}catch(t){}return!1}(t))return Q(B(C.call(t)));if(function(e){return"[object Boolean]"===G(e)&&(!O||!("object"===typeof e&&O in e))}(t))return Q(p.call(t));if(function(e){return"[object String]"===G(e)&&(!O||!("object"===typeof e&&O in e))}(t))return Q(B(String(t)));if(!function(e){return"[object Date]"===G(e)&&(!O||!("object"===typeof e&&O in e))}(t)&&!z(t)){var ue=J(t,B),le=R?R(t)===Object.prototype:t instanceof Object||t.constructor===Object,ce=t instanceof Object?"":"null prototype",fe=!le&&O&&Object(t)===t&&O in t?y.call(G(t),8,-1):ce?"Object":"",he=(le||"function"!==typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(fe||ce?"["+S.call(w.call([],fe||[],ce||[]),": ")+"] ":"");return 0===ue.length?he+"{}":A?he+"{"+$(ue,A)+"}":he+"{ "+S.call(ue,", ")+" }"}return String(t)};var H=Object.prototype.hasOwnProperty||function(e){return e in this};function W(e,t){return H.call(e,t)}function G(e){return v.call(e)}function q(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function X(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return X(y.call(e,0,t.maxStringLength),t)+r}return j(b.call(b.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Y),"single",t)}function Y(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+_.call(t.toString(16))}function Q(e){return"Object("+e+")"}function K(e){return e+" { ? }"}function Z(e,t,n,r){return e+" ("+t+") {"+(r?$(n,r):S.call(n,", "))+"}"}function $(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+S.call(e,","+n)+"\n"+t.prev}function J(e,t){var n=U(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=W(e,i)?t(e[i],e):""}var a,o="function"===typeof A?A(e):[];if(I){a={};for(var s=0;s<o.length;s++)a["$"+o[s]]=o[s]}for(var u in e)W(e,u)&&(n&&String(Number(u))===u&&u<e.length||I&&a["$"+u]instanceof Symbol||(k.call(/[^\w$]/,u)?r.push(t(u,e)+": "+t(e[u],e)):r.push(u+": "+t(e[u],e))));if("function"===typeof A)for(var l=0;l<o.length;l++)M.call(e,o[l])&&r.push("["+t(o[l])+"]: "+t(e[o[l]],e));return r}},2592:function(e){"use strict";var t=function(e){return e!==e};e.exports=function(e,n){return 0===e&&0===n?1/e===1/n:e===n||!(!t(e)||!t(n))}},3454:function(e,t,n){"use strict";var r=n(9396),i=n(9722),a=n(2592),o=n(3355),s=n(3118),u=i(o(),Object);r(u,{getPolyfill:o,implementation:a,shim:s}),e.exports=u},3355:function(e,t,n){"use strict";var r=n(2592);e.exports=function(){return"function"===typeof Object.is?Object.is:r}},3118:function(e,t,n){"use strict";var r=n(3355),i=n(9396);e.exports=function(){var e=r();return i(Object,{is:e},{is:function(){return Object.is!==e}}),e}},1949:function(e,t,n){"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,o=n(7635),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),l=s.call((function(){}),"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(e){var t=e.constructor;return t&&t.prototype===e},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"===typeof window)return!1;for(var e in window)try{if(!h["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"===typeof window[e])try{f(window[e])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(e){var t=null!==e&&"object"===typeof e,n="[object Function]"===a.call(e),r=o(e),s=t&&"[object String]"===a.call(e),h=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var p=l&&n;if(s&&e.length>0&&!i.call(e,0))for(var v=0;v<e.length;++v)h.push(String(v));if(r&&e.length>0)for(var m=0;m<e.length;++m)h.push(String(m));else for(var g in e)p&&"prototype"===g||!i.call(e,g)||h.push(String(g));if(u)for(var y=function(e){if("undefined"===typeof window||!d)return f(e);try{return f(e)}catch(t){return!1}}(e),b=0;b<c.length;++b)y&&"constructor"===c[b]||!i.call(e,c[b])||h.push(c[b]);return h}}e.exports=r},4892:function(e,t,n){"use strict";var r=Array.prototype.slice,i=n(7635),a=Object.keys,o=a?function(e){return a(e)}:n(1949),s=Object.keys;o.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return i(e)?s(r.call(e)):s(e)})}else Object.keys=o;return Object.keys||o},e.exports=o},7635:function(e){"use strict";var t=Object.prototype.toString;e.exports=function(e){var n=t.call(e),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),r}},1811:function(e,t,n){"use strict";var r=n(4892),i=n(3297)(),a=n(4037),o=Object,s=a("Array.prototype.push"),u=a("Object.prototype.propertyIsEnumerable"),l=i?Object.getOwnPropertySymbols:null;e.exports=function(e,t){if(null==e)throw new TypeError("target must be an object");var n=o(e);if(1===arguments.length)return n;for(var a=1;a<arguments.length;++a){var c=o(arguments[a]),f=r(c),h=i&&(Object.getOwnPropertySymbols||l);if(h)for(var d=h(c),p=0;p<d.length;++p){var v=d[p];u(c,v)&&s(f,v)}for(var m=0;m<f.length;++m){var g=f[m];if(u(c,g)){var y=c[g];n[g]=y}}}return n}},4624:function(e,t,n){"use strict";var r=n(9396),i=n(9722),a=n(1811),o=n(6814),s=n(1966),u=i.apply(o()),l=function(e,t){return u(Object,arguments)};r(l,{getPolyfill:o,implementation:a,shim:s}),e.exports=l},6814:function(e,t,n){"use strict";var r=n(1811);e.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),n={},r=0;r<t.length;++r)n[t[r]]=t[r];var i=Object.assign({},n),a="";for(var o in i)a+=o;return e!==a}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1}()?r:Object.assign:r}},1966:function(e,t,n){"use strict";var r=n(9396),i=n(6814);e.exports=function(){var e=i();return r(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e}},1852:function(e,t,n){var r=/^[\],:{}\s]*$/,i=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,a=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,o=/(?:^|:|,)(?:\s*\[)+/g,s=/^\s+/,u=/\s+$/;e.exports=function(e){return"string"==typeof e&&e?(e=e.replace(s,"").replace(u,""),n.g.JSON&&JSON.parse?JSON.parse(e):r.test(e.replace(i,"@").replace(a,"]").replace(o,""))?new Function("return "+e)():void 0):null}},5988:function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var a=n[r].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}},1176:function(e){var t=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var r=e,i=e.indexOf("["),a=e.indexOf("]");-1!=i&&-1!=a&&(e=e.substring(0,i)+e.substring(i,a).replace(/:/g,";")+e.substring(a,e.length));for(var o=t.exec(e||""),s={},u=14;u--;)s[n[u]]=o[u]||"";return-1!=i&&-1!=a&&(s.source=r,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},8872:function(e){(function(){var t,n,r,i,a,o;"undefined"!==typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!==typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-a)/1e6},n=process.hrtime,i=(t=function(){var e;return 1e9*(e=n())[0]+e[1]})(),o=1e9*process.uptime(),a=i-o):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)},5165:function(e){var t=null,n=["Webkit","Moz","O","ms"];e.exports=function(e){t||(t=document.createElement("div"));var r=t.style;if(e in r)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),a=n.length;a>=0;a--){var o=n[a]+i;if(o in r)return o}return!1}},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},9874:function(e){"use strict";var t=String.prototype.replace,n=/%20/g,r="RFC1738",i="RFC3986";e.exports={default:i,formatters:{RFC1738:function(e){return t.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:r,RFC3986:i}},2808:function(e,t,n){"use strict";var r=n(2334),i=n(4360),a=n(9874);e.exports={formats:a,parse:i,stringify:r}},4360:function(e,t,n){"use strict";var r=n(4184),i=Object.prototype.hasOwnProperty,a=Array.isArray,o={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},u=function(e,t){return e&&"string"===typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},l=function(e,t,n,r){if(e){var a=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,s=n.depth>0&&/(\[[^[\]]*])/.exec(a),l=s?a.slice(0,s.index):a,c=[];if(l){if(!n.plainObjects&&i.call(Object.prototype,l)&&!n.allowPrototypes)return;c.push(l)}for(var f=0;n.depth>0&&null!==(s=o.exec(a))&&f<n.depth;){if(f+=1,!n.plainObjects&&i.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(s[1])}return s&&c.push("["+a.slice(s.index)+"]"),function(e,t,n,r){for(var i=r?t:u(t,n),a=e.length-1;a>=0;--a){var o,s=e[a];if("[]"===s&&n.parseArrays)o=[].concat(i);else{o=n.plainObjects?Object.create(null):{};var l="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,c=parseInt(l,10);n.parseArrays||""!==l?!isNaN(c)&&s!==l&&String(c)===l&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(o=[])[c]=i:"__proto__"!==l&&(o[l]=i):o={0:i}}i=o}return i}(c,t,n,r)}};e.exports=function(e,t){var n=function(e){if(!e)return o;if(null!==e.decoder&&void 0!==e.decoder&&"function"!==typeof e.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t="undefined"===typeof e.charset?o.charset:e.charset;return{allowDots:"undefined"===typeof e.allowDots?o.allowDots:!!e.allowDots,allowPrototypes:"boolean"===typeof e.allowPrototypes?e.allowPrototypes:o.allowPrototypes,allowSparse:"boolean"===typeof e.allowSparse?e.allowSparse:o.allowSparse,arrayLimit:"number"===typeof e.arrayLimit?e.arrayLimit:o.arrayLimit,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:o.charsetSentinel,comma:"boolean"===typeof e.comma?e.comma:o.comma,decoder:"function"===typeof e.decoder?e.decoder:o.decoder,delimiter:"string"===typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:o.delimiter,depth:"number"===typeof e.depth||!1===e.depth?+e.depth:o.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"===typeof e.interpretNumericEntities?e.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"===typeof e.parameterLimit?e.parameterLimit:o.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"===typeof e.plainObjects?e.plainObjects:o.plainObjects,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:o.strictNullHandling}}(t);if(""===e||null===e||"undefined"===typeof e)return n.plainObjects?Object.create(null):{};for(var c="string"===typeof e?function(e,t){var n,l={__proto__:null},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,f=t.parameterLimit===1/0?void 0:t.parameterLimit,h=c.split(t.delimiter,f),d=-1,p=t.charset;if(t.charsetSentinel)for(n=0;n<h.length;++n)0===h[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===h[n]?p="utf-8":"utf8=%26%2310003%3B"===h[n]&&(p="iso-8859-1"),d=n,n=h.length);for(n=0;n<h.length;++n)if(n!==d){var v,m,g=h[n],y=g.indexOf("]="),b=-1===y?g.indexOf("="):y+1;-1===b?(v=t.decoder(g,o.decoder,p,"key"),m=t.strictNullHandling?null:""):(v=t.decoder(g.slice(0,b),o.decoder,p,"key"),m=r.maybeMap(u(g.slice(b+1),t),(function(e){return t.decoder(e,o.decoder,p,"value")}))),m&&t.interpretNumericEntities&&"iso-8859-1"===p&&(m=s(m)),g.indexOf("[]=")>-1&&(m=a(m)?[m]:m),i.call(l,v)?l[v]=r.combine(l[v],m):l[v]=m}return l}(e,n):e,f=n.plainObjects?Object.create(null):{},h=Object.keys(c),d=0;d<h.length;++d){var p=h[d],v=l(p,c[p],n,"string"===typeof e);f=r.merge(f,v,n)}return!0===n.allowSparse?f:r.compact(f)}},2334:function(e,t,n){"use strict";var r=n(581),i=n(4184),a=n(9874),o=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},u=Array.isArray,l=Array.prototype.push,c=function(e,t){l.apply(e,u(t)?t:[t])},f=Date.prototype.toISOString,h=a.default,d={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,format:h,formatter:a.formatters[h],indices:!1,serializeDate:function(e){return f.call(e)},skipNulls:!1,strictNullHandling:!1},p={},v=function e(t,n,a,o,s,l,f,h,v,m,g,y,b,_,x,k){for(var w=t,S=k,T=0,E=!1;void 0!==(S=S.get(p))&&!E;){var C=S.get(t);if(T+=1,"undefined"!==typeof C){if(C===T)throw new RangeError("Cyclic object value");E=!0}"undefined"===typeof S.get(p)&&(T=0)}if("function"===typeof h?w=h(n,w):w instanceof Date?w=g(w):"comma"===a&&u(w)&&(w=i.maybeMap(w,(function(e){return e instanceof Date?g(e):e}))),null===w){if(s)return f&&!_?f(n,d.encoder,x,"key",y):n;w=""}if(function(e){return"string"===typeof e||"number"===typeof e||"boolean"===typeof e||"symbol"===typeof e||"bigint"===typeof e}(w)||i.isBuffer(w))return f?[b(_?n:f(n,d.encoder,x,"key",y))+"="+b(f(w,d.encoder,x,"value",y))]:[b(n)+"="+b(String(w))];var A,P=[];if("undefined"===typeof w)return P;if("comma"===a&&u(w))_&&f&&(w=i.maybeMap(w,f)),A=[{value:w.length>0?w.join(",")||null:void 0}];else if(u(h))A=h;else{var I=Object.keys(w);A=v?I.sort(v):I}for(var O=o&&u(w)&&1===w.length?n+"[]":n,M=0;M<A.length;++M){var R=A[M],N="object"===typeof R&&"undefined"!==typeof R.value?R.value:w[R];if(!l||null!==N){var D=u(w)?"function"===typeof a?a(O,R):O:O+(m?"."+R:"["+R+"]");k.set(t,T);var B=r();B.set(p,k),c(P,e(N,D,a,o,s,l,"comma"===a&&_&&u(w)?null:f,h,v,m,g,y,b,_,x,B))}}return P};e.exports=function(e,t){var n,i=e,l=function(e){if(!e)return d;if(null!==e.encoder&&"undefined"!==typeof e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||d.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=a.default;if("undefined"!==typeof e.format){if(!o.call(a.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=a.formatters[n],i=d.filter;return("function"===typeof e.filter||u(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:d.addQueryPrefix,allowDots:"undefined"===typeof e.allowDots?d.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:d.charsetSentinel,delimiter:"undefined"===typeof e.delimiter?d.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:d.encode,encoder:"function"===typeof e.encoder?e.encoder:d.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:d.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:d.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:d.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:d.strictNullHandling}}(t);"function"===typeof l.filter?i=(0,l.filter)("",i):u(l.filter)&&(n=l.filter);var f,h=[];if("object"!==typeof i||null===i)return"";f=t&&t.arrayFormat in s?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var p=s[f];if(t&&"commaRoundTrip"in t&&"boolean"!==typeof t.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var m="comma"===p&&t&&t.commaRoundTrip;n||(n=Object.keys(i)),l.sort&&n.sort(l.sort);for(var g=r(),y=0;y<n.length;++y){var b=n[y];l.skipNulls&&null===i[b]||c(h,v(i[b],b,p,m,l.strictNullHandling,l.skipNulls,l.encode?l.encoder:null,l.filter,l.sort,l.allowDots,l.serializeDate,l.format,l.formatter,l.encodeValuesOnly,l.charset,g))}var _=h.join(l.delimiter),x=!0===l.addQueryPrefix?"?":"";return l.charsetSentinel&&("iso-8859-1"===l.charset?x+="utf8=%26%2310003%3B&":x+="utf8=%E2%9C%93&"),_.length>0?x+_:""}},4184:function(e,t,n){"use strict";var r=n(9874),i=Object.prototype.hasOwnProperty,a=Array.isArray,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)"undefined"!==typeof e[r]&&(n[r]=e[r]);return n};e.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],o=i.obj[i.prop],s=Object.keys(o),u=0;u<s.length;++u){var l=s[u],c=o[l];"object"===typeof c&&null!==c&&-1===n.indexOf(c)&&(t.push({obj:o,prop:l}),n.push(c))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(a(n)){for(var r=[],i=0;i<n.length;++i)"undefined"!==typeof n[i]&&r.push(n[i]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(i){return r}},encode:function(e,t,n,i,a){if(0===e.length)return e;var s=e;if("symbol"===typeof e?s=Symbol.prototype.toString.call(e):"string"!==typeof e&&(s=String(e)),"iso-8859-1"===n)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var u="",l=0;l<s.length;++l){var c=s.charCodeAt(l);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||a===r.RFC1738&&(40===c||41===c)?u+=s.charAt(l):c<128?u+=o[c]:c<2048?u+=o[192|c>>6]+o[128|63&c]:c<55296||c>=57344?u+=o[224|c>>12]+o[128|c>>6&63]+o[128|63&c]:(l+=1,c=65536+((1023&c)<<10|1023&s.charCodeAt(l)),u+=o[240|c>>18]+o[128|c>>12&63]+o[128|c>>6&63]+o[128|63&c])}return u},isBuffer:function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(a(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!==typeof n){if(a(t))t.push(n);else{if(!t||"object"!==typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!i.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!==typeof t)return[t].concat(n);var o=t;return a(t)&&!a(n)&&(o=s(t,r)),a(t)&&a(n)?(n.forEach((function(n,a){if(i.call(t,a)){var o=t[a];o&&"object"===typeof o&&n&&"object"===typeof n?t[a]=e(o,n,r):t.push(n)}else t[a]=n})),t):Object.keys(n).reduce((function(t,a){var o=n[a];return i.call(t,a)?t[a]=e(t[a],o,r):t[a]=o,t}),o)}}},5475:function(e,t,n){for(var r=n(8872),i="undefined"===typeof window?n.g:window,a=["moz","webkit"],o="AnimationFrame",s=i["request"+o],u=i["cancel"+o]||i["cancelRequest"+o],l=0;!s&&l<a.length;l++)s=i[a[l]+"Request"+o],u=i[a[l]+"Cancel"+o]||i[a[l]+"CancelRequest"+o];if(!s||!u){var c=0,f=0,h=[];s=function(e){if(0===h.length){var t=r(),n=Math.max(0,16.666666666666668-(t-c));c=n+t,setTimeout((function(){var e=h.slice(0);h.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(n){setTimeout((function(){throw n}),0)}}),Math.round(n))}return h.push({handle:++f,callback:e,cancelled:!1}),f},u=function(e){for(var t=0;t<h.length;t++)h[t].handle===e&&(h[t].cancelled=!0)}}e.exports=function(e){return s.call(i,e)},e.exports.cancel=function(){u.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=s,e.cancelAnimationFrame=u}},1149:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Scrollbars=void 0;var c=s(n(2791)),f=n(2791),h=s(n(5475)),d=l(n(6356)),p=n(2210),v=n(6460),m=function(e){function t(t){var n=e.call(this,t)||this;return n.container=null,n.dragging=!1,n.scrolling=!1,n.trackMouseOver=!1,n.styles=(0,v.createStyles)(n.props.disableDefaultStyles),n.getScrollLeft=n.getScrollLeft.bind(n),n.getScrollTop=n.getScrollTop.bind(n),n.getScrollWidth=n.getScrollWidth.bind(n),n.getScrollHeight=n.getScrollHeight.bind(n),n.getClientWidth=n.getClientWidth.bind(n),n.getClientHeight=n.getClientHeight.bind(n),n.getValues=n.getValues.bind(n),n.getThumbHorizontalWidth=n.getThumbHorizontalWidth.bind(n),n.getThumbVerticalHeight=n.getThumbVerticalHeight.bind(n),n.getScrollLeftForOffset=n.getScrollLeftForOffset.bind(n),n.getScrollTopForOffset=n.getScrollTopForOffset.bind(n),n.scrollLeft=n.scrollLeft.bind(n),n.scrollTop=n.scrollTop.bind(n),n.scrollToLeft=n.scrollToLeft.bind(n),n.scrollToTop=n.scrollToTop.bind(n),n.scrollToRight=n.scrollToRight.bind(n),n.scrollToBottom=n.scrollToBottom.bind(n),n.handleTrackMouseEnter=n.handleTrackMouseEnter.bind(n),n.handleTrackMouseLeave=n.handleTrackMouseLeave.bind(n),n.handleHorizontalTrackMouseDown=n.handleHorizontalTrackMouseDown.bind(n),n.handleVerticalTrackMouseDown=n.handleVerticalTrackMouseDown.bind(n),n.handleHorizontalThumbMouseDown=n.handleHorizontalThumbMouseDown.bind(n),n.handleVerticalThumbMouseDown=n.handleVerticalThumbMouseDown.bind(n),n.handleWindowResize=n.handleWindowResize.bind(n),n.handleScroll=n.handleScroll.bind(n),n.handleDrag=n.handleDrag.bind(n),n.handleDragEnd=n.handleDragEnd.bind(n),n.state={didMountUniversal:!1,scrollbarWidth:(0,p.getScrollbarWidth)()},n}return r(t,e),t.prototype.componentDidMount=function(){this.addListeners(),this.update(),this.componentDidMountUniversal()},t.prototype.componentDidMountUniversal=function(){this.props.universal&&this.setState({didMountUniversal:!0})},t.prototype.componentDidUpdate=function(){this.update()},t.prototype.componentWillUnmount=function(){this.removeListeners(),this.requestFrame&&(0,h.cancel)(this.requestFrame),clearTimeout(this.hideTracksTimeout),clearInterval(this.detectScrollingInterval)},t.prototype.getScrollLeft=function(){return this.view?this.view.scrollLeft:0},t.prototype.getScrollTop=function(){return this.view?this.view.scrollTop:0},t.prototype.getScrollWidth=function(){return this.view?this.view.scrollWidth:0},t.prototype.getScrollHeight=function(){return this.view?this.view.scrollHeight:0},t.prototype.getClientWidth=function(){return this.view?this.view.clientWidth:0},t.prototype.getClientHeight=function(){return this.view?this.view.clientHeight:0},t.prototype.getValues=function(){var e=this.view||{},t=e.scrollLeft,n=void 0===t?0:t,r=e.scrollTop,i=void 0===r?0:r,a=e.scrollWidth,o=void 0===a?0:a,s=e.scrollHeight,u=void 0===s?0:s,l=e.clientWidth,c=void 0===l?0:l,f=e.clientHeight,h=void 0===f?0:f;return{left:n/(o-c)||0,top:i/(u-h)||0,scrollLeft:n,scrollTop:i,scrollWidth:o,scrollHeight:u,clientWidth:c,clientHeight:h}},t.prototype.getThumbHorizontalWidth=function(){if(!this.view||!this.trackHorizontal)return 0;var e=this.props,t=e.thumbSize,n=e.thumbMinSize,r=this.view,i=r.scrollWidth,a=r.clientWidth,o=(0,p.getInnerWidth)(this.trackHorizontal),s=Math.ceil(a/i*o);return o===s?0:t||Math.max(s,n)},t.prototype.getThumbVerticalHeight=function(){if(!this.view||!this.trackVertical)return 0;var e=this.props,t=e.thumbSize,n=e.thumbMinSize,r=this.view,i=r.scrollHeight,a=r.clientHeight,o=(0,p.getInnerHeight)(this.trackVertical),s=Math.ceil(a/i*o);return o===s?0:t||Math.max(s,n)},t.prototype.getScrollLeftForOffset=function(e){if(!this.view||!this.trackHorizontal)return 0;var t=this.view,n=t.scrollWidth,r=t.clientWidth;return e/((0,p.getInnerWidth)(this.trackHorizontal)-this.getThumbHorizontalWidth())*(n-r)},t.prototype.getScrollTopForOffset=function(e){if(!this.view||!this.trackVertical)return 0;var t=this.view,n=t.scrollHeight,r=t.clientHeight;return e/((0,p.getInnerHeight)(this.trackVertical)-this.getThumbVerticalHeight())*(n-r)},t.prototype.scrollLeft=function(e){void 0===e&&(e=0),this.view&&(this.view.scrollLeft=e)},t.prototype.scrollTop=function(e){void 0===e&&(e=0),this.view&&(this.view.scrollTop=e)},t.prototype.scrollToLeft=function(){this.view&&(this.view.scrollLeft=0)},t.prototype.scrollToTop=function(){this.view&&(this.view.scrollTop=0)},t.prototype.scrollToRight=function(){this.view&&(this.view.scrollLeft=this.view.scrollWidth)},t.prototype.scrollToBottom=function(){this.view&&(this.view.scrollTop=this.view.scrollHeight)},t.prototype.scrollToY=function(e){this.view&&(this.view.scrollTop=e)},t.prototype.addListeners=function(){if("undefined"!==typeof document&&this.view&&this.trackHorizontal&&this.trackVertical&&this.thumbVertical&&this.thumbHorizontal){var e=this,t=e.view,n=e.trackHorizontal,r=e.trackVertical,i=e.thumbHorizontal,a=e.thumbVertical;t.addEventListener("scroll",this.handleScroll),this.state.scrollbarWidth&&(n.addEventListener("mouseenter",this.handleTrackMouseEnter),n.addEventListener("mouseleave",this.handleTrackMouseLeave),n.addEventListener("mousedown",this.handleHorizontalTrackMouseDown),r.addEventListener("mouseenter",this.handleTrackMouseEnter),r.addEventListener("mouseleave",this.handleTrackMouseLeave),r.addEventListener("mousedown",this.handleVerticalTrackMouseDown),i.addEventListener("mousedown",this.handleHorizontalThumbMouseDown),a.addEventListener("mousedown",this.handleVerticalThumbMouseDown),window.addEventListener("resize",this.handleWindowResize))}},t.prototype.removeListeners=function(){if("undefined"!==typeof document&&this.view&&this.trackHorizontal&&this.trackVertical&&this.thumbVertical&&this.thumbHorizontal){var e=this,t=e.view,n=e.trackHorizontal,r=e.trackVertical,i=e.thumbHorizontal,a=e.thumbVertical;t.removeEventListener("scroll",this.handleScroll),this.state.scrollbarWidth&&(n.removeEventListener("mouseenter",this.handleTrackMouseEnter),n.removeEventListener("mouseleave",this.handleTrackMouseLeave),n.removeEventListener("mousedown",this.handleHorizontalTrackMouseDown),r.removeEventListener("mouseenter",this.handleTrackMouseEnter),r.removeEventListener("mouseleave",this.handleTrackMouseLeave),r.removeEventListener("mousedown",this.handleVerticalTrackMouseDown),i.removeEventListener("mousedown",this.handleHorizontalThumbMouseDown),a.removeEventListener("mousedown",this.handleVerticalThumbMouseDown),window.removeEventListener("resize",this.handleWindowResize),this.teardownDragging())}},t.prototype.handleScroll=function(e){var t=this,n=this.props,r=n.onScroll,i=n.onScrollFrame;r&&r(e),this.update((function(e){var n=e.scrollLeft,r=e.scrollTop;t.viewScrollLeft=n,t.viewScrollTop=r,i&&i(e)})),this.detectScrolling()},t.prototype.handleScrollStart=function(){var e=this.props.onScrollStart;e&&e(),this.handleScrollStartAutoHide()},t.prototype.handleScrollStartAutoHide=function(){this.props.autoHide&&this.showTracks()},t.prototype.handleScrollStop=function(){var e=this.props.onScrollStop;e&&e(),this.handleScrollStopAutoHide()},t.prototype.handleScrollStopAutoHide=function(){this.props.autoHide&&this.hideTracks()},t.prototype.handleWindowResize=function(){this.update()},t.prototype.handleHorizontalTrackMouseDown=function(e){if(this.view){e.preventDefault();var t=e.target,n=e.clientX,r=t.getBoundingClientRect().left,i=this.getThumbHorizontalWidth(),a=Math.abs(r-n)-i/2;this.view.scrollLeft=this.getScrollLeftForOffset(a)}},t.prototype.handleVerticalTrackMouseDown=function(e){if(this.view){e.preventDefault();var t=e.target,n=e.clientY,r=t.getBoundingClientRect().top,i=this.getThumbVerticalHeight(),a=Math.abs(r-n)-i/2;this.view.scrollTop=this.getScrollTopForOffset(a)}},t.prototype.handleHorizontalThumbMouseDown=function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,n=e.clientX,r=t.offsetWidth,i=t.getBoundingClientRect().left;this.prevPageX=r-(n-i)},t.prototype.handleVerticalThumbMouseDown=function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,n=e.clientY,r=t.offsetHeight,i=t.getBoundingClientRect().top;this.prevPageY=r-(n-i)},t.prototype.setupDragging=function(){(0,d.default)(document.body,this.styles.disableSelectStyle),document.addEventListener("mousemove",this.handleDrag),document.addEventListener("mouseup",this.handleDragEnd),document.onselectstart=p.returnFalse},t.prototype.teardownDragging=function(){(0,d.default)(document.body,this.styles.disableSelectStyleReset),document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleDragEnd),document.onselectstart=null},t.prototype.handleDragStart=function(e){this.dragging=!0,e.stopImmediatePropagation(),this.setupDragging()},t.prototype.handleDrag=function(e){if(this.prevPageX&&this.trackHorizontal&&this.view){var t=e.clientX,n=-this.trackHorizontal.getBoundingClientRect().left+t-(this.getThumbHorizontalWidth()-this.prevPageX);this.view.scrollLeft=this.getScrollLeftForOffset(n)}if(this.prevPageY&&this.trackVertical&&this.view){var r=e.clientY;n=-this.trackVertical.getBoundingClientRect().top+r-(this.getThumbVerticalHeight()-this.prevPageY);this.view.scrollTop=this.getScrollTopForOffset(n)}return!1},t.prototype.handleDragEnd=function(){this.dragging=!1,this.prevPageX=this.prevPageY=0,this.teardownDragging(),this.handleDragEndAutoHide()},t.prototype.handleDragEndAutoHide=function(){this.props.autoHide&&this.hideTracks()},t.prototype.handleTrackMouseEnter=function(){this.trackMouseOver=!0,this.handleTrackMouseEnterAutoHide()},t.prototype.handleTrackMouseEnterAutoHide=function(){this.props.autoHide&&this.showTracks()},t.prototype.handleTrackMouseLeave=function(){this.trackMouseOver=!1,this.handleTrackMouseLeaveAutoHide()},t.prototype.handleTrackMouseLeaveAutoHide=function(){this.props.autoHide&&this.hideTracks()},t.prototype.showTracks=function(){clearTimeout(this.hideTracksTimeout),(0,d.default)(this.trackHorizontal,{opacity:1}),(0,d.default)(this.trackVertical,{opacity:1})},t.prototype.hideTracks=function(){var e=this;if(!this.dragging&&!this.scrolling&&!this.trackMouseOver){var t=this.props.autoHideTimeout;clearTimeout(this.hideTracksTimeout),this.hideTracksTimeout=setTimeout((function(){(0,d.default)(e.trackHorizontal,{opacity:0}),(0,d.default)(e.trackVertical,{opacity:0})}),t)}},t.prototype.detectScrolling=function(){var e=this;this.scrolling||(this.scrolling=!0,this.handleScrollStart(),this.detectScrollingInterval=setInterval((function(){e.lastViewScrollLeft===e.viewScrollLeft&&e.lastViewScrollTop===e.viewScrollTop&&(clearInterval(e.detectScrollingInterval),e.scrolling=!1,e.handleScrollStop()),e.lastViewScrollLeft=e.viewScrollLeft,e.lastViewScrollTop=e.viewScrollTop}),100))},t.prototype.raf=function(e){var t=this;this.requestFrame&&h.default.cancel(this.requestFrame),this.requestFrame=(0,h.default)((function(){t.requestFrame=void 0,e()}))},t.prototype.update=function(e){var t=this;this.raf((function(){return t._update(e)}))},t.prototype._update=function(e){var t=this.props,n=t.onUpdate,r=t.hideTracksWhenNotNeeded,i=this.getValues(),a=(0,p.getScrollbarWidth)();if(this.state.scrollbarWidth!==a&&this.setState({scrollbarWidth:a}),this.state.scrollbarWidth){var o=i.scrollLeft,s=i.clientWidth,u=i.scrollWidth,l=(0,p.getInnerWidth)(this.trackHorizontal),c=this.getThumbHorizontalWidth(),f={width:c,transform:"translateX(".concat(o/(u-s)*(l-c),"px)")},h=i.scrollTop,v=i.clientHeight,m=i.scrollHeight,g=(0,p.getInnerHeight)(this.trackVertical),y=this.getThumbVerticalHeight(),b={height:y,transform:"translateY(".concat(h/(m-v)*(g-y),"px)")};if(r){var _={visibility:u>s?"visible":"hidden"},x={visibility:m>v?"visible":"hidden"};(0,d.default)(this.trackHorizontal,_),(0,d.default)(this.trackVertical,x)}(0,d.default)(this.thumbHorizontal,f),(0,d.default)(this.thumbVertical,b)}n&&n(i),"function"===typeof e&&e(i)},t.prototype.render=function(){var e=this,t=this.state,n=t.scrollbarWidth,r=t.didMountUniversal,a=this.props,o=a.autoHeight,s=a.autoHeightMax,l=a.autoHeightMin,c=a.autoHide,h=a.autoHideDuration,d=(a.autoHideTimeout,a.children),v=(a.classes,a.hideTracksWhenNotNeeded,a.onScroll,a.onScrollFrame,a.onScrollStart,a.onScrollStop,a.onUpdate,a.renderThumbHorizontal),m=a.renderThumbVertical,g=a.renderTrackHorizontal,y=a.renderTrackVertical,b=a.renderView,_=a.style,x=a.tagName,k=(a.thumbMinSize,a.thumbSize,a.universal),w=(a.disableDefaultStyles,u(a,["autoHeight","autoHeightMax","autoHeightMin","autoHide","autoHideDuration","autoHideTimeout","children","classes","hideTracksWhenNotNeeded","onScroll","onScrollFrame","onScrollStart","onScrollStop","onUpdate","renderThumbHorizontal","renderThumbVertical","renderTrackHorizontal","renderTrackVertical","renderView","style","tagName","thumbMinSize","thumbSize","universal","disableDefaultStyles"])),S=this.styles,T=S.containerStyleAutoHeight,E=S.containerStyleDefault,C=S.thumbStyleDefault,A=S.trackHorizontalStyleDefault,P=S.trackVerticalStyleDefault,I=S.viewStyleAutoHeight,O=S.viewStyleDefault,M=S.viewStyleUniversalInitial,R=i(i(i({},E),o&&i(i({},T),{minHeight:l,maxHeight:s})),_),N=i(i(i(i(i({},O),{marginRight:n?-n:0,marginBottom:n?-n:0}),o&&i(i({},I),{minHeight:"string"===typeof l?"calc(".concat(l," + ").concat(n,"px)"):l+n,maxHeight:"string"===typeof s?"calc(".concat(s," + ").concat(n,"px)"):s+n})),o&&k&&!r&&{minHeight:l,maxHeight:s}),k&&!r&&M),D={transition:"opacity ".concat(h,"ms"),opacity:0},B=i(i(i({},A),c&&D),(!n||k&&!r)&&{display:"none"}),L=i(i(i({},P),c&&D),(!n||k&&!r)&&{display:"none"}),j=(0,p.getFinalClasses)(this.props);return(0,f.createElement)(x,i(i({},w),{className:j.root,style:R,ref:function(t){e.container=t}}),[(0,f.cloneElement)(b({style:N,className:j.view}),{key:"view",ref:function(t){e.view=t}},d),(0,f.cloneElement)(g({style:B,className:j.trackHorizontal}),{key:"trackHorizontal",ref:function(t){e.trackHorizontal=t}},(0,f.cloneElement)(v({style:C,className:j.thumbHorizontal}),{ref:function(t){e.thumbHorizontal=t}})),(0,f.cloneElement)(y({style:L,className:j.trackVertical}),{key:"trackVertical",ref:function(t){e.trackVertical=t}},(0,f.cloneElement)(m({style:C,className:j.thumbVertical}),{ref:function(t){e.thumbVertical=t}}))])},t.defaultProps={autoHeight:!1,autoHeightMax:200,autoHeightMin:0,autoHide:!1,autoHideDuration:200,autoHideTimeout:1e3,disableDefaultStyles:!1,hideTracksWhenNotNeeded:!1,renderThumbHorizontal:function(e){return c.createElement("div",i({},e))},renderThumbVertical:function(e){return c.createElement("div",i({},e))},renderTrackHorizontal:function(e){return c.createElement("div",i({},e))},renderTrackVertical:function(e){return c.createElement("div",i({},e))},renderView:function(e){return c.createElement("div",i({},e))},tagName:"div",thumbMinSize:30,universal:!1},t}(f.Component);t.Scrollbars=m},6460:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createStyles=void 0,t.createStyles=function(e){var t=n({position:"absolute",right:2,bottom:2,zIndex:100},!e&&{borderRadius:3});return{containerStyleDefault:{position:"relative",overflow:"hidden",width:"100%",height:"100%"},containerStyleAutoHeight:{height:"auto"},viewStyleDefault:{position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"},viewStyleAutoHeight:{position:"relative",top:void 0,left:void 0,right:void 0,bottom:void 0},viewStyleUniversalInitial:{overflow:"hidden",marginRight:0,marginBottom:0},trackHorizontalStyleDefault:n(n({},t),{left:2,height:6}),trackVerticalStyleDefault:n(n({},t),{top:2,width:6}),thumbStyleDefault:n({position:"relative",display:"block",height:"100%",cursor:"pointer",borderRadius:"inherit"},!e&&{backgroundColor:"rgba(0,0,0,.2)"}),disableSelectStyle:{userSelect:"none"},disableSelectStyleReset:{userSelect:"auto"}}}},5076:function(e,t,n){"use strict";t.$B=void 0;var r=n(1149);Object.defineProperty(t,"$B",{enumerable:!0,get:function(){return r.Scrollbars}}),t.ZP=r.Scrollbars},8809:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return 0;var t=e.clientHeight,n=getComputedStyle(e),r=n.paddingTop,i=n.paddingBottom;return t-parseFloat(r)-parseFloat(i)}},4053:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return 0;var t=e.clientWidth,n=getComputedStyle(e),r=n.paddingLeft,i=n.paddingRight;return t-parseFloat(r)-parseFloat(i)}},5538:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(6356)),a=void 0,o=u();function s(){var e=document.createElement("div");(0,i.default)(e,{width:100,height:100,position:"absolute",top:-9999,overflow:"scroll",MsOverflowStyle:"scrollbar"}),document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function u(){return"undefined"===typeof window?1:window.screen.availWidth/document.documentElement.clientWidth}t.default=function(){var e=u();return o!==e&&(a=s(),o=e),"number"===typeof a?a:(a="undefined"!==typeof document?s():0)||0}},2210:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.returnFalse=t.getFinalClasses=t.isString=t.getScrollbarWidth=t.getInnerWidth=t.getInnerHeight=void 0;var i=n(8809);Object.defineProperty(t,"getInnerHeight",{enumerable:!0,get:function(){return r(i).default}});var a=n(4053);Object.defineProperty(t,"getInnerWidth",{enumerable:!0,get:function(){return r(a).default}});var o=n(5538);Object.defineProperty(t,"getScrollbarWidth",{enumerable:!0,get:function(){return r(o).default}});var s=n(3162);Object.defineProperty(t,"isString",{enumerable:!0,get:function(){return r(s).default}});var u=n(8331);Object.defineProperty(t,"getFinalClasses",{enumerable:!0,get:function(){return r(u).default}});var l=n(1895);Object.defineProperty(t,"returnFalse",{enumerable:!0,get:function(){return r(l).default}})},3162:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"===typeof e}},8331:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)},r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i={root:"rc-scrollbars-container",view:"rc-scrollbars-view",trackVertical:"rc-scrollbars-track rc-scrollbars-track-v",trackHorizontal:"rc-scrollbars-track rc-scrollbars-track-h",thumbVertical:"rc-scrollbars-thumb rc-scrollbars-thumb-v",thumbHorizontal:"rc-scrollbars-thumb rc-scrollbars-thumb-h"};t.default=function(e){var t=e.className,a=e.classes,o=i.root,s=r(i,["root"]);return n({root:[o,t,null===a||void 0===a?void 0:a.root].filter(Boolean).join(" ")},function(e,t){return t?Object.keys(e).reduce((function(n,r){return n[r]="".concat(e[r]," ").concat(t[r]||""),n}),{}):e}(s,e.classes))}},1895:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return!1}},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),k=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),C=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var B,L=Object.assign;function j(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case k:return"Portal";case T:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){Z(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,we=null,Se=null;function Te(e){if(e=bi(e)){if("function"!==typeof ke)throw Error(a(280));var t=e.stateNode;t&&(t=xi(t),ke(e.stateNode,e.type,t))}}function Ee(e){we?Se?Se.push(e):Se=[e]:we=e}function Ce(){if(we){var e=we,t=Se;if(Se=we=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ae(e,t){return e(t)}function Pe(){}var Ie=!1;function Oe(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Ae(e,t,n)}finally{Ie=!1,(null!==we||null!==Se)&&(Pe(),Ce())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(c)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ce){Re=!1}function De(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Be=!1,Le=null,je=!1,Fe=null,Ue={onError:function(e){Be=!0,Le=e}};function ze(e,t,n,r,i,a,o,s,u){Be=!1,Le=null,De.apply(Ue,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ve(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Xe=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ke=i.unstable_requestPaint,Ze=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,kt,wt,St,Tt,Et=!1,Ct=[],At=null,Pt=null,It=null,Ot=new Map,Mt=new Map,Rt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function Bt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=yi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Tt(e.priority,(function(){wt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function Ft(e,t,n){jt(e)&&n.delete(t)}function Ut(){Et=!1,null!==At&&jt(At)&&(At=null),null!==Pt&&jt(Pt)&&(Pt=null),null!==It&&jt(It)&&(It=null),Ot.forEach(Ft),Mt.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Vt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&zt(At,e),null!==Pt&&zt(Pt,e),null!==It&&zt(It,e),Ot.forEach(t),Mt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Rt.shift()}var Ht=_.ReactCurrentBatchConfig,Wt=!0;function Gt(e,t,n,r){var i=bt,a=Ht.transition;Ht.transition=null;try{bt=1,Xt(e,t,n,r)}finally{bt=i,Ht.transition=a}}function qt(e,t,n,r){var i=bt,a=Ht.transition;Ht.transition=null;try{bt=4,Xt(e,t,n,r)}finally{bt=i,Ht.transition=a}}function Xt(e,t,n,r){if(Wt){var i=Qt(e,t,n,r);if(null===i)Wr(e,t,r,Yt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return At=Bt(At,e,t,n,r,i),!0;case"dragenter":return Pt=Bt(Pt,e,t,n,r,i),!0;case"mouseover":return It=Bt(It,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Bt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Mt.set(a,Bt(Mt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&xt(a),null===(a=Qt(e,t,n,r))&&Wr(e,t,r,Yt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Yt=null;function Qt(e,t,n,r){if(Yt=null,null!==(e=yi(e=xe(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,$t=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=$t,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),fn=L({},ln,{view:0,detail:0}),hn=an(fn),dn=L({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(L({},dn,{dataTransfer:0})),mn=an(L({},fn,{relatedTarget:0})),gn=an(L({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),_n=an(L({},ln,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Tn(){return Sn}var En=L({},fn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(En),An=an(L({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=an(L({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),In=an(L({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=L({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=an(On),Rn=[9,13,27,32],Nn=c&&"CompositionEvent"in window,Dn=null;c&&"documentMode"in document&&(Dn=document.documentMode);var Bn=c&&"TextEvent"in window&&!Dn,Ln=c&&(!Nn||Dn&&8<Dn&&11>=Dn),jn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ee(r),0<(t=qr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Xn=null;function Yn(e){jr(e,0)}function Qn(e){if(X(_i(e)))return e}function Kn(e,t){if("change"===e)return t}var Zn=!1;if(c){var $n;if(c){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}$n=Jn}else $n=!1;Zn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Xn=qn=null)}function nr(e){if("value"===e.propertyName&&Qn(Xn)){var t=[];Gn(t,Xn,e,xe(e)),Oe(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Xn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Xn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Y(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=qr(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},wr={},Sr={};function Tr(e){if(wr[e])return wr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return wr[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Er=Tr("animationend"),Cr=Tr("animationiteration"),Ar=Tr("animationstart"),Pr=Tr("transitionend"),Ir=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,t){Ir.set(e,t),u(t,[e])}for(var Rr=0;Rr<Or.length;Rr++){var Nr=Or[Rr];Mr(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Mr(Er,"onAnimationEnd"),Mr(Cr,"onAnimationIteration"),Mr(Ar,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(Pr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Br=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(ze.apply(this,arguments),Be){if(!Be)throw Error(a(198));var c=Le;Be=!1,Le=null,je||(je=!0,Fe=c)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Lr(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Lr(i,s,l),a=u}}}if(je)throw e=Fe,je=!1,Fe=null,e}function Fr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Br.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Kt(t)){case 1:var i=Gt;break;case 4:i=qt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Oe((function(){var r=a,i=xe(n),o=[];e:{var s=Ir.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":l="focus",u=mn;break;case"focusout":l="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Er:case Cr:case Ar:u=gn;break;case Pr:u=In;break;case"scroll":u=hn;break;case"wheel":u=Mn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=An}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Me(p,h))&&c.push(Gr(p,v,d)))),f)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===_e||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(f=Ve(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=An,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:_i(u),d=null==l?s:_i(l),(s=new c(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,yi(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=d,c.relatedTarget=f,v=c),f=v,u&&l)e:{for(h=l,p=0,d=c=u;d;d=Xr(d))p++;for(d=0,v=h;v;v=Xr(v))d++;for(;0<p-d;)c=Xr(c),p--;for(;0<d-p;)h=Xr(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Xr(c),h=Xr(h)}c=null}else c=null;null!==u&&Yr(o,s,u,c,!1),null!==l&&null!==f&&Yr(o,f,l,c,!0)}if("select"===(u=(s=r?_i(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Kn;else if(Wn(s))if(Zn)m=or;else{m=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?_i(r):window,e){case"focusin":(Wn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":_r(o,n,i)}var y;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=en()):($t="value"in(Zt=i)?Zt.value:Zt.textContent,Vn=!0)),0<(g=qr(r,b)).length&&(b=new _n(b,e,null,n,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Bn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,jn);case"textInput":return(e=t.data)===jn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Nn&&Un(e,t)?(e=en(),Jt=$t=Zt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}jr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Me(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Me(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Xr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Me(n,a))&&o.unshift(Gr(n,u,s)):i||null!=(u=Me(n,a))&&o.push(Gr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Kr,"")}function $r(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _i(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function xi(e){return e[di]||null}var ki=[],wi=-1;function Si(e){return{current:e}}function Ti(e){0>wi||(e.current=ki[wi],ki[wi]=null,wi--)}function Ei(e,t){wi++,ki[wi]=e.current,e.current=t}var Ci={},Ai=Si(Ci),Pi=Si(!1),Ii=Ci;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ti(Pi),Ti(Ai)}function Ni(e,t,n){if(Ai.current!==Ci)throw Error(a(168));Ei(Ai,t),Ei(Pi,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,H(e)||"Unknown",i));return L({},n,r)}function Bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ii=Ai.current,Ei(Ai,e),Ei(Pi,Pi.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Di(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,Ti(Pi),Ti(Ai),Ei(Ai,e)):Ti(Pi),Ei(Pi,n)}var ji=null,Fi=!1,Ui=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Vi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Fi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Xe(Je,Vi),i}finally{bt=t,Ui=!1}}return null}var Hi=[],Wi=0,Gi=null,qi=0,Xi=[],Yi=0,Qi=null,Ki=1,Zi="";function $i(e,t){Hi[Wi++]=qi,Hi[Wi++]=Gi,Gi=e,qi=t}function Ji(e,t,n){Xi[Yi++]=Ki,Xi[Yi++]=Zi,Xi[Yi++]=Qi,Qi=e;var r=Ki;e=Zi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ki=1<<32-ot(t)+i|n<<i|r,Zi=a+e}else Ki=1<<a|n<<i|r,Zi=e}function ea(e){null!==e.return&&($i(e,1),Ji(e,1,0))}function ta(e){for(;e===Gi;)Gi=Hi[--Wi],Hi[Wi]=null,qi=Hi[--Wi],Hi[Wi]=null;for(;e===Qi;)Qi=Xi[--Yi],Xi[Yi]=null,Zi=Xi[--Yi],Xi[Yi]=null,Ki=Xi[--Yi],Xi[Yi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Ml(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Ki,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ml(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=li(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=_.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Si(null),ya=null,ba=null,_a=null;function xa(){_a=ba=ya=null}function ka(e){var t=ga.current;Ti(ga),e._currentValue=t}function wa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ya=e,_a=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_s=!0),e.firstContext=null)}function Ta(e){var t=e._currentValue;if(_a!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ya)throw Error(a(308));ba=e,ya.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ea=null;function Ca(e){null===Ea?Ea=[e]:Ea.push(e)}function Aa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ca(t)):(n.next=i.next,i.next=n),t.interleaved=n,Pa(e,r)}function Pa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ia=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ma(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Na(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Pu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Pa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ca(r)):(t.next=i.next,i.next=t),r.interleaved=t,Pa(e,n)}function Da(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ba(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function La(e,t,n,r){var i=e.updateQueue;Ia=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,c=l=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=L({},f,h);break e;case 2:Ia=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=d,u=f):c=c.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Lu|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Fa=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Na(e,a,i))&&(rl(t,e,i,r),Da(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Na(e,a,i))&&(rl(t,e,i,r),Da(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Na(e,i,r))&&(rl(t,e,r,n),Da(t,e,r))}};function Va(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function Ha(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=Ta(a):(i=Mi(t)?Ii:Ai.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fa,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ta(a):(a=Mi(t)?Ii:Ai.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),La(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function qa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Fa&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Xa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ya(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Nl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=jl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===w?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===M&&Ya(a)===t.type)?((r=i(t,n.props)).ref=qa(e,t,n),r.return=e,r):((r=Dl(n.type,n.key,n.props,null,e.mode,r)).ref=qa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Bl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Dl(t.type,t.key,t.props,null,e.mode,n)).ref=qa(e,null,t),n.return=e,n;case k:return(t=Fl(t,e.mode,n)).return=e,t;case M:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Bl(t,e.mode,n,null)).return=e,t;Xa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?l(e,t,n,r):null;case k:return n.key===i?c(e,t,n,r):null;case M:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:f(e,t,n,r,null);Xa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case M:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return f(t,e=e.get(n)||null,r,i,null);Xa(t,r)}return null}function v(i,a,s,u){for(var l=null,c=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===c?l=g:c.sibling=g,c=g,f=m}if(v===s.length)return n(i,f),ia&&$i(i,v),l;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===c?l=f:c.sibling=f,c=f);return ia&&$i(i,v),l}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&$i(i,v),l}function m(i,s,u,l){var c=D(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var f=c=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=d(i,v,y.value,l);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===f?c=b:f.sibling=b,f=b,v=g}if(y.done)return n(i,v),ia&&$i(i,m),c;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=h(i,y.value,l))&&(s=o(y,s,m),null===f?c=y:f.sibling=y,f=y);return ia&&$i(i,m),c}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,l))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===f?c=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&$i(i,m),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===w&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===w){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===M&&Ya(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=qa(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===w?((a=Bl(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Dl(o.type,o.key,o.props,null,r.mode,u)).ref=qa(r,a,o),u.return=r,r=u)}return s(r);case k:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fl(o,r.mode,u)).return=r,r=a}return s(r);case M:return e(r,a,(c=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(D(o))return m(r,a,o,u);Xa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jl(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ka=Qa(!0),Za=Qa(!1),$a={},Ja=Si($a),eo=Si($a),to=Si($a);function no(e){if(e===$a)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Ja,$a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Ja),Ei(Ja,t)}function io(){Ti(Ja),Ti(eo),Ti(to)}function ao(e){no(to.current);var t=no(Ja.current),n=ue(t,e.type);t!==n&&(Ei(eo,e),Ei(Ja,n))}function oo(e){eo.current===e&&(Ti(Ja),Ti(eo))}var so=Si(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var fo=_.ReactCurrentDispatcher,ho=_.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,bo=!1,_o=0,xo=0;function ko(){throw Error(a(321))}function wo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),bo){o=0;do{if(bo=!1,_o=0,25<=o)throw Error(a(301));o+=1,go=mo=null,t.updateQueue=null,fo.current=ls,e=n(r,i)}while(bo)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,t)throw Error(a(300));return e}function To(){var e=0!==_o;return _o=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function Co(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function Ao(e,t){return"function"===typeof t?t(e):t}function Po(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,l=null,c=o;do{var f=c.lane;if((po&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=h,s=r):l=l.next=h,vo.lanes|=f,Lu|=f}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(_s=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Lu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Io(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(_s=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Mo(e,t){var n=vo,r=Co(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,_s=!0),r=r.queue,Wo(Do.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Fo(9,No.bind(null,n,r,i,t),void 0,null),null===Iu)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function No(e,t,n,r){t.value=n,t.getSnapshot=r,Bo(t)&&Lo(e)}function Do(e,t,n){return n((function(){Bo(t)&&Lo(e)}))}function Bo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Lo(e){var t=Pa(e,1);null!==t&&rl(t,e,1,-1)}function jo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return Co().memoizedState}function zo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=Fo(1|t,n,void 0,void 0===r?null:r)}function Vo(e,t,n,r){var i=Co();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&wo(r,o.deps))return void(i.memoizedState=Fo(t,n,a,r))}vo.flags|=e,i.memoizedState=Fo(1|t,n,a,r)}function Ho(e,t){return zo(8390656,8,e,t)}function Wo(e,t){return Vo(2048,8,e,t)}function Go(e,t){return Vo(4,2,e,t)}function qo(e,t){return Vo(4,4,e,t)}function Xo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Yo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4,4,Xo.bind(null,t,e),n)}function Qo(){}function Ko(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&wo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Zo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&wo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,_s=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Lu|=n,e.baseState=!0),t)}function Jo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function es(){return Co().memoizedState}function ts(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Aa(e,t,n,r))){rl(n,e,r,tl()),as(n,t,r)}}function ns(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ca(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Aa(e,t,i,r))&&(rl(n,e,r,i=tl()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Ta,useCallback:ko,useContext:ko,useEffect:ko,useImperativeHandle:ko,useInsertionEffect:ko,useLayoutEffect:ko,useMemo:ko,useReducer:ko,useRef:ko,useState:ko,useDebugValue:ko,useDeferredValue:ko,useTransition:ko,useMutableSource:ko,useSyncExternalStore:ko,useId:ko,unstable_isNewReconciler:!1},ss={readContext:Ta,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:Ho,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Xo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:jo,useDebugValue:Qo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Jo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Iu)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ho(Do.bind(null,r,o,e),[e]),r.flags|=2048,Fo(9,No.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Iu.identifierPrefix;if(ia){var n=Zi;t=":"+t+"R"+(n=(Ki&~(1<<32-ot(Ki)-1)).toString(32)+n),0<(n=_o++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ta,useCallback:Ko,useContext:Ta,useEffect:Wo,useImperativeHandle:Yo,useInsertionEffect:Go,useLayoutEffect:qo,useMemo:Zo,useReducer:Po,useRef:Uo,useState:function(){return Po(Ao)},useDebugValue:Qo,useDeferredValue:function(e){return $o(Co(),mo.memoizedState,e)},useTransition:function(){return[Po(Ao)[0],Co().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Mo,useId:es,unstable_isNewReconciler:!1},ls={readContext:Ta,useCallback:Ko,useContext:Ta,useEffect:Wo,useImperativeHandle:Yo,useInsertionEffect:Go,useLayoutEffect:qo,useMemo:Zo,useReducer:Io,useRef:Uo,useState:function(){return Io(Ao)},useDebugValue:Qo,useDeferredValue:function(e){var t=Co();return null===mo?t.memoizedState=e:$o(t,mo.memoizedState,e)},useTransition:function(){return[Io(Ao)[0],Co().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Mo,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gu||(Gu=!0,qu=r),hs(0,t)},n}function vs(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Xu?Xu=new Set([this]):Xu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=El.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Na(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=_.ReactCurrentOwner,_s=!1;function xs(e,t,n,r){t.child=null===e?Za(t,null,n,r):Ka(t,e.child,n,r)}function ks(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=To(),null===e||_s?(ia&&n&&ea(t),t.flags|=1,xs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function ws(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Gs(e,t,i)}return t.flags|=1,(e=Nl(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(_s=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Gs(e,t,i);0!==(131072&e.flags)&&(_s=!0)}}return Cs(e,t,n,r,i)}function Ts(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Nu,Ru),Ru|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Nu,Ru),Ru|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Nu,Ru),Ru|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Nu,Ru),Ru|=r;return xs(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var a=Mi(n)?Ii:Ai.current;return a=Oi(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=To(),null===e||_s?(ia&&r&&ea(t),t.flags|=1,xs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function As(e,t,n,r,i){if(Mi(n)){var a=!0;Bi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Ws(e,t),Ha(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ta(l):l=Oi(t,l=Mi(n)?Ii:Ai.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Wa(t,o,r,l),Ia=!1;var h=t.memoizedState;o.state=h,La(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Pi.current||Ia?("function"===typeof c&&(Ua(t,n,c,r),u=t.memoizedState),(s=Ia||Va(t,n,s,r,h,u,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ma(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ma(t.type,s),o.props=l,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ta(u):u=Oi(t,u=Mi(n)?Ii:Ai.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Wa(t,o,r,u),Ia=!1,h=t.memoizedState,o.state=h,La(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Pi.current||Ia?("function"===typeof d&&(Ua(t,n,d,r),p=t.memoizedState),(l=Ia||Va(t,n,l,r,h,p,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ps(e,t,n,r,a,i)}function Ps(e,t,n,r,i,a){Es(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Li(t,n,!1),Gs(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ka(t,e.child,null,a),t.child=Ka(t,null,s,a)):xs(e,t,s,a),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Is(e){var t=e.stateNode;t.pendingContext?Ni(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ni(0,t.context,!1),ro(e,t.containerInfo)}function Os(e,t,n,r,i){return da(),pa(i),t.flags|=256,xs(e,t,n,r),t.child}var Ms,Rs,Ns,Ds,Bs={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(so,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Ll(u,i,0,null),e=Bl(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Bs,e):Fs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ll({mode:"visible",children:r.children},i,0,null),(o=Bl(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ka(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Bs,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),_s||u){if(null!==(r=Iu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Pa(e,i),rl(r,e,i,-1))}return ml(),Us(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Al.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Xi[Yi++]=Ki,Xi[Yi++]=Zi,Xi[Yi++]=Qi,Ki=e.id,Zi=e.overflow,Qi=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Nl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Nl(r,s):(s=Bl(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ls(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Bs,i}return e=(s=e.child).sibling,i=Nl(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Ll({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&pa(r),Ka(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wa(e.return,t,n)}function Vs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Hs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xs(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,a);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Nl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ys(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xs(t),null;case 1:case 17:return Mi(t.type)&&Ri(),Xs(t),null;case 3:return r=t.stateNode,io(),Ti(Pi),Ti(Ai),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sl(aa),aa=null))),Rs(e,t),Xs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ns(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Xs(t),null}if(e=no(Ja.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Fr(Dr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":K(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Fr("scroll",r)}switch(n){case"input":q(r),J(r,o,!0);break;case"textarea":q(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Ms(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Fr(Dr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":K(e,r),i=Q(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ye(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Fr("scroll",e):null!=c&&b(e,o,c,u))}switch(n){case"input":q(e),J(e,r,!1);break;case"textarea":q(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Xs(t),null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Ja.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Xs(t),null;case 13:if(Ti(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Xs(t),o=!1}else null!==aa&&(sl(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Du&&(Du=3):ml())),null!==t.updateQueue&&(t.flags|=4),Xs(t),null);case 4:return io(),Rs(e,t),null===e&&Vr(t.stateNode.containerInfo),Xs(t),null;case 10:return ka(t.type._context),Xs(t),null;case 19:if(Ti(so),null===(o=t.memoizedState))return Xs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)qs(o,!1);else{if(0!==Du||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,qs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Ze()>Hu&&(t.flags|=128,r=!0,qs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Xs(t),null}else 2*Ze()-o.renderingStartTime>Hu&&1073741824!==n&&(t.flags|=128,r=!0,qs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ze(),t.sibling=null,n=so.current,Ei(so,r?1&n|2:1&n),t):(Xs(t),null);case 22:case 23:return hl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ru)&&(Xs(t),6&t.subtreeFlags&&(t.flags|=8192)):Xs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qs(e,t){switch(ta(t),t.tag){case 1:return Mi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ti(Pi),Ti(Ai),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ti(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(so),null;case 4:return io(),null;case 10:return ka(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}Ms=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(){},Ns=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Ja.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Fr("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ks=!1,Zs=!1,$s="function"===typeof WeakSet?WeakSet:Set,Js=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tl(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Tl(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var fu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Zs||eu(n,t);case 6:var r=fu,i=hu;fu=null,du(e,t,n),hu=i,null!==(fu=r)&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Vt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=hu,fu=n.stateNode.containerInfo,hu=!0,du(e,t,n),fu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Zs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Zs&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Tl(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Zs=(r=Zs)||null!==n.memoizedState,du(e,t,n),Zs=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach((function(t){var r=Pl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,hu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,hu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Tl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),yu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Tl(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Tl(e,e.return,m)}}break;case 1:mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Tl(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&Z(i,o),be(u,s);var c=be(u,o);for(s=0;s<l.length;s+=2){var f=l[s],h=l[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,c)}switch(u){case"input":$(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Tl(e,e.return,m)}}break;case 6:if(mu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Tl(e,e.return,m)}}break;case 3:if(mu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(m){Tl(e,e.return,m)}break;case 4:default:mu(t,e),yu(e);break;case 13:mu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vu=Ze())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Zs=(c=Zs)||f,mu(t,e),Zs=c):mu(t,e),yu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Js=e,f=e.child;null!==f;){for(h=Js=f;null!==Js;){switch(p=(d=Js).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Tl(r,n,m)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){ku(h);continue}}null!==p?(p.return=d,Js=p):ku(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ve("display",s))}catch(m){Tl(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){Tl(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mu(t,e),yu(e),4&r&&vu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;lu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Tl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,n){Js=e,_u(e,t,n)}function _u(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ks;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Zs;s=Ks;var l=Zs;if(Ks=o,(Zs=u)&&!l)for(Js=i;null!==Js;)u=(o=Js).child,22===o.tag&&null!==o.memoizedState?wu(i):null!==u?(u.return=o,Js=u):wu(i);for(;null!==a;)Js=a,_u(a,t,n),a=a.sibling;Js=i,Ks=s,Zs=l}xu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Js=a):xu(e)}}function xu(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Zs||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Zs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(a(163))}Zs||512&t.flags&&au(t)}catch(d){Tl(t,t.return,d)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function ku(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function wu(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Tl(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Tl(t,i,u)}}var a=t.return;try{au(t)}catch(u){Tl(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Tl(t,o,u)}}}catch(u){Tl(t,t.return,u)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var Su,Tu=Math.ceil,Eu=_.ReactCurrentDispatcher,Cu=_.ReactCurrentOwner,Au=_.ReactCurrentBatchConfig,Pu=0,Iu=null,Ou=null,Mu=0,Ru=0,Nu=Si(0),Du=0,Bu=null,Lu=0,ju=0,Fu=0,Uu=null,zu=null,Vu=0,Hu=1/0,Wu=null,Gu=!1,qu=null,Xu=null,Yu=!1,Qu=null,Ku=0,Zu=0,$u=null,Ju=-1,el=0;function tl(){return 0!==(6&Pu)?Ze():-1!==Ju?Ju:Ju=Ze()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Pu)&&0!==Mu?Mu&-Mu:null!==va.transition?(0===el&&(el=vt()),el):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function rl(e,t,n,r){if(50<Zu)throw Zu=0,$u=null,Error(a(185));gt(e,n,r),0!==(2&Pu)&&e===Iu||(e===Iu&&(0===(2&Pu)&&(ju|=n),4===Du&&ul(e,Mu)),il(e,r),1===n&&0===Pu&&0===(1&t.mode)&&(Hu=Ze()+500,Fi&&Vi()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Iu?Mu:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Fi=!0,zi(e)}(ll.bind(null,e)):zi(ll.bind(null,e)),oi((function(){0===(6&Pu)&&Vi()})),n=null;else{switch(_t(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Il(n,al.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function al(e,t){if(Ju=-1,el=0,0!==(6&Pu))throw Error(a(327));var n=e.callbackNode;if(wl()&&e.callbackNode!==n)return null;var r=ht(e,e===Iu?Mu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gl(e,r);else{t=r;var i=Pu;Pu|=2;var o=vl();for(Iu===e&&Mu===t||(Wu=null,Hu=Ze()+500,dl(e,t));;)try{bl();break}catch(u){pl(e,u)}xa(),Eu.current=o,Pu=i,null!==Ou?t=0:(Iu=null,Mu=0,t=Du)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ol(e,i))),1===t)throw n=Bu,dl(e,0),ul(e,r),il(e,Ze()),n;if(6===t)ul(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gl(e,r))&&(0!==(o=pt(e))&&(r=o,t=ol(e,o))),1===t))throw n=Bu,dl(e,0),ul(e,r),il(e,Ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:kl(e,zu,Wu);break;case 3:if(ul(e,r),(130023424&r)===r&&10<(t=Vu+500-Ze())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(kl.bind(null,e,zu,Wu),t);break}kl(e,zu,Wu);break;case 4:if(ul(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tu(r/1960))-r)){e.timeoutHandle=ri(kl.bind(null,e,zu,Wu),r);break}kl(e,zu,Wu);break;default:throw Error(a(329))}}}return il(e,Ze()),e.callbackNode===n?al.bind(null,e):null}function ol(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=gl(e,t))&&(t=zu,zu=n,null!==t&&sl(t)),e}function sl(e){null===zu?zu=e:zu.push.apply(zu,e)}function ul(e,t){for(t&=~Fu,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Pu))throw Error(a(327));wl();var t=ht(e,0);if(0===(1&t))return il(e,Ze()),null;var n=gl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Bu,dl(e,0),ul(e,t),il(e,Ze()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kl(e,zu,Wu),il(e,Ze()),null}function cl(e,t){var n=Pu;Pu|=1;try{return e(t)}finally{0===(Pu=n)&&(Hu=Ze()+500,Fi&&Vi())}}function fl(e){null!==Qu&&0===Qu.tag&&0===(6&Pu)&&wl();var t=Pu;Pu|=1;var n=Au.transition,r=bt;try{if(Au.transition=null,bt=1,e)return e()}finally{bt=r,Au.transition=n,0===(6&(Pu=t))&&Vi()}}function hl(){Ru=Nu.current,Ti(Nu)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ou)for(n=Ou.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Ti(Pi),Ti(Ai),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ti(so);break;case 10:ka(r.type._context);break;case 22:case 23:hl()}n=n.return}if(Iu=e,Ou=e=Nl(e.current,null),Mu=Ru=t,Du=0,Bu=null,Fu=ju=Lu=0,zu=Uu=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function pl(e,t){for(;;){var n=Ou;try{if(xa(),fo.current=os,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=mo=vo=null,bo=!1,_o=0,Cu.current=null,null===n||null===n.return){Du=1,Bu=t,Ou=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Mu,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ms(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){ms(o,c,t),ml();break e}l=Error(a(426))}else if(ia&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),pa(cs(l,u));break e}}o=l=cs(l,u),4!==Du&&(Du=2),null===Uu?Uu=[o]:Uu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ba(o,ps(0,l,t));break e;case 1:u=l;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Xu||!Xu.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ba(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}xl(n)}catch(_){t=_,Ou===n&&null!==n&&(Ou=n=n.return);continue}break}}function vl(){var e=Eu.current;return Eu.current=os,null===e?os:e}function ml(){0!==Du&&3!==Du&&2!==Du||(Du=4),null===Iu||0===(268435455&Lu)&&0===(268435455&ju)||ul(Iu,Mu)}function gl(e,t){var n=Pu;Pu|=2;var r=vl();for(Iu===e&&Mu===t||(Wu=null,dl(e,t));;)try{yl();break}catch(i){pl(e,i)}if(xa(),Pu=n,Eu.current=r,null!==Ou)throw Error(a(261));return Iu=null,Mu=0,Du}function yl(){for(;null!==Ou;)_l(Ou)}function bl(){for(;null!==Ou&&!Qe();)_l(Ou)}function _l(e){var t=Su(e.alternate,e,Ru);e.memoizedProps=e.pendingProps,null===t?xl(e):Ou=t,Cu.current=null}function xl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ys(n,t,Ru)))return void(Ou=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Ou=n);if(null===e)return Du=6,void(Ou=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ou=t);Ou=t=e}while(null!==t);0===Du&&(Du=5)}function kl(e,t,n){var r=bt,i=Au.transition;try{Au.transition=null,bt=1,function(e,t,n,r){do{wl()}while(null!==Qu);if(0!==(6&Pu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Iu&&(Ou=Iu=null,Mu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yu||(Yu=!0,Il(tt,(function(){return wl(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Au.transition,Au.transition=null;var s=bt;bt=1;var u=Pu;Pu|=4,Cu.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var s=0,u=-1,l=-1,c=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(l=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++c===i&&(u=s),d===o&&++f===r&&(l=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(a(163))}}catch(x){Tl(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}v=nu,nu=!1}(e,n),gu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,bu(n,e,i),Ke(),Pu=u,bt=s,Au.transition=o}else e.current=n;if(Yu&&(Yu=!1,Qu=e,Ku=i),o=e.pendingLanes,0===o&&(Xu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Gu)throw Gu=!1,e=qu,qu=null,e;0!==(1&Ku)&&0!==e.tag&&wl(),o=e.pendingLanes,0!==(1&o)?e===$u?Zu++:(Zu=0,$u=e):Zu=0,Vi()}(e,t,n,r)}finally{Au.transition=i,bt=r}return null}function wl(){if(null!==Qu){var e=_t(Ku),t=Au.transition,n=bt;try{if(Au.transition=null,bt=16>e?16:e,null===Qu)var r=!1;else{if(e=Qu,Qu=null,Ku=0,0!==(6&Pu))throw Error(a(331));var i=Pu;for(Pu|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Js=c;null!==Js;){var f=Js;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var h=f.child;if(null!==h)h.return=f,Js=h;else for(;null!==Js;){var d=(f=Js).sibling,p=f.return;if(ou(f),f===c){Js=null;break}if(null!==d){d.return=p,Js=d;break}Js=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Js=y;break e}Js=o.return}}var b=e.current;for(Js=b;null!==Js;){var _=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==_)_.return=s,Js=_;else e:for(s=b;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(k){Tl(u,u.return,k)}if(u===s){Js=null;break e}var x=u.sibling;if(null!==x){x.return=u.return,Js=x;break e}Js=u.return}}if(Pu=i,Vi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(k){}r=!0}return r}finally{bt=n,Au.transition=t}}return!1}function Sl(e,t,n){e=Na(e,t=ps(0,t=cs(n,t),1),1),t=tl(),null!==e&&(gt(e,1,t),il(e,t))}function Tl(e,t,n){if(3===e.tag)Sl(e,e,n);else for(;null!==t;){if(3===t.tag){Sl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r))){t=Na(t,e=vs(t,e=cs(n,e),1),1),e=tl(),null!==t&&(gt(t,1,e),il(t,e));break}}t=t.return}}function El(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Iu===e&&(Mu&n)===n&&(4===Du||3===Du&&(130023424&Mu)===Mu&&500>Ze()-Vu?dl(e,0):Fu|=n),il(e,t)}function Cl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tl();null!==(e=Pa(e,t))&&(gt(e,t,n),il(e,n))}function Al(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cl(e,n)}function Pl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Cl(e,n)}function Il(e,t){return Xe(e,t)}function Ol(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ml(e,t,n,r){return new Ol(e,t,n,r)}function Rl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nl(e,t){var n=e.alternate;return null===n?((n=Ml(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dl(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Rl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case w:return Bl(n.children,i,o,t);case S:s=8,i|=8;break;case T:return(e=Ml(12,n,t,2|i)).elementType=T,e.lanes=o,e;case P:return(e=Ml(13,n,t,i)).elementType=P,e.lanes=o,e;case I:return(e=Ml(19,n,t,i)).elementType=I,e.lanes=o,e;case R:return Ll(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case C:s=9;break e;case A:s=11;break e;case O:s=14;break e;case M:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ml(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Bl(e,t,n,r){return(e=Ml(7,e,r,t)).lanes=n,e}function Ll(e,t,n,r){return(e=Ml(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function jl(e,t,n){return(e=Ml(6,e,null,t)).lanes=n,e}function Fl(e,t,n){return(t=Ml(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ul(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zl(e,t,n,r,i,a,o,s,u){return e=new Ul(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ml(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function Vl(e){if(!e)return Ci;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Mi(n))return Di(e,n,t)}return t}function Hl(e,t,n,r,i,a,o,s,u){return(e=zl(n,r,!0,e,0,a,0,s,u)).context=Vl(null),n=e.current,(a=Ra(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,Na(n,a,i),e.current.lanes=i,gt(e,i,r),il(e,r),e}function Wl(e,t,n,r){var i=t.current,a=tl(),o=nl(i);return n=Vl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Na(i,t,o))&&(rl(e,i,o,a),Da(e,i,o)),o}function Gl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ql(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xl(e,t){ql(e,t),(e=e.alternate)&&ql(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)_s=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _s=!1,function(e,t,n){switch(t.tag){case 3:Is(t),da();break;case 5:ao(t);break;case 1:Mi(t.type)&&Bi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Ei(so,1&so.current),null!==(e=Gs(e,t,n))?e.sibling:null);Ei(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Hs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,n)}return Gs(e,t,n)}(e,t,n);_s=0!==(131072&e.flags)}else _s=!1,ia&&0!==(1048576&t.flags)&&Ji(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Oi(t,Ai.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=To();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mi(r)?(o=!0,Bi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=Ps(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),xs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===O)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=As(null,t,r,e,n);break e;case 11:t=ks(null,t,r,e,n);break e;case 14:t=ws(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,As(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Is(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ma(e,t),La(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Os(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=Os(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Za(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Gs(e,t,n);break e}xs(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Es(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&la(t),null;case 13:return js(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ka(t,null,r,n):xs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ei(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Pi.current){t=Gs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Ra(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),wa(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),wa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}xs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ta(i)),t.flags|=1,xs(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),ws(e,t,r,i=ma(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Ws(e,t),t.tag=1,Mi(r)?(e=!0,Bi(t)):e=!1,Sa(t,n),Ha(t,r,i),Ga(t,r,i,n),Ps(null,t,r,!0,e,n);case 19:return Hs(e,t,n);case 22:return Ts(e,t,n)}throw Error(a(156,t.tag))};var Yl="function"===typeof reportError?reportError:function(e){console.error(e)};function Ql(e){this._internalRoot=e}function Kl(e){this._internalRoot=e}function Zl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jl(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Gl(o);s.call(e)}}Wl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gl(o);a.call(e)}}var o=Hl(t,r,e,0,null,!1,0,"",Jl);return e._reactRootContainer=o,e[pi]=o.current,Vr(8===e.nodeType?e.parentNode:e),fl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Gl(u);s.call(e)}}var u=zl(e,0,!1,null,0,!1,0,"",Jl);return e._reactRootContainer=u,e[pi]=u.current,Vr(8===e.nodeType?e.parentNode:e),fl((function(){Wl(t,u,n,r)})),u}(n,t,e,i,r);return Gl(o)}Kl.prototype.render=Ql.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wl(e,t,null,null)},Kl.prototype.unmount=Ql.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fl((function(){Wl(null,e,null,null)})),t[pi]=null}},Kl.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Lt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),il(t,Ze()),0===(6&Pu)&&(Hu=Ze()+500,Vi()))}break;case 13:fl((function(){var t=Pa(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Xl(e,1)}},kt=function(e){if(13===e.tag){var t=Pa(e,134217728);if(null!==t)rl(t,e,134217728,tl());Xl(e,134217728)}},wt=function(e){if(13===e.tag){var t=nl(e),n=Pa(e,t);if(null!==n)rl(n,e,t,tl());Xl(e,t)}},St=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(a(90));X(r),$(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=cl,Pe=fl;var tc={usingClientEntryPoint:!1,Events:[bi,_i,xi,Ee,Ce,cl]},nc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zl(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Zl(e))throw Error(a(299));var n=!1,r="",i=Yl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Ql(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return fl(e)},t.hydrate=function(e,t,n){if(!$l(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Yl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hl(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Kl(t)},t.render=function(e,t,n){if(!$l(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$l(e))throw Error(a(40));return!!e._reactRootContainer&&(fl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$l(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},4038:function(e,t,n){var r=n(861).default,i=n(8416).default,a=n(7424).default;var o=n(2791);function s(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var u=s(o);!function(e){if(e&&"undefined"!==typeof window){var t=document.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t)}}('.marquee-container {\n  overflow-x: hidden !important;\n  display: flex !important;\n  flex-direction: row !important;\n  position: relative;\n  width: var(--width);\n  transform: var(--transform);\n}\n.marquee-container:hover div {\n  animation-play-state: var(--pause-on-hover);\n}\n.marquee-container:active div {\n  animation-play-state: var(--pause-on-click);\n}\n\n.overlay {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n.overlay::before, .overlay::after {\n  background: linear-gradient(to right, var(--gradient-color));\n  content: "";\n  height: 100%;\n  position: absolute;\n  width: var(--gradient-width);\n  z-index: 2;\n}\n.overlay::after {\n  right: 0;\n  top: 0;\n  transform: rotateZ(180deg);\n}\n.overlay::before {\n  left: 0;\n  top: 0;\n}\n\n.marquee {\n  flex: 0 0 auto;\n  min-width: var(--min-width);\n  z-index: 1;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);\n  animation-play-state: var(--play);\n  animation-delay: var(--delay);\n  animation-direction: var(--direction);\n}\n@keyframes scroll {\n  0% {\n    transform: translateX(0%);\n  }\n  100% {\n    transform: translateX(-100%);\n  }\n}\n\n.initial-child-container {\n  flex: 0 0 auto;\n  display: flex;\n  min-width: auto;\n  flex-direction: row;\n}\n\n.child {\n  transform: var(--transform);\n}');var l=o.forwardRef((function(e,t){var n=e.style,s=void 0===n?{}:n,l=e.className,c=void 0===l?"":l,f=e.autoFill,h=void 0!==f&&f,d=e.play,p=void 0===d||d,v=e.pauseOnHover,m=void 0!==v&&v,g=e.pauseOnClick,y=void 0!==g&&g,b=e.direction,_=void 0===b?"left":b,x=e.speed,k=void 0===x?50:x,w=e.delay,S=void 0===w?0:w,T=e.loop,E=void 0===T?0:T,C=e.gradient,A=void 0!==C&&C,P=e.gradientColor,I=void 0===P?[255,255,255]:P,O=e.gradientWidth,M=void 0===O?200:O,R=e.onFinish,N=e.onCycleComplete,D=e.children,B=o.useState(0),L=a(B,2),j=L[0],F=L[1],U=o.useState(0),z=a(U,2),V=z[0],H=z[1],W=o.useState(1),G=a(W,2),q=G[0],X=G[1],Y=o.useState(!1),Q=a(Y,2),K=Q[0],Z=Q[1],$=o.useRef(null),J=t||$,ee=o.useRef(null),te=o.useCallback((function(){if(ee.current&&J.current){var e=J.current.getBoundingClientRect(),t=ee.current.getBoundingClientRect(),n=e.width,r=t.width;"up"!==_&&"down"!==_||(n=e.height,r=t.height),X(h&&n&&r&&r<n?Math.ceil(n/r):1),F(n),H(r)}}),[h,J,_]);o.useEffect((function(){if(K&&(te(),ee.current&&J.current)){var e=new ResizeObserver((function(){return te()}));return e.observe(J.current),e.observe(ee.current),function(){e&&e.disconnect()}}}),[te,J,K]),o.useEffect((function(){te()}),[te,D]),o.useEffect((function(){Z(!0)}),[]);var ne=o.useMemo((function(){return h?V*q/k:V<j?j/k:V/k}),[h,j,V,q,k]),re="rgba(".concat(I[0],", ").concat(I[1],", ").concat(I[2]),ie=o.useMemo((function(){var e;return Object.assign(Object.assign({},s),(i(e={},"--pause-on-hover",!p||m?"paused":"running"),i(e,"--pause-on-click",!p||m&&!y||y?"paused":"running"),i(e,"--width","up"===_||"down"===_?"100vh":"100%"),i(e,"--transform","up"===_?"rotate(-90deg)":"down"===_?"rotate(90deg)":"none"),e))}),[s,p,m,y,_]),ae=o.useMemo((function(){var e;return i(e={},"--gradient-color","".concat(re,", 1), ").concat(re,", 0)")),i(e,"--gradient-width","number"===typeof M?"".concat(M,"px"):M),e}),[re,M]),oe=o.useMemo((function(){var e;return i(e={},"--play",p?"running":"paused"),i(e,"--direction","left"===_?"normal":"reverse"),i(e,"--duration","".concat(ne,"s")),i(e,"--delay","".concat(S,"s")),i(e,"--iteration-count",E?"".concat(E):"infinite"),i(e,"--min-width",h?"auto":"100%"),e}),[p,_,ne,S,E,h]),se=o.useMemo((function(){return i({},"--transform","up"===_?"rotate(90deg)":"down"===_?"rotate(-90deg)":"none")}),[_]),ue=o.useCallback((function(e){return r(Array(Number.isFinite(e)&&e>=0?e:0)).map((function(e,t){return u.default.createElement(o.Fragment,{key:t},o.Children.map(D,(function(e){return u.default.createElement("div",{style:se,className:"child"},e)})))}))}),[se,D]);return K?u.default.createElement("div",{ref:J,style:ie,className:"marquee-container "+c},A&&u.default.createElement("div",{style:ae,className:"overlay"}),u.default.createElement("div",{className:"marquee",style:oe,onAnimationIteration:N,onAnimationEnd:R},u.default.createElement("div",{className:"initial-child-container",ref:ee},o.Children.map(D,(function(e){return u.default.createElement("div",{style:se,className:"child"},e)}))),ue(q-1)),u.default.createElement("div",{className:"marquee",style:oe},ue(q))):null}));t.Z=l},3688:function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function a(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function o(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,o=null,s=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?o="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(o="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==o||null!==s){var u=e.displayName||e.name,l="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=a;var c=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,e,t,r)}}return e}n.r(t),n.d(t,{polyfill:function(){return o}}),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0},2240:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2791),o=p(a),s=p(n(4164)),u=p(n(2007)),l=p(n(4334)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5858)),f=n(3663),h=p(f),d=n(3688);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var m=t.portalClassName="ReactModalPortal",g=t.bodyOpenClassName="ReactModal__Body--open",y=f.canUseDOM&&void 0!==s.default.createPortal,b=function(e){return document.createElement(e)},_=function(){return y?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function x(e){return e()}var k=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];return n=i=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),i.removePortal=function(){!y&&s.default.unmountComponentAtNode(i.node);var e=x(i.props.parentSelector);e&&e.contains(i.node)?e.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(e){i.portal=e},i.renderPortal=function(e){var n=_()(i,o.default.createElement(l.default,r({defaultStyles:t.defaultStyles},e)),i.node);i.portalRef(n)},v(i,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){f.canUseDOM&&(y||(this.node=b("div")),this.node.className=this.props.portalClassName,x(this.props.parentSelector).appendChild(this.node),!y&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:x(e.parentSelector),nextParent:x(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(f.canUseDOM){var r=this.props,i=r.isOpen,a=r.portalClassName;e.portalClassName!==a&&(this.node.className=a);var o=n.prevParent,s=n.nextParent;s!==o&&(o.removeChild(this.node),s.appendChild(this.node)),(e.isOpen||i)&&!y&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(f.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return f.canUseDOM&&y?(!this.node&&y&&(this.node=b("div")),_()(o.default.createElement(l.default,r({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){c.setElement(e)}}]),t}(a.Component);k.propTypes={isOpen:u.default.bool.isRequired,style:u.default.shape({content:u.default.object,overlay:u.default.object}),portalClassName:u.default.string,bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,className:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),overlayClassName:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),appElement:u.default.oneOfType([u.default.instanceOf(h.default),u.default.instanceOf(f.SafeHTMLCollection),u.default.instanceOf(f.SafeNodeList),u.default.arrayOf(u.default.instanceOf(h.default))]),onAfterOpen:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,ariaHideApp:u.default.bool,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,preventScroll:u.default.bool,parentSelector:u.default.func,aria:u.default.object,data:u.default.object,role:u.default.string,contentLabel:u.default.string,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func,id:u.default.string,overlayElement:u.default.func,contentElement:u.default.func},k.defaultProps={isOpen:!1,portalClassName:m,bodyOpenClassName:g,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,t){return o.default.createElement("div",e,t)},contentElement:function(e,t){return o.default.createElement("div",e,t)}},k.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,d.polyfill)(k),t.default=k},4334:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(2791),s=m(n(2007)),u=v(n(8844)),l=m(n(870)),c=v(n(5858)),f=v(n(4942)),h=n(3663),d=m(h),p=m(n(8484));function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}n(5670);var g={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},y=0,b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,r=e.ariaHideApp,i=e.htmlOpenClassName,a=e.bodyOpenClassName,o=e.parentSelector,s=o&&o().ownerDocument||document;a&&f.remove(s.body,a),i&&f.remove(s.getElementsByTagName("html")[0],i),r&&y>0&&0===(y-=1)&&c.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(u.returnFocus(n.props.preventScroll),u.teardownScopedFocus()):u.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose(),p.default.deregister(n)},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(u.setupScopedFocus(n.node),u.markForFocusLater()),n.setState({isOpen:!0},(function(){n.openAnimationFrame=requestAnimationFrame((function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})}))})))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus({preventScroll:!0})},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},(function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())}))},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){(function(e){return"Tab"===e.code||9===e.keyCode})(e)&&(0,l.default)(n.content,e),n.props.shouldCloseOnEsc&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var r="object"===("undefined"===typeof t?"undefined":i(t))?t:{base:g[e],afterOpen:g[e]+"--after-open",beforeClose:g[e]+"--before-close"},a=r.base;return n.state.afterOpen&&(a=a+" "+r.afterOpen),n.state.beforeClose&&(a=a+" "+r.beforeClose),"string"===typeof t&&t?a+" "+t:a},n.attributesFromObject=function(e,t){return Object.keys(t).reduce((function(n,r){return n[e+"-"+r]=t[r],n}),{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,r=e.htmlOpenClassName,i=e.bodyOpenClassName,a=e.parentSelector,o=a&&a().ownerDocument||document;i&&f.add(o.body,i),r&&f.add(o.getElementsByTagName("html")[0],r),n&&(y+=1,c.hide(t)),p.default.register(this)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,i=e.overlayClassName,a=e.defaultStyles,o=e.children,s=n?{}:a.content,u=i?{}:a.overlay;if(this.shouldBeClosed())return null;var l={ref:this.setOverlayRef,className:this.buildClassName("overlay",i),style:r({},u,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},c=r({id:t,ref:this.setContentRef,style:r({},s,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",r({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),f=this.props.contentElement(c,o);return this.props.overlayElement(l,f)}}]),t}(o.Component);b.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},b.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),parentSelector:s.default.func,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.oneOfType([s.default.instanceOf(d.default),s.default.instanceOf(h.SafeHTMLCollection),s.default.instanceOf(h.SafeNodeList),s.default.arrayOf(s.default.instanceOf(d.default))]),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func,testId:s.default.string},t.default=b,e.exports=t.default},5858:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){s&&(s.removeAttribute?s.removeAttribute("aria-hidden"):null!=s.length?s.forEach((function(e){return e.removeAttribute("aria-hidden")})):document.querySelectorAll(s).forEach((function(e){return e.removeAttribute("aria-hidden")})));s=null},t.log=function(){0},t.assertNodeList=u,t.setElement=function(e){var t=e;if("string"===typeof t&&o.canUseDOM){var n=document.querySelectorAll(t);u(n,t),t=n}return s=t||s},t.validateElement=l,t.hide=function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=l(e)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){i.value.setAttribute("aria-hidden","true")}}catch(o){n=!0,r=o}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}},t.show=function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=l(e)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){i.value.removeAttribute("aria-hidden")}}catch(o){n=!0,r=o}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}},t.documentNotReadyOrSSRTesting=function(){s=null};var r,i=n(2391),a=(r=i)&&r.__esModule?r:{default:r},o=n(3663);var s=null;function u(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function l(e){var t=e||s;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,a.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}},5670:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){for(var e=[o,s],t=0;t<e.length;t++){var n=e[t];n&&(n.parentNode&&n.parentNode.removeChild(n))}o=s=null,u=[]},t.log=function(){console.log("bodyTrap ----------"),console.log(u.length);for(var e=[o,s],t=0;t<e.length;t++){var n=e[t]||{};console.log(n.nodeName,n.className,n.id)}console.log("edn bodyTrap ----------")};var r,i=n(8484),a=(r=i)&&r.__esModule?r:{default:r};var o=void 0,s=void 0,u=[];function l(){0!==u.length&&u[u.length-1].focusContent()}a.default.subscribe((function(e,t){o||s||((o=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),o.style.position="absolute",o.style.opacity="0",o.setAttribute("tabindex","0"),o.addEventListener("focus",l),(s=o.cloneNode()).addEventListener("focus",l)),(u=t).length>0?(document.body.firstChild!==o&&document.body.insertBefore(o,document.body.firstChild),document.body.lastChild!==s&&document.body.appendChild(s)):(o.parentElement&&o.parentElement.removeChild(o),s.parentElement&&s.parentElement.removeChild(s))}))},4942:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){var e=document.getElementsByTagName("html")[0];for(var t in n)i(e,n[t]);var a=document.body;for(var o in r)i(a,r[o]);n={},r={}},t.log=function(){0};var n={},r={};function i(e,t){e.classList.remove(t)}t.add=function(e,t){return i=e.classList,a="html"==e.nodeName.toLowerCase()?n:r,void t.split(" ").forEach((function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(a,e),i.add(e)}));var i,a},t.remove=function(e,t){return i=e.classList,a="html"==e.nodeName.toLowerCase()?n:r,void t.split(" ").forEach((function(e){!function(e,t){e[t]&&(e[t]-=1)}(a,e),0===a[e]&&i.remove(e)}));var i,a}},8844:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){o=[]},t.log=function(){0},t.handleBlur=l,t.handleFocus=c,t.markForFocusLater=function(){o.push(document.activeElement)},t.returnFocus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=null;try{return void(0!==o.length&&(t=o.pop()).focus({preventScroll:e}))}catch(n){console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){o.length>0&&o.pop()},t.setupScopedFocus=function(e){s=e,window.addEventListener?(window.addEventListener("blur",l,!1),document.addEventListener("focus",c,!0)):(window.attachEvent("onBlur",l),document.attachEvent("onFocus",c))},t.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",l),document.removeEventListener("focus",c)):(window.detachEvent("onBlur",l),document.detachEvent("onFocus",c))};var r,i=n(9750),a=(r=i)&&r.__esModule?r:{default:r};var o=[],s=null,u=!1;function l(){u=!0}function c(){if(u){if(u=!1,!s)return;setTimeout((function(){s.contains(document.activeElement)||((0,a.default)(s)[0]||s).focus()}),0)}}},8484:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=function(){console.log("portalOpenInstances ----------"),console.log(r.openInstances.length),r.openInstances.forEach((function(e){return console.log(e)})),console.log("end portalOpenInstances ----------")},t.resetState=function(){r=new n};var n=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.register=function(e){-1===t.openInstances.indexOf(e)&&(t.openInstances.push(e),t.emit("register"))},this.deregister=function(e){var n=t.openInstances.indexOf(e);-1!==n&&(t.openInstances.splice(n,1),t.emit("deregister"))},this.subscribe=function(e){t.subscribers.push(e)},this.emit=function(e){t.subscribers.forEach((function(n){return n(e,t.openInstances.slice())}))},this.openInstances=[],this.subscribers=[]},r=new n;t.default=r},3663:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=t.SafeNodeList=t.SafeHTMLCollection=void 0;var r,i=n(2618);var a=((r=i)&&r.__esModule?r:{default:r}).default,o=a.canUseDOM?window.HTMLElement:{};t.SafeHTMLCollection=a.canUseDOM?window.HTMLCollection:{},t.SafeNodeList=a.canUseDOM?window.NodeList:{},t.canUseDOM=a.canUseDOM;t.default=o},870:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,a.default)(e);if(!n.length)return void t.preventDefault();var r=void 0,i=t.shiftKey,s=n[0],u=n[n.length-1],l=o();if(e===l){if(!i)return;r=u}u!==l||i||(r=s);s===l&&i&&(r=u);if(r)return t.preventDefault(),void r.focus();var c=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==c||"Chrome"==c[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var f=n.indexOf(l);f>-1&&(f+=i?-1:1);if("undefined"===typeof(r=n[f]))return t.preventDefault(),void(r=i?u:s).focus();t.preventDefault(),r.focus()};var r,i=n(9750),a=(r=i)&&r.__esModule?r:{default:r};function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return e.activeElement.shadowRoot?o(e.activeElement.shadowRoot):e.activeElement}e.exports=t.default},9750:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var n=[].slice.call(t.querySelectorAll("*"),0).reduce((function(t,n){return t.concat(n.shadowRoot?e(n.shadowRoot):[n])}),[]);return n.filter(s)};var n="none",r="contents",i=/input|select|textarea|button|object|iframe/;function a(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;try{var i=window.getComputedStyle(e),a=i.getPropertyValue("display");return t?a!==r&&function(e,t){return"visible"!==t.getPropertyValue("overflow")||e.scrollWidth<=0&&e.scrollHeight<=0}(e,i):a===n}catch(o){return console.warn("Failed to inspect element style"),!1}}function o(e,t){var n=e.nodeName.toLowerCase();return(i.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e,n=e.getRootNode&&e.getRootNode();t&&t!==document.body;){if(n&&t===n&&(t=n.host.parentNode),a(t))return!1;t=t.parentNode}return!0}(e)}function s(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&o(e,!n)}e.exports=t.default},7948:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(2240),a=(r=i)&&r.__esModule?r:{default:r};t.default=a.default,e.exports=t.default},3147:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0});var u=o(n(2791)),l=n(857),c=n(6019),f=["ArrowRight","ArrowUp","k","PageUp"],h=["ArrowLeft","ArrowDown","j","PageDown"],d=function(e){function t(t){var n=e.call(this,t)||this;if(n.trackRef=u.createRef(),n.thumbRefs=[],n.state={draggedTrackPos:[-1,-1],draggedThumbIndex:-1,thumbZIndexes:new Array(n.props.values.length).fill(0).map((function(e,t){return t})),isChanged:!1,markOffsets:[]},n.getOffsets=function(){var e=n.props,t=e.direction,r=e.values,i=e.min,a=e.max,o=n.trackRef.current,s=o.getBoundingClientRect(),u=(0,l.getPaddingAndBorder)(o);return n.getThumbs().map((function(e,n){var o={x:0,y:0},f=e.getBoundingClientRect(),h=(0,l.getMargin)(e);switch(t){case c.Direction.Right:return o.x=-1*(h.left+u.left),o.y=-1*((f.height-s.height)/2+u.top),o.x+=s.width*(0,l.relativeValue)(r[n],i,a)-f.width/2,o;case c.Direction.Left:return o.x=-1*(h.right+u.right),o.y=-1*((f.height-s.height)/2+u.top),o.x+=s.width-s.width*(0,l.relativeValue)(r[n],i,a)-f.width/2,o;case c.Direction.Up:return o.x=-1*((f.width-s.width)/2+h.left+u.left),o.y=-u.left,o.y+=s.height-s.height*(0,l.relativeValue)(r[n],i,a)-f.height/2,o;case c.Direction.Down:return o.x=-1*((f.width-s.width)/2+h.left+u.left),o.y=-u.left,o.y+=s.height*(0,l.relativeValue)(r[n],i,a)-f.height/2,o;default:return(0,l.assertUnreachable)(t)}}))},n.getThumbs=function(){return n.trackRef&&n.trackRef.current?Array.from(n.trackRef.current.children).filter((function(e){return e.hasAttribute("aria-valuenow")})):(console.warn("No thumbs found in the track container. Did you forget to pass & spread the `props` param in renderTrack?"),[])},n.getTargetIndex=function(e){return n.getThumbs().findIndex((function(t){return t===e.target||t.contains(e.target)}))},n.addTouchEvents=function(e){document.addEventListener("touchmove",n.schdOnTouchMove,{passive:!1}),document.addEventListener("touchend",n.schdOnEnd,{passive:!1}),document.addEventListener("touchcancel",n.schdOnEnd,{passive:!1})},n.addMouseEvents=function(e){document.addEventListener("mousemove",n.schdOnMouseMove),document.addEventListener("mouseup",n.schdOnEnd)},n.onMouseDownTrack=function(e){var t;if(0===e.button)if(e.persist(),e.preventDefault(),n.addMouseEvents(e.nativeEvent),n.props.values.length>1&&n.props.draggableTrack){if(n.thumbRefs.some((function(t){var n;return null===(n=t.current)||void 0===n?void 0:n.contains(e.target)})))return;n.setState({draggedTrackPos:[e.clientX,e.clientY]},(function(){return n.onMove(e.clientX,e.clientY)}))}else{var r=(0,l.getClosestThumbIndex)(n.thumbRefs.map((function(e){return e.current})),e.clientX,e.clientY,n.props.direction);null===(t=n.thumbRefs[r].current)||void 0===t||t.focus(),n.setState({draggedThumbIndex:r},(function(){return n.onMove(e.clientX,e.clientY)}))}},n.onResize=function(){(0,l.translateThumbs)(n.getThumbs(),n.getOffsets(),n.props.rtl),n.calculateMarkOffsets()},n.onTouchStartTrack=function(e){var t;if(e.persist(),n.addTouchEvents(e.nativeEvent),n.props.values.length>1&&n.props.draggableTrack){if(n.thumbRefs.some((function(t){var n;return null===(n=t.current)||void 0===n?void 0:n.contains(e.target)})))return;n.setState({draggedTrackPos:[e.touches[0].clientX,e.touches[0].clientY]},(function(){return n.onMove(e.touches[0].clientX,e.touches[0].clientY)}))}else{var r=(0,l.getClosestThumbIndex)(n.thumbRefs.map((function(e){return e.current})),e.touches[0].clientX,e.touches[0].clientY,n.props.direction);null===(t=n.thumbRefs[r].current)||void 0===t||t.focus(),n.setState({draggedThumbIndex:r},(function(){return n.onMove(e.touches[0].clientX,e.touches[0].clientY)}))}},n.onMouseOrTouchStart=function(e){if(!n.props.disabled){var t=(0,l.isTouchEvent)(e);if(t||0===e.button){var r=n.getTargetIndex(e);-1!==r&&(t?n.addTouchEvents(e):n.addMouseEvents(e),n.setState({draggedThumbIndex:r,thumbZIndexes:n.state.thumbZIndexes.map((function(e,t){return t===r?Math.max.apply(Math,n.state.thumbZIndexes):e<=n.state.thumbZIndexes[r]?e:e-1}))}))}}},n.onMouseMove=function(e){e.preventDefault(),n.onMove(e.clientX,e.clientY)},n.onTouchMove=function(e){e.preventDefault(),n.onMove(e.touches[0].clientX,e.touches[0].clientY)},n.onKeyDown=function(e){var t=n.props,r=t.values,i=t.onChange,a=t.step,o=t.rtl,s=t.direction,u=n.state.isChanged,d=n.getTargetIndex(e.nativeEvent),p=o||s===c.Direction.Left||s===c.Direction.Down?-1:1;-1!==d&&(f.includes(e.key)?(e.preventDefault(),n.setState({draggedThumbIndex:d,isChanged:!0}),i((0,l.replaceAt)(r,d,n.normalizeValue(r[d]+p*("PageUp"===e.key?10*a:a),d)))):h.includes(e.key)?(e.preventDefault(),n.setState({draggedThumbIndex:d,isChanged:!0}),i((0,l.replaceAt)(r,d,n.normalizeValue(r[d]-p*("PageDown"===e.key?10*a:a),d)))):"Tab"===e.key?n.setState({draggedThumbIndex:-1},(function(){u&&n.fireOnFinalChange()})):u&&n.fireOnFinalChange())},n.onKeyUp=function(e){var t=n.state.isChanged;n.setState({draggedThumbIndex:-1},(function(){t&&n.fireOnFinalChange()}))},n.onMove=function(e,t){var r=n.state,i=r.draggedThumbIndex,a=r.draggedTrackPos,o=n.props,s=o.direction,u=o.min,f=o.max,h=o.onChange,d=o.values,p=o.step,v=o.rtl;if(-1===i&&-1===a[0]&&-1===a[1])return null;var m=n.trackRef.current;if(!m)return null;var g=m.getBoundingClientRect(),y=(0,l.isVertical)(s)?g.height:g.width;if(-1!==a[0]&&-1!==a[1]){var b=e-a[0],_=t-a[1],x=0;switch(s){case c.Direction.Right:case c.Direction.Left:x=b/y*(f-u);break;case c.Direction.Down:case c.Direction.Up:x=_/y*(f-u);break;default:(0,l.assertUnreachable)(s)}if(v&&(x*=-1),Math.abs(x)>=p/2){for(var k=0;k<n.thumbRefs.length;k++){if(d[k]===f&&1===Math.sign(x)||d[k]===u&&-1===Math.sign(x))return;var w=d[k]+x;w>f?x=f-d[k]:w<u&&(x=u-d[k])}var S=d.slice(0);for(k=0;k<n.thumbRefs.length;k++)S=(0,l.replaceAt)(S,k,n.normalizeValue(d[k]+x,k));n.setState({draggedTrackPos:[e,t]}),h(S)}}else{var T=0;switch(s){case c.Direction.Right:T=(e-g.left)/y*(f-u)+u;break;case c.Direction.Left:T=(y-(e-g.left))/y*(f-u)+u;break;case c.Direction.Down:T=(t-g.top)/y*(f-u)+u;break;case c.Direction.Up:T=(y-(t-g.top))/y*(f-u)+u;break;default:(0,l.assertUnreachable)(s)}v&&(T=f+u-T),Math.abs(d[i]-T)>=p/2&&h((0,l.replaceAt)(d,i,n.normalizeValue(T,i)))}},n.normalizeValue=function(e,t){var r=n.props,i=r.min,a=r.max,o=r.step,s=r.allowOverlap,u=r.values;return(0,l.normalizeValue)(e,t,i,a,o,s,u)},n.onEnd=function(e){if(e.preventDefault(),document.removeEventListener("mousemove",n.schdOnMouseMove),document.removeEventListener("touchmove",n.schdOnTouchMove),document.removeEventListener("mouseup",n.schdOnEnd),document.removeEventListener("touchend",n.schdOnEnd),document.removeEventListener("touchcancel",n.schdOnEnd),-1===n.state.draggedThumbIndex&&-1===n.state.draggedTrackPos[0]&&-1===n.state.draggedTrackPos[1])return null;n.setState({draggedThumbIndex:-1,draggedTrackPos:[-1,-1]},(function(){n.fireOnFinalChange()}))},n.fireOnFinalChange=function(){n.setState({isChanged:!1});var e=n.props,t=e.onFinalChange,r=e.values;t&&t(r)},n.updateMarkRefs=function(e){if(!e.renderMark)return n.numOfMarks=void 0,void(n.markRefs=void 0);n.numOfMarks=(e.max-e.min)/n.props.step,n.markRefs=[];for(var t=0;t<n.numOfMarks+1;t++)n.markRefs[t]=u.createRef()},n.calculateMarkOffsets=function(){if(n.props.renderMark&&n.trackRef&&n.numOfMarks&&n.markRefs&&null!==n.trackRef.current){for(var e=window.getComputedStyle(n.trackRef.current),t=parseInt(e.width,10),r=parseInt(e.height,10),i=parseInt(e.paddingLeft,10),a=parseInt(e.paddingTop,10),o=[],s=0;s<n.numOfMarks+1;s++){var u=9999,l=9999;if(n.markRefs[s].current){var f=n.markRefs[s].current.getBoundingClientRect();u=f.height,l=f.width}n.props.direction===c.Direction.Left||n.props.direction===c.Direction.Right?o.push([Math.round(t/n.numOfMarks*s+i-l/2),-Math.round((u-r)/2)]):o.push([Math.round(r/n.numOfMarks*s+a-u/2),-Math.round((l-t)/2)])}n.setState({markOffsets:o})}},0===t.step)throw new Error('"step" property should be a positive number');return n.schdOnMouseMove=(0,l.schd)(n.onMouseMove),n.schdOnTouchMove=(0,l.schd)(n.onTouchMove),n.schdOnEnd=(0,l.schd)(n.onEnd),n.thumbRefs=t.values.map((function(){return u.createRef()})),n.updateMarkRefs(t),n}return r(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.values,r=t.min,i=t.step;this.resizeObserver=window.ResizeObserver?new window.ResizeObserver(this.onResize):{observe:function(){return window.addEventListener("resize",e.onResize)},unobserve:function(){return window.removeEventListener("resize",e.onResize)}},document.addEventListener("touchstart",this.onMouseOrTouchStart,{passive:!1}),document.addEventListener("mousedown",this.onMouseOrTouchStart,{passive:!1}),!this.props.allowOverlap&&(0,l.checkInitialOverlap)(this.props.values),this.props.values.forEach((function(t){return(0,l.checkBoundaries)(t,e.props.min,e.props.max)})),this.resizeObserver.observe(this.trackRef.current),(0,l.translateThumbs)(this.getThumbs(),this.getOffsets(),this.props.rtl),this.calculateMarkOffsets(),n.forEach((function(e){(0,l.isStepDivisible)(r,e,i)||console.warn("The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.")}))},t.prototype.componentDidUpdate=function(e,t){var n=this.props,r=n.max,i=n.min,a=n.step,o=n.values,s=n.rtl;e.max===r&&e.min===i&&e.step===a||this.updateMarkRefs(this.props),(0,l.translateThumbs)(this.getThumbs(),this.getOffsets(),s),e.max===r&&e.min===i&&e.step===a&&t.markOffsets.length===this.state.markOffsets.length||(this.calculateMarkOffsets(),o.forEach((function(e){(0,l.isStepDivisible)(i,e,a)||console.warn("The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.")})))},t.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.onMouseOrTouchStart,{passive:!1}),document.removeEventListener("mousemove",this.schdOnMouseMove),document.removeEventListener("touchmove",this.schdOnTouchMove),document.removeEventListener("touchstart",this.onMouseOrTouchStart),document.removeEventListener("mouseup",this.schdOnEnd),document.removeEventListener("touchend",this.schdOnEnd),this.resizeObserver.unobserve(this.trackRef.current)},t.prototype.render=function(){var e=this,t=this.props,n=t.renderTrack,r=t.renderThumb,i=t.renderMark,a=void 0===i?function(){return null}:i,o=t.values,u=t.min,f=t.max,h=t.allowOverlap,d=t.disabled,p=this.state,v=p.draggedThumbIndex,m=p.thumbZIndexes,g=p.markOffsets;return n({props:{style:{transform:"scale(1)",cursor:v>-1?"grabbing":this.props.draggableTrack?(0,l.isVertical)(this.props.direction)?"ns-resize":"ew-resize":1!==o.length||d?"inherit":"pointer"},onMouseDown:d?l.voidFn:this.onMouseDownTrack,onTouchStart:d?l.voidFn:this.onTouchStartTrack,ref:this.trackRef},isDragged:this.state.draggedThumbIndex>-1,disabled:d,children:s(s([],g.map((function(t,n,r){return a({props:{style:e.props.direction===c.Direction.Left||e.props.direction===c.Direction.Right?{position:"absolute",left:"".concat(t[0],"px"),marginTop:"".concat(t[1],"px")}:{position:"absolute",top:"".concat(t[0],"px"),marginLeft:"".concat(t[1],"px")},key:"mark".concat(n),ref:e.markRefs[n]},index:n})})),!0),o.map((function(t,n){var i=e.state.draggedThumbIndex===n;return r({index:n,value:t,isDragged:i,props:{style:{position:"absolute",zIndex:m[n],cursor:d?"inherit":i?"grabbing":"grab",userSelect:"none",touchAction:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"},key:n,tabIndex:d?void 0:0,"aria-valuemax":h?f:o[n+1]||f,"aria-valuemin":h?u:o[n-1]||u,"aria-valuenow":t,draggable:!1,ref:e.thumbRefs[n],role:"slider",onKeyDown:d?l.voidFn:e.onKeyDown,onKeyUp:d?l.voidFn:e.onKeyUp}})})),!0)})},t.defaultProps={step:1,direction:c.Direction.Right,rtl:!1,disabled:!1,allowOverlap:!1,draggableTrack:!1,min:0,max:100},t}(u.Component);t.default=d},9202:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.checkValuesAgainstBoundaries=t.relativeValue=t.useThumbOverlap=t.Direction=t.getTrackBackground=t.Range=void 0;var i=r(n(3147));t.Range=i.default;var a=n(857);Object.defineProperty(t,"getTrackBackground",{enumerable:!0,get:function(){return a.getTrackBackground}}),Object.defineProperty(t,"useThumbOverlap",{enumerable:!0,get:function(){return a.useThumbOverlap}}),Object.defineProperty(t,"relativeValue",{enumerable:!0,get:function(){return a.relativeValue}}),Object.defineProperty(t,"checkValuesAgainstBoundaries",{enumerable:!0,get:function(){return a.checkValuesAgainstBoundaries}});var o=n(6019);Object.defineProperty(t,"Direction",{enumerable:!0,get:function(){return o.Direction}})},6019:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Direction=void 0,function(e){e.Right="to right",e.Left="to left",e.Down="to bottom",e.Up="to top"}(t.Direction||(t.Direction={}))},857:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.useThumbOverlap=t.assertUnreachable=t.voidFn=t.getTrackBackground=t.replaceAt=t.schd=t.translate=t.getClosestThumbIndex=t.translateThumbs=t.getPaddingAndBorder=t.getMargin=t.checkInitialOverlap=t.checkValuesAgainstBoundaries=t.checkBoundaries=t.isVertical=t.relativeValue=t.normalizeValue=t.isStepDivisible=t.isTouchEvent=t.getStepDecimals=void 0;var i=n(2791),a=n(6019);function o(e){return e===a.Direction.Up||e===a.Direction.Down}function s(e,t,n){e.style.transform="translate(".concat(t,"px, ").concat(n,"px)")}t.getStepDecimals=function(e){var t=e.toString().split(".")[1];return t?t.length:0},t.isTouchEvent=function(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length},t.isStepDivisible=function(e,t,n){var r=Number(((t-e)/n).toFixed(8));return parseInt(r.toString(),10)===r},t.normalizeValue=function(e,n,r,i,a,o,s){var u=1e11;if(e=Math.round(e*u)/u,!o){var l=s[n-1],c=s[n+1];if(l&&l>e)return l;if(c&&c<e)return c}if(e>i)return i;if(e<r)return r;var f=Math.floor(e*u-r*u)%Math.floor(a*u),h=Math.floor(e*u-Math.abs(f)),d=0===f?e:h/u,p=Math.abs(f/u)<a/2?d:d+a,v=(0,t.getStepDecimals)(a);return parseFloat(p.toFixed(v))},t.relativeValue=function(e,t,n){return(e-t)/(n-t)},t.isVertical=o,t.checkBoundaries=function(e,t,n){if(t>=n)throw new RangeError("min (".concat(t,") is equal/bigger than max (").concat(n,")"));if(e<t)throw new RangeError("value (".concat(e,") is smaller than min (").concat(t,")"));if(e>n)throw new RangeError("value (".concat(e,") is bigger than max (").concat(n,")"))},t.checkValuesAgainstBoundaries=function(e,t,n){return e<t?t:e>n?n:e},t.checkInitialOverlap=function(e){if(!(e.length<2)&&!e.slice(1).every((function(t,n){return e[n]<=t})))throw new RangeError("values={[".concat(e,"]} needs to be sorted when allowOverlap={false}"))},t.getMargin=function(e){var t=window.getComputedStyle(e);return{top:parseInt(t["margin-top"],10),bottom:parseInt(t["margin-bottom"],10),left:parseInt(t["margin-left"],10),right:parseInt(t["margin-right"],10)}},t.getPaddingAndBorder=function(e){var t=window.getComputedStyle(e);return{top:parseInt(t["padding-top"],10)+parseInt(t["border-top-width"],10),bottom:parseInt(t["padding-bottom"],10)+parseInt(t["border-bottom-width"],10),left:parseInt(t["padding-left"],10)+parseInt(t["border-left-width"],10),right:parseInt(t["padding-right"],10)+parseInt(t["border-right-width"],10)}},t.translateThumbs=function(e,t,n){var r=n?-1:1;e.forEach((function(e,n){return s(e,r*t[n].x,t[n].y)}))},t.getClosestThumbIndex=function(e,t,n,r){for(var i=0,a=l(e[0],t,n,r),o=1;o<e.length;o++){var s=l(e[o],t,n,r);s<a&&(a=s,i=o)}return i},t.translate=s;t.schd=function(e){var t=[],n=null;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];t=r,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))}},t.replaceAt=function(e,t,n){var r=e.slice(0);return r[t]=n,r},t.getTrackBackground=function(e){var t=e.values,n=e.colors,r=e.min,i=e.max,o=e.direction,s=void 0===o?a.Direction.Right:o,u=e.rtl,l=void 0!==u&&u;l&&s===a.Direction.Right?s=a.Direction.Left:l&&a.Direction.Left&&(s=a.Direction.Right);var c=t.slice(0).sort((function(e,t){return e-t})).map((function(e){return(e-r)/(i-r)*100})).reduce((function(e,t,r){return"".concat(e,", ").concat(n[r]," ").concat(t,"%, ").concat(n[r+1]," ").concat(t,"%")}),"");return"linear-gradient(".concat(s,", ").concat(n[0]," 0%").concat(c,", ").concat(n[n.length-1]," 100%)")},t.voidFn=function(){},t.assertUnreachable=function(e){throw new Error("Didn't expect to get here")};var u=function(e,t,n,i,a){return void 0===a&&(a=function(e){return e}),Math.ceil(r([e],Array.from(e.children),!0).reduce((function(e,r){var o=Math.ceil(r.getBoundingClientRect().width);if(r.innerText&&r.innerText.includes(n)&&0===r.childElementCount){var s=r.cloneNode(!0);s.innerHTML=a(t.toFixed(i)),s.style.visibility="hidden",document.body.appendChild(s),o=Math.ceil(s.getBoundingClientRect().width),document.body.removeChild(s)}return o>e?o:e}),e.getBoundingClientRect().width))};function l(e,t,n,r){var i=e.getBoundingClientRect(),a=i.left,s=i.top,u=i.width,l=i.height;return o(r)?Math.abs(n-(s+l/2)):Math.abs(t-(a+u/2))}t.useThumbOverlap=function(e,n,a,o,s,l){void 0===o&&(o=.1),void 0===s&&(s=" - "),void 0===l&&(l=function(e){return e});var c=(0,t.getStepDecimals)(o),f=(0,i.useState)({}),h=f[0],d=f[1],p=(0,i.useState)(l(n[a].toFixed(c))),v=p[0],m=p[1];return(0,i.useEffect)((function(){if(e){var t=e.getThumbs();if(t.length<1)return;var i={},o=e.getOffsets(),f=function(e,t,n,i,a,o,s){void 0===s&&(s=function(e){return e});var l=[];return function e(c){var f=u(n[c],i[c],a,o,s),h=t[c].x;t.forEach((function(t,d){var p=t.x,v=u(n[d],i[d],a,o,s);c!==d&&(h>=p&&h<=p+v||h+f>=p&&h+f<=p+v)&&(l.includes(d)||(l.push(c),l.push(d),l=r(r([],l,!0),[c,d],!1),e(d)))}))}(e),Array.from(new Set(l.sort()))}(a,o,t,n,s,c,l),h=l(n[a].toFixed(c));if(f.length){var p=f.reduce((function(e,t,n,i){return e.length?r(r([],e,!0),[o[i[n]].x],!1):[o[i[n]].x]}),[]);if(Math.min.apply(Math,p)===o[a].x){var v=[];f.forEach((function(e){v.push(n[e].toFixed(c))})),h=Array.from(new Set(v.sort((function(e,t){return parseFloat(e)-parseFloat(t)})))).map(l).join(s);var g=Math.min.apply(Math,p),y=Math.max.apply(Math,p),b=t[f[p.indexOf(y)]].getBoundingClientRect().width;i.left="".concat(Math.abs(g-(y+b))/2,"px"),i.transform="translate(-50%, 0)"}else i.visibility="hidden"}m(h),d(i)}}),[e,n]),[v,h]}},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var _=b.prototype=new y;_.constructor=b,v(_,g.prototype),_.isPureReactComponent=!0;var x=Array.isArray,k=Object.prototype.hasOwnProperty,w={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:w.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+A(u,0):a,x(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),P(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",x(e))for(var l=0;l<e.length;l++){var c=a+A(s=e[l],l);u+=P(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=P(s=s.value,t,i,c=a+A(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function I(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},R={transition:null},N={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:R,ReactCurrentOwner:w};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)k.call(t,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},5844:function(e,t,n){"use strict";var r=n(4583).functionsHaveConfigurableNames(),i=Object,a=TypeError;e.exports=function(){if(null!=this&&this!==i(this))throw new a("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.unicodeSets&&(e+="v"),this.sticky&&(e+="y"),e},r&&Object.defineProperty&&Object.defineProperty(e.exports,"name",{value:"get flags"})},3535:function(e,t,n){"use strict";var r=n(9396),i=n(9722),a=n(5844),o=n(1334),s=n(7888),u=i(o());r(u,{getPolyfill:o,implementation:a,shim:s}),e.exports=u},1334:function(e,t,n){"use strict";var r=n(5844),i=n(9396).supportsDescriptors,a=Object.getOwnPropertyDescriptor;e.exports=function(){if(i&&"gim"===/a/gim.flags){var e=a(RegExp.prototype,"flags");if(e&&"function"===typeof e.get&&"boolean"===typeof RegExp.prototype.dotAll&&"boolean"===typeof RegExp.prototype.hasIndices){var t="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(n,"sticky",{get:function(){t+="y"}}),"dy"===t)return e.get}}return r}},7888:function(e,t,n){"use strict";var r=n(9396).supportsDescriptors,i=n(1334),a=Object.getOwnPropertyDescriptor,o=Object.defineProperty,s=TypeError,u=Object.getPrototypeOf,l=/a/;e.exports=function(){if(!r||!u)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=i(),t=u(l),n=a(t,"flags");return n&&n.get===e||o(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function x(e){if(m=!1,_(e),!v)if(null!==r(l))v=!0,R(k);else{var t=r(c);null!==t&&N(x,t.startTime-e)}}function k(e,n){v=!1,m&&(m=!1,y(E),E=-1),p=!0;var a=d;try{for(_(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!P());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(l)&&i(l),_(n)}else i(l);h=r(l)}if(null!==h)var u=!0;else{var f=r(c);null!==f&&N(x,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,S=!1,T=null,E=-1,C=5,A=-1;function P(){return!(t.unstable_now()-A<C)}function I(){if(null!==T){var e=t.unstable_now();A=e;var n=!0;try{n=T(!0,e)}finally{n?w():(S=!1,T=null)}}else S=!1}if("function"===typeof b)w=function(){b(I)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,M=O.port2;O.port1.onmessage=I,w=function(){M.postMessage(null)}}else w=function(){g(I,0)};function R(e){T=e,S||(S=!0,w())}function N(e,n){E=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(y(E),E=-1):m=!0,N(x,a-o))):(e.sortIndex=s,n(l,e),v||p||(v=!0,R(k))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},581:function(e,t,n){"use strict";var r=n(2506),i=n(4037),a=n(2584),o=r("%TypeError%"),s=r("%WeakMap%",!0),u=r("%Map%",!0),l=i("WeakMap.prototype.get",!0),c=i("WeakMap.prototype.set",!0),f=i("WeakMap.prototype.has",!0),h=i("Map.prototype.get",!0),d=i("Map.prototype.set",!0),p=i("Map.prototype.has",!0),v=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n};e.exports=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new o("Side channel does not contain "+a(e))},get:function(r){if(s&&r&&("object"===typeof r||"function"===typeof r)){if(e)return l(e,r)}else if(u){if(t)return h(t,r)}else if(n)return function(e,t){var n=v(e,t);return n&&n.value}(n,r)},has:function(r){if(s&&r&&("object"===typeof r||"function"===typeof r)){if(e)return f(e,r)}else if(u){if(t)return p(t,r)}else if(n)return function(e,t){return!!v(e,t)}(n,r);return!1},set:function(r,i){s&&r&&("object"===typeof r||"function"===typeof r)?(e||(e=new s),c(e,r,i)):u?(t||(t=new u),d(t,r,i)):(n||(n={key:{},next:null}),function(e,t,n){var r=v(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(n,r,i))}};return r}},5083:function(e,t,n){var r=n(3413),i=n(9512),a=n(4969),o=n(152)("socket.io-client");e.exports=t=u;var s=t.managers={};function u(e,t){"object"===typeof e&&(t=e,e=void 0),t=t||{};var n,i=r(e),u=i.source,l=i.id,c=i.path,f=s[l]&&c in s[l].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||f?(o("ignoring socket cache for %s",u),n=a(u,t)):(s[l]||(o("new io instance for %s",u),s[l]=a(u,t)),n=s[l]),i.query&&!t.query?t.query=i.query:t&&"object"===typeof t.query&&(t.query=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}(t.query)),n.socket(i.path,t)}t.protocol=i.protocol,t.connect=u,t.Manager=n(4969),t.Socket=n(1927)},4969:function(e,t,n){var r=n(7984),i=n(1927),a=n(9773),o=n(9512),s=n(1457),u=n(4870),l=n(152)("socket.io-client:manager"),c=n(4295),f=n(8077),h=Object.prototype.hasOwnProperty;function d(e,t){if(!(this instanceof d))return new d(e,t);e&&"object"===typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new f({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new o.Encoder,this.decoder=new o.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}e.exports=d,d.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)h.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},d.prototype.updateSocketIds=function(){for(var e in this.nsps)h.call(this.nsps,e)&&(this.nsps[e].id=this.engine.id)},a(d.prototype),d.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},d.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},d.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},d.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},d.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},d.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},d.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},d.prototype.open=d.prototype.connect=function(e,t){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var a=s(n,"open",(function(){i.onopen(),e&&e()})),o=s(n,"error",(function(t){if(l("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else i.maybeReconnectOnOpen()}));if(!1!==this._timeout){var u=this._timeout;l("connect attempt will timeout after %d",u);var c=setTimeout((function(){l("connect attempt timed out after %d",u),a.destroy(),n.close(),n.emit("error","timeout"),i.emitAll("connect_timeout",u)}),u);this.subs.push({destroy:function(){clearTimeout(c)}})}return this.subs.push(a),this.subs.push(o),this},d.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(s(e,"data",u(this,"ondata"))),this.subs.push(s(e,"ping",u(this,"onping"))),this.subs.push(s(e,"pong",u(this,"onpong"))),this.subs.push(s(e,"error",u(this,"onerror"))),this.subs.push(s(e,"close",u(this,"onclose"))),this.subs.push(s(this.decoder,"decoded",u(this,"ondecoded")))},d.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},d.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},d.prototype.ondata=function(e){this.decoder.add(e)},d.prototype.ondecoded=function(e){this.emit("packet",e)},d.prototype.onerror=function(e){l("error",e),this.emitAll("error",e)},d.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new i(this,e,t),this.nsps[e]=n;var r=this;n.on("connecting",a),n.on("connect",(function(){n.id=r.engine.id})),this.autoConnect&&a()}function a(){~c(r.connecting,n)||r.connecting.push(n)}return n},d.prototype.destroy=function(e){var t=c(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},d.prototype.packet=function(e){l("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()})))},d.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},d.prototype.cleanup=function(){l("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},d.prototype.close=d.prototype.disconnect=function(){l("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},d.prototype.onclose=function(e){l("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},d.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();l("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout((function(){e.skipReconnect||(l("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(l("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(l("reconnect success"),e.onreconnect())})))}),t);this.subs.push({destroy:function(){clearTimeout(n)}})}},d.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},1457:function(e){e.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},1927:function(e,t,n){var r=n(9512),i=n(9773),a=n(1364),o=n(1457),s=n(4870),u=n(152)("socket.io-client:socket"),l=n(2560);e.exports=h;var c={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},f=i.prototype.emit;function h(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}i(h.prototype),h.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[o(e,"open",s(this,"onopen")),o(e,"packet",s(this,"onpacket")),o(e,"close",s(this,"onclose"))]}},h.prototype.open=h.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},h.prototype.send=function(){var e=a(arguments);return e.unshift("message"),this.emit.apply(this,e),this},h.prototype.emit=function(e){if(c.hasOwnProperty(e))return f.apply(this,arguments),this;var t=a(arguments),n=r.EVENT;l(t)&&(n=r.BINARY_EVENT);var i={type:n,data:t,options:{}};return i.options.compress=!this.flags||!1!==this.flags.compress,"function"===typeof t[t.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),delete this.flags,this},h.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},h.prototype.onopen=function(){u("transport is open - connecting"),"/"!==this.nsp&&(this.query?this.packet({type:r.CONNECT,query:this.query}):this.packet({type:r.CONNECT}))},h.prototype.onclose=function(e){u("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},h.prototype.onpacket=function(e){if(e.nsp===this.nsp)switch(e.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(e);break;case r.ACK:case r.BINARY_ACK:this.onack(e);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",e.data)}},h.prototype.onevent=function(e){var t=e.data||[];u("emitting event %j",t),null!=e.id&&(u("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?f.apply(this,t):this.receiveBuffer.push(t)},h.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var i=a(arguments);u("sending ack %j",i);var o=l(i)?r.BINARY_ACK:r.ACK;t.packet({type:o,id:e,data:i})}}},h.prototype.onack=function(e){var t=this.acks[e.id];"function"===typeof t?(u("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):u("bad ack %s",e.id)},h.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},h.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)f.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},h.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},h.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},h.prototype.close=h.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},h.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},3413:function(e,t,n){var r=n(1176),i=n(152)("socket.io-client:url");e.exports=function(e,t){var a=e;t=t||n.g.location,null==e&&(e=t.protocol+"//"+t.host);"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e="undefined"!==typeof t?t.protocol+"//"+e:"https://"+e),i("parse %s",e),a=r(e));a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443"));a.path=a.path||"/";var o=-1!==a.host.indexOf(":")?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+o+":"+a.port,a.href=a.protocol+"://"+o+(t&&t.port===a.port?"":":"+a.port),a}},152:function(e,t,n){function r(){try{return t.storage.debug}catch(e){}if("undefined"!==typeof process&&"env"in process)return{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DEBUG}(t=e.exports=n(1025)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(){var e=arguments,n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,a=0;return e[0].replace(/%[a-z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(a=i))})),e.splice(a,0,r),e},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=r,t.useColors=function(){return"undefined"!==typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(r())},1025:function(e,t,n){(t=e.exports=a.debug=a).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(6940),t.names=[],t.skips=[],t.formatters={};var r,i=0;function a(e){function n(){}function a(){var e=a,n=+new Date,o=n-(r||n);e.diff=o,e.prev=r,e.curr=n,r=n,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=t.colors[i++%t.colors.length]);for(var s=new Array(arguments.length),u=0;u<s.length;u++)s[u]=arguments[u];s[0]=t.coerce(s[0]),"string"!==typeof s[0]&&(s=["%o"].concat(s));var l=0;s[0]=s[0].replace(/%([a-z%])/g,(function(n,r){if("%%"===n)return n;l++;var i=t.formatters[r];if("function"===typeof i){var a=s[l];n=i.call(e,a),s.splice(l,1),l--}return n})),s=t.formatArgs.apply(e,s),(a.log||t.log||console.log.bind(console)).apply(e,s)}n.enabled=!1,a.enabled=!0;var o=t.enabled(e)?a:n;return o.namespace=e,o}},6940:function(e){var t=1e3,n=60*t,r=60*n,i=24*r,a=365.25*i;function o(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,s){s=s||{};var u,l=typeof e;if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>1e4)return;var o=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!o)return;var s=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===l&&!1===isNaN(e))return s.long?o(u=e,i,"day")||o(u,r,"hour")||o(u,n,"minute")||o(u,t,"second")||u+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=r)return Math.round(e/r)+"h";if(e>=n)return Math.round(e/n)+"m";if(e>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},8252:function(e,t,n){var r=n(6085),i=n(5052);t.deconstructPacket=function(e){var t=[],n=e.data;var a=e;return a.data=function e(n){if(!n)return n;if(i(n)){var a={_placeholder:!0,num:t.length};return t.push(n),a}if(r(n)){for(var o=new Array(n.length),s=0;s<n.length;s++)o[s]=e(n[s]);return o}if("object"==typeof n&&!(n instanceof Date)){o={};for(var u in n)o[u]=e(n[u]);return o}return n}(n),a.attachments=t.length,{packet:a,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function e(n){if(n&&n._placeholder)return t[n.num];if(r(n)){for(var i=0;i<n.length;i++)n[i]=e(n[i]);return n}if(n&&"object"==typeof n){for(var a in n)n[a]=e(n[a]);return n}return n}(e.data),e.attachments=void 0,e},t.removeBlobs=function(e,t){var a=0,o=e;!function e(s,u,l){if(!s)return s;if(n.g.Blob&&s instanceof Blob||n.g.File&&s instanceof File){a++;var c=new FileReader;c.onload=function(){l?l[u]=this.result:o=this.result,--a||t(o)},c.readAsArrayBuffer(s)}else if(r(s))for(var f=0;f<s.length;f++)e(s[f],f,s);else if(s&&"object"==typeof s&&!i(s))for(var h in s)e(s[h],h,s)}(o),a||t(o)}},9512:function(e,t,n){var r=n(2879)("socket.io-parser"),i=n(9826),a=n(3903),o=n(8252),s=n(5052);function u(){}function l(e){var n="",a=!1;return n+=e.type,t.BINARY_EVENT!=e.type&&t.BINARY_ACK!=e.type||(n+=e.attachments,n+="-"),e.nsp&&"/"!=e.nsp&&(a=!0,n+=e.nsp),null!=e.id&&(a&&(n+=",",a=!1),n+=e.id),null!=e.data&&(a&&(n+=","),n+=i.stringify(e.data)),r("encoded %j as %s",e,n),n}function c(){this.reconstructor=null}function f(e){this.reconPack=e,this.buffers=[]}function h(e){return{type:t.ERROR,data:"parser error"}}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=u,t.Decoder=c,u.prototype.encode=function(e,n){(r("encoding packet %j",e),t.BINARY_EVENT==e.type||t.BINARY_ACK==e.type)?function(e,t){function n(e){var n=o.deconstructPacket(e),r=l(n.packet),i=n.buffers;i.unshift(r),t(i)}o.removeBlobs(e,n)}(e,n):n([l(e)])},a(c.prototype),c.prototype.add=function(e){var n;if("string"==typeof e)n=function(e){var n={},a=0;if(n.type=Number(e.charAt(0)),null==t.types[n.type])return h();if(t.BINARY_EVENT==n.type||t.BINARY_ACK==n.type){for(var o="";"-"!=e.charAt(++a)&&(o+=e.charAt(a),a!=e.length););if(o!=Number(o)||"-"!=e.charAt(a))throw new Error("Illegal attachments");n.attachments=Number(o)}if("/"==e.charAt(a+1))for(n.nsp="";++a;){if(","==(u=e.charAt(a)))break;if(n.nsp+=u,a==e.length)break}else n.nsp="/";var s=e.charAt(a+1);if(""!==s&&Number(s)==s){for(n.id="";++a;){var u;if(null==(u=e.charAt(a))||Number(u)!=u){--a;break}if(n.id+=e.charAt(a),a==e.length)break}n.id=Number(n.id)}e.charAt(++a)&&(n=function(e,t){try{e.data=i.parse(t)}catch(n){return h()}return e}(n,e.substr(a)));return r("decoded %s as %j",e,n),n}(e),t.BINARY_EVENT==n.type||t.BINARY_ACK==n.type?(this.reconstructor=new f(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!s(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},c.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},f.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},f.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},5052:function(e,t,n){e.exports=function(e){return n.g.Buffer&&n.g.Buffer.isBuffer(e)||n.g.ArrayBuffer&&e instanceof ArrayBuffer}},3903:function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},t.prototype.once=function(e,t){var n=this;function r(){n.off(e,r),t.apply(this,arguments)}return this._callbacks=this._callbacks||{},r.fn=t,this.on(e,r),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks[e];if(!r)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},2879:function(e,t,n){function r(){var e;try{e=t.storage.debug}catch(n){}return e}(t=e.exports=n(8612)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(){var e=arguments,n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,a=0;return e[0].replace(/%[a-z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(a=i))})),e.splice(a,0,r),e},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=r,t.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){return JSON.stringify(e)},t.enable(r())},8612:function(e,t,n){t=e.exports=function(e){function n(){}function a(){var e=a,n=+new Date,o=n-(r||n);e.diff=o,e.prev=r,e.curr=n,r=n,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=t.colors[i++%t.colors.length]);var s=Array.prototype.slice.call(arguments);s[0]=t.coerce(s[0]),"string"!==typeof s[0]&&(s=["%o"].concat(s));var u=0;s[0]=s[0].replace(/%([a-z%])/g,(function(n,r){if("%%"===n)return n;u++;var i=t.formatters[r];if("function"===typeof i){var a=s[u];n=i.call(e,a),s.splice(u,1),u--}return n})),"function"===typeof t.formatArgs&&(s=t.formatArgs.apply(e,s)),(a.log||t.log||console.log.bind(console)).apply(e,s)}n.enabled=!1,a.enabled=!0;var o=t.enabled(e)?a:n;return o.namespace=e,o},t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(8472),t.names=[],t.skips=[],t.formatters={};var r,i=0},6085:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},8472:function(e){var t=1e3,n=60*t,r=60*n,i=24*r,a=365.25*i;function o(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,s){return s=s||{},"string"==typeof e?function(e){if((e=""+e).length>1e4)return;var o=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!o)return;var s=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s}}(e):s.long?o(u=e,i,"day")||o(u,r,"hour")||o(u,n,"minute")||o(u,t,"second")||u+" ms":function(e){return e>=i?Math.round(e/i)+"d":e>=r?Math.round(e/r)+"h":e>=n?Math.round(e/n)+"m":e>=t?Math.round(e/t)+"s":e+"ms"}(e);var u}},4619:function(e,t,n){"use strict";var r=n(3865),i=SyntaxError,a="object"===typeof StopIteration?StopIteration:null;e.exports=function(e){if(!a)throw new i("this environment lacks StopIteration");r.set(e,"[[Done]]",!1);var t={next:function(){var e=r.get(this,"[[Iterator]]"),t=r.get(e,"[[Done]]");try{return{done:t,value:t?void 0:e.next()}}catch(n){if(r.set(e,"[[Done]]",!0),n!==a)throw n;return{done:!0,value:void 0}}}};return r.set(t,"[[Iterator]]",e),t}},3699:function(e){e.exports=function(){"use strict";var e=function(e){return null!=e&&(t(e)||n(e)||!!e._isBuffer)};function t(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function n(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&t(e.slice(0,0))}var r=Object.prototype.toString,i=function(t){if("undefined"===typeof t)return"undefined";if(null===t)return"null";if(!0===t||!1===t||t instanceof Boolean)return"boolean";if("string"===typeof t||t instanceof String)return"string";if("number"===typeof t||t instanceof Number)return"number";if("function"===typeof t||t instanceof Function)return"function";if("undefined"!==typeof Array.isArray&&Array.isArray(t))return"array";if(t instanceof RegExp)return"regexp";if(t instanceof Date)return"date";var n=r.call(t);return"[object RegExp]"===n?"regexp":"[object Date]"===n?"date":"[object Arguments]"===n?"arguments":"[object Error]"===n?"error":e(t)?"buffer":"[object Set]"===n?"set":"[object WeakSet]"===n?"weakset":"[object Map]"===n?"map":"[object WeakMap]"===n?"weakmap":"[object Symbol]"===n?"symbol":"[object Int8Array]"===n?"int8array":"[object Uint8Array]"===n?"uint8array":"[object Uint8ClampedArray]"===n?"uint8clampedarray":"[object Int16Array]"===n?"int16array":"[object Uint16Array]"===n?"uint16array":"[object Int32Array]"===n?"int32array":"[object Uint32Array]"===n?"uint32array":"[object Float32Array]"===n?"float32array":"[object Float64Array]"===n?"float64array":"object"};function a(e,t){return e(t={exports:{}},t.exports),t.exports}var o=a((function(e){!function(){function t(e,t){if("function"!==typeof t)return e;var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[t(r,e[r])||r]=e[r]);return n}e.exports?e.exports=t:window.rename=t}()})),s=function e(t,n){var r=i(t);if("object"!==r&&"array"!==r)throw new Error("expected an object");var a=[];for(var s in"object"===r&&(t=o(t,n),a={}),t)if(t.hasOwnProperty(s)){var u=t[s];"object"===i(u)||"array"===i(u)?a[s]=e(u,n):a[s]=u}return a},u=a((function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e,t){var r=n?n+e:e,i=this._events[r];if(t)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var a=0,o=i.length,s=new Array(o);a<o;a++)s[a]=i[a].fn;return s},a.prototype.emit=function(e,t,r,i,a,o){var s=n?n+e:e;if(!this._events[s])return!1;var u,l,c=this._events[s],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,i),!0;case 5:return c.fn.call(c.context,t,r,i,a),!0;case 6:return c.fn.call(c.context,t,r,i,a,o),!0}for(l=1,u=new Array(f-1);l<f;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var h,d=c.length;for(l=0;l<d;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),f){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,r);break;case 4:c[l].fn.call(c[l].context,t,r,i);break;default:if(!u)for(h=1,u=new Array(f-1);h<f;h++)u[h-1]=arguments[h];c[l].fn.apply(c[l].context,u)}}return!0},a.prototype.on=function(e,t,r){var a=new i(t,r||this),o=n?n+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],a]:this._events[o].push(a):(this._events[o]=a,this._eventsCount++),this},a.prototype.once=function(e,t,r){var a=new i(t,r||this,!0),o=n?n+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],a]:this._events[o].push(a):(this._events[o]=a,this._eventsCount++),this},a.prototype.removeListener=function(e,t,i,a){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return 0===--this._eventsCount?this._events=new r:delete this._events[o],this;var s=this._events[o];if(s.fn)s.fn!==t||a&&!s.once||i&&s.context!==i||(0===--this._eventsCount?this._events=new r:delete this._events[o]);else{for(var u=0,l=[],c=s.length;u<c;u++)(s[u].fn!==t||a&&!s[u].once||i&&s[u].context!==i)&&l.push(s[u]);l.length?this._events[o]=1===l.length?l[0]:l:0===--this._eventsCount?this._events=new r:delete this._events[o]}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&(0===--this._eventsCount?this._events=new r:delete this._events[t])):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=n,a.EventEmitter=a,e.exports=a}));function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(){},f={data:"state-data",cdata:"state-cdata",tagBegin:"state-tag-begin",tagName:"state-tag-name",tagEnd:"state-tag-end",attributeNameStart:"state-attribute-name-start",attributeName:"state-attribute-name",attributeNameEnd:"state-attribute-name-end",attributeValueBegin:"state-attribute-value-begin",attributeValue:"state-attribute-value"},h={lt:"action-lt",gt:"action-gt",space:"action-space",equal:"action-equal",quote:"action-quote",slash:"action-slash",char:"action-char",error:"action-error"},d={text:"text",openTag:"open-tag",closeTag:"close-tag",attributeName:"attribute-name",attributeValue:"attribute-value"},p={" ":h.space,"\t":h.space,"\n":h.space,"\r":h.space,"<":h.lt,">":h.gt,'"':h.quote,"'":h.quote,"=":h.equal,"/":h.slash},v=function(e){return p[e]||h.char},m={State:f,Action:h,Type:d,create:function(e){var t,n,r,i,a,o,s,p,m,g;e=Object.assign({debug:!1},e);var y=new u,b=f.data,_="",x="",k="",w="",S="",T="",E=function(t,n){if("?"!==x[0]&&"!"!==x[0]){var r={type:t,value:n};e.debug&&console.log("emit:",r),y.emit("data",r)}};y.stateMachine=(l(g={},f.data,(l(t={},h.lt,(function(){_.trim()&&E(d.text,_),x="",S=!1,b=f.tagBegin})),l(t,h.char,(function(e){_+=e})),t)),l(g,f.cdata,l({},h.char,(function(e){"]]>"===(_+=e).substr(-3)&&(E(d.text,_.slice(0,-3)),_="",b=f.data)}))),l(g,f.tagBegin,(l(n={},h.space,c),l(n,h.char,(function(e){x=e,b=f.tagName})),l(n,h.slash,(function(){x="",S=!0})),n)),l(g,f.tagName,(l(r={},h.space,(function(){S?b=f.tagEnd:(b=f.attributeNameStart,E(d.openTag,x))})),l(r,h.gt,(function(){E(S?d.closeTag:d.openTag,x),_="",b=f.data})),l(r,h.slash,(function(){b=f.tagEnd,E(d.openTag,x)})),l(r,h.char,(function(e){"![CDATA["===(x+=e)&&(b=f.cdata,_="",x="")})),r)),l(g,f.tagEnd,(l(i={},h.gt,(function(){E(d.closeTag,x),_="",b=f.data})),l(i,h.char,c),i)),l(g,f.attributeNameStart,(l(a={},h.char,(function(e){k=e,b=f.attributeName})),l(a,h.gt,(function(){_="",b=f.data})),l(a,h.space,c),l(a,h.slash,(function(){S=!0,b=f.tagEnd})),a)),l(g,f.attributeName,(l(o={},h.space,(function(){b=f.attributeNameEnd})),l(o,h.equal,(function(){E(d.attributeName,k),b=f.attributeValueBegin})),l(o,h.gt,(function(){w="",E(d.attributeName,k),E(d.attributeValue,w),_="",b=f.data})),l(o,h.slash,(function(){S=!0,w="",E(d.attributeName,k),E(d.attributeValue,w),b=f.tagEnd})),l(o,h.char,(function(e){k+=e})),o)),l(g,f.attributeNameEnd,(l(s={},h.space,c),l(s,h.equal,(function(){E(d.attributeName,k),b=f.attributeValueBegin})),l(s,h.gt,(function(){w="",E(d.attributeName,k),E(d.attributeValue,w),_="",b=f.data})),l(s,h.char,(function(e){w="",E(d.attributeName,k),E(d.attributeValue,w),k=e,b=f.attributeName})),s)),l(g,f.attributeValueBegin,(l(p={},h.space,c),l(p,h.quote,(function(e){T=e,w="",b=f.attributeValue})),l(p,h.gt,(function(){w="",E(d.attributeValue,w),_="",b=f.data})),l(p,h.char,(function(e){T="",w=e,b=f.attributeValue})),p)),l(g,f.attributeValue,(l(m={},h.space,(function(e){T?w+=e:(E(d.attributeValue,w),b=f.attributeNameStart)})),l(m,h.quote,(function(e){T===e?(E(d.attributeValue,w),b=f.attributeNameStart):w+=e})),l(m,h.gt,(function(e){T?w+=e:(E(d.attributeValue,w),_="",b=f.data)})),l(m,h.slash,(function(e){T?w+=e:(E(d.attributeValue,w),S=!0,b=f.tagEnd)})),l(m,h.char,(function(e){w+=e})),m)),g);var C=function(t){e.debug&&console.log(b,t);var n=y.stateMachine[b];(n[v(t)]||n[h.error]||n[h.char])(t)};return y.write=function(e){for(var t=e.length,n=0;n<t;n++)C(e[n])},y}},g=m.Type,y={element:"element",text:"text"},b=function(e){return Object.assign({name:"",type:y.element,value:"",parent:null,attributes:{},children:[]},e)},_=function(e){e=Object.assign({stream:!1,parentNodes:!0,doneEvent:"done",tagPrefix:"tag:",emitTopLevelOnly:!1,debug:!1},e);var t=void 0,n=void 0,r=void 0,i=void 0,a=new u,o=function(o){switch(o.type){case g.openTag:if(null===r)(r=n).name=o.value;else{var s=b({name:o.value,parent:r});r.children.push(s),r=s}break;case g.closeTag:var u=r.parent;if(e.parentNodes||(r.parent=null),r.name!==o.value)break;e.stream&&u===n&&(n.children=[],r.parent=null),e.emitTopLevelOnly&&u!==n||(a.emit(e.tagPrefix+r.name,r),a.emit("tag",r.name,r)),r===n&&(t.removeAllListeners("data"),a.emit(e.doneEvent,r),n=null),r=u;break;case g.text:r&&r.children.push(b({type:y.text,value:o.value,parent:e.parentNodes?r:null}));break;case g.attributeName:i=o.value,r.attributes[i]="";break;case g.attributeValue:r.attributes[i]=o.value}};return a.reset=function(){(t=m.create({debug:e.debug})).on("data",o),n=b(),r=null,i="",a.parse=t.write},a.reset(),a},x=function(e,t){t=Object.assign({},t,{stream:!1,tagPrefix:":"});var n=_(t),r=void 0;return n.on("done",(function(e){r=e})),n.parse(e),r},k=function(e){var t=x("<root>".concat(e,"</root>"),{parentNodes:!1});if(t.children&&t.children.length>0&&t.children.every((function(e){return"svg"===e.name})))return 1===t.children.length?t.children[0]:t.children;throw Error("nothing to parse")},w=function(e){return s(e,(function(e){return T(e)?e:S(e)}))},S=function(e){return e.replace(/[-|:]([a-z])/gi,(function(e,t){return t.toUpperCase()}))},T=function(e){return/^(data|aria)(-\w+)/.test(e)},E=function(e){if(e){var t=String(e);return/[&<>]/.test(t)?"<![CDATA[".concat(t.replace(/]]>/,"]]]]><![CDATA[>"),"]]>"):t}return""},C=function(e){return String(e).replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transformNode,r=void 0===n?function(e){return e}:n,i=t.camelcase,a=void 0!==i&&i,o=function(e){var t;return t=r(e),a&&(t=w(t)),t};return o(k(e))};function P(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Promise((function(e,n){try{e(A.apply(void 0,t))}catch(r){n(r)}}))}var I=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transformAttr,i=void 0===r?function(e,t,n){return"".concat(e,'="').concat(n(t),'"')}:r,a=n.transformNode,o=void 0===a?function(e){return e}:a,s=n.selfClose,u=void 0===s||s;if(Array.isArray(t))return t.map((function(t){return e(t,{transformAttr:i,selfClose:u,transformNode:o})})).join("");var l=o(t);if("text"===l.type)return E(l.value);var c="";for(var f in l.attributes){var h=i(f,l.attributes[f],C,l.name);c+=h?" ".concat(h):""}return l.children&&l.children.length>0||!u?"<".concat(l.name).concat(c,">").concat(e(l.children,{transformAttr:i,transformNode:o,selfClose:u}),"</").concat(l.name,">"):"<".concat(l.name).concat(c,"/>")};return Object.assign({},{parse:P,parseSync:A,stringify:I})}()},1364:function(e){e.exports=function(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n}},2832:function(e,t,n){var r=n(3416);e.exports=function(e){return r(e).replace(/\s(\w)/g,(function(e,t){return t.toUpperCase()}))}},2726:function(e){e.exports=function(e){return t.test(e)?e.toLowerCase():n.test(e)?(function(e){return e.replace(i,(function(e,t){return t?" "+t:""}))}(e)||e).toLowerCase():r.test(e)?function(e){return e.replace(a,(function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")}))}(e).toLowerCase():e.toLowerCase()};var t=/\s/,n=/(_|-|\.|:)/,r=/([a-z][A-Z]|[A-Z][a-z])/;var i=/[\W_]+(.|$)/g;var a=/(.)([A-Z]+)/g},3416:function(e,t,n){var r=n(2726);e.exports=function(e){return r(e).replace(/[\W_]+(.|$)/g,(function(e,t){return t?" "+t:""})).trim()}},6369:function(e,t,n){var r;e=n.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof n.g&&n.g;a.global!==a&&a.window!==a&&a.self;var o,s=2147483647,u=36,l=1,c=26,f=38,h=700,d=72,p=128,v="-",m=/^xn--/,g=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_=u-l,x=Math.floor,k=String.fromCharCode;function w(e){throw new RangeError(b[e])}function S(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function T(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+S((e=e.replace(y,".")).split("."),t).join(".")}function E(e){for(var t,n,r=[],i=0,a=e.length;i<a;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<a?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function C(e){return S(e,(function(e){var t="";return e>65535&&(t+=k((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=k(e)})).join("")}function A(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function P(e,t,n){var r=0;for(e=n?x(e/h):e>>1,e+=x(e/t);e>_*c>>1;r+=u)e=x(e/_);return x(r+(_+1)*e/(e+f))}function I(e){var t,n,r,i,a,o,f,h,m,g,y,b=[],_=e.length,k=0,S=p,T=d;for((n=e.lastIndexOf(v))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&w("not-basic"),b.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<_;){for(a=k,o=1,f=u;i>=_&&w("invalid-input"),((h=(y=e.charCodeAt(i++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:u)>=u||h>x((s-k)/o))&&w("overflow"),k+=h*o,!(h<(m=f<=T?l:f>=T+c?c:f-T));f+=u)o>x(s/(g=u-m))&&w("overflow"),o*=g;T=P(k-a,t=b.length+1,0==a),x(k/t)>s-S&&w("overflow"),S+=x(k/t),k%=t,b.splice(k++,0,S)}return C(b)}function O(e){var t,n,r,i,a,o,f,h,m,g,y,b,_,S,T,C=[];for(b=(e=E(e)).length,t=p,n=0,a=d,o=0;o<b;++o)(y=e[o])<128&&C.push(k(y));for(r=i=C.length,i&&C.push(v);r<b;){for(f=s,o=0;o<b;++o)(y=e[o])>=t&&y<f&&(f=y);for(f-t>x((s-n)/(_=r+1))&&w("overflow"),n+=(f-t)*_,t=f,o=0;o<b;++o)if((y=e[o])<t&&++n>s&&w("overflow"),y==t){for(h=n,m=u;!(h<(g=m<=a?l:m>=a+c?c:m-a));m+=u)T=h-g,S=u-g,C.push(k(A(g+T%S,0))),h=x(T/S);C.push(k(A(h,0))),a=P(n,_,r==i),n=0,++r}++n,++t}return C.join("")}o={version:"1.4.1",ucs2:{decode:E,encode:C},decode:I,encode:O,toASCII:function(e){return T(e,(function(e){return g.test(e)?"xn--"+O(e):e}))},toUnicode:function(e){return T(e,(function(e){return m.test(e)?I(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},2114:function(e,t,n){"use strict";var r=n(6369);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var a=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),c=["%","/","?",";","#"].concat(l),f=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=n(2808);function y(e,t,n){if(e&&"object"===typeof e&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}i.prototype.parse=function(e,t,n){if("string"!==typeof e)throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),o=-1!==i&&i<e.indexOf("#")?"?":"#",u=e.split(o);u[0]=u[0].replace(/\\/g,"/");var y=e=u.join(o);if(y=y.trim(),!n&&1===e.split("#").length){var b=s.exec(y);if(b)return this.path=y,this.href=y,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?g.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var _=a.exec(y);if(_){var x=(_=_[0]).toLowerCase();this.protocol=x,y=y.substr(_.length)}if(n||_||y.match(/^\/\/[^@/]+@[^@/]+/)){var k="//"===y.substr(0,2);!k||_&&v[_]||(y=y.substr(2),this.slashes=!0)}if(!v[_]&&(k||_&&!m[_])){for(var w,S,T=-1,E=0;E<f.length;E++){-1!==(C=y.indexOf(f[E]))&&(-1===T||C<T)&&(T=C)}-1!==(S=-1===T?y.lastIndexOf("@"):y.lastIndexOf("@",T))&&(w=y.slice(0,S),y=y.slice(S+1),this.auth=decodeURIComponent(w)),T=-1;for(E=0;E<c.length;E++){var C;-1!==(C=y.indexOf(c[E]))&&(-1===T||C<T)&&(T=C)}-1===T&&(T=y.length),this.host=y.slice(0,T),y=y.slice(T),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var P=this.hostname.split(/\./),I=(E=0,P.length);E<I;E++){var O=P[E];if(O&&!O.match(h)){for(var M="",R=0,N=O.length;R<N;R++)O.charCodeAt(R)>127?M+="x":M+=O[R];if(!M.match(h)){var D=P.slice(0,E),B=P.slice(E+1),L=O.match(d);L&&(D.push(L[1]),B.unshift(L[2])),B.length&&(y="/"+B.join(".")+y),this.hostname=D.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=r.toASCII(this.hostname));var j=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+j,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!p[x])for(E=0,I=l.length;E<I;E++){var U=l[E];if(-1!==y.indexOf(U)){var z=encodeURIComponent(U);z===U&&(z=escape(U)),y=y.split(U).join(z)}}var V=y.indexOf("#");-1!==V&&(this.hash=y.substr(V),y=y.slice(0,V));var H=y.indexOf("?");if(-1!==H?(this.search=y.substr(H),this.query=y.substr(H+1),t&&(this.query=g.parse(this.query)),y=y.slice(0,H)):t&&(this.search="",this.query={}),y&&(this.pathname=y),m[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"";var W=this.search||"";this.path=j+W}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,a="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&"object"===typeof this.query&&Object.keys(this.query).length&&(a=g.stringify(this.query));var o=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||m[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),o&&"?"!==o.charAt(0)&&(o="?"+o),t+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(o=o.replace("#","%23"))+r},i.prototype.resolve=function(e){return this.resolveObject(y(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if("string"===typeof e){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,r=Object.keys(this),a=0;a<r.length;a++){var o=r[a];n[o]=this[o]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),u=0;u<s.length;u++){var l=s[u];"protocol"!==l&&(n[l]=e[l])}return m[n.protocol]&&n.hostname&&!n.pathname&&(n.pathname="/",n.path=n.pathname),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!m[e.protocol]){for(var c=Object.keys(e),f=0;f<c.length;f++){var h=c[f];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||v[e.protocol])n.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var p=n.pathname||"",g=n.search||"";n.path=p+g}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=b||y||n.host&&e.pathname,x=_,k=n.pathname&&n.pathname.split("/")||[],w=(d=e.pathname&&e.pathname.split("/")||[],n.protocol&&!m[n.protocol]);if(w&&(n.hostname="",n.port=null,n.host&&(""===k[0]?k[0]=n.host:k.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),_=_&&(""===d[0]||""===k[0])),b)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,k=d;else if(d.length)k||(k=[]),k.pop(),k=k.concat(d),n.search=e.search,n.query=e.query;else if(null!=e.search){if(w)n.host=k.shift(),n.hostname=n.host,(A=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=A.shift(),n.hostname=A.shift(),n.host=n.hostname);return n.search=e.search,n.query=e.query,null===n.pathname&&null===n.search||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!k.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var S=k.slice(-1)[0],T=(n.host||e.host||k.length>1)&&("."===S||".."===S)||""===S,E=0,C=k.length;C>=0;C--)"."===(S=k[C])?k.splice(C,1):".."===S?(k.splice(C,1),E++):E&&(k.splice(C,1),E--);if(!_&&!x)for(;E--;E)k.unshift("..");!_||""===k[0]||k[0]&&"/"===k[0].charAt(0)||k.unshift(""),T&&"/"!==k.join("/").substr(-1)&&k.push("");var A,P=""===k[0]||k[0]&&"/"===k[0].charAt(0);w&&(n.hostname=P?"":k.length?k.shift():"",n.host=n.hostname,(A=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=A.shift(),n.hostname=A.shift(),n.host=n.hostname));return(_=_||n.host&&k.length)&&!P&&k.unshift(""),k.length>0?n.pathname=k.join("/"):(n.pathname=null,n.path=null),null===n.pathname&&null===n.search||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=o.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},t.Qc=y,t.DB=function(e,t){return y(e,!1,!0).resolve(t)},t.WU=function(e){return"string"===typeof e&&(e=y(e)),e instanceof i?e.format():i.prototype.format.call(e)}},2391:function(e){"use strict";var t=function(){};e.exports=t},7724:function(e,t,n){"use strict";var r=n(5038),i=n(4814),a=n(8486),o=n(3137),s=n(6423);e.exports=function(e){return null==e||"object"!==typeof e&&"function"!==typeof e?null:r(e)?"String":i(e)?"Number":a(e)?"Boolean":o(e)?"Symbol":s(e)?"BigInt":void 0}},8264:function(e,t,n){"use strict";var r=n(5369),i=n(306),a=n(9722),o=n(4037),s=n(3347),u=o("Object.prototype.toString"),l=n(4707)(),c="undefined"===typeof globalThis?n.g:globalThis,f=i(),h=o("String.prototype.slice"),d=Object.getPrototypeOf,p=o("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},v={__proto__:null};r(f,l&&s&&d?function(e){var t=new c[e];if(Symbol.toStringTag in t){var n=d(t),r=s(n,Symbol.toStringTag);if(!r){var i=d(n);r=s(i,Symbol.toStringTag)}v["$"+e]=a(r.get)}}:function(e){var t=new c[e];v["$"+e]=a(t.slice)});e.exports=function(e){if(!e||"object"!==typeof e)return!1;if(!l){var t=h(u(e),8,-1);return p(f,t)>-1?t:"Object"===t&&function(e){var t=!1;return r(v,(function(n,r){if(!t)try{n(e),t=h(r,1)}catch(i){}})),t}(e)}return s?function(e){var t=!1;return r(v,(function(n,r){if(!t)try{"$"+n(e)===r&&(t=h(r,1))}catch(i){}})),t}(e):null}},8277:function(e,t,n){var r;e=n.nmd(e),function(i){var a=t,o=(e&&e.exports,"object"==typeof n.g&&n.g);o.global!==o&&o.window;var s,u,l,c=String.fromCharCode;function f(e){for(var t,n,r=[],i=0,a=e.length;i<a;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<a?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function h(e,t){return c(e>>t&63|128)}function d(e){if(0==(4294967168&e))return c(e);var t="";return 0==(4294965248&e)?t=c(e>>6&31|192):0==(4294901760&e)?(t=c(e>>12&15|224),t+=h(e,6)):0==(4292870144&e)&&(t=c(e>>18&7|240),t+=h(e,12),t+=h(e,6)),t+=c(63&e|128)}function p(){if(l>=u)throw Error("Invalid byte index");var e=255&s[l];if(l++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function v(){var e,t;if(l>u)throw Error("Invalid byte index");if(l==u)return!1;if(e=255&s[l],l++,0==(128&e))return e;if(192==(224&e)){if((t=(31&e)<<6|p())>=128)return t;throw Error("Invalid continuation byte")}if(224==(240&e)){if((t=(15&e)<<12|p()<<6|p())>=2048)return t;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=(15&e)<<18|p()<<12|p()<<6|p())>=65536&&t<=1114111)return t;throw Error("Invalid WTF-8 detected")}var m={version:"1.0.0",encode:function(e){for(var t=f(e),n=t.length,r=-1,i="";++r<n;)i+=d(t[r]);return i},decode:function(e){s=f(e),u=s.length,l=0;for(var t,n=[];!1!==(t=v());)n.push(t);return function(e){for(var t,n=e.length,r=-1,i="";++r<n;)(t=e[r])>65535&&(i+=c((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=c(t);return i}(n)}};void 0===(r=function(){return m}.call(t,n,t,e))||(e.exports=r)}()},5590:function(e){"use strict";var t,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),r=64,i={},a=0,o=0;function s(e){var t="";do{t=n[e%r]+t,e=Math.floor(e/r)}while(e>0);return t}function u(){var e=s(+new Date);return e!==t?(a=0,t=e):e+"."+s(a++)}for(;o<r;o++)i[n[o]]=o;u.encode=s,u.decode=function(e){var t=0;for(o=0;o<e.length;o++)t=t*r+i[e.charAt(o)];return t},e.exports=u},548:function(e,t,n){var r={"./en-GB/translation.json":[78,78],"./en/translation.json":[926,926],"./zh-TW/translation.json":[9076,76],"./zh/translation.json":[7969,969]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((function(){return n.t(i,19)}))}i.keys=function(){return Object.keys(r)},i.id=548,e.exports=i},7020:function(){},4654:function(){},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8416:function(e,t,n){var r=n(4062);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6530:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},7061:function(e,t,n){var r=n(8698).default;function i(){"use strict";e.exports=i=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},a=Object.prototype,o=a.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},u="function"==typeof Symbol?Symbol:{},l=u.iterator||"@@iterator",c=u.asyncIterator||"@@asyncIterator",f=u.toStringTag||"@@toStringTag";function h(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{h({},"")}catch(t){h=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof _?t:_,a=Object.create(i.prototype),o=new R(r||[]);return s(a,"_invoke",{value:P(e,n,o)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=d;var v="suspendedStart",m="suspendedYield",g="executing",y="completed",b={};function _(){}function x(){}function k(){}var w={};h(w,l,(function(){return this}));var S=Object.getPrototypeOf,T=S&&S(S(N([])));T&&T!==a&&o.call(T,l)&&(w=T);var E=k.prototype=_.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){h(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(i,a,s,u){var l=p(e[i],e,a);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==r(f)&&o.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,u)}))}u(l.arg)}var i;s(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}})}function P(e,n,r){var i=v;return function(a,o){if(i===g)throw new Error("Generator is already running");if(i===y){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var u=I(s,r);if(u){if(u===b)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===v)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=g;var l=p(e,n,r);if("normal"===l.type){if(i=r.done?y:m,l.arg===b)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=y,r.method="throw",r.arg=l.arg)}}}function I(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var a=p(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,b;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function N(e){if(e||""===e){var n=e[l];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(r(e)+" is not iterable")}return x.prototype=k,s(E,"constructor",{value:k,configurable:!0}),s(k,"constructor",{value:x,configurable:!0}),x.displayName=h(k,f,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,h(e,f,"GeneratorFunction")),e.prototype=Object.create(E),e},n.awrap=function(e){return{__await:e}},C(A.prototype),h(A.prototype,c,(function(){return this})),n.AsyncIterator=A,n.async=function(e,t,r,i,a){void 0===a&&(a=Promise);var o=new A(d(e,t,r,i),a);return n.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(E),h(E,f,"Generator"),h(E,l,(function(){return this})),h(E,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=N,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},n}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var r=n(5372),i=n(6530),a=n(6116),o=n(2218);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(3405),i=n(9498),a=n(6116),o=n(2281);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},5036:function(e,t,n){var r=n(8698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:function(e,t,n){var r=n(8698).default,i=n(5036);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},4687:function(e,t,n){var r=n(7061)();e.exports=r;try{regeneratorRuntime=r}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},306:function(e,t,n){"use strict";var r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],i="undefined"===typeof globalThis?n.g:globalThis;e.exports=function(){for(var e=[],t=0;t<r.length;t++)"function"===typeof i[r[t]]&&(e[e.length]=r[t]);return e}},4786:function(e,t,n){"use strict";var r=n(5450),i=n(4619);if(n(697)()||n(3297)()){var a=Symbol.iterator;e.exports=function(e){return null!=e&&"undefined"!==typeof e[a]?e[a]():r(e)?Array.prototype[a].call(e):void 0}}else{var o=n(7644),s=n(5038),u=n(2506),l=u("%Map%",!0),c=u("%Set%",!0),f=n(4037),h=f("Array.prototype.push"),d=f("String.prototype.charCodeAt"),p=f("String.prototype.slice"),v=function(e){var t=0;return{next:function(){var n,r=t>=e.length;return r||(n=e[t],t+=1),{done:r,value:n}}}},m=function(e,t){if(o(e)||r(e))return v(e);if(s(e)){var n=0;return{next:function(){var t=function(e,t){if(t+1>=e.length)return t+1;var n=d(e,t);if(n<55296||n>56319)return t+1;var r=d(e,t+1);return r<56320||r>57343?t+1:t+2}(e,n),r=p(e,n,t);return n=t,{done:t>e.length,value:r}}}}return t&&"undefined"!==typeof e["_es6-shim iterator_"]?e["_es6-shim iterator_"]():void 0};if(l||c){var g=n(242),y=n(6325),b=f("Map.prototype.forEach",!0),_=f("Set.prototype.forEach",!0);if("undefined"===typeof process||!process.versions||!process.versions.node)var x=f("Map.prototype.iterator",!0),k=f("Set.prototype.iterator",!0);var w=f("Map.prototype.@@iterator",!0)||f("Map.prototype._es6-shim iterator_",!0),S=f("Set.prototype.@@iterator",!0)||f("Set.prototype._es6-shim iterator_",!0);e.exports=function(e){return function(e){if(g(e)){if(x)return i(x(e));if(w)return w(e);if(b){var t=[];return b(e,(function(e,n){h(t,[n,e])})),v(t)}}if(y(e)){if(k)return i(k(e));if(S)return S(e);if(_){var n=[];return _(e,(function(e){h(n,e)})),v(n)}}}(e)||m(e)}}else e.exports=function(e){if(null!=e)return m(e,!0)}}},5505:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},362:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3229:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultActionPanelSettings=void 0,t.DefaultActionPanelSettings={showVolumeSlider:!0}},1425:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultBackgroundSettings=void 0,t.DefaultBackgroundSettings={backgroundType:"default",backgroundColor:"#000000",albumartBackgroundFit:"cover",albumartBackgroundPosition:"center",albumartBackgroundBlur:"",albumartBackgroundScale:"",volumioBackgroundImage:"",volumioBackgroundFit:"cover",volumioBackgroundPosition:"center",volumioBackgroundBlur:"",volumioBackgroundScale:"",myBackgroundImageType:"random",myBackgroundImage:"",myBackgroundRandomRefreshInterval:0,myBackgroundRandomRefreshOnTrackChange:!0,myBackgroundFit:"cover",myBackgroundPosition:"center",myBackgroundBlur:"",myBackgroundScale:"",backgroundOverlay:"default",backgroundOverlayColor:"#000000",backgroundOverlayColorOpacity:"",backgroundOverlayGradient:"",backgroundOverlayGradientOpacity:""}},3185:function(e,t,n){"use strict";var r,i=n(8416).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultSettings=t.CommonSettingsCategory=void 0;var a,o=n(3229),s=n(1425),u=n(2642),l=n(7810),c=n(9546),f=n(7641),h=n(95),d=n(6227);!function(e){e.Startup="startup",e.Theme="theme",e.Performance="performance",e.Localization="localization",e.Background="background",e.ActionPanel="actionPanel",e.NowPlayingScreen="screen.nowPlaying",e.IdleScreen="screen.idle"}(a=t.CommonSettingsCategory||(t.CommonSettingsCategory={})),t.DefaultSettings=(i(r={},a.Startup,h.DefaultStartupOptions),i(r,a.Theme,d.DefaultThemeSettings),i(r,a.Performance,f.DefaultPerformanceSettings),i(r,a.Localization,l.DefaultLocalizationSettings),i(r,a.Background,s.DefaultBackgroundSettings),i(r,a.ActionPanel,o.DefaultActionPanelSettings),i(r,a.NowPlayingScreen,c.DefaultNowPlayingScreenSettings),i(r,a.IdleScreen,u.DefaultIdleScreenSettings),r)},2642:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultIdleScreenSettings=void 0,t.DefaultIdleScreenSettings={enabled:"kiosk",waitTime:30,showLocation:!0,showWeather:!0,mainAlignment:"flex-start",mainAlignmentCycleInterval:60,timeFormat:"default",hour24:!1,showSeconds:!1,fontSizes:"auto",timeFontSize:"",dateFontSize:"",locationFontSize:"",weatherCurrentBaseFontSize:"",weatherForecastBaseFontSize:"",fontColors:"default",timeColor:"#FFFFFF",dateColor:"#FFFFFF",locationColor:"#FFFFFF",weatherCurrentColor:"#FFFFFF",weatherForecastColor:"#FFFFFF",weatherIconSettings:"default",weatherIconStyle:"filled",weatherCurrentIconSize:"",weatherForecastIconSize:"",weatherCurrentIconMonoColor:"#FFFFFF",weatherForecastIconMonoColor:"#FFFFFF",weatherCurrentIconAnimate:!1,backgroundType:"unsplash",backgroundColor:"#000000",volumioBackgroundImage:"",volumioBackgroundFit:"cover",volumioBackgroundPosition:"center",volumioBackgroundBlur:"",volumioBackgroundScale:"",myBackgroundImageType:"random",myBackgroundImage:"",myBackgroundRandomRefreshInterval:10,myBackgroundFit:"cover",myBackgroundPosition:"center",myBackgroundBlur:"",myBackgroundScale:"",unsplashKeywords:"",unsplashKeywordsAppendDayPeriod:!1,unsplashMatchScreenSize:!0,unsplashRefreshInterval:10,unsplashBackgroundBlur:"",backgroundOverlay:"default",backgroundOverlayColor:"#000000",backgroundOverlayColorOpacity:"",backgroundOverlayGradient:"",backgroundOverlayGradientOpacity:"",weatherBackground:"default",weatherBackgroundColor:"#000000",weatherBackgroundColorOpacity:"",weatherBackgroundGradient:"",weatherBackgroundGradientOpacity:"",weatherAreaHeightType:"auto",weatherAreaHeight:""}},7810:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultLocalizationSettings=void 0,t.DefaultLocalizationSettings={geoCoordinates:"",locale:"matchVolumio",resolvedLocale:null,timezone:"matchClient",geoTimezone:null,resolvedTimezone:null,unitSystem:"metric"}},9546:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultNowPlayingScreenSettings=void 0,t.DefaultNowPlayingScreenSettings={trackInfoVisibility:"default",titleVisibility:!0,artistVisibility:!0,albumVisibility:!0,mediaInfoVisibility:!0,fontSizes:"auto",titleFontSize:"",artistFontSize:"",albumFontSize:"",mediaInfoFontSize:"",seekTimeFontSize:"",metadataFontSize:"",fontColors:"default",titleFontColor:"#FFFFFF",artistFontColor:"#CCCCCC",albumFontColor:"#CCCCCC",mediaInfoFontColor:"#CCCCCC",seekTimeFontColor:"#CCCCCC",metadataFontColor:"#CCCCCC",textMargins:"auto",titleMargin:"",artistMargin:"",albumMargin:"",mediaInfoMargin:"",textAlignmentH:"left",textAlignmentV:"flex-start",textAlignmentLyrics:"center",maxLines:"auto",maxTitleLines:"",maxArtistLines:"",maxAlbumLines:"",trackInfoOrder:"default",trackInfoTitleOrder:"",trackInfoArtistOrder:"",trackInfoAlbumOrder:"",trackInfoMediaInfoOrder:"",trackInfoMarqueeTitle:!1,widgetColors:"default",widgetPrimaryColor:"#CCCCCC",widgetHighlightColor:"#24A4F3",widgetVisibility:"default",playbackButtonsVisibility:!0,seekbarVisibility:!0,playbackButtonSizeType:"auto",playbackButtonSize:"",widgetMargins:"auto",playbackButtonsMargin:"",seekbarMargin:"",albumartVisibility:!0,albumartSize:"auto",albumartWidth:"",albumartHeight:"",albumartFit:"cover",albumartBorder:"",albumartBorderRadius:"",vuMeter:{templateType:"random",template:"",meterType:"random",meter:"",randomRefreshInterval:0,randomRefreshOnTrackChange:!0},dockedMenu:{enabled:!0,showInVUMeterView:!0},dockedActionPanelTrigger:{enabled:!0,iconSettings:"default",iconStyle:"expand_more",iconSize:"",iconColor:"#CCCCCC",opacity:"",margin:"",showInVUMeterView:!1},dockedVolumeIndicator:{enabled:!1,fontSettings:"default",fontSize:"",fontSizePercentSymbol:"",fontColor:"#CCCCCC",iconSettings:"default",iconSize:"",iconColor:"#CCCCCC",volumeBarPosition:"center",volumeBarOrientation:"horizontal",placement:"bottom-right",displayOrder:"",margin:"",showVolumeBarOnClick:!1,showInVUMeterView:!1},dockedClock:{enabled:!1,placement:"top-left",showInfo:"dateTime",fontSettings:"default",fontSize:"",dateColor:"#CCCCCC",timeColor:"#CCCCCC",dateFormat:"default",yearFormat:"none",monthFormat:"short",dayFormat:"numeric",dayOfWeekFormat:"none",timeFormat:"default",hourFormat:"numeric",hour24:!1,showSeconds:!1,displayOrder:"",margin:"",showInVUMeterView:!1},dockedWeather:{enabled:!1,placement:"top-left",fontSettings:"default",fontSize:"",fontColor:"#CCCCCC",iconSettings:"default",iconStyle:"filled",iconSize:"",iconMonoColor:"#CCCCCC",iconAnimate:!1,displayOrder:"",showHumidity:!1,showWindSpeed:!1,margin:"",showInVUMeterView:!1}}},7641:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultPerformanceSettings=void 0,t.DefaultPerformanceSettings={transitionEffectsKiosk:!1,transitionEffectsOtherDevices:!0,unmountScreensOnExit:"default",unmountNowPlayingScreenOnExit:!0,unmountBrowseScreenOnExit:!1,unmountQueueScreenOnExit:!1,unmountVolumioScreenOnExit:!0,vuMeterRenderingKiosk:"css",vuMeterRenderingOtherDevices:"webgl",vuMeterWebGLShowStats:!1}},95:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultStartupOptions=void 0,t.DefaultStartupOptions={activeScreen:"nowPlaying.basicView",activateIdleScreen:!1}},6227:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultThemeSettings=void 0,t.DefaultThemeSettings={active:"default"}},4893:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(3229),t),i(n(1425),t),i(n(3185),t),i(n(2642),t),i(n(7810),t),i(n(9546),t),i(n(7641),t),i(n(6227),t)},5190:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(4893),t),i(n(362),t),i(n(5505),t),i(n(1158),t)},1158:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},905:function(e,t,n){"use strict";var r=n(242),i=n(6325),a=n(7517),o=n(1920);e.exports=function(e){if(e&&"object"===typeof e){if(r(e))return"Map";if(i(e))return"Set";if(a(e))return"WeakMap";if(o(e))return"WeakSet"}return!1}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.amdO={},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+"."+{76:"6fc90401",78:"cd224ff0",508:"c314b3fc",926:"e76a0475",969:"3f8dba3a"}[e]+".chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="now-playing-reactjs-client:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var f=l[c];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/",function(){n.b=document.baseURI||self.location.href;var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);l<o.length;l++)a=o[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunknow_playing_reactjs_client=self.webpackChunknow_playing_reactjs_client||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(2791),t=n(4164);function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function a(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function o(e){return function(e){if(Array.isArray(e))return r(e)}(e)||i(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}function l(e,t,n){return(t=u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e){if(Array.isArray(e))return e}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){return h(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||a(e,t)||d()}var v={Button:"NowPlayingScreen_Button__hHYf9",PopupMenu__menuButton:"NowPlayingScreen_PopupMenu__menuButton__1-It7","Button--toggleable":"NowPlayingScreen_Button--toggleable__sa6xz",Button__icon:"NowPlayingScreen_Button__icon__pYw3G",Button__text:"NowPlayingScreen_Button__text__Fbvvz","Button--toggled":"NowPlayingScreen_Button--toggled__RL2nx",PopupMenu__menuItemIcon:"NowPlayingScreen_PopupMenu__menuItemIcon__ZY9BI",PopupMenu__overlay:"NowPlayingScreen_PopupMenu__overlay__Bjr-E",Layout:"NowPlayingScreen_Layout__OGERh",Layout__view:"NowPlayingScreen_Layout__view__5K4Re",Layout__contents:"NowPlayingScreen_Layout__contents__YSKwA",PopupMenu:"NowPlayingScreen_PopupMenu__+Uqsz"},m=n(184);var g=function(e){return(0,m.jsx)("div",{className:"Dock Dock--".concat(e.position),children:e.children})},y=(0,e.createContext)({}),b=function(t){var n=t.children,r=p((0,e.useState)([]),2),i=r[0],a=r[1],s=(0,e.useRef)({}),u=(0,e.useRef)([]),l=(0,e.useRef)({}),c=(0,e.useCallback)((function(e){return!!i.find((function(t){return t.key===e}))}),[i]),h=(0,e.useCallback)((function(e){c(e)&&a(i.filter((function(t){return t.key!==e})))}),[c,a,i]),d=(0,e.useCallback)((function(e){return u.current.includes(e)}),[]),v=(0,e.useCallback)((function(e){d(e)||(u.current.push(e),c(e)&&h(e))}),[d,c,h]),g=(0,e.useCallback)((function(e){d(e)&&(u.current=u.current.filter((function(t){return t!==e})))}),[d]),b=(0,e.useCallback)((function(e){var t;return!c(e)||d(e)?l.current[e]||null:(null===(t=i.find((function(t){return t.key===e})))||void 0===t?void 0:t.data)||null}),[c,d,i]),_=(0,e.useCallback)((function(e,t){var n=s.current;n[e]=setTimeout((function(){h(e),delete n[e]}),t)}),[h]),x=(0,e.useCallback)((function(e){var t=f({autoClose:0,data:null},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(!d(e))if(c(e))(function(e){var t=s.current;return!!t[e]&&(clearTimeout(t[e]),delete t[e],!0)})(e)&&a(o(i));else{var n=[].concat(o(i),[f(f({},t),{},{key:e})]);l.current[e]=t.data||null,a(n)}}),[d,c,i,a]);return(0,e.useEffect)((function(){i.forEach((function(e){e.autoClose>0&&_(e.key,e.autoClose)}))}),[i,_]),(0,m.jsx)(y.Provider,{value:{isModalOpened:c,openModal:x,closeModal:h,disableModal:v,enableModal:g,isModalDisabled:d,getModalData:b},children:n})},_=function(){return(0,e.useContext)(y)},x=n(1694),k=n.n(x),w="Left",S="Right",T="Up",E="Down",C={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},A={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},P="mousemove",I="mouseup",O="touchend",M="touchmove",R="touchstart";function N(e,t){if(0===t)return e;var n=Math.PI/180*t;return[e[0]*Math.cos(n)+e[1]*Math.sin(n),e[1]*Math.cos(n)-e[0]*Math.sin(n)]}function D(e,t){var n=function(t){var n="touches"in t;n&&t.touches.length>1||e((function(e,i){i.trackMouse&&!n&&(document.addEventListener(P,r),document.addEventListener(I,o));var a=n?t.touches[0]:t,s=N([a.clientX,a.clientY],i.rotationAngle);return i.onTouchStartOrOnMouseDown&&i.onTouchStartOrOnMouseDown({event:t}),Object.assign(Object.assign(Object.assign({},e),A),{initial:s.slice(),xy:s,start:t.timeStamp||0})}))},r=function(t){e((function(e,n){var r="touches"in t;if(r&&t.touches.length>1)return e;if(t.timeStamp-e.start>n.swipeDuration)return e.swiping?Object.assign(Object.assign({},e),{swiping:!1}):e;var i=r?t.touches[0]:t,a=p(N([i.clientX,i.clientY],n.rotationAngle),2),o=a[0],s=a[1],u=o-e.xy[0],l=s-e.xy[1],c=Math.abs(u),f=Math.abs(l),h=(t.timeStamp||0)-e.start,d=Math.sqrt(c*c+f*f)/(h||1),v=[u/(h||1),l/(h||1)],m=function(e,t,n,r){return e>t?n>0?S:w:r>0?E:T}(c,f,u,l),g="number"===typeof n.delta?n.delta:n.delta[m.toLowerCase()]||C.delta;if(c<g&&f<g&&!e.swiping)return e;var y={absX:c,absY:f,deltaX:u,deltaY:l,dir:m,event:t,first:e.first,initial:e.initial,velocity:d,vxvy:v};y.first&&n.onSwipeStart&&n.onSwipeStart(y),n.onSwiping&&n.onSwiping(y);var b=!1;return(n.onSwiping||n.onSwiped||n["onSwiped".concat(m)])&&(b=!0),b&&n.preventScrollOnSwipe&&n.trackTouch&&t.cancelable&&t.preventDefault(),Object.assign(Object.assign({},e),{first:!1,eventData:y,swiping:!0})}))},i=function(t){e((function(e,n){var r;if(e.swiping&&e.eventData){if(t.timeStamp-e.start<n.swipeDuration){r=Object.assign(Object.assign({},e.eventData),{event:t}),n.onSwiped&&n.onSwiped(r);var i=n["onSwiped".concat(r.dir)];i&&i(r)}}else n.onTap&&n.onTap({event:t});return n.onTouchEndOrOnMouseUp&&n.onTouchEndOrOnMouseUp({event:t}),Object.assign(Object.assign(Object.assign({},e),A),{eventData:r})}))},a=function(){document.removeEventListener(P,r),document.removeEventListener(I,o)},o=function(e){a(),i(e)},s=function(e,t){var a=function(){};if(e&&e.addEventListener){var o=Object.assign(Object.assign({},C.touchEventOptions),t.touchEventOptions),s=[[R,n,o],[M,r,Object.assign(Object.assign({},o),t.preventScrollOnSwipe?{passive:!1}:{})],[O,i,o]];s.forEach((function(t){var n=p(t,3),r=n[0],i=n[1],a=n[2];return e.addEventListener(r,i,a)})),a=function(){return s.forEach((function(t){var n=p(t,2),r=n[0],i=n[1];return e.removeEventListener(r,i)}))}}return a},u={ref:function(t){null!==t&&e((function(e,n){if(e.el===t)return e;var r={};return e.el&&e.el!==t&&e.cleanUpTouch&&(e.cleanUpTouch(),r.cleanUpTouch=void 0),n.trackTouch&&t&&(r.cleanUpTouch=s(t,n)),Object.assign(Object.assign(Object.assign({},e),{el:t}),r)}))}};return t.trackMouse&&(u.onMouseDown=n),[u,s]}function B(t){var n,r=t.trackMouse,i=e.useRef(Object.assign({},A)),a=e.useRef(Object.assign({},C)),o=e.useRef(Object.assign({},a.current));for(n in o.current=Object.assign({},a.current),a.current=Object.assign(Object.assign({},C),t),C)void 0===a.current[n]&&(a.current[n]=C[n]);var s=p(e.useMemo((function(){return D((function(e){return i.current=e(i.current,a.current)}),{trackMouse:r})}),[r]),2),u=s[0],l=s[1];return i.current=function(e,t,n,r){return t.trackTouch&&e.el?e.cleanUpTouch?t.preventScrollOnSwipe!==n.preventScrollOnSwipe||t.touchEventOptions.passive!==n.touchEventOptions.passive?(e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:r(e.el,t)})):e:Object.assign(Object.assign({},e),{cleanUpTouch:r(e.el,t)}):(e.cleanUpTouch&&e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:void 0}))}(i.current,a.current,o.current,l),u}function L(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function j(e,t,n){var r=e.composedPath();if(r){var i,a=L(r);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(o===n)return!1;var s=o;if(s.classList&&s.classList.contains(t))return!0}}catch(u){a.e(u)}finally{a.f()}}return!1}function F(e,t){return j(e,"no-swipe",t)}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function V(e,t,n){return t&&z(e.prototype,t),n&&z(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},W(e)}function G(){return G="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=W(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},G.apply(this,arguments)}function q(e,t){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},q(e,t)}function X(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q(e,t)}function Y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Vp){return!1}}function Q(e,t){if(t&&("object"===s(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return H(e)}function K(e){var t=Y();return function(){var n,r=W(e);if(t){var i=W(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Q(this,n)}}function Z(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var $=0;function J(e){return"__private_"+$+++"_"+e}var ee=n(7465),te=n.n(ee);function ne(e,t){return e?e.startsWith("/")?t+e:e:"".concat(t,"/albumart")}function re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.trunc(e/1e3/60).toString(),r=Math.trunc(e/1e3%60).toString();return 1===r.length&&(r="0".concat(r)),t>1&&n.length<t&&(n="0".repeat(t-n.length)+n),"".concat(n,":").concat(r)}function ie(e){if("webradio"===e.trackType&&e.bitrate)return e.bitrate;var t=[];return e.bitdepth&&t.push(e.bitdepth),e.samplerate&&t.push(e.samplerate),t.join(" ")}function ae(e,t){if(!e)return null;var n;switch(e){case"dff":case"dsf":n="dsd";break;case"ogg":case"oga":n="ogg";break;case"wv":n="wavpack";break;case"aac":case"aiff":case"alac":case"dsd":case"dts":case"flac":case"m4a":case"mp3":case"mp4":case"opus":case"spotify":case"wav":case"wawpack":case"airplay":case"YouTube":case"rr":case"bt":case"cd":case"mg":case"mb":case"wma":case"qobuz":case"tidal":n=e;break;default:n=null}return n?"".concat(t,"/sys_asset/format_icon/").concat(n,".svg"):null}var oe=J("worker"),se=function(e){X(r,e);var t=K(r);function r(){var e;return U(this,r),e=t.call(this),Object.defineProperty(H(e),oe,{writable:!0,value:void 0}),Z(H(e),oe)[oe]=new Worker(new URL(n.p+n.u(508),n.b)),Z(H(e),oe)[oe].onmessage=function(t){"seek"===t.data.event&&e.emit("seek",t.data.seek)},e}return V(r,[{key:"start",value:function(e,t){if(Z(this,oe)[oe])return Z(this,oe)[oe].postMessage({command:"start",beginSeek:e,max:t}),this}},{key:"pause",value:function(e,t){if(Z(this,oe)[oe])return Z(this,oe)[oe].postMessage({command:"pause",pauseSeek:e,max:t}),this}},{key:"stop",value:function(){if(Z(this,oe)[oe])return Z(this,oe)[oe].postMessage({command:"stop"}),this}},{key:"destroy",value:function(){this.stop(),this.removeAllListeners(),Z(this,oe)[oe]&&(Z(this,oe)[oe].terminate(),Z(this,oe)[oe]=null)}},{key:"on",value:function(e,t){return G(W(r.prototype),"on",this).call(this,e,t)}}]),r}(te()),ue=n(4058),le=n.n(ue),ce=n(95),fe=n(5190);function he(e,t){var n=window;return n.__initialData&&n.__initialData[e]?n.__initialData[e]:t}function de(e,t){return new URLSearchParams(window.location.search).get(e)||t||null}var pe=(0,e.createContext)({}),ve=function(e,t){return le()(e,t)?e:t},me=function(t){var n=t.children,r=p((0,e.useState)(he("host")||de("host")||""),2),i=r[0],a=r[1],o=p((0,e.useReducer)(ve,he("pluginInfo",null)),2),s=o[0],u=o[1],l=p((0,e.useState)("localhost"===window.location.hostname||!!JSON.parse(de("kiosk","0"))),2),c=l[0],f=l[1];return(0,m.jsx)(pe.Provider,{value:{host:i,setHost:a,pluginInfo:s,setPluginInfo:u,isKiosk:c,setKiosk:f},children:n})},ge=function(){return(0,e.useContext)(pe)};function ye(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=document.createElement("img"),a=function(){r.ready&&n&&r.ready.call(u,n)},o=function(e){t&&n!==t&&i?i.src=n=t:(n=null,r.error&&r.error.call(u,e))};i.addEventListener("load",a),i.addEventListener("error",o);var s=function(e){n=e,i&&e&&(i.src=e)},u={setSrc:s,dispose:function(){i&&(i.removeEventListener("load",a),i.removeEventListener("error",o),i.src="",i=null)}};return s(e),u}var be=function(t){var n=ge().host,r=p((0,e.useState)(null),2),i=r[0],a=r[1],o=(0,e.useRef)(null),s="".concat(n,"/albumart"),u=t.src?ne(t.src,n):s,l=t.onLoad,c=t.preload,h=p((0,e.useState)(u),2),d=h[0],v=h[1];(0,e.useEffect)((function(){if(c&&o.current!==u){o.current=u;var e=ye(u,s,{ready:function(e){a(e)},error:function(){a(null)}});return function(){e.dispose()}}}),[c,u,a,s]),(0,e.useEffect)((function(){c||o.current===u||(o.current=u,v(u))}),[c,u,v]);var g=(0,e.useCallback)((function(){null!==d&&v(d!==s?s:null)}),[d,v,s]);(0,e.useEffect)((function(){c&&l&&l(i)}),[i,c,l]);var y=(0,e.useCallback)((function(){c||l&&l(d)}),[c,l,d]),b={className:t.className,onClick:t.onClick};return c?(b.src=i||"",b.style=f({},t.style),i||(b.style.visibility="hidden")):(b.src=d||"",b.onError=g,b.style=f({},t.style),d||(b.style.visibility="hidden"),null===o.current&&(o.current=u),b.onLoad=y),(0,m.jsx)("img",f(f({},b),{},{alt:""}))};function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e.apply(this,arguments)}function xe(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function ke(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,q(e,t)}function we(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var Se=!1,Te=e.createContext(null),Ee=function(e){return e.scrollTop},Ce="unmounted",Ae="exited",Pe="entering",Ie="entered",Oe="exiting",Me=function(n){function r(e,t){var r;r=n.call(this,e,t)||this;var i,a=t&&!t.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?a?(i=Ae,r.appearStatus=Pe):i=Ie:i=e.unmountOnExit||e.mountOnEnter?Ce:Ae,r.state={status:i},r.nextCallback=null,r}ke(r,n),r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Ce?{status:Ae}:null};var i=r.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Pe&&n!==Ie&&(t=Pe):n!==Pe&&n!==Ie||(t=Oe)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},i.updateStatus=function(e,n){if(void 0===e&&(e=!1),null!==n)if(this.cancelNextCallback(),n===Pe){if(this.props.unmountOnExit||this.props.mountOnEnter){var r=this.props.nodeRef?this.props.nodeRef.current:t.findDOMNode(this);r&&Ee(r)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ae&&this.setState({status:Ce})},i.performEnter=function(e){var n=this,r=this.props.enter,i=this.context?this.context.isMounting:e,a=this.props.nodeRef?[i]:[t.findDOMNode(this),i],o=a[0],s=a[1],u=this.getTimeouts(),l=i?u.appear:u.enter;!e&&!r||Se?this.safeSetState({status:Ie},(function(){n.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:Pe},(function(){n.props.onEntering(o,s),n.onTransitionEnd(l,(function(){n.safeSetState({status:Ie},(function(){n.props.onEntered(o,s)}))}))})))},i.performExit=function(){var e=this,n=this.props.exit,r=this.getTimeouts(),i=this.props.nodeRef?void 0:t.findDOMNode(this);n&&!Se?(this.props.onExit(i),this.safeSetState({status:Oe},(function(){e.props.onExiting(i),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:Ae},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:Ae},(function(){e.props.onExited(i)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(e,n){this.setNextCallback(n);var r=this.props.nodeRef?this.props.nodeRef.current:t.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(r&&!i){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],o=a[0],s=a[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},i.render=function(){var t=this.state.status;if(t===Ce)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,xe(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(Te.Provider,{value:null},"function"===typeof r?r(t,i):e.cloneElement(e.Children.only(r),i))},r}(e.Component);function Re(){}Me.contextType=Te,Me.propTypes={},Me.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Re,onEntering:Re,onEntered:Re,onExit:Re,onExiting:Re,onExited:Re},Me.UNMOUNTED=Ce,Me.EXITED=Ae,Me.ENTERING=Pe,Me.ENTERED=Ie,Me.EXITING=Oe;var Ne=Me,De=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"===typeof n.className?n.className=we(n.className,r):n.setAttribute("class",we(n.className&&n.className.baseVal||"",r)));var n,r}))},Be=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},e.onEnter=function(t,n){var r=e.resolveArguments(t,n),i=r[0],a=r[1];e.removeClasses(i,"exit"),e.addClass(i,a?"appear":"enter","base"),e.props.onEnter&&e.props.onEnter(t,n)},e.onEntering=function(t,n){var r=e.resolveArguments(t,n),i=r[0],a=r[1]?"appear":"enter";e.addClass(i,a,"active"),e.props.onEntering&&e.props.onEntering(t,n)},e.onEntered=function(t,n){var r=e.resolveArguments(t,n),i=r[0],a=r[1]?"appear":"enter";e.removeClasses(i,a),e.addClass(i,a,"done"),e.props.onEntered&&e.props.onEntered(t,n)},e.onExit=function(t){var n=e.resolveArguments(t)[0];e.removeClasses(n,"appear"),e.removeClasses(n,"enter"),e.addClass(n,"exit","base"),e.props.onExit&&e.props.onExit(t)},e.onExiting=function(t){var n=e.resolveArguments(t)[0];e.addClass(n,"exit","active"),e.props.onExiting&&e.props.onExiting(t)},e.onExited=function(t){var n=e.resolveArguments(t)[0];e.removeClasses(n,"exit"),e.addClass(n,"exit","done"),e.props.onExited&&e.props.onExited(t)},e.resolveArguments=function(t,n){return e.props.nodeRef?[e.props.nodeRef.current,t]:[t,n]},e.getClassNames=function(t){var n=e.props.classNames,r="string"===typeof n,i=r?""+(r&&n?n+"-":"")+t:n[t];return{baseClassName:i,activeClassName:r?i+"-active":n[t+"Active"],doneClassName:r?i+"-done":n[t+"Done"]}},e}ke(n,t);var r=n.prototype;return r.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&Ee(e),r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},r.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,a=n.done;this.appliedClasses[t]={},r&&De(e,r),i&&De(e,i),a&&De(e,a)},r.render=function(){var t=this.props,n=(t.classNames,xe(t,["classNames"]));return e.createElement(Ne,_e({},n,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},n}(e.Component);Be.defaultProps={classNames:""},Be.propTypes={};var Le=Be,je=(0,e.createContext)(""),Fe=function(){return Intl.DateTimeFormat().resolvedOptions().locale},Ue=function(e){var t=e.resolvedLocale;return t=t&&function(e){try{return Intl.DateTimeFormat.supportedLocalesOf(e)[0]}catch(Vp){return null}}(t)||Fe()},ze=function(e){var t=e.children,n=dt(fe.CommonSettingsCategory.Localization).settings,r=Ue(n);return(0,m.jsx)(je.Provider,{value:r,children:t})},Ve=(0,e.createContext)({disableTransitions:!1}),He=function(e){var t=e.children,n=ge().isKiosk,r=dt(fe.CommonSettingsCategory.Performance).settings,i=!(n&&r.transitionEffectsKiosk||!n&&r.transitionEffectsOtherDevices);return(0,m.jsx)(Ve.Provider,{value:{disableTransitions:i},children:t})};function We(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function Ge(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){We(a,r,i,o,s,"next",e)}function s(e){We(a,r,i,o,s,"throw",e)}o(void 0)}))}}var qe=n(4687),Xe=n.n(qe);function Ye(e,t,n){return Qe.apply(this,arguments)}function Qe(){return Qe=Ge(Xe().mark((function e(t,n,r){var i,a,o,s,u,l,c,f,h=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=h.length>3&&void 0!==h[3]?h[3]:"GET",a={Accept:"application/json","Content-Type":"application/json"},e.t0=i,e.next="GET"===e.t0?5:"POST"===e.t0?11:18;break;case 5:return o=r?"?".concat(new URLSearchParams(r).toString()):"",s="".concat(t).concat(n).concat(o),e.next=9,fetch(s,{method:"GET",headers:a});case 9:return u=e.sent,e.abrupt("return",u.json());case 11:return l="".concat(t).concat(n),c={method:"POST",headers:a},r&&(c.body=JSON.stringify(r)),e.next=16,fetch(l,c);case 16:return f=e.sent,e.abrupt("return",f.json());case 18:return e.abrupt("return",null);case 19:case"end":return e.stop()}}),e)}))),Qe.apply(this,arguments)}var Ke,Ze=(0,e.createContext)({}),$e=function(t){var n=t.children,r=p((0,e.useState)(null),2),i=r[0],a=r[1];return(0,m.jsx)(Ze.Provider,{value:{socket:i,setSocket:a},children:n})},Je=function(){return(0,e.useContext)(Ze)},et=function(t){var n=t.context,r=t.category,i=t.children,a=Je().socket,o=ge().pluginInfo,s=(0,e.useState)(function(e){var t=he("settings",null);switch(e){case fe.CommonSettingsCategory.Startup:return(null===t||void 0===t?void 0:t[e])||ce.DefaultStartupOptions;case fe.CommonSettingsCategory.NowPlayingScreen:return(null===t||void 0===t?void 0:t[e])||fe.DefaultNowPlayingScreenSettings;case fe.CommonSettingsCategory.IdleScreen:return(null===t||void 0===t?void 0:t[e])||fe.DefaultIdleScreenSettings;case fe.CommonSettingsCategory.Background:return(null===t||void 0===t?void 0:t[e])||fe.DefaultBackgroundSettings;case fe.CommonSettingsCategory.ActionPanel:return(null===t||void 0===t?void 0:t[e])||fe.DefaultActionPanelSettings;case fe.CommonSettingsCategory.Theme:return(null===t||void 0===t?void 0:t[e])||fe.DefaultThemeSettings;case fe.CommonSettingsCategory.Performance:return(null===t||void 0===t?void 0:t[e])||fe.DefaultPerformanceSettings;case fe.CommonSettingsCategory.Localization:return(null===t||void 0===t?void 0:t[e])||fe.DefaultLocalizationSettings;default:throw Error("Unknown settings category: ".concat(e))}}(r)),u=p(s,2),l=u[0],c=u[1],f=(0,e.useRef)(l),h=o?o.apiPath:null,d=(0,e.useCallback)((function(e){e.category!==r||le()(f.current,e.data)||(f.current=e.data,c(e.data))}),[r]),v=(0,e.useCallback)(function(){var e=Ge(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h){e.next=5;break}return e.next=3,Ye(h,"/settings/getSettings",{category:r});case 3:!(n=e.sent).success||t.aborted||le()(f.current,n.data)||c(n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[h,r]);return(0,e.useEffect)((function(){if(a)return a.on("nowPlayingPushSettings",d),function(){a.off("nowPlayingPushSettings",d)}}),[a,d]),(0,e.useEffect)((function(){if(h){var e={aborted:!1};return v(e),function(){e.aborted=!0}}}),[h,v]),(0,m.jsx)(n.Provider,{value:{settings:l,updateSettings:c},children:i})},tt={name:"default",className:"styles_DefaultTheme__y5+SR"},nt="styles_DefaultTheme__Kh+3s",rt="styles_GlassTheme__KjEOl",it={name:"glass",className:k()(nt,rt)},at=(0,e.createContext)({}),ot={default:tt,glass:it},st=function(t){var n=t.children,r=dt(fe.CommonSettingsCategory.Theme),i=r.settings,a=r.updateSettings,s=Reflect.has(ot,i.active)?ot[i.active]:ot.default;return(0,e.useEffect)((function(){var e;return(e=document.body.classList).add.apply(e,o(s.className.split(" "))),function(){var e;(e=document.body.classList).remove.apply(e,o(s.className.split(" ")))}}),[s]),(0,m.jsx)(at.Provider,{value:{theme:s,setTheme:a},children:n})},ut=(0,e.createContext)(""),lt=function(e){var t=e.resolvedTimezone;return t||(t=Intl.DateTimeFormat().resolvedOptions().timeZone),t},ct=function(e){var t=e.children,n=dt(fe.CommonSettingsCategory.Localization).settings,r=lt(n);return(0,m.jsx)(ut.Provider,{value:r,children:t})},ft=(l(Ke={},fe.CommonSettingsCategory.Startup,(0,e.createContext)({})),l(Ke,fe.CommonSettingsCategory.Theme,(0,e.createContext)({})),l(Ke,fe.CommonSettingsCategory.Performance,(0,e.createContext)({})),l(Ke,fe.CommonSettingsCategory.Localization,(0,e.createContext)({})),l(Ke,fe.CommonSettingsCategory.Background,(0,e.createContext)({})),l(Ke,fe.CommonSettingsCategory.ActionPanel,(0,e.createContext)({})),l(Ke,fe.CommonSettingsCategory.NowPlayingScreen,(0,e.createContext)({})),l(Ke,fe.CommonSettingsCategory.IdleScreen,(0,e.createContext)({})),Ke),ht=function(e){var t=e.children;return Object.values(fe.CommonSettingsCategory).reduce((function(e,n){var r="performance"===n?(0,m.jsx)(He,{children:e||t}):"theme"===n?(0,m.jsx)(st,{children:e||t}):"localization"===n?(0,m.jsx)(ze,{children:(0,m.jsx)(ct,{children:e||t})}):e||t;return(0,m.jsx)(et,{context:ft[n],category:n,children:r},n)}),null)},dt=function(t){return(0,e.useContext)(ft[t])},pt=function(){return(0,e.useContext)(Ve)},vt=function(){return(0,e.useContext)(je)},mt=function(){return(0,e.useContext)(ut)};var gt=function(e){var t=pt().disableTransitions?0:e.timeout;return(0,m.jsx)(Le,f(f({},e),{},{timeout:t,children:e.children}))},yt={status:"stop",service:"",title:void 0,artist:void 0,album:void 0,albumart:"/albumart",uri:"",trackType:void 0,seek:0,duration:0,samplerate:void 0,bitdepth:void 0,bitrate:void 0,channels:void 0},bt=(0,e.createContext)(yt),_t=function(t){var n=t.children,r=p((0,e.useState)(yt),2),i=r[0],a=r[1],o=Je().socket;return(0,e.useEffect)((function(){if(o){var e=function(e){a(e)},t=function(){o.emit("getState")};return o.on("pushState",e),o.on("connect",t),o.on("reconnect",t),o.connected&&o.emit("getState"),function(){o.off("reconnect",t),o.off("connect",t),o.off("pushState",e)}}}),[o,a]),(0,m.jsx)(bt.Provider,{value:i,children:n})},xt=(0,e.createContext)({}),kt=function(t){var n=t.children,r=Je().socket,i=(0,e.useContext)(bt),a=p((0,e.useState)(0),2),o=a[0],s=a[1],u=(0,e.useRef)(null);(0,e.useEffect)((function(){null===u.current&&(u.current=new se);var e=u.current;return e.on("seek",s),function(){e.destroy(),u.current=null}}),[]);var l=(0,e.useCallback)((function(e){r&&r.emit("seek",e/1e3)}),[r]);return(0,e.useEffect)((function(){var e=u.current;if(e){var t=i.seek||0,n=1e3*(i.duration||0);switch(s(t),i.status){case"play":e.start(t,n);break;case"pause":e.pause(t,n);break;case"stop":e.stop()}}}),[i,s]),(0,m.jsx)(xt.Provider,{value:{currentSeekPosition:o,seekTo:l},children:n})},wt=function(e){var t=e.children;return(0,m.jsx)(_t,{children:(0,m.jsx)(kt,{children:t})})},St=function(){return(0,e.useContext)(bt)},Tt=function(){return(0,e.useContext)(xt)},Et={targetSrc:null,loadedSrc:null,lastTargetSrc:null,lastLoadedSrc:null,phase:void 0};var Ct=function(t){var n=ge(),r=n.host,i=(n.pluginInfo||{}).appUrl,a=void 0===i?null:i,o=St(),s=dt(fe.CommonSettingsCategory.Background).settings,u="".concat(r,"/albumart"),l=(0,e.useRef)(null),c=pt().disableTransitions,h=p((0,e.useState)(null),2),d=h[0],v=h[1],g=p((0,e.useState)(Date.now()),2),y=g[0],b=g[1],_=(0,e.useRef)(o),x=(0,e.useRef)(null),w=(0,e.useReducer)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f(f({},e),t)}),Et),S=p(w,2),T=S[0],E=S[1],C=navigator.userAgent.indexOf("AppleWebKit")>=0,A=s.backgroundType,P="default"===A||"albumart"===A||"myBackground"===A&&"random"===s.myBackgroundImageType,I="myBackground"===A&&"random"===s.myBackgroundImageType&&s.myBackgroundRandomRefreshOnTrackChange,O="myBackground"===A&&"random"===s.myBackgroundImageType?s.myBackgroundRandomRefreshInterval:0,M=(0,e.useCallback)((function(){x.current&&(clearTimeout(x.current),x.current=null)}),[]);(0,e.useEffect)((function(){return function(){M()}}),[M]),(0,e.useEffect)((function(){if(M(),"idle"===T.phase)return O>0&&(x.current=setTimeout((function(){b(Date.now())}),60*O*1e3)),function(){M()}}),[M,T,O]),(0,e.useEffect)((function(){if("default"===A||"albumart"===A){var e=o.albumart?ne(o.albumart,r):u;v(e)}}),[A,o.status,o.albumart,r,u]),(0,e.useEffect)((function(){var e;"volumioBackground"===A?e=s.volumioBackgroundImage?ne("/backgrounds/".concat(s.volumioBackgroundImage),r):u:"myBackground"===A?a&&(e="".concat(a,"/mybg"),"fixed"===s.myBackgroundImageType&&s.myBackgroundImage?e+="?file=".concat(encodeURIComponent(s.myBackgroundImage)):e+="?ts=".concat(Date.now())):"color"===A&&(e=null);void 0!==e&&v(e)}),[y,A,r,s.volumioBackgroundImage,s.myBackgroundImageType,s.myBackgroundImage]),(0,e.useEffect)((function(){var e=_.current;(o.uri!==e.uri||o.title!==e.title||o.artist!==e.artist||o.album!==e.album)&&I&&(_.current=f({},o),b(Date.now()))}),[o.uri,o.title,o.artist,o.album,I]),(0,e.useEffect)((function(){d||void 0===T.phase||"idle"===T.phase?(T.targetSrc!==d&&T.lastTargetSrc!==d||l.current!==d)&&(void 0!==T.phase&&"idle"!==T.phase?l.current=d:(l.current=null,E({targetSrc:d,phase:"preload"}))):E(f({},Et))}),[d,T,E]);var R=(0,e.useCallback)((function(){null===l.current||l.current===T.targetSrc?E({targetSrc:null,loadedSrc:null,phase:"idle"}):E({targetSrc:l.current,loadedSrc:null,phase:"preload"})}),[T.targetSrc,E]);(0,e.useEffect)((function(){if("preload"===T.phase){var e=ye(T.targetSrc,u,{ready:function(t){e.dispose(),E(!P||C?{lastTargetSrc:T.targetSrc,lastLoadedSrc:t,phase:"afterTransition"}:{loadedSrc:t,phase:"beforeTransition"})},error:function(){e.dispose(),R()}});return function(){e.dispose()}}}),[P,C,T,E,u,R]),(0,e.useEffect)((function(){"beforeTransition"===T.phase&&E({phase:"transition"})}),[T,E]);var N=(0,e.useCallback)((function(){"transition"===T.phase&&E({lastTargetSrc:T.targetSrc,lastLoadedSrc:T.loadedSrc,phase:"afterTransition"})}),[E,T]);(0,e.useEffect)((function(){if("afterTransition"===T.phase){if(C){var e=setTimeout(R,1e3);return function(){clearTimeout(e)}}R()}}),[C,T,E,R]);var D={};if("albumart"===A){var B=s.albumartBackgroundFit,L="fill"===B?"100% 100%":B,j=s.albumartBackgroundPosition,F=s.albumartBackgroundBlur||"0px",U=s.albumartBackgroundScale||"1";D["--background-size"]=L,D["--background-position"]=j,D["--background-blur"]=F,D["--background-scale"]=U}else if("volumioBackground"===A){var z=s.volumioBackgroundFit,V="fill"===z?"100% 100%":z,H=s.volumioBackgroundPosition,W=s.volumioBackgroundBlur||"0px",G=s.volumioBackgroundScale||"1";D["--background-size"]=V,D["--background-position"]=H,D["--background-blur"]=W,D["--background-scale"]=G}else if("myBackground"===A){var q=s.myBackgroundFit,X="fill"===q?"100% 100%":q,Y=s.myBackgroundPosition,Q=s.myBackgroundBlur||"0px",K=s.myBackgroundScale||"1";D["--background-size"]=X,D["--background-position"]=Y,D["--background-blur"]=Q,D["--background-scale"]=K}else"color"===A&&(D["--background-image"]="none",D["--background-color"]=s.backgroundColor);return"customColor"===s.backgroundOverlay?(D["--background-overlay-color"]=s.backgroundOverlayColor,D["--background-overlay-opacity"]=s.backgroundOverlayColorOpacity):"customGradient"===s.backgroundOverlay?(D["--background-overlay-color"]="transparent",D["--background-overlay-gradient"]=s.backgroundOverlayGradient,D["--background-overlay-opacity"]=s.backgroundOverlayGradientOpacity||1):"none"===s.backgroundOverlay&&(D["--background-overlay-display"]="none"),D["--default-background-image"]=T.lastLoadedSrc?'url("'.concat(T.lastLoadedSrc,'")'):"none","Browse"===t.enteringScreenId?D["--active-screen-background-filter"]="var(--browse-screen-background-filter-entering)":"Browse"===t.activeScreenId?D["--active-screen-background-filter"]="var(--browse-screen-background-filter)":"Queue"===t.enteringScreenId?D["--active-screen-background-filter"]="var(--queue-screen-background-filter-entering)":"Queue"===t.activeScreenId&&(D["--active-screen-background-filter"]="var(--queue-screen-background-filter)"),(0,m.jsx)("div",{className:k()(["Background",C&&!c?"Background--webkit":null]),style:D,children:!P||C||"beforeTransition"!==T.phase&&"transition"!==T.phase?null:(0,m.jsx)(gt,{in:"transition"===T.phase,classNames:"bg-fadein",timeout:1e3,onEntered:N,children:(0,m.jsx)(be,{src:T.loadedSrc||"",className:"Background__transitioning"})})})},At=e.forwardRef((function(e,t){var n,r,i=e.styles?e.styles.baseClassName:null,a=i?null===(n=e.styles)||void 0===n?void 0:n.bundle:null,s=(null===(r=e.styles)||void 0===r?void 0:r.extraClassNames)||[],u=i&&a?k()(a[i]||"Button",e.toggleable?a["".concat(i,"--toggleable")]||"Button--toggleable":null,e.toggled?a["".concat(i,"--toggled")]||"Button--toggled":null,o(s)):k()("Button",e.toggleable?"Button--toggleable":null,e.toggled?"Button--toggled":null,o(s)),l=function(e){return i&&a&&a["".concat(i,"__").concat(e)]||"Button__".concat(e)},c=Object.keys(e).filter((function(e){return e.startsWith("data-")})).reduce((function(t,n){return t[n]=e[n],t}),{});return(0,m.jsxs)("button",f(f({ref:t,className:u,onClick:e.onClick,onKeyDown:e.onKeyDown,onMouseDown:e.onMouseDown},c),{},{children:[e.image?(0,m.jsx)("img",{className:l("image"),src:e.image,alt:""}):null,e.icon?(0,m.jsx)("span",{className:l("icon"),children:e.icon}):null,e.text?(0,m.jsx)("span",{className:l("text"),children:e.text}):null]}))}));At.displayName="Button";var Pt=At,It={Layout:"ScreenSwitcher_Layout__TGO4b",LabelWrapper:"ScreenSwitcher_LabelWrapper__pWiM-",Label:"ScreenSwitcher_Label__3z0qM",SwitchesWrapper:"ScreenSwitcher_SwitchesWrapper__Ru8LS",Button:"ScreenSwitcher_Button__KjJz3",Switch:"ScreenSwitcher_Switch__GXU8N","Button--toggleable":"ScreenSwitcher_Button--toggleable__mUb9J",Button__icon:"ScreenSwitcher_Button__icon__q8CcE",Button__text:"ScreenSwitcher_Button__text__adGdV","Button--toggled":"ScreenSwitcher_Button--toggled__tIkOX","Switch--active":"ScreenSwitcher_Switch--active__DP2EO"};var Ot=function(t){var n=Rf(),r=n.activeScreenId,i=n.switchScreen,a=t.onSwitch,o=(0,e.useCallback)((function(e){var t=e.currentTarget;if(t.dataset.screen){var n=t.dataset.screen;i({screenId:n}),a&&a(n)}}),[i,a]),s=function(e){return{baseClassName:"Switch",bundle:It,extraClassNames:e===r?[It["Switch--active"]]:void 0}};return(0,m.jsxs)("div",{className:It.Layout,children:[(0,m.jsx)("div",{className:It.LabelWrapper,children:(0,m.jsx)("div",{className:It.Label,children:(0,m.jsx)("span",{className:"material-icons",children:"tv"})})}),(0,m.jsxs)("div",{className:It.SwitchesWrapper,children:[(0,m.jsx)(Pt,{styles:s("Browse"),icon:"library_music","data-screen":"Browse",onClick:o}),(0,m.jsx)(Pt,{styles:s("NowPlaying"),icon:"art_track","data-screen":"NowPlaying",onClick:o}),(0,m.jsx)(Pt,{styles:s("Queue"),icon:"queue_music","data-screen":"Queue",onClick:o})]})]})},Mt=n(9202),Rt={Layout:"VolumeSlider_Layout__b8p6a","Layout--disabled":"VolumeSlider_Layout--disabled__VoPgL","Layout--muted":"VolumeSlider_Layout--muted__FsurI","Layout--horizontal":"VolumeSlider_Layout--horizontal__KoFQ4","Layout--vertical":"VolumeSlider_Layout--vertical__apJK4",Slider:"VolumeSlider_Slider__NXHWy",Slider__track:"VolumeSlider_Slider__track__3yvpl",Slider__thumb:"VolumeSlider_Slider__thumb__3PLyv",Button:"VolumeSlider_Button__+JWp-","Button--toggleable":"VolumeSlider_Button--toggleable__ooGNV",Button__icon:"VolumeSlider_Button__icon__uNL-v",Button__text:"VolumeSlider_Button__text__Xa2I7","Button--toggled":"VolumeSlider_Button--toggled__iy0jx","Button--mute":"VolumeSlider_Button--mute__y8HLI","Button--max":"VolumeSlider_Button--max__46NIY"};var Nt=function(t){var n=Je().socket,r=St(),i=(0,e.useRef)(null),a=(0,e.useRef)(r.volume),o=p((0,e.useState)(r.volume),2),s=o[0],u=o[1];(0,e.useEffect)((function(){null===i.current&&u(r.volume)}),[r.volume,u]);var l=(0,e.useCallback)((function(e){n&&n.emit("volume",e)}),[n]),c=(0,e.useCallback)((function(){n&&n.emit(r.mute?"unmute":"mute")}),[n,r.mute]),h=(0,e.useCallback)((function(){l(100)}),[l]),d=(0,e.useCallback)((function(){i.current||(i.current=setInterval((function(){a.current&&l(a.current)}),300))}),[l]),v=(0,e.useCallback)((function(e){a.current=e,d(),u(e)}),[d]),g=(0,e.useCallback)((function(e){i.current&&(clearInterval(i.current),i.current=null),u(e),l(e)}),[u,l]),y=(0,e.useCallback)((function(e){var t=e.props,n=e.children;return(0,m.jsxs)("div",f(f({},t),{},{className:Rt.Slider,children:[(0,m.jsx)("div",{ref:t.ref,className:Rt.Slider__track}),n]}))}),[]),b=(0,e.useCallback)((function(e){var t=e.props;return(0,m.jsx)("div",f(f({},t),{},{className:Rt.Slider__thumb,style:{left:"".concat(s,"%")}}))}),[s]),_=k()([Rt.Layout,"vertical"===t.orientation?Rt["Layout--vertical"]:Rt["Layout--horizontal"],r.mute?Rt["Layout--muted"]:null]);return(0,m.jsxs)("div",{className:_,style:{"--volume-level":"".concat(s,"%")},children:[(0,m.jsx)(Pt,{styles:{baseClassName:"Button",bundle:Rt,extraClassNames:[Rt["Button--mute"]]},icon:"volume_mute",toggleable:!0,toggled:r.mute,onClick:c}),(0,m.jsx)(Mt.Range,{direction:"vertical"===t.orientation?Mt.Direction.Up:Mt.Direction.Right,values:s?[s]:[0],max:100,onChange:function(e){return v(e[0])},onFinalChange:function(e){return g(e[0])},renderTrack:y,renderThumb:b}),(0,m.jsx)(Pt,{styles:{baseClassName:"Button",bundle:Rt,extraClassNames:[Rt["Button--max"]]},icon:"volume_up",onClick:h})]})},Dt={Overlay:"ActionPanel_Overlay__1OGIh","Overlay--after-open":"ActionPanel_Overlay--after-open__XFHnh","Overlay--before-close":"ActionPanel_Overlay--before-close__ChanB",Layout:"ActionPanel_Layout__c3Suj","Layout--solid":"ActionPanel_Layout--solid__VFvkI","Layout--after-open":"ActionPanel_Layout--after-open__WjDwi","Layout--before-close":"ActionPanel_Layout--before-close__1Wa7R",Layout__row:"ActionPanel_Layout__row__lCgsg",Layout__extraButtonsWrapper:"ActionPanel_Layout__extraButtonsWrapper__zr1xf",Button:"ActionPanel_Button__7GOlR",ExtraButton:"ActionPanel_ExtraButton__jJyta","Button--toggleable":"ActionPanel_Button--toggleable__Nxy+B",Button__icon:"ActionPanel_Button__icon__THn3m",Button__text:"ActionPanel_Button__text__UmXgE","Button--toggled":"ActionPanel_Button--toggled__4dDKJ",ExtraButton__image:"ActionPanel_ExtraButton__image__gUUwI"},Bt=n.p+"static/media/volumio-icon.3204cd4ee69f030fda73.png",Lt=n(7948),jt=n.n(Lt);var Ft=function(e){var t=pt().disableTransitions?0:e.closeTimeoutMS;return(0,m.jsx)(jt(),f(f({},e),{},{closeTimeoutMS:t,children:e.children}))};var Ut=function(t){var n=dt(fe.CommonSettingsCategory.ActionPanel).settings,r=_(),i=r.disableModal,a=r.enableModal,o=r.openModal,s=pt().disableTransitions,u=Rf().switchScreen,l=(0,e.useRef)(null),c=t.closePanel,h={base:Dt.Overlay,afterOpen:Dt["Overlay--after-open"],beforeClose:Dt["Overlay--before-close"]},d={base:"".concat(Dt.Layout," ").concat(s?Dt["Layout--solid"]:""," no-swipe"),afterOpen:Dt["Layout--after-open"],beforeClose:Dt["Layout--before-close"]};(0,e.useEffect)((function(){t.isOpen?i(ao):a(ao)}),[t.isOpen,i,a]);var p=B({onSwipedUp:function(e){var t;t=e.event instanceof Event?e.event:e.event.nativeEvent,l.current&&!F(t,l.current)&&c()}}),v=(0,e.useCallback)((function(){window.location.reload()}),[]),g=(0,e.useCallback)((function(){u({screenId:"Volumio"}),c()}),[u,c]),y=(0,e.useCallback)((function(){o(lo)}),[o]),b={baseClassName:"ExtraButton",bundle:Dt};return(0,m.jsxs)(Ft,f(f({closeTimeoutMS:200,overlayClassName:h,className:d,overlayRef:function(e){return l.current=e},onAfterOpen:function(){p.ref(l.current)}},t),{},{children:[n.showVolumeSlider?(0,m.jsx)(Nt,{}):null,(0,m.jsxs)("div",{className:Dt.Layout__row,children:[(0,m.jsx)(Ot,{onSwitch:c}),(0,m.jsxs)("div",{className:Dt.Layout__extraButtonsWrapper,children:[(0,m.jsx)(Pt,{styles:b,icon:"refresh",onClick:v}),(0,m.jsx)(Pt,{styles:b,image:Bt,onClick:g}),(0,m.jsx)(Pt,{styles:b,icon:"power_settings_new",onClick:y})]})]})]}))},zt={Overlay:"AddToPlaylistDialog_Overlay__pX9n9","Overlay--after-open":"AddToPlaylistDialog_Overlay--after-open__YHvfH","Overlay--before-close":"AddToPlaylistDialog_Overlay--before-close__SNXD8",Layout:"AddToPlaylistDialog_Layout__km487","Layout--after-open":"AddToPlaylistDialog_Layout--after-open__EhsWh","Layout--before-close":"AddToPlaylistDialog_Layout--before-close__xKCD0",Layout__header:"AddToPlaylistDialog_Layout__header__ErKb4",Layout__contents:"AddToPlaylistDialog_Layout__contents__cUA-R",Layout__footer:"AddToPlaylistDialog_Layout__footer__cgWph",Title:"AddToPlaylistDialog_Title__Z-gRA",Button:"AddToPlaylistDialog_Button__P3cYh","Button--toggleable":"AddToPlaylistDialog_Button--toggleable__PhNey",Button__icon:"AddToPlaylistDialog_Button__icon__Sb6DE",Button__text:"AddToPlaylistDialog_Button__text__ZBrcJ","Button--toggled":"AddToPlaylistDialog_Button--toggled__AsFRX","Button--close":"AddToPlaylistDialog_Button--close__jEEu5","Button--create":"AddToPlaylistDialog_Button--create__za1GI","Button--createBack":"AddToPlaylistDialog_Button--createBack__VsWC4","Button--confirmCreate":"AddToPlaylistDialog_Button--confirmCreate__M4F7I",Playlists:"AddToPlaylistDialog_Playlists__INhqw",Playlists__item:"AddToPlaylistDialog_Playlists__item__smJXx","Playlists__item--favorites":"AddToPlaylistDialog_Playlists__item--favorites__bv0iJ",CreatePlaylistButtonWrapper:"AddToPlaylistDialog_CreatePlaylistButtonWrapper__209DS",CreatePlaylistInputWrapper:"AddToPlaylistDialog_CreatePlaylistInputWrapper__XCUpV","Wrapper--fadeIn-enter":"AddToPlaylistDialog_Wrapper--fadeIn-enter__IL8J-","Wrapper--fadeIn-enter-active":"AddToPlaylistDialog_Wrapper--fadeIn-enter-active__LCmGZ","Wrapper--fadeIn-enter-done":"AddToPlaylistDialog_Wrapper--fadeIn-enter-done__cIeU8","Wrapper--fadeIn-exit":"AddToPlaylistDialog_Wrapper--fadeIn-exit__AghLY","Wrapper--fadeIn-exit-active":"AddToPlaylistDialog_Wrapper--fadeIn-exit-active__zgewt","Wrapper--fadeIn-exit-done":"AddToPlaylistDialog_Wrapper--fadeIn-exit-done__g4WEA",CreatePlaylistTextBox:"AddToPlaylistDialog_CreatePlaylistTextBox__6BGLI"},Vt=["song","album","webradio","mywebradio","cuesong"];function Ht(e){return"browse"===e.type&&("/"===e.uri||""===e.uri)}function Wt(e,t){if(!e)return null;var n=t.find((function(t){return t.uri&&e.startsWith(t.uri)}));return n?{name:n.plugin_name,prettyName:"mpd"===n.plugin_name?"Music Library":n.name}:null}function Gt(e,t){if(!e)return null;var n=t.find((function(t){return e===t.plugin_name}));return n?{name:n.plugin_name,prettyName:"mpd"===n.plugin_name?"Music Library":n.name}:null}function qt(e){if(!e||!e.type)return!1;if("folder"===e.type&&e.uri&&e.uri.startsWith("music-library/")&&e.uri.split("/").length<4||!0===e.disablePlayButton)return!1;return["folder","album","artist","song","mywebradio","webradio","playlist","cuesong","remdisk","cuefile","folder-with-favourites","internal-folder"].includes(e.type)}function Xt(e){return!("radio-favourites"===e.type||"radio-category"===e.type||"spotify-category"===e.type)}var Yt={type:"browse",uri:"",service:null},Qt=J("socket"),Kt=J("host"),Zt=J("hasReset"),$t=J("currentDisplayed"),Jt=J("currentLoading"),en=J("lastAction"),tn=J("backHistory"),nn=J("socketEventHandlers"),rn=J("browseSources"),an=J("initState"),on=J("initSocketEventHandlers"),sn=J("handleSocketConnnect"),un=J("setBrowseSources"),ln=J("getBrowseSourceContents"),cn=J("handlePushBrowseLibrary"),fn=J("handlePushAddWebRadio"),hn=J("pushLoad"),dn=J("pushRefresh"),pn=J("pushError"),vn=J("pushLoading"),mn=J("requestRestApi"),gn=function(e){X(n,e);var t=K(n);function n(){var e;return U(this,n),e=t.call(this),Object.defineProperty(H(e),mn,{value:Pn}),Object.defineProperty(H(e),vn,{value:An}),Object.defineProperty(H(e),pn,{value:Cn}),Object.defineProperty(H(e),dn,{value:En}),Object.defineProperty(H(e),hn,{value:Tn}),Object.defineProperty(H(e),fn,{value:Sn}),Object.defineProperty(H(e),cn,{value:wn}),Object.defineProperty(H(e),ln,{value:kn}),Object.defineProperty(H(e),un,{value:xn}),Object.defineProperty(H(e),sn,{value:_n}),Object.defineProperty(H(e),on,{value:bn}),Object.defineProperty(H(e),an,{value:yn}),Object.defineProperty(H(e),Qt,{writable:!0,value:void 0}),Object.defineProperty(H(e),Kt,{writable:!0,value:void 0}),Object.defineProperty(H(e),Zt,{writable:!0,value:void 0}),Object.defineProperty(H(e),$t,{writable:!0,value:void 0}),Object.defineProperty(H(e),Jt,{writable:!0,value:void 0}),Object.defineProperty(H(e),en,{writable:!0,value:void 0}),Object.defineProperty(H(e),tn,{writable:!0,value:void 0}),Object.defineProperty(H(e),nn,{writable:!0,value:void 0}),Object.defineProperty(H(e),rn,{writable:!0,value:void 0}),Z(H(e),Qt)[Qt]=null,Z(H(e),Kt)[Kt]=null,Z(H(e),Zt)[Zt]=!1,Z(H(e),an)[an](),Z(H(e),on)[on](),e}return V(n,[{key:"setSocket",value:function(e){var t=Z(this,Qt)[Qt];if(t!==e){if(t)for(var n=0,r=Object.entries(Z(this,nn)[nn]);n<r.length;n++){var i=p(r[n],2),a=i[0],o=i[1];t.off(a,o)}if(Z(this,Qt)[Qt]=e,Z(this,Qt)[Qt]){for(var s=0,u=Object.entries(Z(this,nn)[nn]);s<u.length;s++){var l=p(u[s],2),c=l[0],f=l[1];Z(this,Qt)[Qt].on(c,f)}Z(this,Kt)[Kt]=Z(this,Qt)[Qt].io.uri,Z(this,an)[an](),Z(this,Zt)[Zt]=!0,Z(this,Qt)[Qt].connected&&Z(this,Qt)[Qt].emit("getBrowseSources")}else Z(this,Kt)[Kt]=null}}},{key:"isReady",value:function(){return Z(this,Qt)[Qt]&&Z(this,Qt)[Qt].connected&&Z(this,Kt)[Kt]}},{key:"compareLocations",value:function(e,t){return e&&t&&(e.uri===t.uri||Ht(e)&&Ht(t))}},{key:"getBrowseSources",value:function(){return Z(this,rn)[rn]}},{key:"browse",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("browse"===e.type)if(Z(this,vn)[vn](e),Ht(e))Z(this,tn)[tn]=[],Z(this,hn)[hn](Yt,Z(this,ln)[ln]());else{Z(this,Jt)[Jt]=e;var r="".concat(Z(this,Kt)[Kt],"/api/v1/browse?uri=").concat(encodeURIComponent(encodeURIComponent(e.uri)));Z(this,mn)[mn](r).then((function(r){Z(t,Jt)[Jt]&&"browse"===Z(t,Jt)[Jt].type&&t.compareLocations(Z(t,Jt)[Jt],e)&&(r.error?Z(t,pn)[pn](r.error):n?Z(t,dn)[dn](r):Z(t,hn)[hn](e,r))}))}}},{key:"search",value:function(e,t){if(Z(this,Qt)[Qt]){var n={value:e},r={type:"search",query:e,service:null},i=t||(Z(this,$t)[$t]?Z(this,$t)[$t].location.service:null);i&&(n.service=i.name,r.service=i),Z(this,Jt)[Jt]=r,Z(this,vn)[vn](r),Z(this,Qt)[Qt].emit("search",n)}}},{key:"resetContents",value:function(){Z(this,tn)[tn]=[],Z(this,hn)[hn](Yt,{})}},{key:"addCurrentToHistory",value:function(e){Ht(Z(this,$t)[$t].location)||Z(this,tn)[tn].push(f(f({},Z(this,$t)[$t]),{},{scrollPosition:e}))}},{key:"goBack",value:function(){Z(this,vn)[vn]();var e=Z(this,tn)[tn].pop();!e||Ht(e.location)?this.browse(Yt):["browse","search","goto"].includes(e.location.type)&&Z(this,hn)[hn](e.location,e.contents,e.scrollPosition,"back")}},{key:"gotoCurrentPlaying",value:function(e,t){if(Z(this,Qt)[Qt]){this.resetContents();var n={type:e,value:t[e],artist:t.artist,album:t.album},r={type:"goto",params:{type:e,playerState:f({},t)},service:Gt(t.service,this.getBrowseSources())};Z(this,Jt)[Jt]=r,Z(this,vn)[vn](),Z(this,Qt)[Qt].emit("goTo",n)}}},{key:"registerAction",value:function(e){Z(this,en)[en]=e}},{key:"restoreCurrentDisplayed",value:function(e){Z(this,$t)[$t]&&Z(this,hn)[hn](Z(this,$t)[$t].location,Z(this,$t)[$t].contents,Z(this,Zt)[Zt]?0:e,"restore"),Z(this,Zt)[Zt]=!1}},{key:"on",value:function(e,t){return G(W(n.prototype),"on",this).call(this,e,t)}}]),n}(te());function yn(){Z(this,$t)[$t]={location:Yt,contents:null},Z(this,un)[un]([]),Z(this,Jt)[Jt]=null,Z(this,en)[en]=null,Z(this,tn)[tn]=[]}function bn(){Z(this,nn)[nn]={connect:Z(this,sn)[sn].bind(this),reconnect:Z(this,sn)[sn].bind(this),pushBrowseSources:Z(this,un)[un].bind(this),pushBrowseLibrary:Z(this,cn)[cn].bind(this),pushAddWebRadio:Z(this,fn)[fn].bind(this)}}function _n(){Z(this,Qt)[Qt]&&Z(this,Qt)[Qt].emit("getBrowseSources")}function xn(e){if(Z(this,rn)[rn]=e,Z(this,$t)[$t]&&Ht(Z(this,$t)[$t].location)){var t=Z(this,ln)[ln]();Z(this,dn)[dn](t)}}function kn(){return{navigation:{lists:[{items:this.getBrowseSources(),availableListViews:["grid"]}]}}}function wn(e){var t;e.navigation&&e.navigation.isSearchResult&&Z(this,Jt)[Jt]&&"search"===Z(this,Jt)[Jt].type?Z(this,hn)[hn](Z(this,Jt)[Jt],e):Z(this,Jt)[Jt]&&"goto"===Z(this,Jt)[Jt].type?e.error?Z(this,pn)[pn](e.error):Z(this,hn)[hn](Z(this,Jt)[Jt],e):Z(this,en)[en]&&Z(this,$t)[$t]&&"browse"===Z(this,$t)[$t].location.type&&"browse"===(null===(t=Z(this,en)[en].originatingLocation)||void 0===t?void 0:t.type)&&Z(this,en)[en].expectsContentsRefresh&&this.compareLocations(Z(this,en)[en].originatingLocation,Z(this,$t)[$t].location)&&(Z(this,en)[en]=null,Z(this,dn)[dn](e))}function Sn(e){e.success&&"browse"===Z(this,$t)[$t].location.type&&"radio/myWebRadio"===Z(this,$t)[$t].location.uri&&this.browse(Z(this,$t)[$t].location,!0)}function Tn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0;Z(this,Jt)[Jt]=null;var i={contents:t,context:{location:e,scrollPosition:n,isBack:"back"===r,isRestore:"restore"===r}};this.emit("contentsLoaded",i),Z(this,$t)[$t]={location:e,contents:t},Ht(e)&&(Z(this,tn)[tn]=[])}function En(e){Z(this,Jt)[Jt]=null,this.emit("contentsRefreshed",{contents:e}),Z(this,$t)[$t].contents=e}function Cn(e){Z(this,Jt)[Jt]=null,this.emit("error",{message:e})}function An(e){this.emit("contentsLoading",{location:e})}function Pn(e){return In.apply(this,arguments)}function In(){return In=Ge(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),In.apply(this,arguments)}var On=J("apiPath"),Mn=J("pushFetched"),Rn=J("pushError"),Nn=function(e){X(n,e);var t=K(n);function n(){var e;return U(this,n),e=t.call(this),Object.defineProperty(H(e),Rn,{value:Bn}),Object.defineProperty(H(e),Mn,{value:Dn}),Object.defineProperty(H(e),On,{writable:!0,value:void 0}),Z(H(e),On)[On]=null,e}return V(n,[{key:"setApiPath",value:function(e){Z(this,On)[On]=e}},{key:"isReady",value:function(){return null!==Z(this,On)[On]}},{key:"getSongInfo",value:function(){var e=Ge(Xe().mark((function e(t){var n,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Z(this,On)[On]){e.next=2;break}return e.abrupt("return");case 2:return n=f(f({},t),{},{type:"song"}),e.next=5,Ye(Z(this,On)[On],"/metadata/fetchInfo",n);case 5:(r=e.sent).success?Z(this,Mn)[Mn]({song:t.name,album:t.album,artist:t.artist},r.data):Z(this,Rn)[Rn](r.error);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAlbumInfo",value:function(){var e=Ge(Xe().mark((function e(t){var n,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Z(this,On)[On]){e.next=2;break}return e.abrupt("return");case 2:return n=f(f({},t),{},{type:"album"}),e.next=5,Ye(Z(this,On)[On],"/metadata/fetchInfo",n);case 5:(r=e.sent).success?Z(this,Mn)[Mn]({album:t.name,artist:t.artist},r.data):Z(this,Rn)[Rn](r.error);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getArtistInfo",value:function(){var e=Ge(Xe().mark((function e(t){var n,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Z(this,On)[On]){e.next=2;break}return e.abrupt("return");case 2:return n=f(f({},t),{},{type:"artist"}),e.next=5,Ye(Z(this,On)[On],"/metadata/fetchInfo",n);case 5:(r=e.sent).success?Z(this,Mn)[Mn]({artist:t.name},r.data):Z(this,Rn)[Rn](r.error);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"emit",value:function(e){for(var t,r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return(t=G(W(n.prototype),"emit",this)).call.apply(t,[this,e].concat(i))}},{key:"on",value:function(e,t){return G(W(n.prototype),"on",this).call(this,e,t)}}]),n}(te());function Dn(e,t){var n={};Reflect.has(t,"song")&&(n.song=t.song),Reflect.has(t,"album")&&(n.album=t.album),Reflect.has(t,"artist")&&(n.artist=t.artist),this.emit("fetched",{params:e,info:n})}function Bn(e){this.emit("error",e)}var Ln=J("socket"),jn=J("socketEventHandlers"),Fn=J("playlists"),Un=J("initState"),zn=J("initSocketEventHandlers"),Vn=J("handleSocketConnnect"),Hn=function(e){X(n,e);var t=K(n);function n(){var e;return U(this,n),e=t.call(this),Object.defineProperty(H(e),Vn,{value:qn}),Object.defineProperty(H(e),zn,{value:Gn}),Object.defineProperty(H(e),Un,{value:Wn}),Object.defineProperty(H(e),Ln,{writable:!0,value:void 0}),Object.defineProperty(H(e),jn,{writable:!0,value:void 0}),Object.defineProperty(H(e),Fn,{writable:!0,value:void 0}),Z(H(e),Ln)[Ln]=null,Z(H(e),Un)[Un](),Z(H(e),zn)[zn](),e}return V(n,[{key:"setSocket",value:function(e){var t=Z(this,Ln)[Ln];if(t!==e){if(t)for(var n=0,r=Object.entries(Z(this,jn)[jn]);n<r.length;n++){var i=p(r[n],2),a=i[0],o=i[1];t.off(a,o)}if(Z(this,Ln)[Ln]=e,Z(this,Ln)[Ln]){for(var s=0,u=Object.entries(Z(this,jn)[jn]);s<u.length;s++){var l=p(u[s],2),c=l[0],f=l[1];Z(this,Ln)[Ln].on(c,f)}Z(this,Un)[Un](),Z(this,Ln)[Ln].connected&&Z(this,Ln)[Ln].emit("listPlaylist")}}}},{key:"refreshPlaylists",value:function(){Z(this,Ln)[Ln]&&Z(this,Ln)[Ln].emit("listPlaylist")}},{key:"setPlaylists",value:function(e){Z(this,Fn)[Fn]!==e&&(Z(this,Fn)[Fn]=e,this.emit("playlistsChanged",Z(this,Fn)[Fn]))}},{key:"getPlaylists",value:function(){return Z(this,Fn)[Fn]}},{key:"addToPlaylist",value:function(e,t){if(Z(this,Ln)[Ln]){var n={name:t,uri:e.uri,service:e.service||null};Z(this,Ln)[Ln].emit("addToPlaylist",n)}}},{key:"addQueueToPlaylist",value:function(e){Z(this,Ln)[Ln]&&Z(this,Ln)[Ln].emit("saveQueueToPlaylist",{name:e})}},{key:"removeFromPlaylist",value:function(e,t){Z(this,Ln)[Ln]&&Z(this,Ln)[Ln].emit("removeFromPlaylist",{name:t,uri:e.uri,service:e.service||null})}},{key:"deletePlaylist",value:function(e){Z(this,Ln)[Ln]&&Z(this,Ln)[Ln].emit("deletePlaylist",{name:e})}},{key:"addToFavorites",value:function(e){Z(this,Ln)[Ln]&&e&&e.uri&&Z(this,Ln)[Ln].emit("addToFavourites",{uri:e.uri,title:e.title,service:e.service||null})}},{key:"removeFromFavorites",value:function(e){Z(this,Ln)[Ln]&&e&&e.uri&&Z(this,Ln)[Ln].emit("removeFromFavourites",{uri:e.uri,service:e.service||null})}},{key:"addWebRadio",value:function(e){Z(this,Ln)[Ln]&&e&&e.title&&e.uri&&Z(this,Ln)[Ln].emit("addWebRadio",{name:e.title,uri:e.uri})}},{key:"editWebRadio",value:function(e){Z(this,Ln)[Ln]&&this.addWebRadio(e)}},{key:"deleteWebRadio",value:function(e){Z(this,Ln)[Ln]&&e&&e.title&&Z(this,Ln)[Ln].emit("removeWebRadio",{name:e.title})}},{key:"addWebRadioToFavorites",value:function(e){Z(this,Ln)[Ln]&&this.addToFavorites(e)}},{key:"removeWebRadioFromFavorites",value:function(e){Z(this,Ln)[Ln]&&this.removeFromFavorites(e)}},{key:"on",value:function(e,t){return G(W(n.prototype),"on",this).call(this,e,t)}}]),n}(te());function Wn(){this.setPlaylists([])}function Gn(){Z(this,jn)[jn]={connect:Z(this,Vn)[Vn].bind(this),reconnect:Z(this,Vn)[Vn].bind(this),pushListPlaylist:this.setPlaylists.bind(this)}}function qn(){Z(this,Ln)[Ln]&&Z(this,Ln)[Ln].emit("listPlaylist")}var Xn=["song"],Yn=J("socket"),Qn=J("socketEventHandlers"),Kn=J("queue"),Zn=J("initState"),$n=J("handleSocketConnnect"),Jn=J("setQueue"),er=function(e){X(n,e);var t=K(n);function n(){var e;return U(this,n),e=t.call(this),Object.defineProperty(H(e),Jn,{value:rr}),Object.defineProperty(H(e),$n,{value:nr}),Object.defineProperty(H(e),Zn,{value:tr}),Object.defineProperty(H(e),Yn,{writable:!0,value:void 0}),Object.defineProperty(H(e),Qn,{writable:!0,value:void 0}),Object.defineProperty(H(e),Kn,{writable:!0,value:void 0}),Z(H(e),Yn)[Yn]=null,Z(H(e),Zn)[Zn](),e.initSocketEventHandlers(),e}return V(n,[{key:"initSocketEventHandlers",value:function(){Z(this,Qn)[Qn]={connect:Z(this,$n)[$n].bind(this),reconnect:Z(this,$n)[$n].bind(this),pushQueue:Z(this,Jn)[Jn].bind(this)}}},{key:"setSocket",value:function(e){var t=Z(this,Yn)[Yn];if(t!==e){if(t)for(var n=0,r=Object.entries(Z(this,Qn)[Qn]);n<r.length;n++){var i=p(r[n],2),a=i[0],o=i[1];t.off(a,o)}if(Z(this,Yn)[Yn]=e,Z(this,Yn)[Yn]){for(var s=0,u=Object.entries(Z(this,Qn)[Qn]);s<u.length;s++){var l=p(u[s],2),c=l[0],f=l[1];Z(this,Yn)[Yn].on(c,f)}Z(this,Zn)[Zn](),Z(this,Yn)[Yn].connected&&Z(this,Yn)[Yn].emit("getQueue")}}}},{key:"getQueue",value:function(){return Z(this,Kn)[Kn]}},{key:"play",value:function(e,t,n){Z(this,Yn)[Yn]&&("cuesong"===e.type?Z(this,Yn)[Yn].emit("addPlayCue",{uri:e.uri,number:e.number,service:e.service||null}):"playlist"===e.type?Z(this,Yn)[Yn].emit("playPlaylist",{name:e.title}):e.type&&(Xn.includes(e.type)&&t&&void 0!==n?Z(this,Yn)[Yn].emit("playItemsList",{item:e,list:t.items,index:n}):Z(this,Yn)[Yn].emit("playItemsList",{item:e})))}},{key:"playQueue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;Z(this,Yn)[Yn]&&Z(this,Yn)[Yn].emit("play",{value:e})}},{key:"addToQueue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Z(this,Yn)[Yn]&&(t?Z(this,Yn)[Yn].emit("enqueue",{name:e.title}):Z(this,Yn)[Yn].emit("addToQueue",{uri:e.uri,title:e.title,albumart:e.albumart||null,service:e.service||null}))}},{key:"removeFromQueue",value:function(e){Z(this,Yn)[Yn]&&Z(this,Yn)[Yn].emit("removeFromQueue",{value:e})}},{key:"clearQueue",value:function(){Z(this,Yn)[Yn]&&Z(this,Yn)[Yn].emit("clearQueue")}},{key:"clearAndPlay",value:function(e){Z(this,Yn)[Yn]&&Z(this,Yn)[Yn].emit("replaceAndPlay",{uri:e.uri,title:e.title,albumart:e.albumart||null,service:e.service||null})}}]),n}(te());function tr(){Z(this,Jn)[Jn]([])}function nr(){Z(this,Yn)[Yn]&&Z(this,Yn)[Yn].emit("getQueue")}function rr(e){Z(this,Kn)[Kn]!==e&&(Z(this,Kn)[Kn]=e,this.emit("queueChanged",Z(this,Kn)[Kn]))}var ir=J("apiPath"),ar=J("socket"),or=J("ready"),sr=J("socketEventHandlers"),ur=J("initSocketEventHandlers"),lr=J("handleApiResponse"),cr=J("pushFetched"),fr=J("pushError"),hr=function(e){X(n,e);var t=K(n);function n(){var e;return U(this,n),e=t.call(this),Object.defineProperty(H(e),fr,{value:mr}),Object.defineProperty(H(e),cr,{value:vr}),Object.defineProperty(H(e),lr,{value:pr}),Object.defineProperty(H(e),ur,{value:dr}),Object.defineProperty(H(e),ir,{writable:!0,value:void 0}),Object.defineProperty(H(e),ar,{writable:!0,value:void 0}),Object.defineProperty(H(e),or,{writable:!0,value:void 0}),Object.defineProperty(H(e),sr,{writable:!0,value:void 0}),Z(H(e),ir)[ir]=null,Z(H(e),ar)[ar]=null,Z(H(e),or)[or]=!1,Z(H(e),ur)[ur](),e}return V(n,[{key:"setApiPath",value:function(e){Z(this,ir)[ir]=e;var t=!!e;Z(this,or)[or]!==t&&(Z(this,or)[or]=t,this.emit("readyStateChange",t))}},{key:"setSocket",value:function(e){var t=Z(this,ar)[ar];if(t!==e){if(t)for(var n=0,r=Object.entries(Z(this,sr)[sr]);n<r.length;n++){var i=p(r[n],2),a=i[0],o=i[1];t.off(a,o)}if(Z(this,ar)[ar]=e,Z(this,ar)[ar])for(var s=0,u=Object.entries(Z(this,sr)[sr]);s<u.length;s++){var l=p(u[s],2),c=l[0],f=l[1];Z(this,ar)[ar].on(c,f)}}}},{key:"isReady",value:function(){return Z(this,or)[or]}},{key:"getInfo",value:function(){var e=Ge(Xe().mark((function e(){var t;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Z(this,ir)[ir]){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ye(Z(this,ir)[ir],"/weather/fetchInfo");case 4:t=e.sent,Z(this,lr)[lr](t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"on",value:function(e,t){return G(W(n.prototype),"on",this).call(this,e,t)}}]),n}(te());function dr(){Z(this,sr)[sr]={npPushWeatherOnServiceChange:Z(this,lr)[lr].bind(this)}}function pr(e){e.success?Z(this,cr)[cr](e.data):Z(this,fr)[fr](e.error)}function vr(e){this.emit("fetched",e)}function mr(e){this.emit("error",e)}var gr=(0,e.createContext)({}),yr=function(t){var n=t.children,r=Je().socket,i=ge().pluginInfo,a=(0,e.useMemo)((function(){return{playlistService:new Hn,queueService:new er,browseService:new gn,metadataService:new Nn,weatherService:new hr}}),[]),o=i?i.apiPath:null;return(0,e.useEffect)((function(){a.playlistService.setSocket(r),a.queueService.setSocket(r),a.browseService.setSocket(r),a.weatherService.setSocket(r)}),[r,a]),(0,e.useEffect)((function(){a.metadataService.setApiPath(o),a.weatherService.setApiPath(o)}),[o,a]),(0,m.jsx)(gr.Provider,{value:a,children:n})},br=function(t){return(0,e.useContext)(gr)[t]},_r=function(){return br("playlistService")},xr=function(){return br("queueService")},kr=n(5076);function wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wr(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tr,Er={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0},Cr=e.createContext();var Ar=function(){function e(){U(this,e),this.usedNamespaces={}}return V(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function Pr(){return Tr}var Ir={type:"3rdParty",init:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Er=Sr(Sr({},Er),e)}(e.options.react),function(e){Tr=e}(e)}};function Or(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"===typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var Mr={};function Rr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"===typeof t[0]&&Mr[t[0]]||("string"===typeof t[0]&&(Mr[t[0]]=new Date),Or.apply(void 0,t))}function Nr(e,t,n){e.loadNamespaces(t,(function(){if(e.isInitialized)n();else{e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}}))}function Dr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Br(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dr(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lr(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.i18n,i=(0,e.useContext)(Cr)||{},a=i.i18n,o=i.defaultNS,s=r||a||Pr();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new Ar),!s){Rr("You will need to pass in an i18next instance by using initReactI18next");var u=function(e){return Array.isArray(e)?e[e.length-1]:e},l=[u,{},!1];return l.t=u,l.i18n={},l.ready=!1,l}s.options.react&&void 0!==s.options.react.wait&&Rr("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var c=Br(Br(Br({},Er),s.options.react),n),f=c.useSuspense,h=c.keyPrefix,d=t||o||s.options&&s.options.defaultNS;d="string"===typeof d?[d]:d||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(d);var v=(s.isInitialized||s.initializedStoreOnce)&&d.every((function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?void 0!==t.options.ignoreJSONStructure?t.hasLoadedNamespace(e,{precheck:function(t,r){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.languages[0],i=!!t.options&&t.options.fallbackLng,a=t.languages[t.languages.length-1];if("cimode"===r.toLowerCase())return!0;var o=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!o(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(r,e)||!(t.services.backendConnector.backend&&(!t.options.resources||t.options.partialBundledLanguages))||!(!o(r,e)||i&&!o(a,e)))}(e,t,n):(Rr("i18n.languages were undefined or empty",t.languages),!0)}(e,s,c)}));function m(){return s.getFixedT(null,"fallback"===c.nsMode?d:d[0],h)}var g=p((0,e.useState)(m),2),y=g[0],b=g[1],_=(0,e.useRef)(!0);(0,e.useEffect)((function(){var e=c.bindI18n,t=c.bindI18nStore;function n(){_.current&&b(m)}return _.current=!0,v||f||Nr(s,d,(function(){_.current&&b(m)})),e&&s&&s.on(e,n),t&&s&&s.store.on(t,n),function(){_.current=!1,e&&s&&e.split(" ").forEach((function(e){return s.off(e,n)})),t&&s&&t.split(" ").forEach((function(e){return s.store.off(e,n)}))}}),[s,d.join()]);var x=(0,e.useRef)(!0);(0,e.useEffect)((function(){_.current&&!x.current&&b(m),x.current=!1}),[s]);var k=[y,s,v];if(k.t=y,k.i18n=s,k.ready=v,v)return k;if(!v&&!f)return k;throw new Promise((function(e){Nr(s,d,(function(){e()}))}))}var jr=function(t){var n=_r(),r=p((0,e.useState)([]),2),i=r[0],a=r[1],o=p((0,e.useState)(!1),2),s=o[0],u=o[1],l=(0,e.useRef)(null),c=(0,e.useRef)(null),h=(0,e.useRef)(null),d=t.closeDialog,v=Lr().t;(0,e.useEffect)((function(){var e=function(e){a(e)};return n.on("playlistsChanged",e),a(n.getPlaylists()),function(){n.off("playlistsChanged",e)}}),[a,n]);var g={base:zt.Overlay,afterOpen:zt["Overlay--after-open"],beforeClose:zt["Overlay--before-close"]},y={base:"".concat(zt.Layout),afterOpen:zt["Layout--after-open"],beforeClose:zt["Layout--before-close"]},b=(0,e.useCallback)((function(e){var r=t.modalData.addType;if("item"===r&&t.modalData.item){var i=t.modalData.item,a=i.uri,o=i.service;n.addToPlaylist({uri:a,service:o},e)}else"queue"===r&&n.addQueueToPlaylist(e)}),[t.modalData,n]),_=(0,e.useCallback)((function(e){var t=e.currentTarget;t.dataset.playlist&&b(t.dataset.playlist),d()}),[b,d]),x=(0,e.useCallback)((function(){var e=c.current?c.current.value:null;e&&(b(e),d())}),[b,d]),w=(0,e.useCallback)((function(){n.addToFavorites(t.modalData.item),d()}),[n,t.modalData,d]),S=(0,e.useCallback)((function(){return(0,m.jsxs)("ul",{className:zt.Playlists,children:[(0,m.jsxs)("li",{className:zt.Playlists__item,onClick:w,children:["Favorites",(0,m.jsx)("span",{className:k()("material-icons",zt["Playlists__item--favorites"]),children:"favorite"})]},"Favorites"),i.map((function(e,t){return(0,m.jsx)("li",{className:zt.Playlists__item,"data-playlist":e,onClick:_,children:e},"".concat(e,"_").concat(t))}))]})}),[i,w,_]),T=function(){u(!s)},E={enter:zt["Wrapper--fadeIn-enter"],enterActive:zt["Wrapper--fadeIn-enter-active"],enterDone:zt["Wrapper--fadeIn-enter-done"],exit:zt["Wrapper--fadeIn-exit"],exitActive:zt["Wrapper--fadeIn-exit-active"],exitDone:zt["Wrapper--fadeIn-exit-done"]};return(0,m.jsxs)(Ft,f(f({closeTimeoutMS:200,overlayClassName:g,className:y,overlayRef:function(e){return l.current=e},onAfterOpen:function(){n.refreshPlaylists(),c.current&&(c.current.value=""),h.current&&(h.current.disabled=!0)},onAfterClose:function(){s&&u(!1)}},t),{},{children:[(0,m.jsxs)("div",{className:zt.Layout__header,children:[(0,m.jsx)("span",{className:zt.Title,children:v("modal.addToPlaylist.title")}),(0,m.jsx)(Pt,{styles:{baseClassName:"Button",bundle:zt,extraClassNames:[zt["Button--close"]]},icon:"close",onClick:d})]}),(0,m.jsx)(kr.$B,{className:zt.Layout__contents,classes:{thumbVertical:"Scrollbar__handle"},autoHeight:!0,autoHeightMax:"var(--max-contents-height)",autoHide:!0,children:S()}),(0,m.jsxs)("div",{className:zt.Layout__footer,children:[(0,m.jsx)(gt,{in:!s,classNames:E,timeout:200,children:(0,m.jsx)("div",{className:zt.CreatePlaylistButtonWrapper,children:(0,m.jsx)(Pt,{styles:{baseClassName:"Button",bundle:zt,extraClassNames:[zt["Button--create"]]},icon:"add",text:v("modal.addToPlaylist.createButton"),onClick:T})})}),(0,m.jsx)(gt,{in:s,classNames:E,timeout:200,onEntered:function(){c.current&&c.current.focus()},children:(0,m.jsxs)("div",{className:zt.CreatePlaylistInputWrapper,children:[(0,m.jsx)(Pt,{styles:{baseClassName:"Button",bundle:zt,extraClassNames:[zt["Button--createBack"]]},icon:"arrow_back",onClick:T}),(0,m.jsx)("input",{type:"text",ref:c,className:zt.CreatePlaylistTextBox,placeholder:v("modal.addToPlaylist.namePlaceholder"),onChange:function(e){h.current&&(h.current.disabled=0===e.target.value.length)}}),(0,m.jsx)(Pt,{ref:h,styles:{baseClassName:"Button",bundle:zt,extraClassNames:[zt["Button--confirmCreate"]]},text:v("modal.addToPlaylist.confirmCreateButton"),disabled:!0,onClick:x})]})})]})]}))},Fr={Overlay:"MetadataModal_Overlay__MesZ2","Overlay--after-open":"MetadataModal_Overlay--after-open__BI1gz","Overlay--before-close":"MetadataModal_Overlay--before-close__hAXHc",Layout:"MetadataModal_Layout__PlImO","Layout--after-open":"MetadataModal_Layout--after-open__0IR-B","Layout--before-close":"MetadataModal_Layout--before-close__8p8QO",Layout__header:"MetadataModal_Layout__header__ccdKP",Button:"MetadataModal_Button__ulR9H",MetadataPanelInfoChooserButton:"MetadataModal_MetadataPanelInfoChooserButton__Vc-a4","Button--toggleable":"MetadataModal_Button--toggleable__hSqiA",Button__icon:"MetadataModal_Button__icon__IQJVl",MetadataPanelInfoChooserButton__icon:"MetadataModal_MetadataPanelInfoChooserButton__icon__Bm4HW",Button__text:"MetadataModal_Button__text__iPbdR","Button--toggled":"MetadataModal_Button--toggled__j2MS0","Button--close":"MetadataModal_Button--close__bPRyq","bg-fadein-enter":"MetadataModal_bg-fadein-enter__ToEkj","bg-fadein-enter-active":"MetadataModal_bg-fadein-enter-active__55Y6c","bg-fadein-enter-done":"MetadataModal_bg-fadein-enter-done__o9deZ",spin:"MetadataModal_spin__8TVWi","MetadataPanel__info--loading":"MetadataModal_MetadataPanel__info--loading__HKj0a",MetadataPanel:"MetadataModal_MetadataPanel__-9B2y","MetadataPanel--singleLineTitle":"MetadataModal_MetadataPanel--singleLineTitle__ndIHL","MetadataPanel--singleInfoType":"MetadataModal_MetadataPanel--singleInfoType__TnR6S",MetadataPanel__header:"MetadataModal_MetadataPanel__header__LlQj7",MetadataPanel__title:"MetadataModal_MetadataPanel__title__s0x3b","MetadataPanel__title--primary":"MetadataModal_MetadataPanel__title--primary__9pQU2","MetadataPanel__title--secondary":"MetadataModal_MetadataPanel__title--secondary__MhC6T",MetadataPanel__infoTypeChooser:"MetadataModal_MetadataPanel__infoTypeChooser__OKxd1",MetadataPanel__contentsWrapper:"MetadataModal_MetadataPanel__contentsWrapper__syhWg",MetadataPanel__art:"MetadataModal_MetadataPanel__art__HTs7X",MetadataPanel__artImage:"MetadataModal_MetadataPanel__artImage__y-5nC",MetadataPanel__infoWrapper:"MetadataModal_MetadataPanel__infoWrapper__WdZ6P",MetadataPanel__info:"MetadataModal_MetadataPanel__info__t6BKE","MetadataPanel__info--empty":"MetadataModal_MetadataPanel__info--empty__5dvLM","MetadataPanel__info--active":"MetadataModal_MetadataPanel__info--active__XxGGv",MetadataPanel__lyrics:"MetadataModal_MetadataPanel__lyrics__-txCC","MetadataPanelInfoChooserButton--toggled":"MetadataModal_MetadataPanelInfoChooserButton--toggled__dZc3u"},Ur={arr:Array.isArray,obj:function(e){return"[object Object]"===Object.prototype.toString.call(e)},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e},nul:function(e){return null===e},set:function(e){return e instanceof Set},map:function(e){return e instanceof Map},equ:function(e,t){if(typeof e!==typeof t)return!1;if(Ur.str(e)||Ur.num(e))return e===t;if(Ur.obj(e)&&Ur.obj(t)&&Object.keys(e).length+Object.keys(t).length===0)return!0;var n;for(n in e)if(!(n in t))return!1;for(n in t)if(e[n]!==t[n])return!1;return!Ur.und(n)||e===t}};function zr(){var t=(0,e.useState)(!1)[1];return(0,e.useCallback)((function(){return t((function(e){return!e}))}),[])}function Vr(e,t){return Ur.und(e)||Ur.nul(e)?t:e}function Hr(e){return Ur.und(e)?[]:Ur.arr(e)?e:[e]}function Wr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ur.fun(e)?e.apply(void 0,n):e}function Gr(e){var t=function(e){return e.to,e.from,e.config,e.onStart,e.onRest,e.onFrame,e.children,e.reset,e.reverse,e.force,e.immediate,e.delay,e.attach,e.destroyed,e.interpolateTo,e.ref,e.lazy,xe(e,["to","from","config","onStart","onRest","onFrame","children","reset","reverse","force","immediate","delay","attach","destroyed","interpolateTo","ref","lazy"])}(e);if(Ur.und(t))return _e({to:t},e);var n=Object.keys(e).reduce((function(n,r){return Ur.und(t[r])?_e({},n,l({},r,e[r])):n}),{});return _e({to:t},n)}var qr,Xr,Yr=function(){function e(){U(this,e),this.payload=void 0,this.children=[]}return V(e,[{key:"getAnimatedValue",value:function(){return this.getValue()}},{key:"getPayload",value:function(){return this.payload||this}},{key:"attach",value:function(){}},{key:"detach",value:function(){}},{key:"getChildren",value:function(){return this.children}},{key:"addChild",value:function(e){0===this.children.length&&this.attach(),this.children.push(e)}},{key:"removeChild",value:function(e){var t=this.children.indexOf(e);this.children.splice(t,1),0===this.children.length&&this.detach()}}]),e}(),Qr=function(e){X(n,e);var t=K(n);function n(){var e;return U(this,n),(e=t.apply(this,arguments)).payload=[],e.attach=function(){return e.payload.forEach((function(t){return t instanceof Yr&&t.addChild(H(e))}))},e.detach=function(){return e.payload.forEach((function(t){return t instanceof Yr&&t.removeChild(H(e))}))},e}return V(n)}(Yr),Kr=function(e){X(n,e);var t=K(n);function n(){var e;return U(this,n),(e=t.apply(this,arguments)).payload={},e.attach=function(){return Object.values(e.payload).forEach((function(t){return t instanceof Yr&&t.addChild(H(e))}))},e.detach=function(){return Object.values(e.payload).forEach((function(t){return t instanceof Yr&&t.removeChild(H(e))}))},e}return V(n,[{key:"getValue",value:function(e){void 0===e&&(e=!1);var t={};for(var n in this.payload){var r=this.payload[n];(!e||r instanceof Yr)&&(t[n]=r instanceof Yr?r[e?"getAnimatedValue":"getValue"]():r)}return t}},{key:"getAnimatedValue",value:function(){return this.getValue(!0)}}]),n}(Yr);function Zr(e,t){qr={fn:e,transform:t}}function $r(e){Xr=e}var Jr,ei=function(e){return"undefined"!==typeof window?window.requestAnimationFrame(e):-1};function ti(e){Jr=e}var ni=function(){return Date.now()};function ri(e){e}var ii,ai,oi=function(e){return e.current};function si(e){ii=e}var ui=function(e){X(n,e);var t=K(n);function n(e,r){var i;return U(this,n),(i=t.call(this)).update=void 0,i.payload=e.style?_e({},e,{style:ii(e.style)}):e,i.update=r,i.attach(),i}return V(n)}(Kr),li=!1,ci=new Set,fi=function e(){if(!li)return!1;var t,n=ni(),r=L(ci);try{for(r.s();!(t=r.n()).done;){for(var i=t.value,a=!1,o=0;o<i.configs.length;o++){for(var s=i.configs[o],u=void 0,l=void 0,c=0;c<s.animatedValues.length;c++){var f=s.animatedValues[c];if(!f.done){var h=s.fromValues[c],d=s.toValues[c],p=f.lastPosition,v=d instanceof Yr,m=Array.isArray(s.initialVelocity)?s.initialVelocity[c]:s.initialVelocity;if(v&&(d=d.getValue()),s.immediate)f.setValue(d),f.done=!0;else if("string"!==typeof h&&"string"!==typeof d){if(void 0!==s.duration)p=h+s.easing((n-f.startTime)/s.duration)*(d-h),u=n>=f.startTime+s.duration;else if(s.decay)p=h+m/(1-.998)*(1-Math.exp(-(1-.998)*(n-f.startTime))),(u=Math.abs(f.lastPosition-p)<.1)&&(d=p);else{l=void 0!==f.lastTime?f.lastTime:n,m=void 0!==f.lastVelocity?f.lastVelocity:s.initialVelocity,n>l+64&&(l=n);for(var g=Math.floor(n-l),y=0;y<g;++y){p+=1*(m+=1*((-s.tension*(p-d)+-s.friction*m)/s.mass)/1e3)/1e3}var b=!(!s.clamp||0===s.tension)&&(h<d?p>d:p<d),_=Math.abs(m)<=s.precision,x=0===s.tension||Math.abs(d-p)<=s.precision;u=b||_&&x,f.lastVelocity=m,f.lastTime=n}v&&!s.toValues[c].done&&(u=!1),u?(f.value!==d&&(p=d),f.done=!0):a=!0,f.setValue(p),f.lastPosition=p}else f.setValue(d),f.done=!0}}i.props.onFrame&&(i.values[s.name]=s.interpolation.getValue())}i.props.onFrame&&i.props.onFrame(i.values),a||(ci.delete(i),i.stop(!0))}}catch(k){r.e(k)}finally{r.f()}return ci.size?ai?ai():ei(e):li=!1,li};function hi(e,t,n){if("function"===typeof e)return e;if(Array.isArray(e))return hi({range:e,output:t,extrapolate:n});if(Jr&&"string"===typeof e.output[0])return Jr(e);var r=e,i=r.output,a=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",s=r.extrapolateRight||r.extrapolate||"extend",u=r.easing||function(e){return e};return function(e){var t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,a);return function(e,t,n,r,i,a,o,s,u){var l=u?u(e):e;if(l<t){if("identity"===o)return l;"clamp"===o&&(l=t)}if(l>n){if("identity"===s)return l;"clamp"===s&&(l=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?l=-l:n===1/0?l-=t:l=(l-t)/(n-t);l=a(l),r===-1/0?l=-l:i===1/0?l+=r:l=l*(i-r)+r;return l}(e,a[t],a[t+1],i[t],i[t+1],u,o,s,r.map)}}var di=function(e){X(n,e);var t=K(n);function n(e,r,i,a){var o;return U(this,n),(o=t.call(this)).calc=void 0,o.payload=e instanceof Qr&&!(e instanceof n)?e.getPayload():Array.isArray(e)?e:[e],o.calc=hi(r,i,a),o}return V(n,[{key:"getValue",value:function(){return this.calc.apply(this,o(this.payload.map((function(e){return e.getValue()}))))}},{key:"updateConfig",value:function(e,t,n){this.calc=hi(e,t,n)}},{key:"interpolate",value:function(e,t,r){return new n(this,e,t,r)}}]),n}(Qr);function pi(e,t){"update"in e?t.add(e):e.getChildren().forEach((function(e){return pi(e,t)}))}var vi=function(e){X(n,e);var t=K(n);function n(e){var r,i;return U(this,n),r=t.call(this),i=H(r),r.animatedStyles=new Set,r.value=void 0,r.startPosition=void 0,r.lastPosition=void 0,r.lastVelocity=void 0,r.startTime=void 0,r.lastTime=void 0,r.done=!1,r.setValue=function(e,t){void 0===t&&(t=!0),i.value=e,t&&i.flush()},r.value=e,r.startPosition=e,r.lastPosition=e,r}return V(n,[{key:"flush",value:function(){0===this.animatedStyles.size&&pi(this,this.animatedStyles),this.animatedStyles.forEach((function(e){return e.update()}))}},{key:"clearStyles",value:function(){this.animatedStyles.clear()}},{key:"getValue",value:function(){return this.value}},{key:"interpolate",value:function(e,t,n){return new di(this,e,t,n)}}]),n}(Yr),mi=function(e){X(n,e);var t=K(n);function n(e){var r;return U(this,n),(r=t.call(this)).payload=e.map((function(e){return new vi(e)})),r}return V(n,[{key:"setValue",value:function(e,t){var n=this;void 0===t&&(t=!0),Array.isArray(e)?e.length===this.payload.length&&e.forEach((function(e,r){return n.payload[r].setValue(e,t)})):this.payload.forEach((function(n){return n.setValue(e,t)}))}},{key:"getValue",value:function(){return this.payload.map((function(e){return e.getValue()}))}},{key:"interpolate",value:function(e,t){return new di(this,e,t)}}]),n}(Qr),gi=0,yi=function(){function e(){var t=this;U(this,e),this.id=void 0,this.idle=!0,this.hasChanged=!1,this.guid=0,this.local=0,this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.listeners=[],this.queue=[],this.localQueue=void 0,this.getValues=function(){return t.interpolations},this.id=gi++}return V(e,[{key:"update",value:function(e){if(!e)return this;var t=Gr(e),n=t.delay,r=void 0===n?0:n,i=t.to,a=xe(t,["delay","to"]);if(Ur.arr(i)||Ur.fun(i))this.queue.push(_e({},a,{delay:r,to:i}));else if(i){var o={};Object.entries(i).forEach((function(e){var t=e[0],n=_e({to:l({},t,e[1]),delay:Wr(r,t)},a),i=o[n.delay]&&o[n.delay].to;o[n.delay]=_e({},o[n.delay],n,{to:_e({},i,n.to)})})),this.queue=Object.values(o)}return this.queue=this.queue.sort((function(e,t){return e.delay-t.delay})),this.diff(a),this}},{key:"start",value:function(e){var t,n=this;if(this.queue.length){this.idle=!1,this.localQueue&&this.localQueue.forEach((function(e){var t=e.from,r=void 0===t?{}:t,i=e.to,a=void 0===i?{}:i;Ur.obj(r)&&(n.merged=_e({},r,n.merged)),Ur.obj(a)&&(n.merged=_e({},n.merged,a))}));var r=this.local=++this.guid,i=this.localQueue=this.queue;this.queue=[],i.forEach((function(t,a){var o=t.delay,s=xe(t,["delay"]),u=function(t){a===i.length-1&&r===n.guid&&t&&(n.idle=!0,n.props.onRest&&n.props.onRest(n.merged)),e&&e()},l=Ur.arr(s.to)||Ur.fun(s.to);o?setTimeout((function(){r===n.guid&&(l?n.runAsync(s,u):n.diff(s).start(u))}),o):l?n.runAsync(s,u):n.diff(s).start(u)}))}else Ur.fun(e)&&this.listeners.push(e),this.props.onStart&&this.props.onStart(),t=this,ci.has(t)||ci.add(t),li||(li=!0,ei(ai||fi));return this}},{key:"stop",value:function(e){return this.listeners.forEach((function(t){return t(e)})),this.listeners=[],this}},{key:"pause",value:function(e){var t;return this.stop(!0),e&&(t=this,ci.has(t)&&ci.delete(t)),this}},{key:"runAsync",value:function(e,t){var n=this,r=this,i=(e.delay,xe(e,["delay"])),a=this.local,o=Promise.resolve(void 0);if(Ur.arr(i.to))for(var s=function(e){var t=e,r=_e({},i,Gr(i.to[t]));Ur.arr(r.config)&&(r.config=r.config[t]),o=o.then((function(){if(a===n.guid)return new Promise((function(e){return n.diff(r).start(e)}))}))},u=0;u<i.to.length;u++)s(u);else if(Ur.fun(i.to)){var l,c=0;o=o.then((function(){return i.to((function(e){var t=_e({},i,Gr(e));if(Ur.arr(t.config)&&(t.config=t.config[c]),c++,a===n.guid)return l=new Promise((function(e){return n.diff(t).start(e)}))}),(function(e){return void 0===e&&(e=!0),r.stop(e)})).then((function(){return l}))}))}o.then(t)}},{key:"diff",value:function(e){var t=this;this.props=_e({},this.props,e);var n=this.props,r=n.from,i=void 0===r?{}:r,a=n.to,o=void 0===a?{}:a,s=n.config,u=void 0===s?{}:s,c=n.reverse,f=n.attach,h=n.reset,d=n.immediate;if(c){var p=[o,i];i=p[0],o=p[1]}this.merged=_e({},i,this.merged,o),this.hasChanged=!1;var v=f&&f(this);if(this.animations=Object.entries(this.merged).reduce((function(e,n){var r=n[0],a=n[1],o=e[r]||{},s=Ur.num(a),c=Ur.str(a)&&!a.startsWith("#")&&!/\d/.test(a)&&!Xr[a],f=Ur.arr(a),p=!s&&!f&&!c,m=Ur.und(i[r])?a:i[r],g=s||f||c?a:1,y=Wr(u,r);v&&(g=v.animations[r].parent);var b,_=o.parent,x=o.interpolation,k=Hr(v?g.getPayload():g),w=a;p&&(w=Jr({range:[0,1],output:[a,a]})(1));var S=x&&x.getValue(),T=!Ur.und(_)&&o.animatedValues.some((function(e){return!e.done})),E=!Ur.equ(w,S),C=!Ur.equ(w,o.previous),A=!Ur.equ(y,o.config);if(h||C&&E||A){if(s||c)_=x=o.parent||new vi(m);else if(f)_=x=o.parent||new mi(m);else if(p){var P=o.interpolation&&o.interpolation.calc(o.parent.value);P=void 0===P||h?m:P,o.parent?(_=o.parent).setValue(0,!1):_=new vi(0);var I={output:[P,a]};o.interpolation?(x=o.interpolation,o.interpolation.updateConfig(I)):x=_.interpolate(I)}return k=Hr(v?g.getPayload():g),b=Hr(_.getPayload()),h&&!p&&_.setValue(m,!1),t.hasChanged=!0,b.forEach((function(e){e.startPosition=e.value,e.lastPosition=e.value,e.lastVelocity=T?e.lastVelocity:void 0,e.lastTime=T?e.lastTime:void 0,e.startTime=ni(),e.done=!1,e.animatedStyles.clear()})),Wr(d,r)&&_.setValue(p?g:a,!1),_e({},e,l({},r,_e({},o,{name:r,parent:_,interpolation:x,animatedValues:b,toValues:k,previous:w,config:y,fromValues:Hr(_.getValue()),immediate:Wr(d,r),initialVelocity:Vr(y.velocity,0),clamp:Vr(y.clamp,!1),precision:Vr(y.precision,.01),tension:Vr(y.tension,170),friction:Vr(y.friction,26),mass:Vr(y.mass,1),duration:y.duration,easing:Vr(y.easing,(function(e){return e})),decay:y.decay})))}return E?e:(p&&(_.setValue(1,!1),x.updateConfig({output:[w,w]})),_.done=!0,t.hasChanged=!0,_e({},e,l({},r,_e({},e[r],{previous:w}))))}),this.animations),this.hasChanged)for(var m in this.configs=Object.values(this.animations),this.values={},this.interpolations={},this.animations)this.interpolations[m]=this.animations[m].interpolation,this.values[m]=this.animations[m].interpolation.getValue();return this}},{key:"destroy",value:function(){this.stop(),this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.local=0}}]),e}(),bi=0,_i="enter",xi="leave",ki="update",wi=function(e,t){return("function"===typeof t?e.map(t):Hr(t)).map(String)},Si=function(e){var t=e.items,n=e.keys,r=void 0===n?function(e){return e}:n,i=xe(e,["items","keys"]);return _e({items:t=Hr(void 0!==t?t:null),keys:wi(t,r)},i)};function Ti(t,n,r){var i=_e({items:t,keys:n||function(e){return e}},r),a=Si(i),s=a.lazy,u=void 0!==s&&s,l=(a.unique,a.reset),c=void 0!==l&&l,f=(a.enter,a.leave,a.update,a.onDestroyed),h=(a.keys,a.items,a.onFrame),d=a.onRest,p=a.onStart,v=a.ref,m=xe(a,["lazy","unique","reset","enter","leave","update","onDestroyed","keys","items","onFrame","onRest","onStart","ref"]),g=zr(),y=(0,e.useRef)(!1),b=(0,e.useRef)({mounted:!1,first:!0,deleted:[],current:{},transitions:[],prevProps:{},paused:!!i.ref,instances:!y.current&&new Map,forceUpdate:g});return(0,e.useImperativeHandle)(i.ref,(function(){return{start:function(){return Promise.all(Array.from(b.current.instances).map((function(e){var t=e[1];return new Promise((function(e){return t.start(e)}))})))},stop:function(e){return Array.from(b.current.instances).forEach((function(t){return t[1].stop(e)}))},get controllers(){return Array.from(b.current.instances).map((function(e){return e[1]}))}}})),b.current=function(e,t){var n=e.first,r=e.prevProps,i=xe(e,["first","prevProps"]),a=Si(t),s=a.items,u=a.keys,l=a.initial,c=a.from,f=a.enter,h=a.leave,d=a.update,p=a.trail,v=void 0===p?0:p,m=a.unique,g=a.config,y=a.order,b=void 0===y?[_i,xi,ki]:y,_=Si(r),x=_.keys,k=_.items,w=_e({},i.current),S=o(i.deleted),T=Object.keys(w),E=new Set(T),C=new Set(u),A=u.filter((function(e){return!E.has(e)})),P=i.transitions.filter((function(e){return!e.destroyed&&!C.has(e.originalKey)})).map((function(e){return e.originalKey})),I=u.filter((function(e){return E.has(e)})),O=-v;for(;b.length;){switch(b.shift()){case _i:A.forEach((function(e,t){m&&S.find((function(t){return t.originalKey===e}))&&(S=S.filter((function(t){return t.originalKey!==e})));var r=u.indexOf(e),i=s[r],a=n&&void 0!==l?"initial":_i;w[e]={slot:a,originalKey:e,key:m?String(e):bi++,item:i,trail:O+=v,config:Wr(g,i,a),from:Wr(n&&void 0!==l?l||{}:c,i),to:Wr(f,i)}}));break;case xi:P.forEach((function(e){var t=x.indexOf(e),n=k[t],r=xi;S.unshift(_e({},w[e],{slot:r,destroyed:!0,left:x[Math.max(0,t-1)],right:x[Math.min(x.length,t+1)],trail:O+=v,config:Wr(g,n,r),to:Wr(h,n)})),delete w[e]}));break;case ki:I.forEach((function(e){var t=u.indexOf(e),n=s[t],r=ki;w[e]=_e({},w[e],{item:n,slot:r,trail:O+=v,config:Wr(g,n,r),to:Wr(d,n)})}))}}var M=u.map((function(e){return w[e]}));return S.forEach((function(e){var t,n=e.left,r=(e.right,xe(e,["left","right"]));-1!==(t=M.findIndex((function(e){return e.originalKey===n})))&&(t+=1),t=Math.max(0,t),M=[].concat(o(M.slice(0,t)),[r],o(M.slice(t)))})),_e({},i,{changed:A.length||P.length||I.length,first:n&&0===A.length,transitions:M,current:w,deleted:S,prevProps:t})}(b.current,i),b.current.changed&&b.current.transitions.forEach((function(e){var t=e.slot,n=e.from,r=e.to,i=e.config,a=e.trail,o=e.key,s=e.item;b.current.instances.has(o)||b.current.instances.set(o,new yi);var l=b.current.instances.get(o),g=_e({},m,{to:r,from:n,config:i,ref:v,onRest:function(n){b.current.mounted&&(e.destroyed&&(v||u||Ei(b,o),f&&f(s)),!Array.from(b.current.instances).some((function(e){return!e[1].idle}))&&(v||u)&&b.current.deleted.length>0&&Ei(b),d&&d(s,t,n))},onStart:p&&function(){return p(s,t)},onFrame:h&&function(e){return h(s,t,e)},delay:a,reset:c&&t===_i});l.update(g),b.current.paused||l.start()})),(0,e.useEffect)((function(){return b.current.mounted=y.current=!0,function(){b.current.mounted=y.current=!1,Array.from(b.current.instances).map((function(e){return e[1].destroy()})),b.current.instances.clear()}}),[]),b.current.transitions.map((function(e){var t=e.item,n=e.slot,r=e.key;return{item:t,key:r,state:n,props:b.current.instances.get(r).getValues()}}))}function Ei(e,t){var n,r=L(e.current.deleted);try{var i=function(){var r=n.value.key,i=function(e){return e.key!==r};(Ur.und(t)||t===r)&&(e.current.instances.delete(r),e.current.transitions=e.current.transitions.filter(i),e.current.deleted=e.current.deleted.filter(i))};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}e.current.forceUpdate()}var Ci=function(e){X(n,e);var t=K(n);function n(e){var r;return U(this,n),void 0===e&&(e={}),r=t.call(this),!e.transform||e.transform instanceof Yr||(e=qr.transform(e)),r.payload=e,r}return V(n)}(Kr),Ai={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Pi="[-+]?\\d*\\.?\\d+",Ii=Pi+"%";function Oi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var Mi=new RegExp("rgb"+Oi(Pi,Pi,Pi)),Ri=new RegExp("rgba"+Oi(Pi,Pi,Pi,Pi)),Ni=new RegExp("hsl"+Oi(Pi,Ii,Ii)),Di=new RegExp("hsla"+Oi(Pi,Ii,Ii,Pi)),Bi=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Li=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ji=/^#([0-9a-fA-F]{6})$/,Fi=/^#([0-9a-fA-F]{8})$/;function Ui(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function zi(e,t,n){var r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,a=Ui(i,r,e+1/3),o=Ui(i,r,e),s=Ui(i,r,e-1/3);return Math.round(255*a)<<24|Math.round(255*o)<<16|Math.round(255*s)<<8}function Vi(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function Hi(e){return(parseFloat(e)%360+360)%360/360}function Wi(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function Gi(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}function qi(e){var t=function(e){var t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=ji.exec(e))?parseInt(t[1]+"ff",16)>>>0:Ai.hasOwnProperty(e)?Ai[e]:(t=Mi.exec(e))?(Vi(t[1])<<24|Vi(t[2])<<16|Vi(t[3])<<8|255)>>>0:(t=Ri.exec(e))?(Vi(t[1])<<24|Vi(t[2])<<16|Vi(t[3])<<8|Wi(t[4]))>>>0:(t=Bi.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=Fi.exec(e))?parseInt(t[1],16)>>>0:(t=Li.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=Ni.exec(e))?(255|zi(Hi(t[1]),Gi(t[2]),Gi(t[3])))>>>0:(t=Di.exec(e))?(zi(Hi(t[1]),Gi(t[2]),Gi(t[3]))|Wi(t[4]))>>>0:null}(e);if(null===t)return e;var n=(16711680&(t=t||0))>>>16,r=(65280&t)>>>8,i=(255&t)/255;return"rgba(".concat((4278190080&t)>>>24,", ").concat(n,", ").concat(r,", ").concat(i,")")}var Xi=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Yi=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Qi=new RegExp("(".concat(Object.keys(Ai).join("|"),")"),"g"),Ki={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zi=["Webkit","Ms","Moz","O"];function $i(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Ki.hasOwnProperty(e)&&Ki[e]?(""+t).trim():t+"px"}Ki=Object.keys(Ki).reduce((function(e,t){return Zi.forEach((function(n){return e[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(n,t)]=e[t]})),e}),Ki);var Ji={};si((function(e){return new Ci(e)})),ri("div"),ti((function(e){var t=e.output.map((function(e){return e.replace(Yi,qi)})).map((function(e){return e.replace(Qi,qi)})),n=t[0].match(Xi).map((function(){return[]}));t.forEach((function(e){e.match(Xi).forEach((function(e,t){return n[t].push(+e)}))}));var r=t[0].match(Xi).map((function(t,r){return hi(_e({},e,{output:n[r]}))}));return function(e){var n=0;return t[0].replace(Xi,(function(){return r[n++](e)})).replace(/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,(function(e,t,n,r,i){return"rgba(".concat(Math.round(t),", ").concat(Math.round(n),", ").concat(Math.round(r),", ").concat(i,")")}))}})),$r(Ai),Zr((function(e,t){if(!e.nodeType||void 0===e.setAttribute)return!1;var n=t.style,r=t.children,i=t.scrollTop,a=t.scrollLeft,o=xe(t,["style","children","scrollTop","scrollLeft"]),s="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName;for(var u in void 0!==i&&(e.scrollTop=i),void 0!==a&&(e.scrollLeft=a),void 0!==r&&(e.textContent=r),n)if(n.hasOwnProperty(u)){var l=0===u.indexOf("--"),c=$i(u,n[u],l);"float"===u&&(u="cssFloat"),l?e.style.setProperty(u,c):e.style[u]=c}for(var f in o){var h=s?f:Ji[f]||(Ji[f]=f.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()})));"undefined"!==typeof e.getAttribute(h)&&e.setAttribute(h,o[f])}}),(function(e){return e}));var ea,ta,na=(ea=function(t){return(0,e.forwardRef)((function(n,r){var i=zr(),a=(0,e.useRef)(!0),o=(0,e.useRef)(null),s=(0,e.useRef)(null),u=(0,e.useCallback)((function(e){var t=o.current;o.current=new ui(e,(function(){var e=!1;s.current&&(e=qr.fn(s.current,o.current.getAnimatedValue())),s.current&&!1!==e||i()})),t&&t.detach()}),[]);(0,e.useEffect)((function(){return function(){a.current=!1,o.current&&o.current.detach()}}),[]),(0,e.useImperativeHandle)(r,(function(){return oi(s,a,i)})),u(n);var l,c=o.current.getValue(),f=(c.scrollTop,c.scrollLeft,xe(c,["scrollTop","scrollLeft"])),h=(l=t,!Ur.fun(l)||l.prototype instanceof e.Component?function(e){return s.current=function(e,t){return t&&(Ur.fun(t)?t(e):Ur.obj(t)&&(t.current=e)),e}(e,r)}:void 0);return e.createElement(t,_e({},f,{ref:h}))}))},void 0===(ta=!1)&&(ta=!0),function(e){return(Ur.arr(e)?e:Object.keys(e)).reduce((function(e,t){var n=ta?t[0].toLowerCase()+t.substring(1):t;return e[n]=ea(n),e}),ea)}),ra=na(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]);function ia(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var aa=function(e){e.initialState,e.getInitialState,e.refs,e.getRefs,e.didMount,e.didUpdate,e.willUnmount,e.getSnapshotBeforeUpdate,e.shouldUpdate,e.render;var t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["initialState","getInitialState","refs","getRefs","didMount","didUpdate","willUnmount","getSnapshotBeforeUpdate","shouldUpdate","render"]);return t},oa=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=ia(this,e.call.apply(e,[this].concat(a))),sa.call(r),ia(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getArgs=function(){var e=this.state,t=this.props,n=this._setState,r=this._forceUpdate,i=this._refs;return{state:e,props:aa(t),refs:i,setState:n,forceUpdate:r}},t.prototype.componentDidMount=function(){this.props.didMount&&this.props.didMount(this.getArgs())},t.prototype.shouldComponentUpdate=function(e,t){return!this.props.shouldUpdate||this.props.shouldUpdate({props:this.props,state:this.state,nextProps:aa(e),nextState:t})},t.prototype.componentWillUnmount=function(){this.props.willUnmount&&this.props.willUnmount({state:this.state,props:aa(this.props),refs:this._refs})},t.prototype.componentDidUpdate=function(e,t,n){this.props.didUpdate&&this.props.didUpdate(Object.assign(this.getArgs(),{prevProps:aa(e),prevState:t}),n)},t.prototype.getSnapshotBeforeUpdate=function(e,t){return this.props.getSnapshotBeforeUpdate?this.props.getSnapshotBeforeUpdate(Object.assign(this.getArgs(),{prevProps:aa(e),prevState:t})):null},t.prototype.render=function(){var e=this.props,t=e.children,n=e.render;return n?n(this.getArgs()):"function"===typeof t?t(this.getArgs()):t||null},t}(e.Component);oa.defaultProps={getInitialState:function(){},getRefs:function(){return{}}};var sa=function(){var e=this;this.state=this.props.initialState||this.props.getInitialState(this.props),this._refs=this.props.refs||this.props.getRefs(this.getArgs()),this._setState=function(){return e.setState.apply(e,arguments)},this._forceUpdate=function(){return e.forceUpdate.apply(e,arguments)}},ua=oa,la=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ca={border:0,clip:"rect(0 0 0 0)",height:"1px",width:"1px",margin:"-1px",padding:0,overflow:"hidden",position:"absolute"},fa=function(t){return e.createElement("div",la({style:ca},t))},ha=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var da={polite:-1,assertive:-1},pa={polite:{},assertive:{}},va={polite:null,assertive:null},ma=null,ga=function(){clearTimeout(ma),ma=setTimeout((function(){Object.keys(pa).forEach((function(n){va[n]&&(0,t.render)(e.createElement(fa,null,e.createElement("div",{role:"assertive"===n?"alert":"status","aria-live":n},Object.keys(pa[n]).map((function(t){return e.cloneElement(pa[n][t],{key:t})})))),va[n])}))}),500)},ya=function(e){var t=++da[e];return{mount:function n(r){if(va[e])pa[e][t]=r,ga();else{var i=document.createElement("div");i.setAttribute("data-reach-live-"+e,"true"),va[e]=i,document.body.appendChild(va[e]),n(r)}},update:function(n){pa[e][t]=n,ga()},unmount:function(n){delete pa[e][t],ga()}}},ba=function(t){var n=t.children,r=t.type,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["children","type"]),a=e.createElement("div",ha({},i,{"data-reach-alert":!0}),n);return e.createElement(ua,{type:r,getRefs:function(){return{mirror:ya(r)}},didMount:function(e){return e.refs.mirror.mount(a)},didUpdate:function(e){var t=e.refs,n=e.prevProps;n.type!==r?(t.mirror.unmount(),t.mirror=ya(r),t.mirror.mount(a)):t.mirror.update(a,n.type,r)},willUnmount:function(e){return e.refs.mirror.unmount(a)},children:a})};ba.defaultProps={type:"polite"};var _a=ba,xa=function(t){var n=t.onClose;return e.createElement("button",{className:"Toaster__alert_close",type:"button","aria-label":"Close",onClick:n},e.createElement("span",{"aria-hidden":"true"},"\xd7"))},ka=function(t){var n=t.id,r=t.title,i=t.onClose;return e.createElement("div",{id:n,className:"Toaster__alert"},"string"===typeof r?e.createElement("div",{className:"Toaster__alert_text"},r):r,i&&e.createElement(xa,{onClose:i}))};function wa(t,n){var r=e.useRef();e.useEffect((function(){r.current=t}),[t]),e.useEffect((function(){if(null!==n){var e=setTimeout((function(){r.current&&r.current()}),n);return function(){return clearTimeout(e)}}}),[n])}var Sa=function(t){var n=t.id,r=t.message,i=t.position,a=t.onRequestRemove,o=t.requestClose,s=void 0!==o&&o,u=t.duration,l=void 0===u?3e4:u,c=e.useRef(null),f=p(e.useState(l),2),h=f[0],d=f[1],v=p(e.useState(!0),2),m=v[0],g=v[1],y="top-left"===i||"top-right"===i||"top"===i;wa(S,h);var b={config:{mass:1,tension:185,friction:26},from:{opacity:1,height:0,transform:"translateY(".concat(y?"-100%":0,") scale(1)")},enter:function(){return function(e){return e({opacity:1,height:c.current.getBoundingClientRect().height,transform:"translateY(0) scale(1)"})}},leave:{opacity:0,height:0,transform:"translateY(0 scale(0.9)"},onRest:function(){m||a()}},_=Ti(m,null,b),x=e.useMemo((function(){return function(e){var t={display:"flex",flexDirection:"column",alignItems:"center"};return e.includes("right")?t.alignItems="flex-end":e.includes("left")&&(t.alignItems="flex-start"),t}(i)}),[i]);function k(){d(null)}function w(){d(l)}function S(){g(!1)}return e.useEffect((function(){s&&g(!1)}),[s]),e.createElement(e.Fragment,null,_.map((function(t){var i=t.key,a=t.item,o=t.props;return a&&e.createElement(ra.div,{key:i,className:"Toaster__message",onMouseEnter:k,onMouseLeave:w,style:Object.assign({opacity:o.opacity,height:o.height},x)},e.createElement(ra.div,{style:{transform:o.transform,pointerEvents:"auto"},ref:c,className:"Toaster__message-wrapper"},e.createElement(_a,null,"string"===typeof r||e.isValidElement(r)?e.createElement(ka,{id:n,title:r,onClose:S}):"function"===typeof r?r({id:n,onClose:S}):null)))})))},Ta={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},Ea=function(t){X(r,t);var n=K(r);function r(e){var t;return U(this,r),(t=n.call(this,e)).state=Ta,t.notify=function(e,n){var r=t.createToastState(e,n),i=r.position,a=i.includes("top");return t.setState((function(e){return Object.assign({},e,l({},i,a?[r].concat(o(e[i])):[].concat(o(e[i]),[r])))})),{id:r.id,position:r.position}},t.closeAll=function(){Object.keys(t.state).forEach((function(e){var n=e;t.state[n].forEach((function(e){t.closeToast(e.id,n)}))}))},t.createToastState=function(e,n){var i=++r.idCounter,a=n.hasOwnProperty("position")&&"string"===typeof n.position?n.position:"top";return{id:i,message:e,position:a,showing:!0,duration:"undefined"===typeof n.duration?5e3:n.duration,onRequestRemove:function(){return t.removeToast(String(i),a)},type:n.type}},t.closeToast=function(e,n){t.setState((function(t){return Object.assign({},t,l({},n,t[n].map((function(t){return t.id!==e?t:Object.assign({},t,{requestClose:!0})}))))}))},t.removeToast=function(e,n){t.setState((function(t){return Object.assign({},t,l({},n,t[n].filter((function(t){return t.id!==e}))))}))},t.getStyle=function(e){var t={maxWidth:"560px",position:"fixed",zIndex:5500,pointerEvents:"none"};return"top"!==e&&"bottom"!==e||(t.margin="0 auto",t.textAlign="center"),e.includes("top")&&(t.top=0),e.includes("bottom")&&(t.bottom=0),e.includes("left")||(t.right=0),e.includes("right")||(t.left=0),t},e.notify(t.notify,t.closeAll,t.closeToast),t}return V(r,[{key:"render",value:function(){var t=this;return Object.keys(this.state).map((function(n){var r=n,i=t.state[r];return e.createElement("span",{key:n,className:"Toaster__manager-"+r,style:t.getStyle(r)},i.map((function(t){return e.createElement(Sa,Object.assign({position:r,key:t.id},t))})))}))}}]),r}(e.Component);Ea.idCounter=0;var Ca="undefined"!==typeof window&&"undefined"!==typeof window.document,Aa="react-toast",Pa=V((function n(){var r=this;if(U(this,n),this.closeAll=function(){r.removeAll&&r.removeAll()},this.bindNotify=function(e,t,n){r.createNotification=e,r.removeAll=t,r.closeToast=n},this.notify=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r.createNotification)return r.createNotification(e,t)},this.close=function(e,t){r.closeToast&&r.closeToast(e,t)},Ca){var i,a=document.getElementById(Aa);if(a)i=a;else{var o=document.createElement("div");o.id=Aa,o.className="Toaster",null!=document.body&&document.body.appendChild(o),i=o}t.render(e.createElement(Ea,{notify:this.bindNotify}),i)}})),Ia=new Pa,Oa={Layout:"Toast_Layout__f1nID",Layout__contents:"Toast_Layout__contents__FgIl6",Icon:"Toast_Icon__Dxo1o","material-icons":"Toast_material-icons__+PMLV","Icon--success":"Toast_Icon--success__GZ4s9","Icon--info":"Toast_Icon--info__PIzAH","Icon--warning":"Toast_Icon--warning__bnZQo","Icon--error":"Toast_Icon--error__L7hW1","Icon--stickyerror":"Toast_Icon--stickyerror__m2mVd",Title:"Toast_Title__V5Qn4",Message:"Toast_Message__YIb5f",Button:"Toast_Button__XFRii","Button--toggleable":"Toast_Button--toggleable__xbLqd",Button__icon:"Toast_Button__icon__S7DRT",Button__text:"Toast_Button__text__eNFtP","Button--toggled":"Toast_Button--toggled__ma3DK","Toaster__manager-bottom":"Toast_Toaster__manager-bottom__pjScD",Toaster__message:"Toast_Toaster__message__qp8i9"};var Ma=function(t){var n=k()(Oa.Icon,Oa["Icon--".concat(t.type)]),r=(0,e.useCallback)((function(e){switch(e){case"success":return"check_circle_outline";case"info":return"info";case"warning":return"warning_amber";case"error":case"stickyerror":return"error_outline";default:return null}}),[])(t.type);return(0,m.jsxs)("div",{className:Oa.Layout,children:[(0,m.jsx)("div",{className:n,children:r?(0,m.jsx)("span",{className:"material-icons",children:r}):null}),(0,m.jsxs)("div",{className:Oa.Layout__contents,children:[t.title?(0,m.jsx)("div",{className:Oa.Title,children:t.title}):null,(0,m.jsx)("div",{className:Oa.Message,children:t.message})]}),(0,m.jsx)("div",{children:(0,m.jsx)(Pt,{styles:{baseClassName:"Button",bundle:Oa},icon:"close",onClick:t.closeToast})})]})},Ra=(0,e.createContext)({}),Na={position:"bottom",duration:5e3},Da=function(t){var n=t.children,r=(0,e.useCallback)((function(e){Ia.notify((function(t){var n=t.onClose;return(0,m.jsx)(Ma,f(f({},e),{},{closeToast:n}))}),Na)}),[]);return(0,m.jsx)(Ra.Provider,{value:r,children:n})},Ba=function(){return(0,e.useContext)(Ra)},La=J("type"),ja=J("storage"),Fa=J("cachedValues"),Ua=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"session";U(this,e),Object.defineProperty(this,La,{writable:!0,value:void 0}),Object.defineProperty(this,ja,{writable:!0,value:void 0}),Object.defineProperty(this,Fa,{writable:!0,value:void 0}),Z(this,La)[La]=t,Z(this,ja)[ja]="session"===t?sessionStorage:localStorage,Z(this,Fa)[Fa]={};for(var n=0,r=Object.entries(Z(this,ja)[ja]);n<r.length;n++){var i=p(r[n],2),a=i[0],o=i[1];Z(this,Fa)[Fa][a]=JSON.parse(o)}}return V(e,[{key:"getType",value:function(){return Z(this,La)[La]}},{key:"set",value:function(e,t){void 0===t?Z(this,ja)[ja].removeItem(e):Z(this,ja)[ja].setItem(e,JSON.stringify(t)),Z(this,Fa)[Fa][e]=t}},{key:"get",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Object.keys(Z(this,Fa)[Fa]).includes(e))return Z(this,Fa)[Fa][e];if(this.keyExists(e)){var r=Z(this,ja)[ja].getItem(e);if(r){var i=JSON.parse(r);return Z(this,Fa)[Fa][e]=i,i}}return n&&this.set(e,t),t}},{key:"delete",value:function(e){Z(this,ja)[ja].removeItem(e),delete Z(this,Fa)[Fa][e]}},{key:"getKeys",value:function(){return Object.keys(Z(this,ja)[ja])}},{key:"keyExists",value:function(e){return this.getKeys().includes(e)}},{key:"clear",value:function(){Z(this,ja)[ja].clear()}}]),e}(),za=(0,e.createContext)({}),Va=function(t){var n=t.children,r=(0,e.useMemo)((function(){return{session:new Ua("session"),persistent:new Ua("persistent")}}),[]);return(0,m.jsx)(za.Provider,{value:r,children:n})},Ha=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"session";return(0,e.useContext)(za)[t]},Wa={baseClassName:"MetadataPanelInfoChooserButton",bundle:{MetadataPanelInfoChooserButton:"MetadataPanelInfoChooserButton",MetadataPanelInfoChooserButton__icon:"MetadataPanelInfoChooserButton__icon","MetadataPanelInfoChooserButton--toggled":"MetadataPanelInfoChooserButton--toggled"}};var Ga=function(t){var n,r=t.restoreStateKey,i=t.song,a=t.album,s=t.artist,u=t.placeholderImage,l=t.infoChooserButtonStyles,c=br("metadataService"),h=Ba(),d=(0,e.useRef)({}),v=Lr().t,g=Ha(),y=(0,e.useMemo)((function(){var e=r?g.get(r,{state:{status:"idle"}},!0):null;if(e&&e.state){var t=e.state,n=t.status,o=t.forProps,u=void 0===o?{}:o;"idle"!==n&&"loading"!==n&&u.song===i&&u.album===a&&u.artist===s||(e.state={status:"idle"})}return e}),[r,g,i,a,s]),b=(0,e.useMemo)((function(){return function(e,t,n){var r=[];return e&&r.push("song"),(n||t)&&(e?(n&&r.push("artist"),t&&r.push("album")):(t&&r.push("album"),n&&r.push("artist"))),e&&r.push("lyrics"),r}(i,a,s)}),[i,a,s]),_=(0,e.useCallback)((function(){return y&&y.infoType&&b.includes(y.infoType)?y.infoType:b[0]}),[y,b]),x=p((0,e.useState)(_()),2),w=x[0],S=x[1],T=p((0,e.useState)(y?y.state:{status:"idle"}),2),E=T[0],C=T[1],A=(0,e.useRef)({});(0,e.useEffect)((function(){w&&b.includes(w)||S(_())}),[b,w,S,_]),(0,e.useEffect)((function(){return y&&y.scrollPositions&&(A.current=f({},y.scrollPositions)),function(){y&&(y.scrollPositions=f({},A.current))}}),[y]),(0,e.useEffect)((function(){y&&(y.infoType=w)}),[y,w]),(0,e.useEffect)((function(){y&&(y.state=E)}),[y,E]);var P=t.styles?t.styles.baseClassName:null,I=P?null===(n=t.styles)||void 0===n?void 0:n.bundle:null,O=(t.styles?t.styles.extraClassNames:null)||[],M=(0,e.useCallback)((function(){var e=s;return a&&(e+=e?" - ":"",e+=a),e}),[s,a]),R=i?M():a?s:null,N=P&&I?k()(I[P]||"MetadataPanel",o(O),R?null:I["".concat(P,"--singleLineTitle")]||"MetadataPanel--singleLineTitle",b.length<=1?I["".concat(P,"--singleInfoType")]||"MetadataPanel--singleInfoType":null):k()("MetadataPanel",o(O),R?null:"MetadataPanel--singleLineTitle",b.length<=1?"MetadataPanel--singleInfoType":null),D=(0,e.useCallback)((function(e){return P&&I&&I["".concat(P,"__").concat(e)]||"MetadataPanel__".concat(e)}),[P,I]);(0,e.useEffect)((function(){if(c){var e=function(e){var t=e.params,n=e.info;!(i||a||s)||i&&t.song!==i||a&&t.album!==a||s&&t.artist!==s||C({status:"fetched",info:n,forProps:{song:i,album:a,artist:s}})},t=function(e){h({type:"error",message:e}),C({status:"error",error:{message:e},forProps:{song:i,album:a,artist:s}})};return c.on("fetched",e),c.on("error",t),function(){c.off("fetched",e),c.off("error",t)}}}),[c,i,s,a,C,h]),(0,e.useEffect)((function(){if(!E.forProps||E.forProps.song!==i||E.forProps.album!==a||E.forProps.artist!==s){var e={song:i,album:a,artist:s};if(c.isReady()){if(i){var t={name:i,artist:s,album:a};c.getSongInfo(t)}else if(a){var n={name:a,artist:s};c.getAlbumInfo(n)}else if(s){var r={name:s};c.getArtistInfo(r)}C({status:i||a||s?"loading":"idle",forProps:e})}else C({status:"error",error:{message:v("metadata.serviceUnavailable")},forProps:e})}}),[c,i,s,a,E,C,v]);var B=(0,e.useCallback)((function(){if(b.length<=1)return null;var e={song:"audiotrack",artist:"person_outline",album:"album",lyrics:"abc"},t=function(e){e.stopPropagation();var t=e.currentTarget;t.dataset.infoType&&S(t.dataset.infoType)},n=b.map((function(n){return(0,m.jsx)(Pt,{icon:e[n],styles:l||Wa,toggleable:!0,toggled:w===n,onClick:t,"data-info-type":n},n)}));return(0,m.jsx)("div",{className:D("infoTypeChooser"),children:n})}),[b,w,S,D,l]),L=(0,e.useCallback)((function(){var e=i||a||s;return(0,m.jsxs)("div",{className:D("header"),children:[(0,m.jsxs)("div",{className:D("title"),children:[e?(0,m.jsx)("span",{className:D("title--primary"),children:e}):null,R?(0,m.jsx)("span",{className:D("title--secondary"),children:R}):null]}),B()]})}),[i,s,a,R,B,D]),j=(0,e.useCallback)((function(){var e,t;return"fetched"!==E.status?u:"lyrics"!==w&&null!==(e=E.info)&&void 0!==e&&e[w]&&(null===(t=E.info[w])||void 0===t?void 0:t.image)||u}),[u,w,E]),F=(0,e.useMemo)((function(){if(d.current={},"idle"===E.status)return null;if("loading"===E.status){var e=k()(D("info"),D("info--loading"),D("info--active"),"no-swipe");return(0,m.jsxs)("div",{className:e,children:[(0,m.jsx)("span",{className:"material-icons spin",children:"rotate_right"}),(0,m.jsx)("div",{children:v("metadata.loading")})]})}return b.map((function(e){var t=null,n=!1;if("fetched"===E.status){if("song"===e||"artist"===e||"album"===e){var r,i,a=null!==(r=E.info)&&void 0!==r&&r[e]?null===(i=E.info[e])||void 0===i?void 0:i.description:null;n=!a||"?"===a,t=a&&"?"!==a?(0,m.jsx)(m.Fragment,{children:a}):v("metadata.".concat(e,"Unavailable"))}else if("lyrics"===e){var s,u,l,c=null===(s=E.info)||void 0===s||null===(u=s.song)||void 0===u||null===(l=u.embedContents)||void 0===l?void 0:l.contentParts.join();if(c){var f=document.createElement("div");f.innerHTML=c;for(var h=0,p=Array.from(f.getElementsByTagName("a"));h<p.length;h++){var g=p[h];g.replaceWith.apply(g,o(g.childNodes))}t=(0,m.jsx)("div",{className:D("lyrics"),dangerouslySetInnerHTML:{__html:f.innerHTML}})}else t=v("metadata.".concat(e,"Unavailable"))}}else"error"===E.status&&E.error&&(n=!0,t=(0,m.jsx)(m.Fragment,{children:E.error.message}));var y=k()(D("info"),n?D("info--empty"):null,"no-swipe"),b="info-".concat(e);return n?(0,m.jsxs)("div",{id:b,className:y,children:[(0,m.jsx)("span",{className:"material-icons",children:"sentiment_very_dissatisfied"}),(0,m.jsx)("div",{children:t})]},e):(0,m.jsx)(kr.$B,{id:b,ref:function(t){d.current[e]=t},className:y,classes:{thumbVertical:"Scrollbar__handle"},autoHide:!0,onScrollStop:function(){return function(e){var t=d.current[e]||null;t&&(A.current[e]=t.getScrollTop())}(e)},children:t},e)}))}),[b,E,D,v]);return(0,e.useEffect)((function(){var e="info-".concat(w),t=document.getElementById(e);return t&&t.classList.add(D("info--active")),function(){t&&t.classList.remove(D("info--active"))}}),[E,w,D]),(0,e.useEffect)((function(){var e=d.current[w]||null;e&&e.scrollTop(A.current[w]||0)}),[w]),(0,e.useEffect)((function(){return function(){A.current={}}}),[E]),(0,m.jsxs)("div",{className:N,children:[L(),(0,m.jsxs)("div",{className:D("contentsWrapper"),children:[(0,m.jsx)("div",{className:D("art"),children:(0,m.jsx)(be,{className:D("artImage"),src:j()})}),(0,m.jsx)("div",{className:D("infoWrapper"),children:F})]})]})};var qa=function(t){var n=(0,e.useRef)(null),r=t.closeDialog,i=t.modalData||{},a=i.song,o=i.album,s=i.artist,u=i.placeholderImage,l={base:Fr.Overlay,afterOpen:Fr["Overlay--after-open"],beforeClose:Fr["Overlay--before-close"]},c={base:"".concat(Fr.Layout),afterOpen:Fr["Layout--after-open"],beforeClose:Fr["Layout--before-close"]};return(0,m.jsxs)(Ft,f(f({closeTimeoutMS:200,overlayClassName:l,className:c,overlayRef:function(e){return n.current=e}},t),{},{children:[(0,m.jsx)("div",{className:Fr.Layout__header,children:(0,m.jsx)(Pt,{styles:{baseClassName:"Button",bundle:Fr,extraClassNames:[Fr["Button--close"]]},icon:"close",onClick:r})}),(0,m.jsx)(Ga,{styles:{baseClassName:"MetadataPanel",bundle:Fr},song:a,album:o,artist:s,placeholderImage:u})]}))},Xa={Overlay:"ShutdownDialog_Overlay__xEv3z","Overlay--after-open":"ShutdownDialog_Overlay--after-open__qqY1W","Overlay--before-close":"ShutdownDialog_Overlay--before-close__8wU9j",Layout:"ShutdownDialog_Layout__gud2I","Layout--after-open":"ShutdownDialog_Layout--after-open__aqcTp","Layout--before-close":"ShutdownDialog_Layout--before-close__ncMOe",Layout__header:"ShutdownDialog_Layout__header__j3aA3",Layout__contents:"ShutdownDialog_Layout__contents__fqT8q",Title:"ShutdownDialog_Title__eG+LF",Button:"ShutdownDialog_Button__9oomm","Button--toggleable":"ShutdownDialog_Button--toggleable__AVdOM",Button__icon:"ShutdownDialog_Button__icon__Oa5eV",Button__text:"ShutdownDialog_Button__text__WgA-c","Button--toggled":"ShutdownDialog_Button--toggled__f6lGK","Button--close":"ShutdownDialog_Button--close__MNeEh",ContentsWrapper:"ShutdownDialog_ContentsWrapper__ygI1o"};var Ya=function(t){var n=Je().socket,r=(0,e.useRef)(null),i=t.closeDialog,a=Lr().t,o={base:Xa.Overlay,afterOpen:Xa["Overlay--after-open"],beforeClose:Xa["Overlay--before-close"]},s={base:"".concat(Xa.Layout),afterOpen:Xa["Layout--after-open"],beforeClose:Xa["Layout--before-close"]},u=a("modal.shutdown.title"),l=a("modal.shutdown.powerOff"),c=a("modal.shutdown.restart");return(0,m.jsxs)(Ft,f(f({closeTimeoutMS:200,overlayClassName:o,className:s,overlayRef:function(e){return r.current=e}},t),{},{children:[(0,m.jsxs)("div",{className:Xa.Layout__header,children:[(0,m.jsx)("span",{className:Xa.Title,children:u}),(0,m.jsx)(Pt,{styles:{baseClassName:"Button",bundle:Xa,extraClassNames:[Xa["Button--close"]]},icon:"close",onClick:i})]}),(0,m.jsx)(kr.$B,{className:Xa.Layout__contents,classes:{thumbVertical:"Scrollbar__handle"},autoHeight:!0,autoHeightMax:"var(--max-contents-height)",autoHide:!0,children:(0,m.jsxs)("div",{className:Xa.ContentsWrapper,children:[(0,m.jsx)(Pt,{styles:{baseClassName:"Button",bundle:Xa,extraClassNames:[Xa["Button--powerOff"]]},text:l,icon:"power_settings_new",onClick:function(){n&&n.emit("shutdown"),i()}}),(0,m.jsx)(Pt,{styles:{baseClassName:"Button",bundle:Xa,extraClassNames:[Xa["Button--restart"]]},text:c,icon:"restart_alt",onClick:function(){n&&n.emit("reboot"),i()}})]})})]}))};function Qa(e,t){if(null==e)return{};var n,r,i=xe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Ka=e.forwardRef((function(t,n){var r,i=St(),a=void 0!==i.mute&&i.mute,s=i.volume||0,u=t.styles?t.styles.baseClassName:null,l=u?null===(r=t.styles)||void 0===r?void 0:r.bundle:null,c=(t.styles?t.styles.extraClassNames:null)||[],f=u&&l?k()(l[u]||"VolumeIndicator",o(c)):k()("VolumeIndicator",o(c)),h=(0,e.useCallback)((function(e){return u&&l&&l["".concat(u,"__").concat(e)]||"VolumeIndicator__".concat(e)}),[u,l]),d=(0,e.useCallback)((function(){var e=k()(h("icon"),i.mute?h("icon--muted"):null);return(0,m.jsx)("span",{className:e,children:i.mute?"volume_off":"volume_up"})}),[i.mute,h]),p=(0,e.useCallback)((function(){return i.mute?null:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("span",{className:h("text"),children:"".concat(s||0)}),(0,m.jsx)("span",{className:h("percentSymbol"),children:"%"})]})}),[i.mute,s,h]),v=(0,e.useMemo)((function(){return void 0===t.showDial||t.showDial?(0,m.jsx)("div",{className:h("dialWrapper"),children:(0,m.jsxs)("svg",{children:[(0,m.jsx)("circle",{className:k()(h("dial"),h("dial--primary")),cx:"50%",cy:"50%",r:"3.5em"}),(0,m.jsx)("circle",{className:k()(h("dial"),h("dial--highlight"),a?h("dial--muted"):null),cx:"50%",cy:"50%",r:"3.5em",pathLength:"100"})]})}):null}),[t.showDial,a,h]);return(0,m.jsxs)("div",{ref:n,className:f,style:{"--volume-level":"".concat(s,"px")},onClick:t.onClick,children:[v,(0,m.jsxs)("div",{className:k()(h("contents"),v?null:h("contents--noDial")),children:[d(),p()]})]})}));Ka.displayName="VolumeIndicator";var Za=Ka,$a=["closePanel"];var Ja=function(e){var t=e.closePanel,n=Qa(e,$a);return(0,m.jsx)(Ft,f(f({closeTimeoutMS:200,overlayClassName:{base:"VolumeIndicatorPanelOverlay",afterOpen:"VolumeIndicatorPanelOverlay--after-open",beforeClose:"VolumeIndicatorPanelOverlay--before-close"},className:{base:"VolumeIndicatorPanel",afterOpen:"VolumeIndicatorPanel--after-open",beforeClose:"VolumeIndicatorPanel--before-close"}},n),{},{children:(0,m.jsx)(Za,{onClick:t})}))},eo={Overlay:"WebRadioDialog_Overlay__Z57FG","Overlay--after-open":"WebRadioDialog_Overlay--after-open__PXsWl","Overlay--before-close":"WebRadioDialog_Overlay--before-close__v6CU7",Layout:"WebRadioDialog_Layout__zF8cd","Layout--after-open":"WebRadioDialog_Layout--after-open__xNO79","Layout--before-close":"WebRadioDialog_Layout--before-close__hLXSt",Layout__header:"WebRadioDialog_Layout__header__iKgqf",Layout__contents:"WebRadioDialog_Layout__contents__14rCa",Layout__footer:"WebRadioDialog_Layout__footer__9-zVZ",Title:"WebRadioDialog_Title__t74jS",Button:"WebRadioDialog_Button__IMtGf","Button--toggleable":"WebRadioDialog_Button--toggleable__f9c2r",Button__icon:"WebRadioDialog_Button__icon__wwlnL",Button__text:"WebRadioDialog_Button__text__1cxy2","Button--toggled":"WebRadioDialog_Button--toggled__R-Lvq","Button--close":"WebRadioDialog_Button--close__Ae1iX","Button--ok":"WebRadioDialog_Button--ok__Lx0QG",ContentsWrapper:"WebRadioDialog_ContentsWrapper__tcU3X"},to=e.forwardRef((function(t,n){var r,i=t.styles?t.styles.baseClassName:null,a=i?null===(r=t.styles)||void 0===r?void 0:r.bundle:null,s=(t.styles?t.styles.extraClassNames:null)||[],u=p((0,e.useState)(!1),2),l=u[0],c=u[1],f=i&&a?k()(a[i]||"TextField",l?a["".concat(i,"--focus")]||"TextField--focus":null,o(s)):k()("TextField",l?"TextField--focus":null,o(s)),h=function(e){return i&&a&&a["".concat(i,"__").concat(e)]||"TextField__".concat(e)},d=(0,e.useCallback)((function(){c(!0)}),[c]),v=(0,e.useCallback)((function(){c(!1)}),[c]);return(0,m.jsxs)("div",{className:f,children:[t.icon?(0,m.jsx)("span",{className:h("icon"),children:t.icon}):null,(0,m.jsx)("input",{ref:n,type:"text",className:h("input"),placeholder:t.placeholder,defaultValue:t.defaultValue,onChange:t.onChange,onFocus:d,onBlur:v})]})}));to.displayName="TextField";var no=to;var ro=function(t){var n=_r(),r=(0,e.useRef)(null),i=(0,e.useRef)(null),a=(0,e.useRef)(null),o=(0,e.useRef)(null),s=t.closeDialog,u=t.modalData&&t.modalData.mode||"add",l=Lr().t,c={base:eo.Overlay,afterOpen:eo["Overlay--after-open"],beforeClose:eo["Overlay--before-close"]},h={base:"".concat(eo.Layout),afterOpen:eo["Layout--after-open"],beforeClose:eo["Layout--before-close"]},d=function(){return i.current?i.current.value.trim():""},p=function(){return a.current?a.current.value.trim():""},v=function(){var e=d().length>0,t=p().length>0;o.current&&(o.current.disabled=!(e&&t))},g=(0,e.useCallback)((function(){var e={title:d(),uri:p()};"add"===u?n.addWebRadio(e):n.editWebRadio(e),s()}),[u,n,s]),y=l("modal.webRadio.".concat(u,".title")),b=l("modal.webRadio.".concat(u,".confirmButton"));return(0,m.jsxs)(Ft,f(f({closeTimeoutMS:200,overlayClassName:c,className:h,overlayRef:function(e){return r.current=e},onAfterOpen:function(){"add"===u?(i.current&&(i.current.value=""),a.current&&(a.current.value=""),o.current&&(o.current.disabled=!0)):(i.current&&(i.current.value=t.modalData.name||""),a.current&&(a.current.value=t.modalData.url||""))}},t),{},{children:[(0,m.jsxs)("div",{className:eo.Layout__header,children:[(0,m.jsx)("span",{className:eo.Title,children:y}),(0,m.jsx)(Pt,{styles:{baseClassName:"Button",bundle:eo,extraClassNames:[eo["Button--close"]]},icon:"close",onClick:s})]}),(0,m.jsx)(kr.$B,{className:eo.Layout__contents,classes:{thumbVertical:"Scrollbar__handle"},autoHeight:!0,autoHeightMax:"var(--max-contents-height)",autoHide:!0,children:(0,m.jsxs)("div",{className:eo.ContentsWrapper,children:[(0,m.jsx)(no,{ref:i,placeholder:l("modal.webRadio.namePlaceholder"),icon:"radio",onChange:v}),(0,m.jsx)(no,{ref:a,placeholder:l("modal.webRadio.urlPlaceholder"),icon:"link",onChange:v})]})}),(0,m.jsx)("div",{className:eo.Layout__footer,children:(0,m.jsx)(Pt,{ref:o,styles:{baseClassName:"Button",bundle:eo,extraClassNames:[eo["Button--ok"]]},text:b,onClick:g})})]}))},io="actionPanel",ao="volumeIndicator",oo="addToPlaylistDialog",so="webRadioDialog",uo="metadataModal",lo="shutdownDialog";var co=function(){var t=_(),n=t.isModalOpened,r=t.isModalDisabled,i=t.closeModal,a=t.getModalData,o=(0,e.useCallback)((function(){i(io)}),[i]),s=(0,e.useCallback)((function(){i(ao)}),[i]),u=(0,e.useCallback)((function(){i(oo)}),[i]),l=(0,e.useCallback)((function(){i(so)}),[i]),c=(0,e.useCallback)((function(){i(uo)}),[i]),f=(0,e.useCallback)((function(){i(lo)}),[i]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Ut,{isOpen:n(io)&&!r(io),contentLabel:"modal",onRequestClose:o,closePanel:o}),(0,m.jsx)(Ja,{isOpen:n(ao)&&!r(ao),contentLabel:"modal",onRequestClose:s,closePanel:s}),(0,m.jsx)(jr,{isOpen:n(oo)&&!r(oo),contentLabel:"dialog",onRequestClose:u,closeDialog:u,modalData:a(oo)}),(0,m.jsx)(ro,{isOpen:n(so)&&!r(so),contentLabel:"dialog",onRequestClose:l,closeDialog:l,modalData:a(so)}),(0,m.jsx)(qa,{isOpen:n(uo)&&!r(uo),contentLabel:"modal",onRequestClose:c,closeDialog:c,modalData:a(uo)}),(0,m.jsx)(Ya,{isOpen:n(lo)&&!r(lo),contentLabel:"modal",onRequestClose:f,closeDialog:f})]})};var fo=function(t){var n=Je().socket,r=t.playerState,i=(0,e.useCallback)((function(){if(n){var e=!r.repeat||!r.repeatSingle,t=e&&r.repeat;n.emit("setRepeat",{value:e,repeatSingle:t})}}),[r.repeat,r.repeatSingle,n]),a=(0,e.useCallback)((function(){n&&n.emit("prev")}),[n]),o=(0,e.useCallback)((function(){n&&n.emit("toggle")}),[n]),s=(0,e.useCallback)((function(){n&&n.emit("next")}),[n]),u=(0,e.useCallback)((function(){n&&n.emit("setRandom",{value:!r.random})}),[n,r.random]),l=function(e){if(t.buttonStyles){var n,r,i=t.buttonStyles.baseClassName,a=f({},t.buttonStyles);if(null!==(n=t.buttonStyles.bundle)&&void 0!==n&&n["".concat(i,"--").concat(e)])a.extraClassNames=[null===(r=t.buttonStyles.bundle)||void 0===r?void 0:r["".concat(i,"--").concat(e)]];return a}};return(0,m.jsx)("div",{className:t.className||"PlayerButtonGroup",children:function(){var e=t.buttons||["repeat","previous","play","next","random"],n=[];return e.forEach((function(e){if("string"===typeof e){var t=function(e){var t;switch(e){case"repeat":t={key:"repeat",icon:r.repeatSingle?"repeat_one":"repeat",styles:l("repeat"),toggleable:!0,toggled:r.repeat,onClick:i};break;case"previous":t={key:"previous",icon:"skip_previous",styles:l("previous"),onClick:a};break;case"play":t={key:"play",icon:"play"===r.status?r.duration?"pause":"stop":"play_arrow",styles:l("play"),onClick:o};break;case"next":t={key:"next",icon:"skip_next",styles:l("next"),onClick:s};break;case"random":t={key:"random",icon:"shuffle",styles:l("random"),toggleable:!0,toggled:r.random,onClick:u};break;default:t=null}return t?(0,m.jsx)(Pt,f({},t)):null}(e);t&&n.push(t)}else n.push(e)})),n}()})},ho={Layout:"TrackBar_Layout__cvUbF","Layout--noSeek":"TrackBar_Layout--noSeek__veJSi","Layout--inactive":"TrackBar_Layout--inactive__eBhZf",Layout__contents:"TrackBar_Layout__contents__4CJJI",AlbumArt:"TrackBar_AlbumArt__889d+",AlbumArt__image:"TrackBar_AlbumArt__image__lmvRO",TrackInfoText:"TrackBar_TrackInfoText__o8J9f",TrackInfoText__title:"TrackBar_TrackInfoText__title__zbL1-",TrackInfoText__artist:"TrackBar_TrackInfoText__artist__Su5c0",TrackInfoText__album:"TrackBar_TrackInfoText__album__N3EMq",TrackInfoText__artistAlbum:"TrackBar_TrackInfoText__artistAlbum__qOAYb","TrackInfoText__title--marqueeRunning":"TrackBar_TrackInfoText__title--marqueeRunning__D-Ich","TrackInfoText__title--marqueeStopped":"TrackBar_TrackInfoText__title--marqueeStopped__jMloQ",TrackInfoText__marqueeTitleWrapper:"TrackBar_TrackInfoText__marqueeTitleWrapper__sJiGF",TrackInfoText__formatIcon:"TrackBar_TrackInfoText__formatIcon__Tf5Ol",TrackInfoText__formatResolution:"TrackBar_TrackInfoText__formatResolution__l9n8u",TrackInfoText__format:"TrackBar_TrackInfoText__format__0gh-J",Seekbar__slider:"TrackBar_Seekbar__slider__irKTV",Seekbar__seek:"TrackBar_Seekbar__seek__DfLRZ",Seekbar__duration:"TrackBar_Seekbar__duration__OlUth","Seekbar--disabled":"TrackBar_Seekbar--disabled__SsNHZ",Seekbar:"TrackBar_Seekbar__n1Gu4",PlayerButtonGroup:"TrackBar_PlayerButtonGroup__jUb4H",Button:"TrackBar_Button__1Uo7y","Button--toggleable":"TrackBar_Button--toggleable__ipGbc",Button__icon:"TrackBar_Button__icon__zVfqH",Button__text:"TrackBar_Button__text__Noyvo","Button--toggled":"TrackBar_Button--toggled__EqTXY","Button--next":"TrackBar_Button--next__Ss8hp","Button--previous":"TrackBar_Button--previous__KFsfH",VolumeBarOverlay:"TrackBar_VolumeBarOverlay__9pdTY",VolumeBarWrapper:"TrackBar_VolumeBarWrapper__8a8HR",VolumeBar:"TrackBar_VolumeBar__xKn1k","VolumeBarWrapper--after-open":"TrackBar_VolumeBarWrapper--after-open__YsTcL","VolumeBarWrapper--before-close":"TrackBar_VolumeBarWrapper--before-close__RYzZN"},po=n(4038),vo={title:!0,artist:!0,album:!0,mediaInfo:!0},mo=["title","artist","album","mediaInfo"];var go=function(t){var n,r=ge().pluginInfo,i=t.playerState,a=i.title||"",s=i.artist||"",u=i.album||"",l=ie(i),c=r?ae(i.trackType,r.appUrl):null,f=void 0!==t.concatArtistAlbum&&t.concatArtistAlbum,h=t.trackInfoVisibility||vo,d=t.trackInfoOrder||mo,v=t.styles?t.styles.baseClassName:null,g=v?null===(n=t.styles)||void 0===n?void 0:n.bundle:null,y=(t.styles?t.styles.extraClassNames:null)||[],b=t.marqueeTitle,_=p((0,e.useState)(!1),2),x=_[0],w=_[1],S=p((0,e.useState)(50),2),T=S[0],E=S[1],C=p((0,e.useState)(!1),2),A=C[0],P=C[1],I=(0,e.useRef)(null),O=(0,e.useRef)(null);(0,e.useEffect)((function(){var e=function(){P(!0)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),(0,e.useEffect)((function(){b&&P(!0)}),[a,b]),(0,e.useEffect)((function(){if(b&&A&&I.current&&O.current){if(I.current.offsetWidth>O.current.offsetWidth){var e=.05*O.current.offsetWidth;w(!0),E(e)}else w(!1);P(!1)}}),[a,b,A]);var M=v&&g?k()(g[v]||"TrackInfoText",o(y)):k()("TrackInfoText",o(y)),R=(0,e.useCallback)((function(e){var t;if(v&&g){if(t=g["".concat(v,"__").concat(e)]||"TrackInfoText__".concat(e),"title"===e&&b){var n=x&&!A?"marqueeRunning":"marqueeStopped";t+=" ".concat(g["".concat(v,"__").concat(e,"--").concat(n)]||"TrackInfoText__".concat(e,"--").concat(n))}}else if(t="TrackInfoText__".concat(e),"title"===e&&b){var r=x&&!A?"marqueeRunning":"marqueeStopped";t+=" TrackInfoText__".concat(e,"--").concat(r)}return t}),[v,g,b,A,x]),N=d.map((function(e){switch(e){case"title":if(!h.title)return null;var t=(0,m.jsx)("span",{ref:I,className:R("title"),children:a},e);return b?(0,m.jsx)("div",{ref:O,className:R("marqueeTitleWrapper"),children:x&&!A?(0,m.jsx)(po.Z,{delay:2,pauseOnHover:!0,speed:T,children:t}):t}):t;case"artist":if(f&&(h.artist||h.album)){var n=h.artist?s:"";return u&&h.album&&(n+=n?" - ":"",n+=u),(0,m.jsx)("span",{className:R("artistAlbum"),children:n},"artistAlbum")}return h.artist?(0,m.jsx)("span",{className:R("artist"),children:s},e):null;case"album":return h.album?f?null:(0,m.jsx)("span",{className:R("album"),children:u},e):null;case"mediaInfo":return h.mediaInfo?(0,m.jsxs)("div",{className:R("format"),children:[c?(0,m.jsx)("img",{src:c,className:R("formatIcon"),alt:""}):null,(0,m.jsx)("span",{className:R("formatResolution"),children:l})]},e):null;default:return null}}));return(0,m.jsx)("div",{className:M,onClick:t.onClick,children:N})},yo={},bo=[];function _o(e,t){}function xo(e,t){}function ko(e,t,n){t||yo[n]||(e(!1,n),yo[n]=!0)}function wo(e,t){ko(_o,e,t)}wo.preMessage=function(e){bo.push(e)},wo.resetWarned=function(){yo={}},wo.noteOnce=function(e,t){ko(xo,e,t)};var So=wo;var To=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new Set;return function e(t,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=r.has(t);if(So(!o,"Warning: There may be circular references"),o)return!1;if(t===i)return!0;if(n&&a>1)return!1;r.add(t);var u=a+1;if(Array.isArray(t)){if(!Array.isArray(i)||t.length!==i.length)return!1;for(var l=0;l<t.length;l++)if(!e(t[l],i[l],u))return!1;return!0}if(t&&i&&"object"===s(t)&&"object"===s(i)){var c=Object.keys(t);return c.length===Object.keys(i).length&&c.every((function(n){return e(t[n],i[n],u)}))}return!1}(e,t)};function Eo(t){var n=e.useRef();n.current=t;var r=e.useCallback((function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return null===(e=n.current)||void 0===e?void 0:e.call.apply(e,[n].concat(r))}),[]);return r}var Co="undefined"!==typeof window&&window.document&&window.document.createElement?e.useLayoutEffect:e.useEffect,Ao=function(t,n){var r=e.useRef(!0);Co((function(){return t(r.current)}),n),Co((function(){return r.current=!1,function(){r.current=!0}}),[])},Po=function(e,t){Ao((function(t){if(!t)return e()}),t)};function Io(t){var n=e.useRef(!1),r=p(e.useState(t),2),i=r[0],a=r[1];return e.useEffect((function(){return n.current=!1,function(){n.current=!0}}),[]),[i,function(e,t){t&&n.current||a(e)}]}function Oo(e){return void 0!==e}var Mo={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=Mo.F1&&t<=Mo.F12)return!1;switch(t){case Mo.ALT:case Mo.CAPS_LOCK:case Mo.CONTEXT_MENU:case Mo.CTRL:case Mo.DOWN:case Mo.END:case Mo.ESC:case Mo.HOME:case Mo.INSERT:case Mo.LEFT:case Mo.MAC_FF_META:case Mo.META:case Mo.NUMLOCK:case Mo.NUM_CENTER:case Mo.PAGE_DOWN:case Mo.PAGE_UP:case Mo.PAUSE:case Mo.PRINT_SCREEN:case Mo.RIGHT:case Mo.SHIFT:case Mo.UP:case Mo.WIN_KEY:case Mo.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=Mo.ZERO&&e<=Mo.NINE)return!0;if(e>=Mo.NUM_ZERO&&e<=Mo.NUM_MULTIPLY)return!0;if(e>=Mo.A&&e<=Mo.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case Mo.SPACE:case Mo.QUESTION_MARK:case Mo.NUM_PLUS:case Mo.NUM_MINUS:case Mo.NUM_PERIOD:case Mo.NUM_DIVISION:case Mo.SEMICOLON:case Mo.DASH:case Mo.EQUALS:case Mo.COMMA:case Mo.PERIOD:case Mo.SLASH:case Mo.APOSTROPHE:case Mo.SINGLE_QUOTE:case Mo.OPEN_SQUARE_BRACKET:case Mo.BACKSLASH:case Mo.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Ro=Mo,No=e.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0});function Do(e,t,n){return(e-t)/(n-t)}function Bo(e,t,n,r){var i=Do(t,n,r),a={};switch(e){case"rtl":a.right="".concat(100*i,"%"),a.transform="translateX(50%)";break;case"btt":a.bottom="".concat(100*i,"%"),a.transform="translateY(50%)";break;case"ttb":a.top="".concat(100*i,"%"),a.transform="translateY(-50%)";break;default:a.left="".concat(100*i,"%"),a.transform="translateX(-50%)"}return a}function Lo(e,t){return Array.isArray(e)?e[t]:e}var jo=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange"],Fo=e.forwardRef((function(t,n){var r,i,a=t.prefixCls,o=t.value,s=t.valueIndex,u=t.onStartMove,c=t.style,h=t.render,d=t.dragging,p=t.onOffsetChange,v=Qa(t,jo),m=e.useContext(No),g=m.min,y=m.max,b=m.direction,_=m.disabled,x=m.keyboard,w=m.range,S=m.tabIndex,T=m.ariaLabelForHandle,E=m.ariaLabelledByForHandle,C=m.ariaValueTextFormatterForHandle,A="".concat(a,"-handle"),P=function(e){_||u(e,s)},I=Bo(b,o,g,y),O=e.createElement("div",_e({ref:n,className:k()(A,(r={},l(r,"".concat(A,"-").concat(s+1),w),l(r,"".concat(A,"-dragging"),d),r)),style:f(f({},I),c),onMouseDown:P,onTouchStart:P,onKeyDown:function(e){if(!_&&x){var t=null;switch(e.which||e.keyCode){case Ro.LEFT:t="ltr"===b||"btt"===b?-1:1;break;case Ro.RIGHT:t="ltr"===b||"btt"===b?1:-1;break;case Ro.UP:t="ttb"!==b?1:-1;break;case Ro.DOWN:t="ttb"!==b?-1:1;break;case Ro.HOME:t="min";break;case Ro.END:t="max";break;case Ro.PAGE_UP:t=2;break;case Ro.PAGE_DOWN:t=-2}null!==t&&(e.preventDefault(),p(t,s))}},tabIndex:_?null:Lo(S,s),role:"slider","aria-valuemin":g,"aria-valuemax":y,"aria-valuenow":o,"aria-disabled":_,"aria-label":Lo(T,s),"aria-labelledby":Lo(E,s),"aria-valuetext":null===(i=Lo(C,s))||void 0===i?void 0:i(o),"aria-orientation":"ltr"===b||"rtl"===b?"horizontal":"vertical"},v));return h&&(O=h(O,{index:s,prefixCls:a,value:o,dragging:d})),O}));var Uo=Fo,zo=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","draggingIndex"],Vo=e.forwardRef((function(t,n){var r=t.prefixCls,i=t.style,a=t.onStartMove,o=t.onOffsetChange,s=t.values,u=t.handleRender,l=t.draggingIndex,c=Qa(t,zo),f=e.useRef({});return e.useImperativeHandle(n,(function(){return{focus:function(e){var t;null===(t=f.current[e])||void 0===t||t.focus()}}})),e.createElement(e.Fragment,null,s.map((function(t,n){return e.createElement(Uo,_e({ref:function(e){e?f.current[n]=e:delete f.current[n]},dragging:l===n,prefixCls:r,style:Lo(i,n),key:n,value:t,valueIndex:n,onStartMove:a,onOffsetChange:o,render:u},c))})))}));var Ho=Vo;function Wo(e){var t="touches"in e?e.touches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function Go(t){var n,r=t.prefixCls,i=t.style,a=t.start,o=t.end,s=t.index,u=t.onStartMove,c=e.useContext(No),h=c.direction,d=c.min,p=c.max,v=c.disabled,m=c.range,g="".concat(r,"-track"),y=Do(a,d,p),b=Do(o,d,p),_=function(e){!v&&u&&u(e,-1)},x={};switch(h){case"rtl":x.right="".concat(100*y,"%"),x.width="".concat(100*b-100*y,"%");break;case"btt":x.bottom="".concat(100*y,"%"),x.height="".concat(100*b-100*y,"%");break;case"ttb":x.top="".concat(100*y,"%"),x.height="".concat(100*b-100*y,"%");break;default:x.left="".concat(100*y,"%"),x.width="".concat(100*b-100*y,"%")}return e.createElement("div",{className:k()(g,(n={},l(n,"".concat(g,"-").concat(s+1),m),l(n,"".concat(r,"-track-draggable"),u),n)),style:f(f({},x),i),onMouseDown:_,onTouchStart:_})}function qo(t){var n=t.prefixCls,r=t.style,i=t.values,a=t.startPoint,o=t.onStartMove,s=e.useContext(No),u=s.included,l=s.range,c=s.min,f=e.useMemo((function(){if(!l){if(0===i.length)return[];var e=null!==a&&void 0!==a?a:c,t=i[0];return[{start:Math.min(e,t),end:Math.max(e,t)}]}for(var n=[],r=0;r<i.length-1;r+=1)n.push({start:i[r],end:i[r+1]});return n}),[i,l,a,c]);return u?f.map((function(t,i){var a=t.start,s=t.end;return e.createElement(Go,{index:i,prefixCls:n,style:Lo(r,i),start:a,end:s,key:i,onStartMove:o})})):null}function Xo(t){var n=t.prefixCls,r=t.style,i=t.children,a=t.value,o=t.onClick,s=e.useContext(No),u=s.min,c=s.max,h=s.direction,d=s.includedStart,p=s.includedEnd,v=s.included,m="".concat(n,"-text"),g=Bo(h,a,u,c);return e.createElement("span",{className:k()(m,l({},"".concat(m,"-active"),v&&d<=a&&a<=p)),style:f(f({},g),r),onMouseDown:function(e){e.stopPropagation()},onClick:function(){o(a)}},i)}function Yo(t){var n=t.prefixCls,r=t.marks,i=t.onClick,a="".concat(n,"-mark");return r.length?e.createElement("div",{className:a},r.map((function(t){var n=t.value,r=t.style,o=t.label;return e.createElement(Xo,{key:n,prefixCls:a,style:r,value:n,onClick:i},o)}))):null}function Qo(t){var n=t.prefixCls,r=t.value,i=t.style,a=t.activeStyle,o=e.useContext(No),s=o.min,u=o.max,c=o.direction,h=o.included,d=o.includedStart,p=o.includedEnd,v="".concat(n,"-dot"),m=h&&d<=r&&r<=p,g=f(f({},Bo(c,r,s,u)),"function"===typeof i?i(r):i);return m&&(g=f(f({},g),"function"===typeof a?a(r):a)),e.createElement("span",{className:k()(v,l({},"".concat(v,"-active"),m)),style:g})}function Ko(t){var n=t.prefixCls,r=t.marks,i=t.dots,a=t.style,o=t.activeStyle,s=e.useContext(No),u=s.min,l=s.max,c=s.step,f=e.useMemo((function(){var e=new Set;if(r.forEach((function(t){e.add(t.value)})),i&&null!==c)for(var t=u;t<=l;)e.add(t),t+=c;return Array.from(e)}),[u,l,c,i,r]);return e.createElement("div",{className:"".concat(n,"-step")},f.map((function(t){return e.createElement(Qo,{prefixCls:n,key:t,value:t,style:a,activeStyle:o})})))}var Zo=e.forwardRef((function(t,n){var r,i=t.prefixCls,a=void 0===i?"rc-slider":i,u=t.className,c=t.style,f=t.disabled,h=void 0!==f&&f,d=t.keyboard,v=void 0===d||d,m=t.autoFocus,g=t.onFocus,y=t.onBlur,b=t.min,_=void 0===b?0:b,x=t.max,w=void 0===x?100:x,S=t.step,T=void 0===S?1:S,E=t.value,C=t.defaultValue,A=t.range,P=t.count,I=t.onChange,O=t.onBeforeChange,M=t.onAfterChange,R=t.allowCross,N=void 0===R||R,D=t.pushable,B=void 0!==D&&D,L=t.draggableTrack,j=t.reverse,F=t.vertical,U=t.included,z=void 0===U||U,V=t.startPoint,H=t.trackStyle,W=t.handleStyle,G=t.railStyle,q=t.dotStyle,X=t.activeDotStyle,Y=t.marks,Q=t.dots,K=t.handleRender,Z=t.tabIndex,$=void 0===Z?0:Z,J=t.ariaLabelForHandle,ee=t.ariaLabelledByForHandle,te=t.ariaValueTextFormatterForHandle,ne=e.useRef(),re=e.useRef(),ie=e.useMemo((function(){return F?j?"ttb":"btt":j?"rtl":"ltr"}),[j,F]),ae=e.useMemo((function(){return isFinite(_)?_:0}),[_]),oe=e.useMemo((function(){return isFinite(w)?w:100}),[w]),se=e.useMemo((function(){return null!==T&&T<=0?1:T}),[T]),ue=e.useMemo((function(){return"boolean"===typeof B?!!B&&se:B>=0&&B}),[B,se]),le=e.useMemo((function(){return Object.keys(Y||{}).map((function(t){var n=Y[t],r={value:Number(t)};return n&&"object"===s(n)&&!e.isValidElement(n)&&("label"in n||"style"in n)?(r.style=n.style,r.label=n.label):r.label=n,r})).filter((function(e){var t=e.label;return t||"number"===typeof t})).sort((function(e,t){return e.value-t.value}))}),[Y]),ce=function(t,n,r,i,a,s){var u=e.useCallback((function(e){var r=isFinite(e)?e:t;return r=Math.min(n,e),Math.max(t,r)}),[t,n]),l=e.useCallback((function(e){if(null!==r){var i=t+Math.round((u(e)-t)/r)*r,a=function(e){return(String(e).split(".")[1]||"").length},o=Math.max(a(r),a(n),a(t)),s=Number(i.toFixed(o));return t<=s&&s<=n?s:null}return null}),[r,t,n,u]),c=e.useCallback((function(e){var a=u(e),o=i.map((function(e){return e.value}));null!==r&&o.push(l(e)),o.push(t,n);var s=o[0],c=n-t;return o.forEach((function(e){var t=Math.abs(a-e);t<=c&&(s=e,c=t)})),s}),[t,n,i,r,u,l]),f=function e(a,s,u){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit";if("number"===typeof s){var f,h=a[u],d=h+s,p=[];i.forEach((function(e){p.push(e.value)})),p.push(t,n),p.push(l(h));var v=s>0?1:-1;"unit"===c?p.push(l(h+v*r)):p.push(l(d)),p=p.filter((function(e){return null!==e})).filter((function(e){return s<0?e<=h:e>=h})),"unit"===c&&(p=p.filter((function(e){return e!==h})));var m="unit"===c?h:d;f=p[0];var g=Math.abs(f-m);if(p.forEach((function(e){var t=Math.abs(e-m);t<g&&(f=e,g=t)})),void 0===f)return s<0?t:n;if("dist"===c)return f;if(Math.abs(s)>1){var y=o(a);return y[u]=f,e(y,s-v,u,c)}return f}return"min"===s?t:"max"===s?n:void 0},h=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",i=e[n],a=f(e,t,n,r);return{value:a,changed:a!==i}},d=function(e){return null===s&&0===e||"number"===typeof s&&e<s};return[c,function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",i=e.map(c),o=i[n],u=f(i,t,n,r);if(i[n]=u,!1===a){var l=s||0;n>0&&i[n-1]!==o&&(i[n]=Math.max(i[n],i[n-1]+l)),n<i.length-1&&i[n+1]!==o&&(i[n]=Math.min(i[n],i[n+1]-l))}else if("number"===typeof s||null===s){for(var p=n+1;p<i.length;p+=1)for(var v=!0;d(i[p]-i[p-1])&&v;){var m=h(i,1,p);i[p]=m.value,v=m.changed}for(var g=n;g>0;g-=1)for(var y=!0;d(i[g]-i[g-1])&&y;){var b=h(i,-1,g-1);i[g-1]=b.value,y=b.changed}for(var _=i.length-1;_>0;_-=1)for(var x=!0;d(i[_]-i[_-1])&&x;){var k=h(i,-1,_-1);i[_-1]=k.value,x=k.changed}for(var w=0;w<i.length-1;w+=1)for(var S=!0;d(i[w+1]-i[w])&&S;){var T=h(i,1,w+1);i[w+1]=T.value,S=T.changed}}return{value:i[n],values:i}}]}(ae,oe,se,le,N,ue),fe=p(ce,2),he=fe[0],de=fe[1],pe=function(e,t){var n=t||{},r=n.defaultValue,i=n.value,a=n.onChange,o=n.postState,s=p(Io((function(){return Oo(i)?i:Oo(r)?"function"===typeof r?r():r:"function"===typeof e?e():e})),2),u=s[0],l=s[1],c=void 0!==i?i:u,f=o?o(c):c,h=Eo(a),d=p(Io([c]),2),v=d[0],m=d[1];return Po((function(){var e=v[0];u!==e&&h(u,e)}),[v]),Po((function(){Oo(i)||l(i)}),[i]),[f,Eo((function(e,t){l(e,t),m([c],t)}))]}(C,{value:E}),ve=p(pe,2),me=ve[0],ge=ve[1],ye=e.useMemo((function(){var e=null===me||void 0===me?[]:Array.isArray(me)?me:[me],t=p(e,1)[0],n=null===me?[]:[void 0===t?ae:t];if(A){if(n=o(e),P||void 0===me){var r=P>=0?P+1:2;for(n=n.slice(0,r);n.length<r;){var i;n.push(null!==(i=n[n.length-1])&&void 0!==i?i:ae)}}n.sort((function(e,t){return e-t}))}return n.forEach((function(e,t){n[t]=he(e)})),n}),[me,A,ae,P,he]),be=e.useRef(ye);be.current=ye;var _e=function(e){return A?e:e[0]},xe=function(e){var t=o(e).sort((function(e,t){return e-t}));I&&!To(t,be.current,!0)&&I(_e(t)),ge(t)},ke=function(e){if(!h){var t=0,n=oe-ae;ye.forEach((function(r,i){var a=Math.abs(e-r);a<=n&&(n=a,t=i)}));var r=o(ye);r[t]=e,A&&!ye.length&&void 0===P&&r.push(e),null===O||void 0===O||O(_e(r)),xe(r),null===M||void 0===M||M(_e(r))}},we=p(e.useState(null),2),Se=we[0],Te=we[1];e.useEffect((function(){if(null!==Se){var e=ye.indexOf(Se);e>=0&&ne.current.focus(e)}Te(null)}),[Se]);var Ee=e.useMemo((function(){return(!L||null!==se)&&L}),[L,se]),Ce=function(t,n,r,i,a,s,u,l,c){var f=p(e.useState(null),2),h=f[0],d=f[1],v=p(e.useState(-1),2),m=v[0],g=v[1],y=p(e.useState(r),2),b=y[0],_=y[1],x=p(e.useState(r),2),k=x[0],w=x[1],S=e.useRef(null),T=e.useRef(null);e.useEffect((function(){-1===m&&_(r)}),[r,m]),e.useEffect((function(){return function(){document.removeEventListener("mousemove",S.current),document.removeEventListener("mouseup",T.current),document.removeEventListener("touchmove",S.current),document.removeEventListener("touchend",T.current)}}),[]);var E=function(e,t){b.some((function(t,n){return t!==e[n]}))&&(void 0!==t&&d(t),_(e),u(e))},C=function(e,t){if(-1===e){var n=k[0],r=k[k.length-1],u=i-n,l=a-r,f=t*(a-i);f=Math.max(f,u),f=Math.min(f,l);var h=s(n+f);f=h-n;var d=k.map((function(e){return e+f}));E(d)}else{var p=(a-i)*t,v=o(b);v[e]=k[e];var m=c(v,p,e,"dist");E(m.values,m.value)}},A=e.useRef(C);A.current=C;var P=e.useMemo((function(){var e=o(r).sort((function(e,t){return e-t})),t=o(b).sort((function(e,t){return e-t}));return e.every((function(e,n){return e===t[n]}))?b:r}),[r,b]);return[m,h,P,function(e,i){e.stopPropagation();var a=r[i];g(i),d(a),w(r);var o=Wo(e),s=o.pageX,u=o.pageY,c=function(e){e.preventDefault();var r,a=Wo(e),o=a.pageX,l=a.pageY,c=o-s,f=l-u,h=t.current.getBoundingClientRect(),d=h.width,p=h.height;switch(n){case"btt":r=-f/p;break;case"ttb":r=f/p;break;case"rtl":r=-c/d;break;default:r=c/d}A.current(i,r)},f=function e(t){t.preventDefault(),document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",c),document.removeEventListener("touchend",e),document.removeEventListener("touchmove",c),S.current=null,T.current=null,g(-1),l()};document.addEventListener("mouseup",f),document.addEventListener("mousemove",c),document.addEventListener("touchend",f),document.addEventListener("touchmove",c),S.current=c,T.current=f}]}(re,ie,ye,ae,oe,he,xe,(function(){null===M||void 0===M||M(_e(be.current))}),de),Ae=p(Ce,4),Pe=Ae[0],Ie=Ae[1],Oe=Ae[2],Me=Ae[3],Re=function(e,t){Me(e,t),null===O||void 0===O||O(_e(be.current))},Ne=-1!==Pe;e.useEffect((function(){if(!Ne){var e=ye.lastIndexOf(Ie);ne.current.focus(e)}}),[Ne]);var De=e.useMemo((function(){return o(Oe).sort((function(e,t){return e-t}))}),[Oe]),Be=p(e.useMemo((function(){return A?[De[0],De[De.length-1]]:[ae,De[0]]}),[De,A,ae]),2),Le=Be[0],je=Be[1];e.useImperativeHandle(n,(function(){return{focus:function(){ne.current.focus(0)},blur:function(){var e=document.activeElement;re.current.contains(e)&&(null===e||void 0===e||e.blur())}}})),e.useEffect((function(){m&&ne.current.focus(0)}),[]);var Fe=e.useMemo((function(){return{min:ae,max:oe,direction:ie,disabled:h,keyboard:v,step:se,included:z,includedStart:Le,includedEnd:je,range:A,tabIndex:$,ariaLabelForHandle:J,ariaLabelledByForHandle:ee,ariaValueTextFormatterForHandle:te}}),[ae,oe,ie,h,v,se,z,Le,je,A,$,J,ee,te]);return e.createElement(No.Provider,{value:Fe},e.createElement("div",{ref:re,className:k()(a,u,(r={},l(r,"".concat(a,"-disabled"),h),l(r,"".concat(a,"-vertical"),F),l(r,"".concat(a,"-horizontal"),!F),l(r,"".concat(a,"-with-marks"),le.length),r)),style:c,onMouseDown:function(e){e.preventDefault();var t,n=re.current.getBoundingClientRect(),r=n.width,i=n.height,a=n.left,o=n.top,s=n.bottom,u=n.right,l=e.clientX,c=e.clientY;switch(ie){case"btt":t=(s-c)/i;break;case"ttb":t=(c-o)/i;break;case"rtl":t=(u-l)/r;break;default:t=(l-a)/r}ke(he(ae+t*(oe-ae)))}},e.createElement("div",{className:"".concat(a,"-rail"),style:G}),e.createElement(qo,{prefixCls:a,style:H,values:De,startPoint:V,onStartMove:Ee?Re:null}),e.createElement(Ko,{prefixCls:a,marks:le,dots:Q,style:q,activeStyle:X}),e.createElement(Ho,{ref:ne,prefixCls:a,style:W,values:Oe,draggingIndex:Pe,onStartMove:Re,onOffsetChange:function(e,t){if(!h){var n=de(ye,e,t);null===O||void 0===O||O(_e(ye)),xe(n.values),null===M||void 0===M||M(_e(n.values)),Te(n.value)}},onFocus:g,onBlur:y,handleRender:K}),e.createElement(Yo,{prefixCls:a,marks:le,onClick:ke})))}));var $o=Zo;var Jo=function(t){var n,r=t.playerState,i=Tt(),a=i.currentSeekPosition,s=i.seekTo,u=p((0,e.useState)(a),2),l=u[0],c=u[1],f=(0,e.useRef)(!1);(0,e.useEffect)((function(){f.current||c(a)}),[c,a]);var h=re(l),d=1e3*(r.duration||0),v=re(d),g=0===r.duration||"stop"===r.status,y=(0,e.useCallback)((function(e){f.current=!0,c(e)}),[c]),b=(0,e.useCallback)((function(e){var t=Array.isArray(e)?e[0]:e;f.current=!1,c(t),s(t)}),[c,s]),_=(0,e.useCallback)((function(e){var t=Array.isArray(e)?e[0]:e;f.current?c(t):y(t)}),[c,y]),x=t.styles?t.styles.baseClassName:null,w=x?null===(n=t.styles)||void 0===n?void 0:n.bundle:null,S=(t.styles?t.styles.extraClassNames:null)||[],T=x&&w?k()(w[x]||"Seekbar",g?w["".concat(x,"--disabled")]||"Seekbar--disabled":null,"no-swipe",o(S)):k()("Seekbar",g?"Seekbar--disabled":null,"no-swipe",o(S)),E=(0,e.useCallback)((function(e){return x&&w&&w["".concat(x,"__").concat(e)]||"Seekbar__".concat(e)}),[x,w]),C=void 0===t.showText||t.showText,A=l>d?0:l;return(0,m.jsxs)("div",{className:T,children:[(0,m.jsx)($o,{className:E("slider"),value:[A],max:Math.max(d,1),onChange:_,onAfterChange:b}),C?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("span",{className:E("seek"),children:h}),(0,m.jsx)("span",{className:E("duration"),children:v})]}):null]})};var es=function(t){var n=St(),r=_(),i=r.disableModal,a=r.enableModal,o=Rf(),s=o.switchScreen,u=o.exitActiveScreen,l=p((0,e.useState)(!1),2),c=l[0],f=l[1],h=(0,e.useRef)(null),d=(void 0===n.title||""===n.title)&&(void 0===n.artist||""===n.artist)&&(void 0===n.album||""===n.album),v=!!n.duration&&(n.duration>0&&"stop"!==n.status),g=!d&&v,y=(0,e.useCallback)((function(){s({screenId:"Queue",enterTransition:"slideUp"})}),[s]),b=(0,e.useCallback)((function(){"Queue"===t.activeScreenId?u({exitTransition:"slideUp"}):y()}),[t.activeScreenId,u,y]),x=(0,e.useCallback)((function(){s({screenId:"NowPlaying"})}),[s]),w=(0,e.useCallback)((function(){f(!c)}),[f,c]),S=(0,e.useCallback)((function(e){var t;t=e.event instanceof Event?e.event:e.event.nativeEvent,null===h.current||F(t,h.current)||"Up"===e.dir&&y()}),[y]),T=B({onSwiped:S});(0,e.useEffect)((function(){c?i(ao):a(ao)}),[c,i,a]);var E=(0,m.jsx)(Pt,{icon:"queue_music",toggleable:!0,toggled:"Queue"===t.activeScreenId||"Queue"===t.enteringScreenId,styles:{baseClassName:"Button",bundle:ho,extraClassNames:[ho["Button--queue"]]},onClick:b},"queue"),C=(0,m.jsx)(Pt,{icon:"volume_up",styles:{baseClassName:"Button",bundle:ho,extraClassNames:[ho["Button--volume"]]},onClick:w},"volume"),A=k()([ho.Layout,g?null:ho["Layout--noSeek"],"inactive"===t.state?ho["Layout--inactive"]:null,t.className]),P={base:ho.VolumeBarWrapper,afterOpen:ho["VolumeBarWrapper--after-open"],beforeClose:ho["VolumeBarWrapper--before-close"]};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{ref:function(e){T.ref(e),h.current=e},className:A,children:[g?(0,m.jsx)(Jo,{styles:{baseClassName:"Seekbar",bundle:ho},showText:!1,playerState:n}):null,(0,m.jsxs)("div",{className:ho.Layout__contents,children:[(0,m.jsx)("div",{className:ho.AlbumArt,children:(0,m.jsx)(be,{className:ho.AlbumArt__image,src:n.albumart,preload:!0,onClick:x})}),d?null:(0,m.jsx)(go,{styles:{baseClassName:"TrackInfoText",bundle:ho},concatArtistAlbum:!0,playerState:n,onClick:x}),(0,m.jsx)(fo,{className:k()([ho.PlayerButtonGroup,"no-swipe"]),buttonStyles:{baseClassName:"Button",bundle:ho},buttons:[E,"previous","play","next",C],playerState:n})]})]}),(0,m.jsx)(Ft,{isOpen:c,closeTimeoutMS:200,overlayClassName:ho.VolumeBarOverlay,className:P,preventScroll:!0,onRequestClose:w,children:(0,m.jsx)("div",{className:ho.VolumeBar,children:(0,m.jsx)(Nt,{orientation:"vertical"})})})]})};function ts(e,t,n){return ts=Y()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&q(i,n.prototype),i},ts.apply(null,arguments)}function ns(e){var t="function"===typeof Map?new Map:void 0;return ns=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ts(e,arguments,W(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),q(n,e)},ns(e)}var rs=function(e){X(n,e);var t=K(n);function n(){return U(this,n),t.apply(this,arguments)}return V(n)}(ns(Error)),is=function(e){X(n,e);var t=K(n);function n(e){return U(this,n),t.call(this,"Invalid DateTime: ".concat(e.toMessage()))}return V(n)}(rs),as=function(e){X(n,e);var t=K(n);function n(e){return U(this,n),t.call(this,"Invalid Interval: ".concat(e.toMessage()))}return V(n)}(rs),os=function(e){X(n,e);var t=K(n);function n(e){return U(this,n),t.call(this,"Invalid Duration: ".concat(e.toMessage()))}return V(n)}(rs),ss=function(e){X(n,e);var t=K(n);function n(){return U(this,n),t.apply(this,arguments)}return V(n)}(rs),us=function(e){X(n,e);var t=K(n);function n(e){return U(this,n),t.call(this,"Invalid unit ".concat(e))}return V(n)}(rs),ls=function(e){X(n,e);var t=K(n);function n(){return U(this,n),t.apply(this,arguments)}return V(n)}(rs),cs=function(e){X(n,e);var t=K(n);function n(){return U(this,n),t.call(this,"Zone is an abstract class")}return V(n)}(rs),fs="numeric",hs="short",ds="long",ps={year:fs,month:fs,day:fs},vs={year:fs,month:hs,day:fs},ms={year:fs,month:hs,day:fs,weekday:hs},gs={year:fs,month:ds,day:fs},ys={year:fs,month:ds,day:fs,weekday:ds},bs={hour:fs,minute:fs},_s={hour:fs,minute:fs,second:fs},xs={hour:fs,minute:fs,second:fs,timeZoneName:hs},ks={hour:fs,minute:fs,second:fs,timeZoneName:ds},ws={hour:fs,minute:fs,hourCycle:"h23"},Ss={hour:fs,minute:fs,second:fs,hourCycle:"h23"},Ts={hour:fs,minute:fs,second:fs,hourCycle:"h23",timeZoneName:hs},Es={hour:fs,minute:fs,second:fs,hourCycle:"h23",timeZoneName:ds},Cs={year:fs,month:fs,day:fs,hour:fs,minute:fs},As={year:fs,month:fs,day:fs,hour:fs,minute:fs,second:fs},Ps={year:fs,month:hs,day:fs,hour:fs,minute:fs},Is={year:fs,month:hs,day:fs,hour:fs,minute:fs,second:fs},Os={year:fs,month:hs,day:fs,weekday:hs,hour:fs,minute:fs},Ms={year:fs,month:ds,day:fs,hour:fs,minute:fs,timeZoneName:hs},Rs={year:fs,month:ds,day:fs,hour:fs,minute:fs,second:fs,timeZoneName:hs},Ns={year:fs,month:ds,day:fs,weekday:ds,hour:fs,minute:fs,timeZoneName:ds},Ds={year:fs,month:ds,day:fs,weekday:ds,hour:fs,minute:fs,second:fs,timeZoneName:ds},Bs=function(){function e(){U(this,e)}return V(e,[{key:"type",get:function(){throw new cs}},{key:"name",get:function(){throw new cs}},{key:"ianaName",get:function(){return this.name}},{key:"isUniversal",get:function(){throw new cs}},{key:"offsetName",value:function(e,t){throw new cs}},{key:"formatOffset",value:function(e,t){throw new cs}},{key:"offset",value:function(e){throw new cs}},{key:"equals",value:function(e){throw new cs}},{key:"isValid",get:function(){throw new cs}}]),e}(),Ls=null,js=function(e){X(n,e);var t=K(n);function n(){return U(this,n),t.apply(this,arguments)}return V(n,[{key:"type",get:function(){return"system"}},{key:"name",get:function(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}},{key:"isUniversal",get:function(){return!1}},{key:"offsetName",value:function(e,t){return Mu(e,t.format,t.locale)}},{key:"formatOffset",value:function(e,t){return Bu(this.offset(e),t)}},{key:"offset",value:function(e){return-new Date(e).getTimezoneOffset()}},{key:"equals",value:function(e){return"system"===e.type}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return null===Ls&&(Ls=new n),Ls}}]),n}(Bs),Fs={};var Us={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};var zs={},Vs=function(e){X(n,e);var t=K(n);function n(e){var r;return U(this,n),(r=t.call(this)).zoneName=e,r.valid=n.isValidZone(e),r}return V(n,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"offsetName",value:function(e,t){return Mu(e,t.format,t.locale,this.name)}},{key:"formatOffset",value:function(e,t){return Bu(this.offset(e),t)}},{key:"offset",value:function(e){var t=new Date(e);if(isNaN(t))return NaN;var n,r=(n=this.name,Fs[n]||(Fs[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Fs[n]),i=r.formatToParts?function(e,t){for(var n=e.formatToParts(t),r=[],i=0;i<n.length;i++){var a=n[i],o=a.type,s=a.value,u=Us[o];"era"===o?r[u]=s:pu(u)||(r[u]=parseInt(s,10))}return r}(r,t):function(e,t){var n=e.format(t).replace(/\u200E/g,""),r=p(/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),8),i=r[1],a=r[2];return[r[3],i,a,r[4],r[5],r[6],r[7]]}(r,t),a=p(i,7),o=a[0],s=a[1],u=a[2],l=a[3],c=a[4],f=a[5],h=a[6];"BC"===l&&(o=1-Math.abs(o));var d=+t,v=d%1e3;return(Pu({year:o,month:s,day:u,hour:24===c?0:c,minute:f,second:h,millisecond:0})-(d-=v>=0?v:1e3+v))/6e4}},{key:"equals",value:function(e){return"iana"===e.type&&e.name===this.name}},{key:"isValid",get:function(){return this.valid}}],[{key:"create",value:function(e){return zs[e]||(zs[e]=new n(e)),zs[e]}},{key:"resetCache",value:function(){zs={},Fs={}}},{key:"isValidSpecifier",value:function(e){return this.isValidZone(e)}},{key:"isValidZone",value:function(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(Vp){return!1}}}]),n}(Bs),Hs=["base"],Ws=["padTo","floor"],Gs={};var qs={};function Xs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=JSON.stringify([e,t]),r=qs[n];return r||(r=new Intl.DateTimeFormat(e,t),qs[n]=r),r}var Ys={};var Qs={};var Ks=null;function Zs(e,t,n,r,i){var a=e.listingMode(n);return"error"===a?null:"en"===a?r(t):i(t)}var $s=function(){function e(t,n,r){U(this,e),this.padTo=r.padTo||0,this.floor=r.floor||!1;r.padTo,r.floor;var i=Qa(r,Ws);if(!n||Object.keys(i).length>0){var a=f({useGrouping:!1},r);r.padTo>0&&(a.minimumIntegerDigits=r.padTo),this.inf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=JSON.stringify([e,t]),r=Ys[n];return r||(r=new Intl.NumberFormat(e,t),Ys[n]=r),r}(t,a)}}return V(e,[{key:"format",value:function(e){if(this.inf){var t=this.floor?Math.floor(e):e;return this.inf.format(t)}return xu(this.floor?Math.floor(e):Tu(e,3),this.padTo)}}]),e}(),Js=function(){function e(t,n,r){U(this,e),this.opts=r,this.originalZone=void 0;var i=void 0;if(this.opts.timeZone)this.dt=t;else if("fixed"===t.zone.type){var a=t.offset/60*-1,o=a>=0?"Etc/GMT+".concat(a):"Etc/GMT".concat(a);0!==t.offset&&Vs.create(o).valid?(i=o,this.dt=t):(i="UTC",this.dt=0===t.offset?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else"system"===t.zone.type?this.dt=t:"iana"===t.zone.type?(this.dt=t,i=t.zone.name):(i="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);var s=f({},this.opts);s.timeZone=s.timeZone||i,this.dtf=Xs(n,s)}return V(e,[{key:"format",value:function(){return this.originalZone?this.formatToParts().map((function(e){return e.value})).join(""):this.dtf.format(this.dt.toJSDate())}},{key:"formatToParts",value:function(){var e=this,t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map((function(t){if("timeZoneName"===t.type){var n=e.originalZone.offsetName(e.dt.ts,{locale:e.dt.locale,format:e.opts.timeZoneName});return f(f({},t),{},{value:n})}return t})):t}},{key:"resolvedOptions",value:function(){return this.dtf.resolvedOptions()}}]),e}(),eu=function(){function e(t,n,r){U(this,e),this.opts=f({style:"long"},r),!n&&gu()&&(this.rtf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(t.base,Qa(t,Hs)),r=JSON.stringify([e,n]),i=Qs[r];return i||(i=new Intl.RelativeTimeFormat(e,t),Qs[r]=i),i}(t,r))}return V(e,[{key:"format",value:function(e,t){return this.rtf?this.rtf.format(e,t):function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"always",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===n&&a){var o="days"===e;switch(t){case 1:return o?"tomorrow":"next ".concat(i[e][0]);case-1:return o?"yesterday":"last ".concat(i[e][0]);case 0:return o?"today":"this ".concat(i[e][0])}}var s=Object.is(t,-0)||t<0,u=Math.abs(t),l=1===u,c=i[e],f=r?l?c[1]:c[2]||c[1]:l?i[e][0]:e;return s?"".concat(u," ").concat(f," ago"):"in ".concat(u," ").concat(f)}(t,e,this.opts.numeric,"long"!==this.opts.style)}},{key:"formatToParts",value:function(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}]),e}(),tu=function(){function e(t,n,r,i){U(this,e);var a=p(function(e){var t=e.indexOf("-x-");-1!==t&&(e=e.substring(0,t));var n,r,i=e.indexOf("-u-");if(-1===i)return[e];try{n=Xs(e).resolvedOptions(),r=e}catch(Vp){var a=e.substring(0,i);n=Xs(a).resolvedOptions(),r=a}var o=n;return[r,o.numberingSystem,o.calendar]}(t),3),o=a[0],s=a[1],u=a[2];this.locale=o,this.numberingSystem=n||s||null,this.outputCalendar=r||u||null,this.intl=function(e,t,n){return n||t?(e.includes("-u-")||(e+="-u"),n&&(e+="-ca-".concat(n)),t&&(e+="-nu-".concat(t)),e):e}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}return V(e,[{key:"fastNumbers",get:function(){var e;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(e=this).numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem)),this.fastNumbersCached}},{key:"listingMode",value:function(){var e=this.isEnglish(),t=(null===this.numberingSystem||"latn"===this.numberingSystem)&&(null===this.outputCalendar||"gregory"===this.outputCalendar);return e&&t?"en":"intl"}},{key:"clone",value:function(t){return t&&0!==Object.getOwnPropertyNames(t).length?e.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1):this}},{key:"redefaultToEN",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.clone(f(f({},e),{},{defaultToEN:!0}))}},{key:"redefaultToSystem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.clone(f(f({},e),{},{defaultToEN:!1}))}},{key:"months",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Zs(this,e,!(arguments.length>2&&void 0!==arguments[2])||arguments[2],zu,(function(){var r=n?{month:e,day:"numeric"}:{month:e},i=n?"format":"standalone";return t.monthsCache[i][e]||(t.monthsCache[i][e]=function(e){for(var t=[],n=1;n<=12;n++){var r=of.utc(2016,n,1);t.push(e(r))}return t}((function(e){return t.extract(e,r,"month")}))),t.monthsCache[i][e]}))}},{key:"weekdays",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Zs(this,e,!(arguments.length>2&&void 0!==arguments[2])||arguments[2],Gu,(function(){var r=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=n?"format":"standalone";return t.weekdaysCache[i][e]||(t.weekdaysCache[i][e]=function(e){for(var t=[],n=1;n<=7;n++){var r=of.utc(2016,11,13+n);t.push(e(r))}return t}((function(e){return t.extract(e,r,"weekday")}))),t.weekdaysCache[i][e]}))}},{key:"meridiems",value:function(){var e=this;return Zs(this,void 0,!(arguments.length>0&&void 0!==arguments[0])||arguments[0],(function(){return qu}),(function(){if(!e.meridiemCache){var t={hour:"numeric",hourCycle:"h12"};e.meridiemCache=[of.utc(2016,11,13,9),of.utc(2016,11,13,19)].map((function(n){return e.extract(n,t,"dayperiod")}))}return e.meridiemCache}))}},{key:"eras",value:function(e){var t=this;return Zs(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Ku,(function(){var n={era:e};return t.eraCache[e]||(t.eraCache[e]=[of.utc(-40,1,1),of.utc(2017,1,1)].map((function(e){return t.extract(e,n,"era")}))),t.eraCache[e]}))}},{key:"extract",value:function(e,t,n){var r=this.dtFormatter(e,t).formatToParts().find((function(e){return e.type.toLowerCase()===n}));return r?r.value:null}},{key:"numberFormatter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new $s(this.intl,e.forceSimple||this.fastNumbers,e)}},{key:"dtFormatter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Js(e,this.intl,t)}},{key:"relFormatter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new eu(this.intl,this.isEnglish(),e)}},{key:"listFormatter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=JSON.stringify([e,t]),r=Gs[n];return r||(r=new Intl.ListFormat(e,t),Gs[n]=r),r}(this.intl,e)}},{key:"isEnglish",value:function(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}},{key:"equals",value:function(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}],[{key:"fromOpts",value:function(t){return e.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)}},{key:"create",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=t||du.defaultLocale;return new e(a||(i?"en-US":Ks||(Ks=(new Intl.DateTimeFormat).resolvedOptions().locale)),n||du.defaultNumberingSystem,r||du.defaultOutputCalendar,a)}},{key:"resetCache",value:function(){Ks=null,qs={},Ys={},Qs={}}},{key:"fromObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.locale,r=t.numberingSystem,i=t.outputCalendar;return e.create(n,r,i)}}]),e}(),nu=null,ru=function(e){X(n,e);var t=K(n);function n(e){var r;return U(this,n),(r=t.call(this)).fixed=e,r}return V(n,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return 0===this.fixed?"UTC":"UTC".concat(Bu(this.fixed,"narrow"))}},{key:"ianaName",get:function(){return 0===this.fixed?"Etc/UTC":"Etc/GMT".concat(Bu(-this.fixed,"narrow"))}},{key:"offsetName",value:function(){return this.name}},{key:"formatOffset",value:function(e,t){return Bu(this.fixed,t)}},{key:"isUniversal",get:function(){return!0}},{key:"offset",value:function(){return this.fixed}},{key:"equals",value:function(e){return"fixed"===e.type&&e.fixed===this.fixed}},{key:"isValid",get:function(){return!0}}],[{key:"utcInstance",get:function(){return null===nu&&(nu=new n(0)),nu}},{key:"instance",value:function(e){return 0===e?n.utcInstance:new n(e)}},{key:"parseSpecifier",value:function(e){if(e){var t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new n(Ru(t[1],t[2]))}return null}}]),n}(Bs),iu=function(e){X(n,e);var t=K(n);function n(e){var r;return U(this,n),(r=t.call(this)).zoneName=e,r}return V(n,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"offsetName",value:function(){return null}},{key:"formatOffset",value:function(){return""}},{key:"offset",value:function(){return NaN}},{key:"equals",value:function(){return!1}},{key:"isValid",get:function(){return!1}}]),n}(Bs);function au(e,t){if(pu(e)||null===e)return t;if(e instanceof Bs)return e;if(function(e){return"string"===typeof e}(e)){var n=e.toLowerCase();return"default"===n?t:"local"===n||"system"===n?js.instance:"utc"===n||"gmt"===n?ru.utcInstance:ru.parseSpecifier(n)||Vs.create(e)}return vu(e)?ru.instance(e):"object"===typeof e&&e.offset&&"number"===typeof e.offset?e:new iu(e)}var ou,su=function(){return Date.now()},uu="system",lu=null,cu=null,fu=null,hu=60,du=function(){function e(){U(this,e)}return V(e,null,[{key:"now",get:function(){return su},set:function(e){su=e}},{key:"defaultZone",get:function(){return au(uu,js.instance)},set:function(e){uu=e}},{key:"defaultLocale",get:function(){return lu},set:function(e){lu=e}},{key:"defaultNumberingSystem",get:function(){return cu},set:function(e){cu=e}},{key:"defaultOutputCalendar",get:function(){return fu},set:function(e){fu=e}},{key:"twoDigitCutoffYear",get:function(){return hu},set:function(e){hu=e%100}},{key:"throwOnInvalid",get:function(){return ou},set:function(e){ou=e}},{key:"resetCaches",value:function(){tu.resetCache(),Vs.resetCache()}}]),e}();function pu(e){return"undefined"===typeof e}function vu(e){return"number"===typeof e}function mu(e){return"number"===typeof e&&e%1===0}function gu(){try{return"undefined"!==typeof Intl&&!!Intl.RelativeTimeFormat}catch(Vp){return!1}}function yu(e,t,n){if(0!==e.length)return e.reduce((function(e,r){var i=[t(r),r];return e&&n(e[0],i[0])===e[0]?e:i}),null)[1]}function bu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _u(e,t,n){return mu(e)&&e>=t&&e<=n}function xu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e<0?"-"+(""+-e).padStart(t,"0"):(""+e).padStart(t,"0")}function ku(e){return pu(e)||null===e||""===e?void 0:parseInt(e,10)}function wu(e){return pu(e)||null===e||""===e?void 0:parseFloat(e)}function Su(e){if(!pu(e)&&null!==e&&""!==e){var t=1e3*parseFloat("0."+e);return Math.floor(t)}}function Tu(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Math.pow(10,t);return(n?Math.trunc:Math.round)(e*r)/r}function Eu(e){return e%4===0&&(e%100!==0||e%400===0)}function Cu(e){return Eu(e)?366:365}function Au(e,t){var n=function(e,t){return e-t*Math.floor(e/t)}(t-1,12)+1;return 2===n?Eu(e+(t-n)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function Pu(e){var t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t)).setUTCFullYear(e.year,e.month-1,e.day),+t}function Iu(e){var t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,n=e-1,r=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7;return 4===t||3===r?53:52}function Ou(e){return e>99?e:e>du.twoDigitCutoffYear?1900+e:2e3+e}function Mu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=new Date(e),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(a.timeZone=r);var o=f({timeZoneName:t},a),s=new Intl.DateTimeFormat(n,o).formatToParts(i).find((function(e){return"timezonename"===e.type.toLowerCase()}));return s?s.value:null}function Ru(e,t){var n=parseInt(e,10);Number.isNaN(n)&&(n=0);var r=parseInt(t,10)||0;return 60*n+(n<0||Object.is(n,-0)?-r:r)}function Nu(e){var t=Number(e);if("boolean"===typeof e||""===e||Number.isNaN(t))throw new ls("Invalid unit value ".concat(e));return t}function Du(e,t){var n={};for(var r in e)if(bu(e,r)){var i=e[r];if(void 0===i||null===i)continue;n[t(r)]=Nu(i)}return n}function Bu(e,t){var n=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),i=e>=0?"+":"-";switch(t){case"short":return"".concat(i).concat(xu(n,2),":").concat(xu(r,2));case"narrow":return"".concat(i).concat(n).concat(r>0?":".concat(r):"");case"techie":return"".concat(i).concat(xu(n,2)).concat(xu(r,2));default:throw new RangeError("Value format ".concat(t," is out of range for property format"))}}function Lu(e){return function(e,t){return t.reduce((function(t,n){return t[n]=e[n],t}),{})}(e,["hour","minute","second","millisecond"])}var ju=["January","February","March","April","May","June","July","August","September","October","November","December"],Fu=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Uu=["J","F","M","A","M","J","J","A","S","O","N","D"];function zu(e){switch(e){case"narrow":return[].concat(Uu);case"short":return[].concat(Fu);case"long":return[].concat(ju);case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var Vu=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Hu=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Wu=["M","T","W","T","F","S","S"];function Gu(e){switch(e){case"narrow":return[].concat(Wu);case"short":return[].concat(Hu);case"long":return[].concat(Vu);case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var qu=["AM","PM"],Xu=["Before Christ","Anno Domini"],Yu=["BC","AD"],Qu=["B","A"];function Ku(e){switch(e){case"narrow":return[].concat(Qu);case"short":return[].concat(Yu);case"long":return[].concat(Xu);default:return null}}function Zu(e,t){var n,r="",i=L(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;a.literal?r+=a.val:r+=t(a.val)}}catch(o){i.e(o)}finally{i.f()}return r}var $u={D:ps,DD:vs,DDD:gs,DDDD:ys,t:bs,tt:_s,ttt:xs,tttt:ks,T:ws,TT:Ss,TTT:Ts,TTTT:Es,f:Cs,ff:Ps,fff:Ms,ffff:Ns,F:As,FF:Is,FFF:Rs,FFFF:Ds},Ju=function(){function e(t,n){U(this,e),this.opts=n,this.loc=t,this.systemLoc=null}return V(e,[{key:"formatWithSystemDefault",value:function(e,t){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,f(f({},this.opts),t)).format()}},{key:"formatDateTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.loc.dtFormatter(e,f(f({},this.opts),t)).format()}},{key:"formatDateTimeParts",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.loc.dtFormatter(e,f(f({},this.opts),t)).formatToParts()}},{key:"formatInterval",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.loc.dtFormatter(e.start,f(f({},this.opts),t)).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}},{key:"resolvedOptions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.loc.dtFormatter(e,f(f({},this.opts),t)).resolvedOptions()}},{key:"num",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.opts.forceSimple)return xu(e,t);var n=f({},this.opts);return t>0&&(n.padTo=t),this.loc.numberFormatter(n).format(e)}},{key:"formatDateTimeFromString",value:function(t,n){var r=this,i="en"===this.loc.listingMode(),a=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,o=function(e,n){return r.loc.extract(t,e,n)},s=function(e){return t.isOffsetFixed&&0===t.offset&&e.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,e.format):""},u=function(){return i?function(e){return qu[e.hour<12?0:1]}(t):o({hour:"numeric",hourCycle:"h12"},"dayperiod")},l=function(e,n){return i?function(e,t){return zu(t)[e.month-1]}(t,e):o(n?{month:e}:{month:e,day:"numeric"},"month")},c=function(e,n){return i?function(e,t){return Gu(t)[e.weekday-1]}(t,e):o(n?{weekday:e}:{weekday:e,month:"long",day:"numeric"},"weekday")},f=function(e){return i?function(e,t){return Ku(t)[e.year<0?0:1]}(t,e):o({era:e},"era")};return Zu(e.parseFormat(n),(function(n){switch(n){case"S":return r.num(t.millisecond);case"u":case"SSS":return r.num(t.millisecond,3);case"s":return r.num(t.second);case"ss":return r.num(t.second,2);case"uu":return r.num(Math.floor(t.millisecond/10),2);case"uuu":return r.num(Math.floor(t.millisecond/100));case"m":return r.num(t.minute);case"mm":return r.num(t.minute,2);case"h":return r.num(t.hour%12===0?12:t.hour%12);case"hh":return r.num(t.hour%12===0?12:t.hour%12,2);case"H":return r.num(t.hour);case"HH":return r.num(t.hour,2);case"Z":return s({format:"narrow",allowZ:r.opts.allowZ});case"ZZ":return s({format:"short",allowZ:r.opts.allowZ});case"ZZZ":return s({format:"techie",allowZ:r.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:r.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:r.loc.locale});case"z":return t.zoneName;case"a":return u();case"d":return a?o({day:"numeric"},"day"):r.num(t.day);case"dd":return a?o({day:"2-digit"},"day"):r.num(t.day,2);case"c":case"E":return r.num(t.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return a?o({month:"numeric",day:"numeric"},"month"):r.num(t.month);case"LL":return a?o({month:"2-digit",day:"numeric"},"month"):r.num(t.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return a?o({month:"numeric"},"month"):r.num(t.month);case"MM":return a?o({month:"2-digit"},"month"):r.num(t.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return a?o({year:"numeric"},"year"):r.num(t.year);case"yy":return a?o({year:"2-digit"},"year"):r.num(t.year.toString().slice(-2),2);case"yyyy":return a?o({year:"numeric"},"year"):r.num(t.year,4);case"yyyyyy":return a?o({year:"numeric"},"year"):r.num(t.year,6);case"G":return f("short");case"GG":return f("long");case"GGGGG":return f("narrow");case"kk":return r.num(t.weekYear.toString().slice(-2),2);case"kkkk":return r.num(t.weekYear,4);case"W":return r.num(t.weekNumber);case"WW":return r.num(t.weekNumber,2);case"o":return r.num(t.ordinal);case"ooo":return r.num(t.ordinal,3);case"q":return r.num(t.quarter);case"qq":return r.num(t.quarter,2);case"X":return r.num(Math.floor(t.ts/1e3));case"x":return r.num(t.ts);default:return function(n){var i=e.macroTokenToFormatOpts(n);return i?r.formatWithSystemDefault(t,i):n}(n)}}))}},{key:"formatDurationFromString",value:function(t,n){var r,i=this,a=function(e){switch(e[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=e.parseFormat(n),u=s.reduce((function(e,t){var n=t.literal,r=t.val;return n?e:e.concat(r)}),[]),l=t.shiftTo.apply(t,o(u.map(a).filter((function(e){return e}))));return Zu(s,(r=l,function(e){var t=a(e);return t?i.num(r.get(t),e.length):e}))}}],[{key:"create",value:function(t){return new e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}},{key:"parseFormat",value:function(e){for(var t=null,n="",r=!1,i=[],a=0;a<e.length;a++){var o=e.charAt(a);"'"===o?(n.length>0&&i.push({literal:r||/^\s+$/.test(n),val:n}),t=null,n="",r=!r):r||o===t?n+=o:(n.length>0&&i.push({literal:/^\s+$/.test(n),val:n}),n=o,t=o)}return n.length>0&&i.push({literal:r||/^\s+$/.test(n),val:n}),i}},{key:"macroTokenToFormatOpts",value:function(e){return $u[e]}}]),e}(),el=function(){function e(t,n){U(this,e),this.reason=t,this.explanation=n}return V(e,[{key:"toMessage",value:function(){return this.explanation?"".concat(this.reason,": ").concat(this.explanation):this.reason}}]),e}(),tl=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function nl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e+t.source}),"");return RegExp("^".concat(r,"$"))}function rl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){var r=p(t,3),i=r[0],a=r[1],o=r[2],s=p(n(e,o),3),u=s[0],l=s[1],c=s[2];return[f(f({},i),u),l||a,c]}),[{},null,1]).slice(0,2)}}function il(e){if(null==e)return[null,null];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=p(a[i],2),s=o[0],u=o[1],l=s.exec(e);if(l)return u(l)}return[null,null]}function al(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){var r,i={};for(r=0;r<t.length;r++)i[t[r]]=ku(e[n+r]);return[i,null,n+r]}}var ol=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,sl="(?:".concat(ol.source,"?(?:\\[(").concat(tl.source,")\\])?)?"),ul=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,ll=RegExp("".concat(ul.source).concat(sl)),cl=RegExp("(?:T".concat(ll.source,")?")),fl=al("weekYear","weekNumber","weekDay"),hl=al("year","ordinal"),dl=RegExp("".concat(ul.source," ?(?:").concat(ol.source,"|(").concat(tl.source,"))?")),pl=RegExp("(?: ".concat(dl.source,")?"));function vl(e,t,n){var r=e[t];return pu(r)?n:ku(r)}function ml(e,t){return[{hours:vl(e,t,0),minutes:vl(e,t+1,0),seconds:vl(e,t+2,0),milliseconds:Su(e[t+3])},null,t+4]}function gl(e,t){var n=!e[t]&&!e[t+1],r=Ru(e[t+1],e[t+2]);return[{},n?null:ru.instance(r),t+3]}function yl(e,t){return[{},e[t]?Vs.create(e[t]):null,t+1]}var bl=RegExp("^T?".concat(ul.source,"$")),_l=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function xl(e){var t=p(e,9),n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f="-"===n[0],h=l&&"-"===l[0],d=function(e){return void 0!==e&&(arguments.length>1&&void 0!==arguments[1]&&arguments[1]||e&&f)?-e:e};return[{years:d(wu(r)),months:d(wu(i)),weeks:d(wu(a)),days:d(wu(o)),hours:d(wu(s)),minutes:d(wu(u)),seconds:d(wu(l),"-0"===l),milliseconds:d(Su(c),h)}]}var kl={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function wl(e,t,n,r,i,a,o){var s={year:2===t.length?Ou(ku(t)):ku(t),month:Fu.indexOf(n)+1,day:ku(r),hour:ku(i),minute:ku(a)};return o&&(s.second=ku(o)),e&&(s.weekday=e.length>3?Vu.indexOf(e)+1:Hu.indexOf(e)+1),s}var Sl=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Tl(e){var t,n=p(e,12),r=n[1],i=n[2],a=n[3],o=n[4],s=n[5],u=n[6],l=n[7],c=n[8],f=n[9],h=n[10],d=n[11],v=wl(r,o,a,i,s,u,l);return t=c?kl[c]:f?0:Ru(h,d),[v,new ru(t)]}var El=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Cl=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Al=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Pl(e){var t=p(e,8),n=t[1],r=t[2],i=t[3];return[wl(n,t[4],i,r,t[5],t[6],t[7]),ru.utcInstance]}function Il(e){var t=p(e,8),n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6];return[wl(n,t[7],r,i,a,o,s),ru.utcInstance]}var Ol=nl(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,cl),Ml=nl(/(\d{4})-?W(\d\d)(?:-?(\d))?/,cl),Rl=nl(/(\d{4})-?(\d{3})/,cl),Nl=nl(ll),Dl=rl((function(e,t){return[{year:vl(e,t),month:vl(e,t+1,1),day:vl(e,t+2,1)},null,t+3]}),ml,gl,yl),Bl=rl(fl,ml,gl,yl),Ll=rl(hl,ml,gl,yl),jl=rl(ml,gl,yl);var Fl=rl(ml);var Ul=nl(/(\d{4})-(\d\d)-(\d\d)/,pl),zl=nl(dl),Vl=rl(ml,gl,yl);var Hl={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Wl=f({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},Hl),Gl=365.2425,ql=30.436875,Xl=f({years:{quarters:4,months:12,weeks:52.1775,days:Gl,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:ql,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},Hl),Yl=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Ql=Yl.slice(0).reverse();function Kl(e,t){var n={values:arguments.length>2&&void 0!==arguments[2]&&arguments[2]?t.values:f(f({},e.values),t.values||{}),loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new $l(n)}function Zl(e,t,n,r,i){var a=e[i][n],o=t[n]/a,s=!(Math.sign(o)===Math.sign(r[i]))&&0!==r[i]&&Math.abs(o)<=1?function(e){return e<0?Math.floor(e):Math.ceil(e)}(o):Math.trunc(o);r[i]+=s,t[n]-=s*a}var $l=function(){function e(t){U(this,e);var n="longterm"===t.conversionAccuracy||!1,r=n?Xl:Wl;t.matrix&&(r=t.matrix),this.values=t.values,this.loc=t.loc||tu.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=r,this.isLuxonDuration=!0}return V(e,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"toFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=f(f({},t),{},{floor:!1!==t.round&&!1!==t.floor});return this.isValid?Ju.create(this.loc,n).formatDurationFromString(this,e):"Invalid Duration"}},{key:"toHuman",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Yl.map((function(n){var r=e.values[n];return pu(r)?null:e.loc.numberFormatter(f(f({style:"unit",unitDisplay:"long"},t),{},{unit:n.slice(0,-1)})).format(r)})).filter((function(e){return e}));return this.loc.listFormatter(f({type:"conjunction",style:t.listStyle||"narrow"},t)).format(n)}},{key:"toObject",value:function(){return this.isValid?f({},this.values):{}}},{key:"toISO",value:function(){if(!this.isValid)return null;var e="P";return 0!==this.years&&(e+=this.years+"Y"),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(e+=Tu(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e}},{key:"toISOTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return null;var t=this.toMillis();if(t<0||t>=864e5)return null;e=f({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},e);var n=this.shiftTo("hours","minutes","seconds","milliseconds"),r="basic"===e.format?"hhmm":"hh:mm";e.suppressSeconds&&0===n.seconds&&0===n.milliseconds||(r+="basic"===e.format?"ss":":ss",e.suppressMilliseconds&&0===n.milliseconds||(r+=".SSS"));var i=n.toFormat(r);return e.includePrefix&&(i="T"+i),i}},{key:"toJSON",value:function(){return this.toISO()}},{key:"toString",value:function(){return this.toISO()}},{key:"toMillis",value:function(){return this.as("milliseconds")}},{key:"valueOf",value:function(){return this.toMillis()}},{key:"plus",value:function(t){if(!this.isValid)return this;for(var n=e.fromDurationLike(t),r={},i=0,a=Yl;i<a.length;i++){var o=a[i];(bu(n.values,o)||bu(this.values,o))&&(r[o]=n.get(o)+this.get(o))}return Kl(this,{values:r},!0)}},{key:"minus",value:function(t){if(!this.isValid)return this;var n=e.fromDurationLike(t);return this.plus(n.negate())}},{key:"mapUnits",value:function(e){if(!this.isValid)return this;for(var t={},n=0,r=Object.keys(this.values);n<r.length;n++){var i=r[n];t[i]=Nu(e(this.values[i],i))}return Kl(this,{values:t},!0)}},{key:"get",value:function(t){return this[e.normalizeUnit(t)]}},{key:"set",value:function(t){return this.isValid?Kl(this,{values:f(f({},this.values),Du(t,e.normalizeUnit))}):this}},{key:"reconfigure",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.locale,n=e.numberingSystem,r=e.conversionAccuracy,i=e.matrix;return Kl(this,{loc:this.loc.clone({locale:t,numberingSystem:n}),matrix:i,conversionAccuracy:r})}},{key:"as",value:function(e){return this.isValid?this.shiftTo(e).get(e):NaN}},{key:"normalize",value:function(){if(!this.isValid)return this;var e=this.toObject();return function(e,t){Ql.reduce((function(n,r){return pu(t[r])?n:(n&&Zl(e,t,n,t,r),r)}),null)}(this.matrix,e),Kl(this,{values:e},!0)}},{key:"rescale",value:function(){return this.isValid?Kl(this,{values:function(e){for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var i=p(r[n],2),a=i[0],o=i[1];0!==o&&(t[a]=o)}return t}(this.normalize().shiftToAll().toObject())},!0):this}},{key:"shiftTo",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!this.isValid)return this;if(0===n.length)return this;n=n.map((function(t){return e.normalizeUnit(t)}));for(var i,a={},o={},s=this.toObject(),u=0,l=Yl;u<l.length;u++){var c=l[u];if(n.indexOf(c)>=0){i=c;var f=0;for(var h in o)f+=this.matrix[h][c]*o[h],o[h]=0;vu(s[c])&&(f+=s[c]);var d=Math.trunc(f);for(var p in a[c]=d,o[c]=(1e3*f-1e3*d)/1e3,s)Yl.indexOf(p)>Yl.indexOf(c)&&Zl(this.matrix,s,p,a,c)}else vu(s[c])&&(o[c]=s[c])}for(var v in o)0!==o[v]&&(a[i]+=v===i?o[v]:o[v]/this.matrix[i][v]);return Kl(this,{values:a},!0).normalize()}},{key:"shiftToAll",value:function(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}},{key:"negate",value:function(){if(!this.isValid)return this;for(var e={},t=0,n=Object.keys(this.values);t<n.length;t++){var r=n[t];e[r]=0===this.values[r]?0:-this.values[r]}return Kl(this,{values:e},!0)}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"equals",value:function(e){if(!this.isValid||!e.isValid)return!1;if(!this.loc.equals(e.loc))return!1;for(var t=0,n=Yl;t<n.length;t++){var r=n[t];if(i=this.values[r],a=e.values[r],!(void 0===i||0===i?void 0===a||0===a:i===a))return!1}var i,a;return!0}}],[{key:"fromMillis",value:function(t,n){return e.fromObject({milliseconds:t},n)}},{key:"fromObject",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==t||"object"!==typeof t)throw new ls("Duration.fromObject: argument expected to be an object, got ".concat(null===t?"null":typeof t));return new e({values:Du(t,e.normalizeUnit),loc:tu.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}},{key:"fromDurationLike",value:function(t){if(vu(t))return e.fromMillis(t);if(e.isDuration(t))return t;if("object"===typeof t)return e.fromObject(t);throw new ls("Unknown duration argument ".concat(t," of type ").concat(typeof t))}},{key:"fromISO",value:function(t,n){var r=function(e){return il(e,[_l,xl])}(t),i=p(r,1)[0];return i?e.fromObject(i,n):e.invalid("unparsable",'the input "'.concat(t,"\" can't be parsed as ISO 8601"))}},{key:"fromISOTime",value:function(t,n){var r=function(e){return il(e,[bl,Fl])}(t),i=p(r,1)[0];return i?e.fromObject(i,n):e.invalid("unparsable",'the input "'.concat(t,"\" can't be parsed as ISO 8601"))}},{key:"invalid",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)throw new ls("need to specify a reason the Duration is invalid");var r=t instanceof el?t:new el(t,n);if(du.throwOnInvalid)throw new os(r);return new e({invalid:r})}},{key:"normalizeUnit",value:function(e){var t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e];if(!t)throw new us(e);return t}},{key:"isDuration",value:function(e){return e&&e.isLuxonDuration||!1}}]),e}(),Jl="Invalid Interval";function ec(e,t){return e&&e.isValid?t&&t.isValid?t<e?tc.invalid("end before start","The end of an interval must be after its start, but you had start=".concat(e.toISO()," and end=").concat(t.toISO())):null:tc.invalid("missing or invalid end"):tc.invalid("missing or invalid start")}var tc=function(){function e(t){U(this,e),this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}return V(e,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return null===this.invalidReason}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"length",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"milliseconds";return this.isValid?this.toDuration.apply(this,[e]).get(e):NaN}},{key:"count",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"milliseconds";if(!this.isValid)return NaN;var t=this.start.startOf(e),n=this.end.startOf(e);return Math.floor(n.diff(t,e).get(e))+(n.valueOf()!==this.end.valueOf())}},{key:"hasSame",value:function(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))}},{key:"isEmpty",value:function(){return this.s.valueOf()===this.e.valueOf()}},{key:"isAfter",value:function(e){return!!this.isValid&&this.s>e}},{key:"isBefore",value:function(e){return!!this.isValid&&this.e<=e}},{key:"contains",value:function(e){return!!this.isValid&&(this.s<=e&&this.e>e)}},{key:"set",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.start,r=t.end;return this.isValid?e.fromDateTimes(n||this.s,r||this.e):this}},{key:"splitAt",value:function(){var t=this;if(!this.isValid)return[];for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var a=r.map(sf).filter((function(e){return t.contains(e)})).sort(),o=[],s=this.s,u=0;s<this.e;){var l=a[u]||this.e,c=+l>+this.e?this.e:l;o.push(e.fromDateTimes(s,c)),s=c,u+=1}return o}},{key:"splitBy",value:function(t){var n=$l.fromDurationLike(t);if(!this.isValid||!n.isValid||0===n.as("milliseconds"))return[];for(var r,i=this.s,a=1,o=[];i<this.e;){var s=this.start.plus(n.mapUnits((function(e){return e*a})));r=+s>+this.e?this.e:s,o.push(e.fromDateTimes(i,r)),i=r,a+=1}return o}},{key:"divideEqually",value:function(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}},{key:"overlaps",value:function(e){return this.e>e.s&&this.s<e.e}},{key:"abutsStart",value:function(e){return!!this.isValid&&+this.e===+e.s}},{key:"abutsEnd",value:function(e){return!!this.isValid&&+e.e===+this.s}},{key:"engulfs",value:function(e){return!!this.isValid&&(this.s<=e.s&&this.e>=e.e)}},{key:"equals",value:function(e){return!(!this.isValid||!e.isValid)&&(this.s.equals(e.s)&&this.e.equals(e.e))}},{key:"intersection",value:function(t){if(!this.isValid)return this;var n=this.s>t.s?this.s:t.s,r=this.e<t.e?this.e:t.e;return n>=r?null:e.fromDateTimes(n,r)}},{key:"union",value:function(t){if(!this.isValid)return this;var n=this.s<t.s?this.s:t.s,r=this.e>t.e?this.e:t.e;return e.fromDateTimes(n,r)}},{key:"difference",value:function(){for(var t=this,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.xor([this].concat(r)).map((function(e){return t.intersection(e)})).filter((function(e){return e&&!e.isEmpty()}))}},{key:"toString",value:function(){return this.isValid?"[".concat(this.s.toISO()," \u2013 ").concat(this.e.toISO(),")"):Jl}},{key:"toLocaleString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ps,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isValid?Ju.create(this.s.loc.clone(t),e).formatInterval(this):Jl}},{key:"toISO",value:function(e){return this.isValid?"".concat(this.s.toISO(e),"/").concat(this.e.toISO(e)):Jl}},{key:"toISODate",value:function(){return this.isValid?"".concat(this.s.toISODate(),"/").concat(this.e.toISODate()):Jl}},{key:"toISOTime",value:function(e){return this.isValid?"".concat(this.s.toISOTime(e),"/").concat(this.e.toISOTime(e)):Jl}},{key:"toFormat",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).separator,n=void 0===t?" \u2013 ":t;return this.isValid?"".concat(this.s.toFormat(e)).concat(n).concat(this.e.toFormat(e)):Jl}},{key:"toDuration",value:function(e,t){return this.isValid?this.e.diff(this.s,e,t):$l.invalid(this.invalidReason)}},{key:"mapEndpoints",value:function(t){return e.fromDateTimes(t(this.s),t(this.e))}}],[{key:"invalid",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)throw new ls("need to specify a reason the Interval is invalid");var r=t instanceof el?t:new el(t,n);if(du.throwOnInvalid)throw new as(r);return new e({invalid:r})}},{key:"fromDateTimes",value:function(t,n){var r=sf(t),i=sf(n),a=ec(r,i);return null==a?new e({start:r,end:i}):a}},{key:"after",value:function(t,n){var r=$l.fromDurationLike(n),i=sf(t);return e.fromDateTimes(i,i.plus(r))}},{key:"before",value:function(t,n){var r=$l.fromDurationLike(n),i=sf(t);return e.fromDateTimes(i.minus(r),i)}},{key:"fromISO",value:function(t,n){var r=p((t||"").split("/",2),2),i=r[0],a=r[1];if(i&&a){var o,s,u,l;try{s=(o=of.fromISO(i,n)).isValid}catch(a){s=!1}try{l=(u=of.fromISO(a,n)).isValid}catch(a){l=!1}if(s&&l)return e.fromDateTimes(o,u);if(s){var c=$l.fromISO(a,n);if(c.isValid)return e.after(o,c)}else if(l){var f=$l.fromISO(i,n);if(f.isValid)return e.before(u,f)}}return e.invalid("unparsable",'the input "'.concat(t,"\" can't be parsed as ISO 8601"))}},{key:"isInterval",value:function(e){return e&&e.isLuxonInterval||!1}},{key:"merge",value:function(e){var t=e.sort((function(e,t){return e.s-t.s})).reduce((function(e,t){var n=p(e,2),r=n[0],i=n[1];return i?i.overlaps(t)||i.abutsStart(t)?[r,i.union(t)]:[r.concat([i]),t]:[r,t]}),[[],null]),n=p(t,2),r=n[0],i=n[1];return i&&r.push(i),r}},{key:"xor",value:function(t){var n,r,i=null,a=0,s=[],u=t.map((function(e){return[{time:e.s,type:"s"},{time:e.e,type:"e"}]})),l=(n=Array.prototype).concat.apply(n,o(u)).sort((function(e,t){return e.time-t.time})),c=L(l);try{for(c.s();!(r=c.n()).done;){var f=r.value;1===(a+="s"===f.type?1:-1)?i=f.time:(i&&+i!==+f.time&&s.push(e.fromDateTimes(i,f.time)),i=null)}}catch(h){c.e(h)}finally{c.f()}return e.merge(s)}}]),e}(),nc=function(){function e(){U(this,e)}return V(e,null,[{key:"hasDST",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:du.defaultZone,t=of.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}},{key:"isValidIANAZone",value:function(e){return Vs.isValidZone(e)}},{key:"normalizeZone",value:function(e){return au(e,du.defaultZone)}},{key:"months",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.locale,r=void 0===n?null:n,i=t.numberingSystem,a=void 0===i?null:i,o=t.locObj,s=void 0===o?null:o,u=t.outputCalendar,l=void 0===u?"gregory":u;return(s||tu.create(r,a,l)).months(e)}},{key:"monthsFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.locale,r=void 0===n?null:n,i=t.numberingSystem,a=void 0===i?null:i,o=t.locObj,s=void 0===o?null:o,u=t.outputCalendar,l=void 0===u?"gregory":u;return(s||tu.create(r,a,l)).months(e,!0)}},{key:"weekdays",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.locale,r=void 0===n?null:n,i=t.numberingSystem,a=void 0===i?null:i,o=t.locObj;return((void 0===o?null:o)||tu.create(r,a,null)).weekdays(e)}},{key:"weekdaysFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.locale,r=void 0===n?null:n,i=t.numberingSystem,a=void 0===i?null:i,o=t.locObj;return((void 0===o?null:o)||tu.create(r,a,null)).weekdays(e,!0)}},{key:"meridiems",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).locale,t=void 0===e?null:e;return tu.create(t).meridiems()}},{key:"eras",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"short",t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).locale,n=void 0===t?null:t;return tu.create(n,null,"gregory").eras(e)}},{key:"features",value:function(){return{relative:gu()}}}]),e}();function rc(e,t){var n=function(e){return e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},r=n(t)-n(e);return Math.floor($l.fromMillis(r).as("days"))}function ic(e,t,n,r){var i=function(e,t,n){for(var r,i,a=[["years",function(e,t){return t.year-e.year}],["quarters",function(e,t){return t.quarter-e.quarter+4*(t.year-e.year)}],["months",function(e,t){return t.month-e.month+12*(t.year-e.year)}],["weeks",function(e,t){var n=rc(e,t);return(n-n%7)/7}],["days",rc]],o={},s=e,u=0,l=a;u<l.length;u++){var c=p(l[u],2),f=c[0],h=c[1];n.indexOf(f)>=0&&(r=f,o[f]=h(e,t),(i=s.plus(o))>t?(o[f]--,e=s.plus(o)):e=i)}return[e,o,i,r]}(e,t,n),a=p(i,4),s=a[0],u=a[1],c=a[2],f=a[3],h=t-s,d=n.filter((function(e){return["hours","minutes","seconds","milliseconds"].indexOf(e)>=0}));0===d.length&&(c<t&&(c=s.plus(l({},f,1))),c!==s&&(u[f]=(u[f]||0)+h/(c-s)));var v,m=$l.fromObject(u,r);return d.length>0?(v=$l.fromMillis(h,r)).shiftTo.apply(v,o(d)).plus(m):m}var ac={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},oc={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},sc=ac.hanidec.replace(/[\[|\]]/g,"").split("");function uc(e){var t=e.numberingSystem,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new RegExp("".concat(ac[t||"latn"]).concat(n))}var lc="missing Intl.DateTimeFormat.formatToParts support";function cc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return{regex:e,deser:function(e){var n=p(e,1)[0];return t(function(e){var t=parseInt(e,10);if(isNaN(t)){t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);if(-1!==e[n].search(ac.hanidec))t+=sc.indexOf(e[n]);else for(var i in oc){var a=p(oc[i],2),o=a[0],s=a[1];r>=o&&r<=s&&(t+=r-o)}}return parseInt(t,10)}return t}(n))}}}var fc=String.fromCharCode(160),hc="[ ".concat(fc,"]"),dc=new RegExp(hc,"g");function pc(e){return e.replace(/\./g,"\\.?").replace(dc,hc)}function vc(e){return e.replace(/\./g,"").replace(dc," ").toLowerCase()}function mc(e,t){return null===e?null:{regex:RegExp(e.map(pc).join("|")),deser:function(n){var r=p(n,1)[0];return e.findIndex((function(e){return vc(r)===vc(e)}))+t}}}function gc(e,t){return{regex:e,deser:function(e){var t=p(e,3);return Ru(t[1],t[2])},groups:t}}function yc(e){return{regex:e,deser:function(e){return p(e,1)[0]}}}var bc={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};var _c=null;function xc(e,t){var n;return(n=Array.prototype).concat.apply(n,o(e.map((function(e){return function(e,t){if(e.literal)return e;var n=wc(Ju.macroTokenToFormatOpts(e.val),t);return null==n||n.includes(void 0)?e:n}(e,t)}))))}function kc(e,t,n){var r=xc(Ju.parseFormat(n),e),i=r.map((function(t){return function(e,t){var n=uc(t),r=uc(t,"{2}"),i=uc(t,"{3}"),a=uc(t,"{4}"),o=uc(t,"{6}"),s=uc(t,"{1,2}"),u=uc(t,"{1,3}"),l=uc(t,"{1,6}"),c=uc(t,"{1,9}"),f=uc(t,"{2,4}"),h=uc(t,"{4,6}"),d=function(e){return{regex:RegExp((t=e.val,t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:function(e){return p(e,1)[0]},literal:!0};var t},v=function(p){if(e.literal)return d(p);switch(p.val){case"G":return mc(t.eras("short",!1),0);case"GG":return mc(t.eras("long",!1),0);case"y":return cc(l);case"yy":case"kk":return cc(f,Ou);case"yyyy":case"kkkk":return cc(a);case"yyyyy":return cc(h);case"yyyyyy":return cc(o);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return cc(s);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return cc(r);case"MMM":return mc(t.months("short",!0,!1),1);case"MMMM":return mc(t.months("long",!0,!1),1);case"LLL":return mc(t.months("short",!1,!1),1);case"LLLL":return mc(t.months("long",!1,!1),1);case"o":case"S":return cc(u);case"ooo":case"SSS":return cc(i);case"u":return yc(c);case"uu":return yc(s);case"uuu":case"E":case"c":return cc(n);case"a":return mc(t.meridiems(),0);case"EEE":return mc(t.weekdays("short",!1,!1),1);case"EEEE":return mc(t.weekdays("long",!1,!1),1);case"ccc":return mc(t.weekdays("short",!0,!1),1);case"cccc":return mc(t.weekdays("long",!0,!1),1);case"Z":case"ZZ":return gc(new RegExp("([+-]".concat(s.source,")(?::(").concat(r.source,"))?")),2);case"ZZZ":return gc(new RegExp("([+-]".concat(s.source,")(").concat(r.source,")?")),2);case"z":return yc(/[a-z_+-/]{1,256}?/i);case" ":return yc(/[^\S\n\r]/);default:return d(p)}}(e)||{invalidReason:lc};return v.token=e,v}(t,e)})),a=i.find((function(e){return e.invalidReason}));if(a)return{input:t,tokens:r,invalidReason:a.invalidReason};var o=function(e){var t=e.map((function(e){return e.regex})).reduce((function(e,t){return"".concat(e,"(").concat(t.source,")")}),"");return["^".concat(t,"$"),e]}(i),s=p(o,2),u=s[0],l=s[1],c=RegExp(u,"i"),f=function(e,t,n){var r=e.match(t);if(r){var i={},a=1;for(var o in n)if(bu(n,o)){var s=n[o],u=s.groups?s.groups+1:1;!s.literal&&s.token&&(i[s.token.val[0]]=s.deser(r.slice(a,a+u))),a+=u}return[r,i]}return[r,{}]}(t,c,l),h=p(f,2),d=h[0],v=h[1],m=v?function(e){var t,n=null;pu(e.z)||(n=Vs.create(e.z)),pu(e.Z)||(n||(n=new ru(e.Z)),t=e.Z),pu(e.q)||(e.M=3*(e.q-1)+1),pu(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),pu(e.u)||(e.S=Su(e.u));var r=Object.keys(e).reduce((function(t,n){var r=function(e){switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}}(n);return r&&(t[r]=e[n]),t}),{});return[r,n,t]}(v):[null,null,void 0],g=p(m,3),y=g[0],b=g[1],_=g[2];if(bu(v,"a")&&bu(v,"H"))throw new ss("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:r,regex:c,rawMatches:d,matches:v,result:y,zone:b,specificOffset:_}}function wc(e,t){return e?Ju.create(t,e).formatDateTimeParts((_c||(_c=of.fromMillis(1555555555555)),_c)).map((function(t){return function(e,t){var n=e.type,r=e.value;if("literal"===n){var i=/^\s+$/.test(r);return{literal:!i,val:i?" ":r}}var a=t[n],o=bc[n];if("object"===typeof o&&(o=o[a]),o)return{literal:!1,val:o}}(t,e)})):null}var Sc=[0,31,59,90,120,151,181,212,243,273,304,334],Tc=[0,31,60,91,121,152,182,213,244,274,305,335];function Ec(e,t){return new el("unit out of range","you specified ".concat(t," (of type ").concat(typeof t,") as a ").concat(e,", which is invalid"))}function Cc(e,t,n){var r=new Date(Date.UTC(e,t-1,n));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);var i=r.getUTCDay();return 0===i?7:i}function Ac(e,t,n){return n+(Eu(e)?Tc:Sc)[t-1]}function Pc(e,t){var n=Eu(e)?Tc:Sc,r=n.findIndex((function(e){return e<t}));return{month:r+1,day:t-n[r]}}function Ic(e){var t,n=e.year,r=e.month,i=e.day,a=Ac(n,r,i),o=Cc(n,r,i),s=Math.floor((a-o+10)/7);return s<1?s=Iu(t=n-1):s>Iu(n)?(t=n+1,s=1):t=n,f({weekYear:t,weekNumber:s,weekday:o},Lu(e))}function Oc(e){var t,n=e.weekYear,r=e.weekNumber,i=e.weekday,a=Cc(n,1,4),o=Cu(n),s=7*r+i-a-3;s<1?s+=Cu(t=n-1):s>o?(t=n+1,s-=Cu(n)):t=n;var u=Pc(t,s);return f({year:t,month:u.month,day:u.day},Lu(e))}function Mc(e){var t=e.year;return f({year:t,ordinal:Ac(t,e.month,e.day)},Lu(e))}function Rc(e){var t=e.year,n=Pc(t,e.ordinal);return f({year:t,month:n.month,day:n.day},Lu(e))}function Nc(e){var t=mu(e.year),n=_u(e.month,1,12),r=_u(e.day,1,Au(e.year,e.month));return t?n?!r&&Ec("day",e.day):Ec("month",e.month):Ec("year",e.year)}function Dc(e){var t=e.hour,n=e.minute,r=e.second,i=e.millisecond,a=_u(t,0,23)||24===t&&0===n&&0===r&&0===i,o=_u(n,0,59),s=_u(r,0,59),u=_u(i,0,999);return a?o?s?!u&&Ec("millisecond",i):Ec("second",r):Ec("minute",n):Ec("hour",t)}var Bc="Invalid DateTime",Lc=864e13;function jc(e){return new el("unsupported zone",'the zone "'.concat(e.name,'" is not supported'))}function Fc(e){return null===e.weekData&&(e.weekData=Ic(e.c)),e.weekData}function Uc(e,t){var n={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new of(f(f(f({},n),t),{},{old:n}))}function zc(e,t,n){var r=e-60*t*1e3,i=n.offset(r);if(t===i)return[r,t];r-=60*(i-t)*1e3;var a=n.offset(r);return i===a?[r,i]:[e-60*Math.min(i,a)*1e3,Math.max(i,a)]}function Vc(e,t){var n=new Date(e+=60*t*1e3);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Hc(e,t,n){return zc(Pu(e),t,n)}function Wc(e,t){var n=e.o,r=e.c.year+Math.trunc(t.years),i=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),a=f(f({},e.c),{},{year:r,month:i,day:Math.min(e.c.day,Au(r,i))+Math.trunc(t.days)+7*Math.trunc(t.weeks)}),o=$l.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),s=p(zc(Pu(a),n,e.zone),2),u=s[0],l=s[1];return 0!==o&&(u+=o,l=e.zone.offset(u)),{ts:u,o:l}}function Gc(e,t,n,r,i,a){var o=n.setZone,s=n.zone;if(e&&0!==Object.keys(e).length||t){var u=t||s,l=of.fromObject(e,f(f({},n),{},{zone:u,specificOffset:a}));return o?l:l.setZone(s)}return of.invalid(new el("unparsable",'the input "'.concat(i,"\" can't be parsed as ").concat(r)))}function qc(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.isValid?Ju.create(tu.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(e,t):null}function Xc(e,t){var n=e.c.year>9999||e.c.year<0,r="";return n&&e.c.year>=0&&(r+="+"),r+=xu(e.c.year,n?6:4),t?(r+="-",r+=xu(e.c.month),r+="-",r+=xu(e.c.day)):(r+=xu(e.c.month),r+=xu(e.c.day)),r}function Yc(e,t,n,r,i,a){var o=xu(e.c.hour);return t?(o+=":",o+=xu(e.c.minute),0===e.c.second&&n||(o+=":")):o+=xu(e.c.minute),0===e.c.second&&n||(o+=xu(e.c.second),0===e.c.millisecond&&r||(o+=".",o+=xu(e.c.millisecond,3))),i&&(e.isOffsetFixed&&0===e.offset&&!a?o+="Z":e.o<0?(o+="-",o+=xu(Math.trunc(-e.o/60)),o+=":",o+=xu(Math.trunc(-e.o%60))):(o+="+",o+=xu(Math.trunc(e.o/60)),o+=":",o+=xu(Math.trunc(e.o%60)))),a&&(o+="["+e.zone.ianaName+"]"),o}var Qc={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Kc={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Zc={ordinal:1,hour:0,minute:0,second:0,millisecond:0},$c=["year","month","day","hour","minute","second","millisecond"],Jc=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],ef=["year","ordinal","hour","minute","second","millisecond"];function tf(e){var t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new us(e);return t}function nf(e,t){var n,r,i=au(t.zone,du.defaultZone),a=tu.fromObject(t),o=du.now();if(pu(e.year))n=o;else{for(var s=0,u=$c;s<u.length;s++){var l=u[s];pu(e[l])&&(e[l]=Qc[l])}var c=Nc(e)||Dc(e);if(c)return of.invalid(c);var f=p(Hc(e,i.offset(o),i),2);n=f[0],r=f[1]}return new of({ts:n,zone:i,loc:a,o:r})}function rf(e,t,n){var r=!!pu(n.round)||n.round,i=function(e,i){return e=Tu(e,r||n.calendary?0:2,!0),t.loc.clone(n).relFormatter(n).format(e,i)},a=function(r){return n.calendary?t.hasSame(e,r)?0:t.startOf(r).diff(e.startOf(r),r).get(r):t.diff(e,r).get(r)};if(n.unit)return i(a(n.unit),n.unit);var o,s=L(n.units);try{for(s.s();!(o=s.n()).done;){var u=o.value,l=a(u);if(Math.abs(l)>=1)return i(l,u)}}catch(c){s.e(c)}finally{s.f()}return i(e>t?-0:0,n.units[n.units.length-1])}function af(e){var t,n={};return e.length>0&&"object"===typeof e[e.length-1]?(n=e[e.length-1],t=Array.from(e).slice(0,e.length-1)):t=Array.from(e),[n,t]}var of=function(){function e(t){U(this,e);var n=t.zone||du.defaultZone,r=t.invalid||(Number.isNaN(t.ts)?new el("invalid input"):null)||(n.isValid?null:jc(n));this.ts=pu(t.ts)?du.now():t.ts;var i=null,a=null;if(!r)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(n)){var o=[t.old.c,t.old.o];i=o[0],a=o[1]}else{var s=n.offset(this.ts);i=Vc(this.ts,s),i=(r=Number.isNaN(i.year)?new el("invalid input"):null)?null:i,a=r?null:s}this._zone=n,this.loc=t.loc||tu.create(),this.invalid=r,this.weekData=null,this.c=i,this.o=a,this.isLuxonDateTime=!0}return V(e,[{key:"get",value:function(e){return this[e]}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?Fc(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?Fc(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?Fc(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?Mc(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?nc.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?nc.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?nc.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?nc.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.isUniversal:null}},{key:"isInDST",get:function(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}},{key:"isInLeapYear",get:function(){return Eu(this.year)}},{key:"daysInMonth",get:function(){return Au(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?Cu(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?Iu(this.weekYear):NaN}},{key:"resolvedLocaleOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Ju.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t.locale,numberingSystem:t.numberingSystem,outputCalendar:t.calendar}}},{key:"toUTC",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setZone(ru.instance(e),t)}},{key:"toLocal",value:function(){return this.setZone(du.defaultZone)}},{key:"setZone",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.keepLocalTime,i=void 0!==r&&r,a=n.keepCalendarTime,o=void 0!==a&&a;if((t=au(t,du.defaultZone)).equals(this.zone))return this;if(t.isValid){var s=this.ts;if(i||o){var u=t.offset(this.ts);s=p(Hc(this.toObject(),u,t),1)[0]}return Uc(this,{ts:s,zone:t})}return e.invalid(jc(t))}},{key:"reconfigure",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.locale,n=e.numberingSystem,r=e.outputCalendar;return Uc(this,{loc:this.loc.clone({locale:t,numberingSystem:n,outputCalendar:r})})}},{key:"setLocale",value:function(e){return this.reconfigure({locale:e})}},{key:"set",value:function(e){if(!this.isValid)return this;var t,n=Du(e,tf),r=!pu(n.weekYear)||!pu(n.weekNumber)||!pu(n.weekday),i=!pu(n.ordinal),a=!pu(n.year),o=!pu(n.month)||!pu(n.day),s=a||o,u=n.weekYear||n.weekNumber;if((s||i)&&u)throw new ss("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(o&&i)throw new ss("Can't mix ordinal dates with month/day");r?t=Oc(f(f({},Ic(this.c)),n)):pu(n.ordinal)?(t=f(f({},this.toObject()),n),pu(n.day)&&(t.day=Math.min(Au(t.year,t.month),t.day))):t=Rc(f(f({},Mc(this.c)),n));var l=p(Hc(t,this.o,this.zone),2);return Uc(this,{ts:l[0],o:l[1]})}},{key:"plus",value:function(e){return this.isValid?Uc(this,Wc(this,$l.fromDurationLike(e))):this}},{key:"minus",value:function(e){return this.isValid?Uc(this,Wc(this,$l.fromDurationLike(e).negate())):this}},{key:"startOf",value:function(e){if(!this.isValid)return this;var t={},n=$l.normalizeUnit(e);switch(n){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0}if("weeks"===n&&(t.weekday=1),"quarters"===n){var r=Math.ceil(this.month/3);t.month=3*(r-1)+1}return this.set(t)}},{key:"endOf",value:function(e){return this.isValid?this.plus(l({},e,1)).startOf(e).minus(1):this}},{key:"toFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isValid?Ju.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Bc}},{key:"toLocaleString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ps,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isValid?Ju.create(this.loc.clone(t),e).formatDateTime(this):Bc}},{key:"toLocaleParts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?Ju.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}},{key:"toISO",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.format,n=void 0===t?"extended":t,r=e.suppressSeconds,i=void 0!==r&&r,a=e.suppressMilliseconds,o=void 0!==a&&a,s=e.includeOffset,u=void 0===s||s,l=e.extendedZone,c=void 0!==l&&l;if(!this.isValid)return null;var f="extended"===n,h=Xc(this,f);return h+="T",h+=Yc(this,f,i,o,u,c)}},{key:"toISODate",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).format,t=void 0===e?"extended":e;return this.isValid?Xc(this,"extended"===t):null}},{key:"toISOWeekDate",value:function(){return qc(this,"kkkk-'W'WW-c")}},{key:"toISOTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.suppressMilliseconds,n=void 0!==t&&t,r=e.suppressSeconds,i=void 0!==r&&r,a=e.includeOffset,o=void 0===a||a,s=e.includePrefix,u=void 0!==s&&s,l=e.extendedZone,c=void 0!==l&&l,f=e.format,h=void 0===f?"extended":f;return this.isValid?(u?"T":"")+Yc(this,"extended"===h,i,n,o,c):null}},{key:"toRFC2822",value:function(){return qc(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}},{key:"toHTTP",value:function(){return qc(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}},{key:"toSQLDate",value:function(){return this.isValid?Xc(this,!0):null}},{key:"toSQLTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.includeOffset,n=void 0===t||t,r=e.includeZone,i=void 0!==r&&r,a=e.includeOffsetSpace,o="HH:mm:ss.SSS";return(i||n)&&((void 0===a||a)&&(o+=" "),i?o+="z":n&&(o+="ZZ")),qc(this,o,!0)}},{key:"toSQL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?"".concat(this.toSQLDate()," ").concat(this.toSQLTime(e)):null}},{key:"toString",value:function(){return this.isValid?this.toISO():Bc}},{key:"valueOf",value:function(){return this.toMillis()}},{key:"toMillis",value:function(){return this.isValid?this.ts:NaN}},{key:"toSeconds",value:function(){return this.isValid?this.ts/1e3:NaN}},{key:"toUnixInteger",value:function(){return this.isValid?Math.floor(this.ts/1e3):NaN}},{key:"toJSON",value:function(){return this.toISO()}},{key:"toBSON",value:function(){return this.toJSDate()}},{key:"toObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return{};var t=f({},this.c);return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}},{key:"toJSDate",value:function(){return new Date(this.isValid?this.ts:NaN)}},{key:"diff",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"milliseconds",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.isValid||!e.isValid)return $l.invalid("created by diffing an invalid DateTime");var r,i=f({locale:this.locale,numberingSystem:this.numberingSystem},n),a=(r=t,Array.isArray(r)?r:[r]).map($l.normalizeUnit),o=e.valueOf()>this.valueOf(),s=ic(o?this:e,o?e:this,a,i);return o?s.negate():s}},{key:"diffNow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"milliseconds",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.diff(e.now(),t,n)}},{key:"until",value:function(e){return this.isValid?tc.fromDateTimes(this,e):this}},{key:"hasSame",value:function(e,t){if(!this.isValid)return!1;var n=e.valueOf(),r=this.setZone(e.zone,{keepLocalTime:!0});return r.startOf(t)<=n&&n<=r.endOf(t)}},{key:"equals",value:function(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}},{key:"toRelative",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return null;var n=t.base||e.fromObject({},{zone:this.zone}),r=t.padding?this<n?-t.padding:t.padding:0,i=["years","months","days","hours","minutes","seconds"],a=t.unit;return Array.isArray(t.unit)&&(i=t.unit,a=void 0),rf(n,this.plus(r),f(f({},t),{},{numeric:"always",units:i,unit:a}))}},{key:"toRelativeCalendar",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?rf(t.base||e.fromObject({},{zone:this.zone}),this,f(f({},t),{},{numeric:"auto",units:["years","months","days"],calendary:!0})):null}}],[{key:"now",value:function(){return new e({})}},{key:"local",value:function(){var e=p(af(arguments),2),t=e[0],n=p(e[1],7);return nf({year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]},t)}},{key:"utc",value:function(){var e=p(af(arguments),2),t=e[0],n=p(e[1],7),r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=n[5],l=n[6];return t.zone=ru.utcInstance,nf({year:r,month:i,day:a,hour:o,minute:s,second:u,millisecond:l},t)}},{key:"fromJSDate",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=function(e){return"[object Date]"===Object.prototype.toString.call(e)}(t)?t.valueOf():NaN;if(Number.isNaN(r))return e.invalid("invalid input");var i=au(n.zone,du.defaultZone);return i.isValid?new e({ts:r,zone:i,loc:tu.fromObject(n)}):e.invalid(jc(i))}},{key:"fromMillis",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(vu(t))return t<-Lc||t>Lc?e.invalid("Timestamp out of range"):new e({ts:t,zone:au(n.zone,du.defaultZone),loc:tu.fromObject(n)});throw new ls("fromMillis requires a numerical input, but received a ".concat(typeof t," with value ").concat(t))}},{key:"fromSeconds",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(vu(t))return new e({ts:1e3*t,zone:au(n.zone,du.defaultZone),loc:tu.fromObject(n)});throw new ls("fromSeconds requires a numerical input")}},{key:"fromObject",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=t||{};var r=au(n.zone,du.defaultZone);if(!r.isValid)return e.invalid(jc(r));var i=du.now(),a=pu(n.specificOffset)?r.offset(i):n.specificOffset,o=Du(t,tf),s=!pu(o.ordinal),u=!pu(o.year),l=!pu(o.month)||!pu(o.day),c=u||l,f=o.weekYear||o.weekNumber,h=tu.fromObject(n);if((c||s)&&f)throw new ss("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&s)throw new ss("Can't mix ordinal dates with month/day");var d,v,m=f||o.weekday&&!c,g=Vc(i,a);m?(d=Jc,v=Kc,g=Ic(g)):s?(d=ef,v=Zc,g=Mc(g)):(d=$c,v=Qc);var y,b=!1,_=L(d);try{for(_.s();!(y=_.n()).done;){var x=y.value;pu(o[x])?o[x]=b?v[x]:g[x]:b=!0}}catch(E){_.e(E)}finally{_.f()}var k=m?function(e){var t=mu(e.weekYear),n=_u(e.weekNumber,1,Iu(e.weekYear)),r=_u(e.weekday,1,7);return t?n?!r&&Ec("weekday",e.weekday):Ec("week",e.week):Ec("weekYear",e.weekYear)}(o):s?function(e){var t=mu(e.year),n=_u(e.ordinal,1,Cu(e.year));return t?!n&&Ec("ordinal",e.ordinal):Ec("year",e.year)}(o):Nc(o),w=k||Dc(o);if(w)return e.invalid(w);var S=p(Hc(m?Oc(o):s?Rc(o):o,a,r),2),T=new e({ts:S[0],zone:r,o:S[1],loc:h});return o.weekday&&c&&t.weekday!==T.weekday?e.invalid("mismatched weekday","you can't specify both a weekday of ".concat(o.weekday," and a date of ").concat(T.toISO())):T}},{key:"fromISO",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(e){return il(e,[Ol,Dl],[Ml,Bl],[Rl,Ll],[Nl,jl])}(e),r=p(n,2);return Gc(r[0],r[1],t,"ISO 8601",e)}},{key:"fromRFC2822",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(e){return il(function(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e),[Sl,Tl])}(e),r=p(n,2);return Gc(r[0],r[1],t,"RFC 2822",e)}},{key:"fromHTTP",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(e){return il(e,[El,Pl],[Cl,Pl],[Al,Il])}(e),r=p(n,2);return Gc(r[0],r[1],t,"HTTP",t)}},{key:"fromFormat",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(pu(t)||pu(n))throw new ls("fromFormat requires an input string and a format");var i=r.locale,a=void 0===i?null:i,o=r.numberingSystem,s=void 0===o?null:o,u=function(e,t,n){var r=kc(e,t,n);return[r.result,r.zone,r.specificOffset,r.invalidReason]}(tu.fromOpts({locale:a,numberingSystem:s,defaultToEN:!0}),t,n),l=p(u,4),c=l[0],f=l[1],h=l[2],d=l[3];return d?e.invalid(d):Gc(c,f,r,"format ".concat(n),t,h)}},{key:"fromString",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.fromFormat(t,n,r)}},{key:"fromSQL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(e){return il(e,[Ul,Dl],[zl,Vl])}(e),r=p(n,2);return Gc(r[0],r[1],t,"SQL",e)}},{key:"invalid",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)throw new ls("need to specify a reason the DateTime is invalid");var r=t instanceof el?t:new el(t,n);if(du.throwOnInvalid)throw new is(r);return new e({invalid:r})}},{key:"isDateTime",value:function(e){return e&&e.isLuxonDateTime||!1}},{key:"parseFormatForOpts",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=wc(e,tu.fromObject(t));return n?n.map((function(e){return e?e.val:null})).join(""):null}},{key:"expandFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return xc(Ju.parseFormat(e),tu.fromObject(t)).map((function(e){return e.val})).join("")}},{key:"min",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.every(e.isDateTime))throw new ls("min requires all arguments be DateTimes");return yu(n,(function(e){return e.valueOf()}),Math.min)}},{key:"max",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.every(e.isDateTime))throw new ls("max requires all arguments be DateTimes");return yu(n,(function(e){return e.valueOf()}),Math.max)}},{key:"fromFormatExplain",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.locale,i=void 0===r?null:r,a=n.numberingSystem,o=void 0===a?null:a;return kc(tu.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0}),e,t)}},{key:"fromStringExplain",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.fromFormatExplain(t,n,r)}},{key:"DATE_SHORT",get:function(){return ps}},{key:"DATE_MED",get:function(){return vs}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return ms}},{key:"DATE_FULL",get:function(){return gs}},{key:"DATE_HUGE",get:function(){return ys}},{key:"TIME_SIMPLE",get:function(){return bs}},{key:"TIME_WITH_SECONDS",get:function(){return _s}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return xs}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return ks}},{key:"TIME_24_SIMPLE",get:function(){return ws}},{key:"TIME_24_WITH_SECONDS",get:function(){return Ss}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return Ts}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return Es}},{key:"DATETIME_SHORT",get:function(){return Cs}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return As}},{key:"DATETIME_MED",get:function(){return Ps}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return Is}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return Os}},{key:"DATETIME_FULL",get:function(){return Ms}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return Rs}},{key:"DATETIME_HUGE",get:function(){return Ns}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return Ds}}]),e}();function sf(e){if(of.isDateTime(e))return e;if(e&&e.valueOf&&vu(e.valueOf()))return of.fromJSDate(e);if(e&&"object"===typeof e)return of.fromObject(e);throw new ls("Unknown datetime argument: ".concat(e,", of type ").concat(typeof e))}var uf=of.DATE_SHORT,lf=of.TIME_SIMPLE,cf=function(e,t){return of.local({zone:e,locale:t})},ff=e.forwardRef((function(t,n){var r,i=t.showDate,a=void 0===i||i,s=t.showTime,u=void 0===s||s,l={date:f(f({},uf),t.dateFormat),time:f(f({},lf),t.timeFormat)},c=mt(),h=vt(),d=p((0,e.useState)(cf(c,h)),2),v=d[0],g=d[1],y=t.styles?t.styles.baseClassName:null,b=y?null===(r=t.styles)||void 0===r?void 0:r.bundle:null,_=(t.styles?t.styles.extraClassNames:null)||[];(0,e.useEffect)((function(){var e=setInterval((function(){g(cf(c,h))}),1e3);return function(){clearInterval(e)}}),[g,c,h]);var x=function(e){return v.toLocaleParts(l[e]).map((function(t,n){return(0,m.jsx)("span",{className:S("".concat(e,"--").concat(t.type)),children:t.value},"".concat(e,"_part_").concat(n))}))},w=y&&b?k()(b[y]||"Clock",o(_)):k()("Clock",o(_)),S=function(e){return y&&b&&b["".concat(y,"__").concat(e)]||"Clock__".concat(e)};return(0,m.jsxs)("div",{ref:n,className:w,style:t.style,children:[a?(0,m.jsx)("span",{className:S("date"),children:x("date")}):null,u?(0,m.jsx)("span",{className:S("time"),children:x("time")}):null]})}));ff.displayName="Clock";var hf=ff,df=(0,e.createContext)({}),pf=function(t){var n=t.children,r=br("weatherService"),i=p((0,e.useState)({status:"unavailable"}),2),a=i[0],o=i[1],s=(0,e.useCallback)((function(){r&&r.isReady()?r.getInfo():o({status:"unavailable"})}),[r,o]);return(0,e.useEffect)((function(){if(r){var e=function(e){o({status:"fetched",info:e})},t=function(e){o({status:"error",error:{message:e}})};return r.on("fetched",e),r.on("error",t),r.on("readyStateChange",s),s(),function(){r.off("fetched",e),r.off("error",t),r.off("readyStateChange",s)}}}),[r,o,s]),(0,e.useEffect)((function(){var e=setTimeout(s,6e5);return function(){clearTimeout(e)}}),[a,s]),(0,m.jsx)(df.Provider,{value:a,children:n})},vf=function(){return(0,e.useContext)(df)},mf={Clock:"IdleScreen_Clock__pEYbR",Clock__date:"IdleScreen_Clock__date__EE6-K",Clock__time:"IdleScreen_Clock__time__L8bCK",Layout:"IdleScreen_Layout__s2Bdr",Layout__main:"IdleScreen_Layout__main__9JJ9x","Layout__main--full":"IdleScreen_Layout__main--full__qr1vL",Layout__secondary:"IdleScreen_Layout__secondary__wGjJT","Clock__time--dayPeriod":"IdleScreen_Clock__time--dayPeriod__nRO+l",Location:"IdleScreen_Location__3m3ke"},gf="IdleScreenBackground_Layout__k7Cvo",yf=(0,e.createContext)((0,m.jsx)("div",{})),bf=function(){var e=Ge(Xe().mark((function e(t,n,r){var i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return i={keywords:n},r&&(i.w=window.innerWidth,i.h=window.innerHeight),e.next=6,Ye(t,"/unsplash/getRandomPhoto",i);case 6:if(!(a=e.sent).success){e.next=9;break}return e.abrupt("return",a.data);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),_f=function(e,t,n){var r=e.backgroundType;if("volumioBackground"===r&&e.volumioBackgroundImage)return{type:"volumio",url:"".concat(t,"/backgrounds/").concat(e.volumioBackgroundImage)};if("color"===r)return{type:"color"};if("myBackground"===r){var i=null;return n&&(i="".concat(n,"/mybg"),"fixed"===e.myBackgroundImageType&&e.myBackgroundImage&&(i+="?file=".concat(encodeURIComponent(e.myBackgroundImage)))),{type:"myBackground",url:i,isRandom:"random"===e.myBackgroundImageType,myBackgroundRefreshInterval:"random"===e.myBackgroundImageType?e.myBackgroundRandomRefreshInterval:0}}return{type:"unsplash",unsplashKeywords:e.unsplashKeywords,unsplashKeywordsAppendDayPeriod:e.unsplashKeywordsAppendDayPeriod,unsplashMatchScreenSize:e.unsplashMatchScreenSize,unsplashRefreshInterval:e.unsplashRefreshInterval}},xf=function(e){var t={};switch(e.backgroundType){case"volumioBackground":Object.assign(t,{"--background-fit":e.volumioBackgroundFit,"--background-position":e.volumioBackgroundPosition,"--background-blur":e.volumioBackgroundBlur,"--background-scale":e.volumioBackgroundScale});break;case"myBackground":Object.assign(t,{"--background-fit":e.myBackgroundFit,"--background-position":e.myBackgroundPosition,"--background-blur":e.myBackgroundBlur,"--background-scale":e.myBackgroundScale});break;case"color":Object.assign(t,{"--background-color":e.backgroundColor});break;default:Object.assign(t,{"--background-blur":e.unsplashBackgroundBlur})}switch(e.backgroundOverlay){case"none":Object.assign(t,{"--background-overlay-display":"none"});break;case"customColor":Object.assign(t,{"--background-overlay-color":e.backgroundOverlayColor,"--background-overlay-opacity":e.backgroundOverlayColorOpacity});break;case"customGradient":Object.assign(t,{"--background-overlay-gradient":e.backgroundOverlayGradient,"--background-overlay-opacity":e.backgroundOverlayGradientOpacity})}return t};function kf(t){var n=t.children,r=dt(fe.CommonSettingsCategory.IdleScreen).settings,i=mt(),a=ge(),o=a.host,s=a.pluginInfo||{},u=s.apiPath,l=void 0===u?null:u,c=s.appUrl,f=void 0===c?null:c,h=(0,e.useRef)({screenSettings:r,host:o,appUrl:f}),d=p((0,e.useState)(_f(r,o,f)),2),v=d[0],g=d[1],y=p((0,e.useState)(xf(r)),2),b=y[0],_=y[1],x=(0,e.useRef)(null),k=p((0,e.useState)(null),2),w=k[0],S=k[1],T=(0,e.useRef)(null),E=(0,e.useCallback)(function(){var e=Ge(Xe().mark((function e(t){var n,r,a,o,s;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T.current&&(T.current.abort(),T.current=null),T.current=t,n=null,"volumio"!==v.type){e.next=7;break}n={type:"volumio",src:v.url,nextRefresh:0},e.next=21;break;case 7:if("myBackground"!==v.type){e.next=12;break}n={type:"myBackground",src:v.url,nextRefresh:v.myBackgroundRefreshInterval},v.isRandom&&(n.src+="?ts=".concat(Date.now())),e.next=21;break;case 12:if("unsplash"!==v.type){e.next=21;break}return a=[],v.unsplashKeywords&&a.push(v.unsplashKeywords),null!==(r=v.unsplashKeywords)&&void 0!==r&&r.trim()&&!v.unsplashKeywordsAppendDayPeriod||(o=of.local({zone:i,locale:"en"}),a.push((u=o.hour)>=6&&u<8?"early morning":u>=8&&u<=11?"morning":12===u?"noon":u>12&&u<=17?"afternoon":u>=18&&u<24?"evening":"night")),e.next=18,bf(l,a.join(" "),v.unsplashMatchScreenSize);case 18:e.t0=e.sent,e.t1=v.unsplashRefreshInterval||0,n={type:"unsplash",src:e.t0,nextRefresh:e.t1};case 21:if(!t.signal.aborted){e.next=25;break}throw(s=new Error).name="AbortError",s;case 25:return e.abrupt("return",n);case 26:case"end":return e.stop()}var u}),e)})));return function(t){return e.apply(this,arguments)}}(),[l,v,i]),C=(0,e.useCallback)(Ge(Xe().mark((function e(){var t;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E(new AbortController);case 3:t=e.sent,S(t),e.next=12;break;case 7:if(e.prev=7,e.t0=e.catch(0),!(e.t0 instanceof Error&&"AbortError"===e.t0.name)){e.next=11;break}return e.abrupt("return");case 11:throw e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,7]])}))),[S,E]),A=(0,e.useCallback)((function(){x.current&&(clearTimeout(x.current),x.current=null)}),[]),P=(0,e.useCallback)((function(e){x.current=setTimeout(C,60*e*1e3)}),[C]);(0,e.useEffect)((function(){if(o!==h.current.host||f!==h.current.appUrl||!le()(r,h.current.screenSettings)){h.current={screenSettings:r,host:o,appUrl:f};var e=_f(r,o,f);g(e),_(xf(r))}}),[r,o,f]),(0,e.useEffect)((function(){A(),C()}),[A,C]),(0,e.useEffect)((function(){if(w&&!w.preloaded){var e=ye(w.src);return w.preloaded=!0,A(),"unsplash"!==w.type&&"myBackground"!==w.type||!w.nextRefresh||P(w.nextRefresh),function(){e.dispose()}}}),[w,P,A]),(0,e.useEffect)((function(){return function(){A()}}),[A]);var I=w?w.src:null,O=(0,e.useMemo)((function(){return(0,m.jsx)("div",{className:gf,style:b,children:I?(0,m.jsx)("img",{src:I,alt:""}):null})}),[I,b]);return(0,m.jsx)(yf.Provider,{value:O,children:n})}var wf={Layout:"IdleScreenWeather_Layout__lXqDZ",Contents:"IdleScreenWeather_Contents__aBKlA",Contents__forecastWrapper:"IdleScreenWeather_Contents__forecastWrapper__zImU7",Contents__currentWrapper:"IdleScreenWeather_Contents__currentWrapper__bmSTb",Current:"IdleScreenWeather_Current__ldtCB",Current__icon:"IdleScreenWeather_Current__icon__Owii-","Current__icon--mono":"IdleScreenWeather_Current__icon--mono__AO8zs",Current__info:"IdleScreenWeather_Current__info__pVH8s",Current__periodTitleWrapper:"IdleScreenWeather_Current__periodTitleWrapper__uRrW1",Current__periodTitle:"IdleScreenWeather_Current__periodTitle__s5K93",Current__tempRange:"IdleScreenWeather_Current__tempRange__W4ZxJ",Current__temp:"IdleScreenWeather_Current__temp__aPMar",Current__currentTemp:"IdleScreenWeather_Current__currentTemp__k-3U5",Forecast:"IdleScreenWeather_Forecast__ropuU",Forecast__icon:"IdleScreenWeather_Forecast__icon__DYq8O","Forecast__icon--mono":"IdleScreenWeather_Forecast__icon--mono__NCTb6",Forecast__info:"IdleScreenWeather_Forecast__info__F05vI",Forecast__periodTitleWrapper:"IdleScreenWeather_Forecast__periodTitleWrapper__GlaYZ",Forecast__periodTitle:"IdleScreenWeather_Forecast__periodTitle__bH4Ym",Forecast__tempRange:"IdleScreenWeather_Forecast__tempRange__01+vT",Forecast__temp:"IdleScreenWeather_Forecast__temp__hB3-8"};var Sf=function(){var t=Lr().t,n=Ha().get("IdleScreen.Weather.restoreState",{},!0),r=p((0,e.useState)(n.view||"day"),2),i=r[0],a=r[1],o=dt(fe.CommonSettingsCategory.IdleScreen).settings,s=fe.DefaultIdleScreenSettings,u="custom"===o.fontSizes,l="custom"===o.fontColors,c="custom"===o.weatherIconSettings,h=l?o.weatherCurrentColor:null,d=function(e){switch(e.weatherBackground||"default"){case"none":return{"--background-display":"none"};case"customColor":return{"--background-color":e.weatherBackgroundColor||null,"--background-opacity":e.weatherBackgroundColorOpacity||null};case"customGradient":return{"--background-gradient":e.weatherBackgroundGradient||null,"--background-opacity":e.weatherBackgroundGradientOpacity||null};default:return{}}}(o),v={"--period-base-font-size":u?o.weatherCurrentBaseFontSize:null,"--period-title-color":h,"--temp-range-color":h,"--current-temp-color":h,"--icon-size":c?o.weatherCurrentIconSize:null},g={"--period-base-font-size":u?o.weatherForecastBaseFontSize:null,"--period-title-color":l?o.weatherForecastColor:null,"--temp-range-color":l?o.weatherForecastColor:null,"--icon-size":c?o.weatherForecastIconSize:null},y={style:c?o.weatherIconStyle:"filled",currentIconAnimate:c?o.weatherCurrentIconAnimate:s.weatherCurrentIconAnimate,currentMonoColor:c?o.weatherCurrentIconMonoColor:null,forecastMonoColor:c?o.weatherForecastIconMonoColor:null},b=vf(),_=mt(),x=vt(),w={weekday:"short"},S=f(f({},of.TIME_SIMPLE),{},{hour12:"default"===o.timeFormat?!s.hour24:!o.hour24}),T=f(f({},of.DATE_SHORT),{},{year:void 0});(0,e.useEffect)((function(){n.view=i}),[n,i]);var E,C=function(e){var t=of.fromMillis(e,{zone:_,locale:x}),n=0===t.hour&&0===t.minute?T:S;return t.toLocaleString(n)},A=function(e,t,n,r){var i=y.style,a=i+(arguments.length>4&&void 0!==arguments[4]&&arguments[4]?"Animated":"Static"),o=e.iconUrl[t][a];if(!o)return null;if("mono"===i){var s={"--icon-mono-url":"url(".concat(o,")"),"--icon-mono-color":r};return(0,m.jsx)("div",{className:k()(wf[n],wf["".concat(n,"--mono")]),style:s})}return(0,m.jsx)("img",{className:wf[n],src:o,alt:""})},P=function(e){return(0,m.jsxs)("div",{className:wf.Current,style:v,onClick:O,children:[A(e,"condition","Current__icon",y.currentMonoColor||fe.DefaultIdleScreenSettings.weatherCurrentIconMonoColor,y.currentIconAnimate),(0,m.jsxs)("div",{className:wf.Current__info,children:[(0,m.jsx)("div",{className:wf.Current__periodTitleWrapper,children:(0,m.jsx)("span",{className:wf.Current__periodTitle,children:t("day"===i?"weather.today":"weather.now")})}),(0,m.jsx)("span",{className:wf.Current__currentTemp,children:e.temp.now.text}),"day"===i?(0,m.jsxs)("span",{className:wf.Current__tempRange,children:[e.temp.min.shortText," / ",e.temp.max.shortText]}):null]})]})},I=function(e,t){var n,r=e,a=e;return(0,m.jsxs)("div",{className:wf.Forecast,style:g,children:[(0,m.jsx)("div",{className:wf.Forecast__periodTitleWrapper,children:(0,m.jsx)("span",{className:wf.Forecast__periodTitle,children:"day"===i?(n=e.dateTimeMillis,of.fromMillis(n,{zone:_,locale:x}).toLocaleString(w)):C(e.dateTimeMillis)})}),A(e,"condition","Forecast__icon",y.forecastMonoColor||fe.DefaultIdleScreenSettings.weatherForecastIconMonoColor),(0,m.jsx)("div",{className:wf.Forecast__info,children:"day"===i?(0,m.jsxs)("span",{className:wf.Forecast__tempRange,children:[r.temp.min.shortText," / ",r.temp.max.shortText]}):(0,m.jsx)("span",{className:wf.Forecast__temp,children:a.temp.shortText})})]},t)},O=(0,e.useCallback)((function(e){e.stopPropagation(),e.preventDefault(),a("day"===i?"hour":"day")}),[i]);if("fetched"===b.status){var M=b.info;return(0,m.jsx)("div",{className:wf.Layout,style:d,children:(0,m.jsx)(kr.ZP,{classes:{thumbHorizontal:"Scrollbar__handle"},autoHide:!0,children:"day"===i?(E=M,(0,m.jsxs)("div",{className:wf.Contents,children:[(0,m.jsx)("div",{className:wf.Contents__currentWrapper,children:P(E.current)}),(0,m.jsx)("div",{className:wf.Contents__forecastWrapper,children:E.forecast.map((function(e,t){return I(e,"forecast_".concat(t))}))})]})):function(e){var t=(new Date).getTime();return(0,m.jsxs)("div",{className:wf.Contents,children:[(0,m.jsx)("div",{className:wf.Contents__currentWrapper,children:P(e.current)}),(0,m.jsx)("div",{className:wf.Contents__forecastWrapper,children:e.hourly.filter((function(e){return e.dateTimeMillis>t})).map((function(e,t){return I(e,"forecast_".concat(t))}))})]})}(M)})})}return null};var Tf=function(n){var r=vf(),i=dt(fe.CommonSettingsCategory.IdleScreen).settings,a=fe.DefaultIdleScreenSettings,o=new Intl.DisplayNames(["en"],{type:"region"}),s=i.showWeather,u=i.showLocation,l=i.timeFormat,c="default"===l?a.showSeconds:i.showSeconds,f={hour12:"default"===l?!a.hour24:!i.hour24,second:c?"numeric":void 0},h="custom"===i.fontSizes,d="custom"===i.fontColors,v="custom"===i.weatherAreaHeightType,g=p((0,e.useState)("cycle"===i.mainAlignment?"flex-start":i.mainAlignment),2),y=g[0],b=g[1],_=(0,e.useRef)(null),x={"--secondary-height":v?i.weatherAreaHeight:null},w={"--main-alignment":y||null},S={"--time-font-size":h?i.timeFontSize:null,"--date-font-size":h?i.dateFontSize:null,"--time-color":d?i.timeColor:null,"--date-color":d?i.dateColor:null},T={"--location-font-size":h?i.locationFontSize:null,"--location-color":d?i.locationColor:null},E=(0,e.useContext)(yf),C=function(){if("fetched"===r.status){var e=r.info.location,t=e.name,n=function(e){try{return o.of(e)}catch(Vp){return null}}(e.country);return t+(n?", ".concat(n):"")}return null},A=u?C():null,P=s&&"fetched"===r.status,I=k()(mf.Layout__main,P?null:mf["Layout__main--full"]),O=(0,e.useCallback)((function(){var e=1e3*i.mainAlignmentCycleInterval,t=["flex-start","center","flex-end"];_.current=setTimeout((function(){_.current=null;var e=Math.max(t.indexOf(y)+1,0);e>=t.length&&(e=0);var n=t[e];b(n)}),e)}),[i,y]);return(0,e.useEffect)((function(){"cycle"!==i.mainAlignment?(_.current&&(clearTimeout(_.current),_.current=null),b(i.mainAlignment)):_.current||O()}),[i,O]),(0,t.createPortal)((0,m.jsxs)("div",{className:mf.Layout,style:x,onClick:n.onClick,children:[E,(0,m.jsxs)("div",{className:I,style:w,children:[(0,m.jsx)(hf,{showTime:!0,dateFormat:{year:"numeric",day:"numeric",month:"long",weekday:"long"},timeFormat:f,styles:{baseClassName:"Clock",bundle:mf},style:S}),A?(0,m.jsx)("span",{className:mf.Location,style:T,children:C()}):null]}),P?(0,m.jsx)("div",{className:mf.Layout__secondary,children:(0,m.jsx)(Sf,{})}):null]}),document.body)},Ef=function(t){var n=t.children,r=St(),i=_().isModalOpened,a=pt().disableTransitions,o=dt(fe.CommonSettingsCategory.Startup).settings,s=p((0,e.useState)(!1),2),u=s[0],l=s[1],c=(0,e.useRef)(null),f=p((0,e.useState)(!1),2),h=f[0],d=f[1],v=dt(fe.CommonSettingsCategory.IdleScreen).settings,g=ge().isKiosk,y=v.waitTime,b=function(){switch(v.enabled){case"kiosk":return g;case"all":return!0;default:return!1}}(),x=(0,e.useCallback)((function(){d(!0)}),[d]),k=(0,e.useCallback)((function(){d(!1)}),[d]),w=(0,e.useCallback)((function(){c.current=setTimeout(x,1e3*y)}),[x,y]),S=(0,e.useCallback)((function(){c.current&&(clearTimeout(c.current),c.current=null)}),[]),T=(0,e.useCallback)((function(){c.current&&(S(),w())}),[S,w]),E=b&&("stop"===r.status||"pause"===r.status);return(0,e.useEffect)((function(){if(E&&!h){if(u||!o.activateIdleScreen)return w(),function(){S()};x()}else!E&&h&&k();u||l(!0)}),[u,o.activateIdleScreen,x,E,h,w,S,k]),(0,e.useEffect)((function(){l(!1)}),[o]),(0,m.jsx)(gt,{in:i(io),classNames:a?"ScreenWrapper--dim":"ScreenWrapper--blur",timeout:100,children:(0,m.jsxs)("div",{className:"ScreenWrapper",onMouseMove:T,onClick:T,onWheel:T,onKeyDown:T,onTouchStart:T,onTouchEnd:T,onTouchMove:T,children:[n,(0,m.jsx)(kf,{children:h?(0,m.jsx)(Tf,{onClick:k}):null})]})})},Cf=["NowPlaying","Browse","Queue","Volumio"],Af=(0,e.createContext)({}),Pf={"nowPlaying.basicView":"NowPlaying","nowPlaying.infoView":"NowPlaying","nowPlaying.vuMeter":"NowPlaying",browse:"Browse",volumio:"Volumio"},If=function(e){return"string"===typeof e&&Cf.includes(e)},Of=function(t){var n=t.children,r=t.startupOptions,i={},a=Pf[r.activeScreen];return e.Children.forEach(n,(function(t){var n=(0,e.isValidElement)(t)?t.props.screenId:null;(0,e.isValidElement)(t)&&If(n)&&(i[n]={status:n===a?"active":"inactive",usesTrackBar:t.props.usesTrackBar||!1,activeClassName:"Screen--active",inactiveClassName:"Screen--inactive",float:t.props.float||!1,mountOnEnter:t.props.mountOnEnter||!1,unmountOnExit:t.props.unmountOnExit||!1})})),i},Mf=function(t){var n=t.children,r=(0,e.useRef)(null),i=dt(fe.CommonSettingsCategory.Performance).settings,a=dt(fe.CommonSettingsCategory.Startup).settings,o=p((0,e.useReducer)((function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];If(i)&&(e[i]||(e[i]={}),e[i]=f(f({},e[i]),t[i]))}return f({},e)}),{children:n,startupOptions:a},Of),2),s=o[0],u=o[1];(0,e.useEffect)((function(){var e=Of({children:n,startupOptions:a});u(e)}),[a]);var c=(0,e.useCallback)((function(e){for(var t=0,n=Object.entries(s);t<n.length;t++){var r=p(n[t],2),i=r[0];if(r[1].status===e)return i}return null}),[s]),h=c("active"),d=c("entering"),v=c("exiting"),g=(0,e.useMemo)((function(){var e,t,n=[];d&&null!==(e=s[d])&&void 0!==e&&e.enteringFromUnderFloat&&v&&null!==(t=s[v])&&void 0!==t&&t.exitingFromFloat?(n.push(v),n.push(d)):(d&&n.push(d),h&&n.push(h),v&&n.push(v));var i,a=L(r.current?r.current:Object.keys(s));try{for(a.s();!(i=a.n()).done;){var o,u=i.value;"inactive"===(null===(o=s[u])||void 0===o?void 0:o.status)&&n.push(u)}}catch(l){a.e(l)}finally{a.f()}return r.current=n,n}),[h,d,v,s]),y=(0,e.useCallback)((function(e){if(h!==e.screenId&&!d&&!v){var t=s[e.screenId],n=null===t||void 0===t?void 0:t.float,r=l({},"".concat(e.screenId),{status:"entering",enterTransition:e.enterTransition||(null!==t&&void 0!==t&&t.underFloat?"underFloatExit":"fadeIn"),activeClassName:e.activeClassName||"Screen--active",underFloat:!1,enteringFromUnderFloat:null===t||void 0===t?void 0:t.underFloat,screenProps:e.screenProps});if(h){var i=s[h];r[h]={status:"exiting",exitTransition:e.exitTransition||(n?"underFloatExit":"fadeIn"),inactiveClassName:e.inactiveClassName||(n?"Screen--underFloat":"Screen--inactive"),underFloat:n,exitingFromFloat:null===i||void 0===i?void 0:i.float}}u(r)}}),[h,d,v,s,u]),b=(0,e.useCallback)((function(e){var t=g[1];t&&y(Object.assign({},e,{screenId:t}))}),[g,y]),_=(0,e.useCallback)((function(){var e={};d&&(e[d]={status:"active"}),v&&(e[v]={status:"inactive"}),Object.keys(e).length>0&&u(e)}),[d,v,u]),x=(0,e.useMemo)((function(){return g.reduce((function(e,t,n){return e[t]=50-n,e}),{})}),[g]),w=(0,e.useCallback)((function(e){var t,n,r,a;if(d&&null!==(t=s[d])&&void 0!==t&&t.float&&v===e)return!1;if(h&&null!==(n=s[h])&&void 0!==n&&n.float&&"inactive"===(null===(r=s[e])||void 0===r?void 0:r.status))return!1;if("custom"===i.unmountScreensOnExit){var o="unmount".concat(e,"ScreenOnExit");if(void 0!==i[o])return i[o]}return!(null===(a=s[e])||void 0===a||!a.unmountOnExit)}),[d,h,v,s,i]),S=(0,e.useCallback)((function(){var e,t,n;return h&&null!==(e=s[h])&&void 0!==e&&e.usesTrackBar?"active":d&&null!==(t=s[d])&&void 0!==t&&t.usesTrackBar?"entering":v&&null!==(n=s[v])&&void 0!==n&&n.usesTrackBar?"exiting":"inactive"}),[s,h,d,v])();return(0,m.jsx)(Af.Provider,{value:{activeScreenId:h,switchScreen:y,exitActiveScreen:b},children:(0,m.jsxs)(Ef,{children:[(0,m.jsx)(Ct,{activeScreenId:h,enteringScreenId:d}),e.Children.map(n,(function(t){var n=(0,e.isValidElement)(t)?t.props.screenId:null;if((0,e.isValidElement)(t)&&If(n)){var r=s[n];if(!r)return null;var i=function(e){var t={};return"active"===e.status||"entering"===e.status?(t.in=!0,t.class=e.enterTransition):"inactive"!==e.status&&"exiting"!==e.status||(t.in=!1,t.class=e.exitTransition),t.class&&(t.class="Screen--".concat(t.class)),t}(r),a=function(e,t){return"inactive"===t.status?k()(e.props.className,t.inactiveClassName):"active"===t.status?k()(e.props.className,t.activeClassName):e.props.className}(t,r),o=w(n),u=(0,m.jsx)(gt,{in:i.in,classNames:i.class,timeout:200,mountOnEnter:r.mountOnEnter,unmountOnExit:o,onEntered:_,children:(0,e.cloneElement)(t,f({className:a,style:{zIndex:x[n]}},r.screenProps))});return r.float&&r.usesTrackBar?(0,m.jsx)(gt,{in:i.in,classNames:"Screen--fadeIn",timeout:200,mountOnEnter:r.mountOnEnter,unmountOnExit:o,onEntered:_,children:(0,m.jsx)("div",{className:k()("Viewport",a),style:{zIndex:x[n]},children:u})}):u}return t})),(0,m.jsx)(gt,{in:"active"===S||"entering"===S,classNames:"TrackBar--slideUp",timeout:200,mountOnEnter:!0,unmountOnExit:!0,children:(0,m.jsx)(es,{state:S,activeScreenId:h,enteringScreenId:d})})]})})},Rf=function(){return(0,e.useContext)(Af)},Nf=["preEnter","entering","entered","preExit","exiting","exited","unmounted"],Df=function(e){return{_s:e,status:Nf[e],isEnter:e<3,isMounted:6!==e,isResolved:2===e||e>4}},Bf=function(e){return e?6:5},Lf=function(e,t,n,r,i){clearTimeout(r.current);var a=Df(e);t(a),n.current=a,i&&i({current:a})},jf=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.enter,r=void 0===n||n,i=t.exit,a=void 0===i||i,o=t.preEnter,s=t.preExit,u=t.timeout,l=t.initialEntered,c=t.mountOnEnter,f=t.unmountOnExit,h=t.onStateChange,d=p((0,e.useState)((function(){return Df(l?2:Bf(c))})),2),v=d[0],m=d[1],g=(0,e.useRef)(v),y=(0,e.useRef)(),b=function(e){return"object"===typeof e?[e.enter,e.exit]:[e,e]}(u),_=p(b,2),x=_[0],k=_[1],w=(0,e.useCallback)((function(){var e=function(e,t){switch(e){case 1:case 0:return 2;case 4:case 3:return Bf(t)}}(g.current._s,f);e&&Lf(e,m,g,y,h)}),[h,f]),S=(0,e.useCallback)((function(e){var t=function e(t){switch(Lf(t,m,g,y,h),t){case 1:x>=0&&(y.current=setTimeout(w,x));break;case 4:k>=0&&(y.current=setTimeout(w,k));break;case 0:case 3:y.current=function(e,t){return setTimeout((function(){isNaN(document.body.offsetTop)||e(t+1)}),0)}(e,t)}},n=g.current.isEnter;"boolean"!==typeof e&&(e=!n),e?!n&&t(r?o?0:1:2):n&&t(a?s?3:4:Bf(f))}),[w,h,r,a,o,s,x,k,f]);return(0,e.useEffect)((function(){return function(){return clearTimeout(y.current)}}),[]),[v,S,w]},Ff=t.unstable_batchedUpdates||function(e){return e()},Uf=(Object.values,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-4;return Math.abs(e-t)<n}),zf=function(e,t){return!0===e||!(!e||!e[t])},Vf=function(e,t){return"function"===typeof e?e(t):e},Hf=function(e,t){return t&&Object.keys(t).forEach((function(n){var r=e[n],i=t[n];e[n]="function"===typeof i&&r?function(){i.apply(void 0,arguments),r.apply(void 0,arguments)}:i})),e},Wf=function(e){for(;e;){if(!(e=e.parentNode)||e===document.body||!e.parentNode)return;var t=getComputedStyle(e),n=t.overflow,r=t.overflowX,i=t.overflowY;if(/auto|scroll|overlay|hidden/.test(n+i+r))return e}};function Gf(e,t){return{"aria-disabled":e||void 0,tabIndex:t?0:-1}}function qf(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var Xf="szh-menu",Yf=(0,e.createContext)(),Qf=(0,e.createContext)({}),Kf=(0,e.createContext)({}),Zf=(0,e.createContext)({}),$f=(0,e.createContext)({}),Jf=(0,e.createContext)({}),eh=Object.freeze({ENTER:"Enter",ESC:"Escape",SPACE:" ",HOME:"Home",END:"End",LEFT:"ArrowLeft",RIGHT:"ArrowRight",UP:"ArrowUp",DOWN:"ArrowDown"}),th=Object.freeze({RESET:0,SET:1,UNSET:2,INCREASE:3,DECREASE:4,FIRST:5,LAST:6,SET_INDEX:7}),nh=Object.freeze({CLICK:"click",CANCEL:"cancel",BLUR:"blur",SCROLL:"scroll"}),rh=Object.freeze({FIRST:"first",LAST:"last"}),ih=Object.freeze({entering:"opening",entered:"open",exiting:"closing",exited:"closed"}),ah="absolute",oh="presentation",sh="menuitem",uh={"aria-hidden":!0,role:sh},lh=function(t){var n=t.block,r=t.element,i=t.modifiers,a=t.className;return(0,e.useMemo)((function(){var e=r?"".concat(n,"__").concat(r):n,t=e;i&&Object.keys(i).forEach((function(n){var r=i[n];r&&(t+=" ".concat(e,"--").concat(!0===r?n:"".concat(n,"-").concat(r)))}));var o="function"===typeof a?a(i):a;return"string"===typeof o&&(o=o.trim())&&(t+=" ".concat(o)),t}),[n,r,i,a])},ch=function(t){var n=t.className,r=t.containerRef,i=t.containerProps,a=t.children,o=t.isOpen,s=t.theming,u=t.transition,l=t.onClose,c=zf(u,"item");return(0,m.jsx)("div",f(f({},Hf({onKeyDown:function(e){var t=e.key;if(t===eh.ESC)Vf(l,{key:t,reason:nh.CANCEL})},onBlur:function(e){o&&!e.currentTarget.contains(e.relatedTarget||document.activeElement)&&Vf(l,{reason:nh.BLUR})}},i)),{},{className:lh({block:"szh-menu-container",modifiers:(0,e.useMemo)((function(){return{theme:s,itemTransition:c}}),[s,c]),className:n}),style:f({position:"absolute"},null==i?void 0:i.style),ref:r,children:a}))},fh=function(){var e,t=0;return{toggle:function(e){e?t++:t--,t=Math.max(t,0)},on:function(n,r,i){t?e||(e=setTimeout((function(){e=0,r()}),n)):null==i||i()},off:function(){e&&(clearTimeout(e),e=0)}}},hh=function(e,t,n,r){var i=t.current.getBoundingClientRect(),a=e.current.getBoundingClientRect(),o=n===window?{left:0,top:0,right:document.documentElement.clientWidth,bottom:window.innerHeight}:n.getBoundingClientRect(),s=function(e){if("string"!==typeof e)return{top:0,right:0,bottom:0,left:0};var t=e.trim().split(/\s+/,4).map(parseFloat),n=isNaN(t[0])?0:t[0],r=isNaN(t[1])?n:t[1];return{top:n,right:r,bottom:isNaN(t[2])?n:t[2],left:isNaN(t[3])?r:t[3]}}(r),u=function(e){return e+a.left-o.left-s.left},l=function(e){return e+a.left+i.width-o.right+s.right},c=function(e){return e+a.top-o.top-s.top},f=function(e){return e+a.top+i.height-o.bottom+s.bottom};return{menuRect:i,containerRect:a,getLeftOverflow:u,getRightOverflow:l,getTopOverflow:c,getBottomOverflow:f,confineHorizontally:function(e){var t=u(e);if(t<0)e-=t;else{var n=l(e);n>0&&(t=u(e-=n))<0&&(e-=t)}return e},confineVertically:function(e){var t=c(e);if(t<0)e-=t;else{var n=f(e);n>0&&(t=c(e-=n))<0&&(e-=t)}return e}}},dh=function(e){var t,n,r,i=e.anchorRect,a=e.containerRect,o=e.menuRect,s=e.placeLeftorRightY,u=e.placeLeftX,l=e.placeRightX,c=e.getLeftOverflow,f=e.getRightOverflow,h=e.confineHorizontally,d=e.confineVertically,p=e.arrowRef,v=e.arrow,m=e.direction,g=e.position,y=m,b=s;"initial"!==g&&(b=d(b),"anchor"===g&&(b=Math.min(b,i.bottom-a.top),b=Math.max(b,i.top-a.top-o.height))),"left"===y?(t=u,"initial"!==g&&(n=c(t))<0&&((r=f(l))<=0||-n>r)&&(t=l,y="right")):(t=l,"initial"!==g&&(r=f(t))>0&&((n=c(u))>=0||-n<r)&&(t=u,y="left")),"auto"===g&&(t=h(t));var _=v?function(e){var t=e.arrowRef,n=e.menuY,r=e.anchorRect,i=e.containerRect,a=e.menuRect,o=r.top-i.top-n+r.height/2,s=1.25*t.current.offsetHeight;return o=Math.max(s,o),Math.min(o,a.height-s)}({menuY:b,arrowRef:p,anchorRect:i,containerRect:a,menuRect:o}):void 0;return{arrowY:_,x:t,y:b,computedDirection:y}},ph=function(e){var t,n,r,i=e.anchorRect,a=e.containerRect,o=e.menuRect,s=e.placeToporBottomX,u=e.placeTopY,l=e.placeBottomY,c=e.getTopOverflow,f=e.getBottomOverflow,h=e.confineHorizontally,d=e.confineVertically,p=e.arrowRef,v=e.arrow,m=e.direction,g=e.position,y="top"===m?"top":"bottom",b=s;"initial"!==g&&(b=h(b),"anchor"===g&&(b=Math.min(b,i.right-a.left),b=Math.max(b,i.left-a.left-o.width))),"top"===y?(t=u,"initial"!==g&&(n=c(t))<0&&((r=f(l))<=0||-n>r)&&(t=l,y="bottom")):(t=l,"initial"!==g&&(r=f(t))>0&&((n=c(u))>=0||-n<r)&&(t=u,y="top")),"auto"===g&&(t=d(t));var _=v?function(e){var t=e.arrowRef,n=e.menuX,r=e.anchorRect,i=e.containerRect,a=e.menuRect,o=r.left-i.left-n+r.width/2,s=1.25*t.current.offsetWidth;return o=Math.max(s,o),Math.min(o,a.width-s)}({menuX:b,arrowRef:p,anchorRect:i,containerRect:a,menuRect:o}):void 0;return{arrowX:_,x:b,y:t,computedDirection:y}},vh="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?e.useLayoutEffect:e.useEffect;function mh(e,t){"function"===typeof e?e(t):e.current=t}var gh=function(t,n){return(0,e.useMemo)((function(){return t?n?function(e){mh(t,e),mh(n,e)}:t:n}),[t,n])},yh=["ariaLabel","menuClassName","menuStyle","arrow","arrowProps","anchorPoint","anchorRef","containerRef","containerProps","focusProps","externalRef","parentScrollingRef","align","direction","position","overflow","setDownOverflow","repositionFlag","captureFocus","state","endTransition","isDisabled","menuItemFocus","gap","shift","children","onClose"],bh=function(n){var r=n.ariaLabel,i=n.menuClassName,a=n.menuStyle,o=n.arrow,s=n.arrowProps,u=void 0===s?{}:s,l=n.anchorPoint,c=n.anchorRef,h=n.containerRef,d=n.containerProps,v=n.focusProps,g=n.externalRef,y=n.parentScrollingRef,b=n.align,_=void 0===b?"start":b,x=n.direction,k=void 0===x?"bottom":x,w=n.position,S=void 0===w?"auto":w,T=n.overflow,E=void 0===T?"visible":T,C=n.setDownOverflow,A=n.repositionFlag,P=n.captureFocus,I=void 0===P||P,O=n.state,M=n.endTransition,R=n.isDisabled,N=n.menuItemFocus,D=n.gap,B=void 0===D?0:D,L=n.shift,j=void 0===L?0:L,F=n.children,U=n.onClose,z=Qa(n,yh),V=p((0,e.useState)({x:-9999,y:-9999}),2),H=V[0],W=V[1],G=p((0,e.useState)({}),2),q=G[0],X=G[1],Y=p((0,e.useState)(),2),Q=Y[0],K=Y[1],Z=p((0,e.useState)(k),2),$=Z[0],J=Z[1],ee=p((0,e.useState)(fh),1)[0],te=(0,e.useReducer)((function(e){return e+1}),1),ne=p(te,2),re=ne[0],ie=ne[1],ae=(0,e.useContext)(Jf),oe=ae.transition,se=ae.boundingBoxRef,ue=ae.boundingBoxPadding,le=ae.rootMenuRef,ce=ae.rootAnchorRef,fe=ae.scrollNodesRef,he=ae.reposition,de=ae.viewScroll,pe=ae.submenuCloseDelay,ve=(0,e.useContext)(Kf),me=ve.submenuCtx,ge=ve.reposSubmenu,ye=void 0===ge?A:ge,be=(0,e.useRef)(null),_e=(0,e.useRef)(),xe=(0,e.useRef)(),ke=(0,e.useRef)(!1),we=(0,e.useRef)({width:0,height:0}),Se=(0,e.useRef)((function(){})),Te=function(t,n){var r=p((0,e.useState)(),2),i=r[0],a=r[1],o=(0,e.useRef)({items:[],hoverIndex:-1,sorted:!1}).current,s=(0,e.useCallback)((function(e,t){var r=o.items;if(e)if(t)r.push(e);else{var i=r.indexOf(e);i>-1&&(r.splice(i,1),e.contains(document.activeElement)&&(n.current.focus(),a()))}else o.items=[];o.hoverIndex=-1,o.sorted=!1}),[o,n]),u=(0,e.useCallback)((function(e,n,r){var i=o.items,s=o.hoverIndex,u=function(){if(!o.sorted){var e=t.current.querySelectorAll(".szh-menu__item");i.sort((function(t,n){return qf(e,t)-qf(e,n)})),o.sorted=!0}},l=-1,c=void 0;switch(e){case th.RESET:break;case th.SET:c=n;break;case th.UNSET:c=function(e){return e===n?void 0:e};break;case th.FIRST:u(),c=i[l=0];break;case th.LAST:u(),l=i.length-1,c=i[l];break;case th.SET_INDEX:u(),c=i[l=r];break;case th.INCREASE:u(),(l=s)<0&&(l=i.indexOf(n)),++l>=i.length&&(l=0),c=i[l];break;case th.DECREASE:u(),(l=s)<0&&(l=i.indexOf(n)),--l<0&&(l=i.length-1),c=i[l]}c||(l=-1),a(c),o.hoverIndex=l}),[t,o]);return{hoverItem:i,dispatch:u,updateItems:s}}(be,_e),Ee=Te.hoverItem,Ce=Te.dispatch,Ae=Te.updateItems,Pe=function(e){return!!e&&"o"===e[0]}(O),Ie=zf(oe,"open"),Oe=zf(oe,"close"),Me=fe.current,Re=(0,e.useCallback)((function(e){var t,n=c?null==(t=c.current)?void 0:t.getBoundingClientRect():l?{left:l.x,right:l.x,top:l.y,bottom:l.y,width:0,height:0}:null;if(n){Me.menu||(Me.menu=(se?se.current:Wf(le.current))||window);var r=hh(h,be,Me.menu,ue),i=function(e){var t=e.arrow,n=e.align,r=e.direction,i=e.gap,a=e.shift,o=e.position,s=e.anchorRect,u=e.arrowRef,l=e.positionHelpers,c=l.menuRect,h=l.containerRect,d="left"===r||"right"===r,p=d?i:a,v=d?a:i;if(t){var m=u.current;d?p+=m.offsetWidth:v+=m.offsetHeight}var g,y,b=s.left-h.left-c.width-p,_=s.right-h.left+p,x=s.top-h.top-c.height-v,k=s.bottom-h.top+v;"end"===n?(g=s.right-h.left-c.width,y=s.bottom-h.top-c.height):"center"===n?(g=s.left-h.left-(c.width-s.width)/2,y=s.top-h.top-(c.height-s.height)/2):(g=s.left-h.left,y=s.top-h.top),g+=p,y+=v;var w=f(f({},l),{},{anchorRect:s,placeLeftX:b,placeRightX:_,placeLeftorRightY:y,placeTopY:x,placeBottomY:k,placeToporBottomX:g,arrowRef:u,arrow:t,direction:r,position:o});switch(r){case"left":case"right":return dh(w);default:return ph(w)}}({arrow:o,align:_,direction:k,gap:B,shift:j,position:S,anchorRect:n,arrowRef:xe,positionHelpers:r}),a=i.arrowX,s=i.arrowY,u=i.x,d=i.y,p=i.computedDirection,v=r.menuRect,m=v.height;if(!e&&"visible"!==E){var g,y,b=r.getTopOverflow,x=r.getBottomOverflow,w=we.current.height,T=x(d);if(T>0||Uf(T,0)&&Uf(m,w))g=m-T,y=T;else{var C=b(d);(C<0||Uf(C,0)&&Uf(m,w))&&(y=0-C,(g=m+C)>=0&&(d-=C))}g>=0?(m=g,K({height:g,overflowAmt:y})):K()}o&&X({x:a,y:s}),W({x:u,y:d}),J(p),we.current={width:v.width,height:m}}}),[o,_,ue,k,B,j,S,E,l,c,h,se,le,Me]);vh((function(){Pe&&(Re(),ke.current&&ie()),ke.current=Pe,Se.current=Re}),[Pe,Re,ye]),vh((function(){Q&&!C&&(be.current.scrollTop=0)}),[Q,C]),vh((function(){return Ae}),[Ae]),(0,e.useEffect)((function(){var e=Me.menu;if(Pe&&e){if(e=e.addEventListener?e:window,!Me.anchors){Me.anchors=[];for(var t=Wf(ce&&ce.current);t&&t!==e;)Me.anchors.push(t),t=Wf(t)}var n=de;if(Me.anchors.length&&"initial"===n&&(n="auto"),"initial"!==n){var r=function(){"auto"===n?Ff((function(){return Re(!0)})):Vf(U,{reason:nh.SCROLL})},i=Me.anchors.concat("initial"!==de?e:[]);return i.forEach((function(e){return e.addEventListener("scroll",r)})),function(){return i.forEach((function(e){return e.removeEventListener("scroll",r)}))}}}}),[ce,Me,Pe,U,de,Re]);var Ne=!!Q&&Q.overflowAmt>0;(0,e.useEffect)((function(){if(!Ne&&Pe&&y){var e=function(){return Ff(Re)},t=y.current;return t.addEventListener("scroll",e),function(){return t.removeEventListener("scroll",e)}}}),[Pe,Ne,y,Re]),(0,e.useEffect)((function(){if("function"===typeof ResizeObserver&&"initial"!==he){var e=new ResizeObserver((function(e){var n,r,i=p(e,1)[0],a=i.borderBoxSize,o=i.target;if(a){var s=a[0]||a;n=s.inlineSize,r=s.blockSize}else{var u=o.getBoundingClientRect();n=u.width,r=u.height}0!==n&&0!==r&&(Uf(n,we.current.width,1)&&Uf(r,we.current.height,1)||(0,t.flushSync)((function(){Se.current(),ie()})))})),n=be.current;return e.observe(n,{box:"border-box"}),function(){return e.unobserve(n)}}}),[he]),(0,e.useEffect)((function(){if(!Pe)return Ce(th.RESET),void(Oe||K());var e=N||{},t=e.position,n=e.alwaysUpdate,r=function(){t===rh.FIRST?Ce(th.FIRST):t===rh.LAST?Ce(th.LAST):t>=-1&&Ce(th.SET_INDEX,void 0,t)};if(n)r();else if(I){var i=setTimeout((function(){be.current.contains(document.activeElement)||(_e.current.focus(),r())}),Ie?170:100);return function(){return clearTimeout(i)}}}),[Pe,Ie,Oe,I,N,Ce]);var De,Be,Le=(0,e.useMemo)((function(){return{isParentOpen:Pe,submenuCtx:ee,dispatch:Ce,updateItems:Ae}}),[Pe,ee,Ce,Ae]);Q&&(C?Be=Q.overflowAmt:De=Q.height);var je=(0,e.useMemo)((function(){return{reposSubmenu:re,submenuCtx:ee,overflow:E,overflowAmt:Be,parentMenuRef:be,parentDir:$}}),[re,ee,E,Be,$]),Fe=De>=0?{maxHeight:De,overflow:E}:void 0,Ue=(0,e.useMemo)((function(){return{state:O,dir:$}}),[O,$]),ze=(0,e.useMemo)((function(){return{dir:$}}),[$]),Ve=lh({block:Xf,element:"arrow",modifiers:ze,className:u.className}),He=(0,m.jsxs)("ul",f(f(f({role:"menu","aria-label":r},Gf(R)),Hf({onPointerEnter:null==me?void 0:me.off,onPointerMove:function(e){e.stopPropagation(),ee.on(pe,(function(){Ce(th.RESET),_e.current.focus()}))},onPointerLeave:function(e){e.target===e.currentTarget&&ee.off()},onKeyDown:function(e){switch(e.key){case eh.HOME:Ce(th.FIRST);break;case eh.END:Ce(th.LAST);break;case eh.UP:Ce(th.DECREASE,Ee);break;case eh.DOWN:Ce(th.INCREASE,Ee);break;case eh.SPACE:return void(e.target&&-1!==e.target.className.indexOf(Xf)&&e.preventDefault());default:return}e.preventDefault(),e.stopPropagation()},onAnimationEnd:function(){"closing"===O&&K(),Vf(M)}},z)),{},{ref:gh(g,be),className:lh({block:Xf,modifiers:Ue,className:i}),style:f(f(f({},a),Fe),{},{margin:0,display:"closed"===O?"none":void 0,position:ah,left:H.x,top:H.y}),children:[(0,m.jsx)("li",f(f({tabIndex:-1,style:{position:ah,left:0,top:0,display:"block",outline:"none"},ref:_e},uh),v)),o&&(0,m.jsx)("li",f(f(f({},uh),u),{},{className:Ve,style:f({display:"block",position:ah,left:q.x,top:q.y},u.style),ref:xe})),(0,m.jsx)(Kf.Provider,{value:je,children:(0,m.jsx)(Qf.Provider,{value:Le,children:(0,m.jsx)(Yf.Provider,{value:Ee,children:Vf(F,Ue)})})})]}));return d?(0,m.jsx)(ch,f(f({},d),{},{isOpen:Pe,children:He})):He},_h=["aria-label","className","containerProps","initialMounted","unmountOnClose","transition","transitionTimeout","boundingBoxRef","boundingBoxPadding","reposition","submenuOpenDelay","submenuCloseDelay","viewScroll","portal","theming","onItemClick"],xh=(0,e.forwardRef)((function(n,r){var i=n["aria-label"],a=n.className,o=n.containerProps,s=n.initialMounted,u=n.unmountOnClose,l=n.transition,c=n.transitionTimeout,h=n.boundingBoxRef,d=n.boundingBoxPadding,p=n.reposition,v=void 0===p?"auto":p,g=n.submenuOpenDelay,y=void 0===g?300:g,b=n.submenuCloseDelay,_=void 0===b?150:b,x=n.viewScroll,k=void 0===x?"initial":x,w=n.portal,S=n.theming,T=n.onItemClick,E=Qa(n,_h),C=(0,e.useRef)(null),A=(0,e.useRef)({}),P=E.anchorRef,I=E.state,O=E.onClose,M=(0,e.useMemo)((function(){return{initialMounted:s,unmountOnClose:u,transition:l,transitionTimeout:c,boundingBoxRef:h,boundingBoxPadding:d,rootMenuRef:C,rootAnchorRef:P,scrollNodesRef:A,reposition:v,viewScroll:k,submenuOpenDelay:y,submenuCloseDelay:_}}),[s,u,l,c,P,h,d,v,k,y,_]),R=(0,e.useMemo)((function(){return{handleClick:function(e,t){e.stopPropagation||Vf(T,e);var n=e.keepOpen;void 0===n&&(n=t&&e.key===eh.SPACE),n||Vf(O,{value:e.value,key:e.key,reason:nh.CLICK})},handleClose:function(e){Vf(O,{key:e,reason:nh.CLICK})}}}),[T,O]);if(!I)return null;var N=(0,m.jsx)(Jf.Provider,{value:M,children:(0,m.jsx)(Zf.Provider,{value:R,children:(0,m.jsx)(bh,f(f({},E),{},{ariaLabel:i||"Menu",externalRef:r,containerRef:C,containerProps:{className:a,containerRef:C,containerProps:o,theming:S,transition:l,onClose:O}}))})});return!0===w&&"undefined"!==typeof document?(0,t.createPortal)(N,document.body):w?w.target?(0,t.createPortal)(N,w.target):w.stablePosition?null:N:N})),kh=["className"],wh=(0,e.memo)((0,e.forwardRef)((function(e,t){var n=e.className,r=Qa(e,kh);return(0,m.jsx)("li",f(f({role:oh},r),{},{ref:t,className:lh({block:Xf,element:"header",className:n})}))}))),Sh=["className"],Th=(0,e.memo)((0,e.forwardRef)((function(e,t){var n=e.className,r=Qa(e,Sh);return(0,m.jsx)("li",f(f({role:"separator"},r),{},{ref:t,className:lh({block:Xf,element:"divider",className:n})}))}))),Eh=function(t,n,r,i){var a=(0,e.useContext)(Jf).submenuCloseDelay,o=(0,e.useContext)(Qf),s=o.isParentOpen,u=o.submenuCtx,l=o.dispatch,c=o.updateItems,f=function(){!r&&!i&&l(th.SET,t.current)},h=function(){!i&&l(th.UNSET,t.current)};return function(e,t,n){vh((function(){if(!e){var r=t.current;return n(r,!0),function(){n(r)}}}),[e,t,n])}(i,t,c),(0,e.useEffect)((function(){r&&s&&n.current&&n.current.focus()}),[n,r,s]),{setHover:f,onBlur:function(e){r&&!e.currentTarget.contains(e.relatedTarget)&&h()},onPointerMove:function(e){i||(e.stopPropagation(),u.on(a,f,f))},onPointerLeave:function(e,t){u.off(),!t&&h()}}},Ch=function(t,n){var r=(0,e.memo)(n),i=(0,e.forwardRef)((function(t,n){var i=(0,e.useRef)(null);return(0,m.jsx)(r,f(f({},t),{},{itemRef:i,externalRef:n,isHovering:(0,e.useContext)(Yf)===i.current}))}));return i.displayName="WithHovering(".concat(t,")"),i},Ah=["className","value","href","type","checked","disabled","children","onClick","isHovering","itemRef","externalRef"],Ph=["setHover"],Ih=Ch("MenuItem",(function(t){var n=t.className,r=t.value,i=t.href,a=t.type,o=t.checked,s=t.disabled,u=t.children,l=t.onClick,c=t.isHovering,h=t.itemRef,d=t.externalRef,p=Qa(t,Ah),v=!!s,g=Eh(h,h,c,v),y=g.setHover,b=Qa(g,Ph),_=(0,e.useContext)(Zf),x=(0,e.useContext)($f),k="radio"===a,w="checkbox"===a,S=!!i&&!v&&!k&&!w,T=k?x.value===r:!!w&&!!o,E=function(e){if(v)return e.stopPropagation(),void e.preventDefault();var t={value:r,syntheticEvent:e};void 0!==e.key&&(t.key=e.key),w&&(t.checked=!T),k&&(t.name=x.name),Vf(l,t),k&&Vf(x.onRadioChange,t),_.handleClick(t,w||k)},C=(0,e.useMemo)((function(){return{type:a,disabled:v,hover:c,checked:T,anchor:S}}),[a,v,c,T,S]),A=Hf(f(f({},b),{},{onPointerDown:y,onKeyDown:function(e){if(c)switch(e.key){case eh.ENTER:e.preventDefault();case eh.SPACE:S?h.current.click():E(e)}},onClick:E}),p),P=f(f(f({role:k?"menuitemradio":w?"menuitemcheckbox":sh,"aria-checked":k||w?T:void 0},Gf(v,c)),A),{},{ref:gh(d,h),className:lh({block:Xf,element:"item",modifiers:C,className:n}),children:(0,e.useMemo)((function(){return Vf(u,C)}),[u,C])});return S?(0,m.jsx)("li",{role:oh,children:(0,m.jsx)("a",f({href:i},P))}):(0,m.jsx)("li",f({},P))}));var Oh=function(t){var n,r=pt().disableTransitions,i=t.menuItems,a=t.onMenuItemClick,s=t.onMenuOverlay,u=(0,e.useRef)(null),l=(0,e.useRef)(null),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.initialOpen,n=e.initialMounted,r=e.unmountOnClose,i=e.transition,a=e.transitionTimeout,o=p(jf({initialEntered:t,mountOnEnter:!n,unmountOnExit:r,timeout:void 0===a?500:a,enter:zf(i,"open"),exit:zf(i,"close")}),3),s=o[0].status,u=o[1],l=o[2];return[{state:ih[s],endTransition:l},u]}({transition:!r}),h=p(c,2),d=h[0],v=h[1],g=(0,e.useCallback)((function(e){e.stopPropagation(),e.preventDefault(),v(!0)}),[v]),y=(0,e.useCallback)((function(){v(!1)}),[v]),b=void 0!==d.state&&"closed"!==d.state,_=!!window.matchMedia("(hover: none)").matches&&b&&"closing"!==d.state;(0,e.useEffect)((function(){var e=function(e){e.preventDefault(),y()},t=l.current;if(_&&t)return t.addEventListener("touchstart",e,{passive:!1}),function(){t.removeEventListener("touchstart",e)}}),[_,y]),(0,e.useEffect)((function(){s&&s(_)}),[s,_]);var x=t.styles?t.styles.baseClassName:null,w=x?null===(n=t.styles)||void 0===n?void 0:n.bundle:null,S=(t.styles?t.styles.extraClassNames:null)||[],T=x&&w?k()(w[x]||"PopupMenu",b?w["".concat(x,"--opened")]||"PopupMenu--opened":null,o(S)):k()("PopupMenu",b?"PopupMenu--opened":null,o(S)),E=function(e){return x&&w&&w["".concat(x,"__").concat(e)]||"PopupMenu__".concat(e)};return(0,m.jsxs)("div",{className:T,children:[(0,m.jsx)(Pt,{ref:u,styles:{extraClassNames:[E("menuButton")]},className:E("menuButton"),icon:t.menuButtonIcon||"more_vert",onKeyDown:b?y:g,onMouseDown:b?y:g}),_?(0,m.jsx)("div",{ref:l,className:E("overlay")}):null,function(){var e=function(e){var t=e.icon,n={};return e.selected&&(t="check",n.color="var(--menu-item-selected-color)"),t?(0,m.jsx)("span",{style:n,className:k()("material-icons",E("menuItemIcon")),children:t}):null},n=function(e){if(e.selected){return(0,m.jsx)("span",{style:{color:"var(--menu-item-selected-color)"},children:e.title})}return e.title};return(0,m.jsx)(xh,f(f({},d),{},{anchorRef:u,onClose:y,unmountOnClose:!0,theming:"dark",align:t.align||"start",position:t.position||"anchor",direction:t.direction||"left",boundingBoxRef:t.boundingBoxRef,boundingBoxPadding:"8",overflow:"auto",onItemClick:a,children:i.map((function(t){return"header"===t.type?(0,m.jsxs)(wh,{children:[e(t),t.title]},t.key):"divider"===t.type?(0,m.jsx)(Th,{},t.key):(0,m.jsxs)(Ih,{value:t.value,children:[e(t),n(t)]},t.key)}))}))}()]})},Mh={Layout:"BasicView_Layout__zPVH4",AlbumArt:"BasicView_AlbumArt__FfL7-",AlbumArt__image:"BasicView_AlbumArt__image__IH0tT","AlbumArt--center":"BasicView_AlbumArt--center__eRKAQ",MainContents:"BasicView_MainContents__etl5j",TrackInfoText:"BasicView_TrackInfoText__y81gE",TrackInfoText__title:"BasicView_TrackInfoText__title__tjGPF",TrackInfoText__artist:"BasicView_TrackInfoText__artist__lPTii",TrackInfoText__album:"BasicView_TrackInfoText__album__rL+Vx",TrackInfoText__artistAlbum:"BasicView_TrackInfoText__artistAlbum__pAOKl","TrackInfoText__title--marqueeRunning":"BasicView_TrackInfoText__title--marqueeRunning__XAuB-","TrackInfoText__title--marqueeStopped":"BasicView_TrackInfoText__title--marqueeStopped__mkKIa",TrackInfoText__marqueeTitleWrapper:"BasicView_TrackInfoText__marqueeTitleWrapper__69g8W",TrackInfoText__formatIcon:"BasicView_TrackInfoText__formatIcon__dQuDu",TrackInfoText__formatResolution:"BasicView_TrackInfoText__formatResolution__v6HwC",TrackInfoText__format:"BasicView_TrackInfoText__format__FdrZc",PlayerButtonGroup:"BasicView_PlayerButtonGroup__aIYC4","PlayerButtonGroup--vcenter":"BasicView_PlayerButtonGroup--vcenter__Txbxs",Button:"BasicView_Button__4iIXz",PlayerButton:"BasicView_PlayerButton__-oJgU","Button--toggleable":"BasicView_Button--toggleable__lMSGY",Button__icon:"BasicView_Button__icon__pED1m",PlayerButton__icon:"BasicView_PlayerButton__icon__hfq2b",Button__text:"BasicView_Button__text__la0EO","Button--toggled":"BasicView_Button--toggled__uj8qj","PlayerButton--toggled":"BasicView_PlayerButton--toggled__7jEdl","PlayerButton--repeat":"BasicView_PlayerButton--repeat__WN+W0","PlayerButton--random":"BasicView_PlayerButton--random__p-hOk","PlayerButton--play":"BasicView_PlayerButton--play__5sthr","PlayerButton--previous":"BasicView_PlayerButton--previous__5x2ZG","PlayerButton--next":"BasicView_PlayerButton--next__ZZoi4",Seekbar__slider:"BasicView_Seekbar__slider__+oHKo",Seekbar__seek:"BasicView_Seekbar__seek__Ik5h2",Seekbar__duration:"BasicView_Seekbar__duration__A9Fmh","Seekbar--disabled":"BasicView_Seekbar--disabled__POH8P",Seekbar:"BasicView_Seekbar__uBQsU"},Rh={title:!0,artist:!0,album:!0,mediaInfo:!0},Nh={playbackButtons:!0,seekbar:!0};var Dh=function(e){var t,n,r=e.playerState,i=e.trackInfoVisibility,a=void 0===i?Rh:i,o=e.widgetsVisibility,s=void 0===o?Nh:o,u=e.albumartVisibility,c=void 0===u||u,f=(void 0===r.title||""===r.title)&&(void 0===r.artist||""===r.artist)&&(void 0===r.album||""===r.album),h=!a.title&&!a.artist&&!a.album&&!a.mediaInfo,d=h&&!s.playbackButtons&&!s.seekbar,p=k()((l(t={},"".concat(Mh.PlayerButtonGroup),!0),l(t,"".concat(Mh["PlayerButtonGroup--vcenter"]),f||h),l(t,"no-swipe",!0),t)),v=k()((l(n={},"".concat(Mh.AlbumArt),!0),l(n,"".concat(Mh["AlbumArt--center"]),d),n));return(0,m.jsxs)("div",{className:Mh.Layout,children:[c?(0,m.jsx)("div",{className:v,children:(0,m.jsx)(be,{className:Mh.AlbumArt__image,src:r.albumart,preload:!0})}):null,d?null:(0,m.jsxs)("div",{className:Mh.MainContents,children:[f||h?null:(0,m.jsx)(go,{styles:{baseClassName:"TrackInfoText",bundle:Mh},playerState:r,trackInfoVisibility:e.trackInfoVisibility,trackInfoOrder:e.trackInfoOrder,marqueeTitle:e.marqueeTitle}),s.playbackButtons?(0,m.jsx)(fo,{className:p,buttonStyles:{baseClassName:"PlayerButton",bundle:Mh},playerState:r}):null,!f&&s.seekbar?(0,m.jsx)(Jo,{styles:{baseClassName:"Seekbar",bundle:Mh},playerState:r}):null]})]})},Bh={"bg-fadein-enter":"InfoView_bg-fadein-enter__3+6v-","bg-fadein-enter-active":"InfoView_bg-fadein-enter-active__7xSmk","bg-fadein-enter-done":"InfoView_bg-fadein-enter-done__sy8om",spin:"InfoView_spin__pRKIg","MetadataPanel__info--loading":"InfoView_MetadataPanel__info--loading__x6OHh",Layout:"InfoView_Layout__X-4CI",Button:"InfoView_Button__j+uMo",PlayerButton:"InfoView_PlayerButton__YtZzb",MetadataPanelInfoChooserButton:"InfoView_MetadataPanelInfoChooserButton__C2jSG","Button--toggleable":"InfoView_Button--toggleable__QFqMm",Button__icon:"InfoView_Button__icon__O-WXs",PlayerButton__icon:"InfoView_PlayerButton__icon__ZOhmP",MetadataPanelInfoChooserButton__icon:"InfoView_MetadataPanelInfoChooserButton__icon__H7Rg+",Button__text:"InfoView_Button__text__1o5-O","Button--toggled":"InfoView_Button--toggled__YP47S","PlayerButton--toggled":"InfoView_PlayerButton--toggled__9+WhB",MetadataPanel:"InfoView_MetadataPanel__hv2T3","MetadataPanel--singleLineTitle":"InfoView_MetadataPanel--singleLineTitle__RoQeU","MetadataPanel--singleInfoType":"InfoView_MetadataPanel--singleInfoType__rUkCj",MetadataPanel__header:"InfoView_MetadataPanel__header__wexcn",MetadataPanel__title:"InfoView_MetadataPanel__title__ICOgU","MetadataPanel__title--primary":"InfoView_MetadataPanel__title--primary__rqYLf","MetadataPanel__title--secondary":"InfoView_MetadataPanel__title--secondary__No3f-",MetadataPanel__infoTypeChooser:"InfoView_MetadataPanel__infoTypeChooser__718MI",MetadataPanel__contentsWrapper:"InfoView_MetadataPanel__contentsWrapper__4TxKG",MetadataPanel__art:"InfoView_MetadataPanel__art__BY-Rx",MetadataPanel__artImage:"InfoView_MetadataPanel__artImage__7AjZI",MetadataPanel__infoWrapper:"InfoView_MetadataPanel__infoWrapper__OM70i",MetadataPanel__info:"InfoView_MetadataPanel__info__8B1KO","MetadataPanel__info--empty":"InfoView_MetadataPanel__info--empty__-KGfd","MetadataPanel__info--active":"InfoView_MetadataPanel__info--active__YBRpa",MetadataPanel__lyrics:"InfoView_MetadataPanel__lyrics__68qMx","MetadataPanelInfoChooserButton--toggled":"InfoView_MetadataPanelInfoChooserButton--toggled__MGjQ1",BottomBar:"InfoView_BottomBar__ks6MO",PlayerButtonGroup:"InfoView_PlayerButtonGroup__dp+4Z","PlayerButton--repeat":"InfoView_PlayerButton--repeat__TcloY","PlayerButton--random":"InfoView_PlayerButton--random__uaDg4","PlayerButton--play":"InfoView_PlayerButton--play__4zV4G","PlayerButton--previous":"InfoView_PlayerButton--previous__xpU-2","PlayerButton--next":"InfoView_PlayerButton--next__+3v8D",Seekbar__slider:"InfoView_Seekbar__slider__m6g+E",Seekbar__seek:"InfoView_Seekbar__seek__YZU3-",Seekbar__duration:"InfoView_Seekbar__duration__yXf6T","Seekbar--disabled":"InfoView_Seekbar--disabled__nm-MH",Seekbar:"InfoView_Seekbar__ChmQE"};var Lh=function(e){var t=e.playerState,n=k()(["".concat(Bh.PlayerButtonGroup)],"no-swipe");return(0,m.jsxs)("div",{className:Bh.Layout,children:[(0,m.jsx)(Ga,{styles:{baseClassName:"MetadataPanel",bundle:Bh},song:t.title,album:t.album,artist:t.artist,placeholderImage:t.albumart,restoreStateKey:"NowPlayingScreen.InfoView.restoreState"}),(0,m.jsxs)("div",{className:Bh.BottomBar,children:[(0,m.jsx)(Jo,{styles:{baseClassName:"Seekbar",bundle:Bh},playerState:t}),(0,m.jsx)(fo,{className:n,buttonStyles:{baseClassName:"PlayerButton",bundle:Bh},playerState:t})]})]})},jh={"material-icons":"DockedVolumeIndicator_material-icons__xYgWT",VolumeIndicator__icon:"DockedVolumeIndicator_VolumeIndicator__icon__T0EeB",App:"DockedVolumeIndicator_App__42ac+","szh-menu-container--theme-dark":"DockedVolumeIndicator_szh-menu-container--theme-dark__QVdtC","szh-menu":"DockedVolumeIndicator_szh-menu__7Tf-0","szh-menu__item":"DockedVolumeIndicator_szh-menu__item__bdKNM","szh-menu__item--active":"DockedVolumeIndicator_szh-menu__item--active__cakGn","szh-menu__item--hover":"DockedVolumeIndicator_szh-menu__item--hover__jNwCM",Scrollbar__handle:"DockedVolumeIndicator_Scrollbar__handle__j-2zj","no-transitions":"DockedVolumeIndicator_no-transitions__5W5IH",InitialLoading:"DockedVolumeIndicator_InitialLoading__DyAZy",VolumeIndicator:"DockedVolumeIndicator_VolumeIndicator__1LY4s",DockedVolumeIndicator:"DockedVolumeIndicator_DockedVolumeIndicator__6KpM9",VolumeIndicator__dialWrapper:"DockedVolumeIndicator_VolumeIndicator__dialWrapper__WPsBD",VolumeIndicator__dial:"DockedVolumeIndicator_VolumeIndicator__dial__Siy2w","VolumeIndicator__dial--primary":"DockedVolumeIndicator_VolumeIndicator__dial--primary__cSuS0","VolumeIndicator__dial--highlight":"DockedVolumeIndicator_VolumeIndicator__dial--highlight__SOUjM","VolumeIndicator__dial--muted":"DockedVolumeIndicator_VolumeIndicator__dial--muted__g8vHE",VolumeIndicator__contents:"DockedVolumeIndicator_VolumeIndicator__contents__QSHEl","VolumeIndicator__contents--noDial":"DockedVolumeIndicator_VolumeIndicator__contents--noDial__O0nHm",VolumeIndicator__text:"DockedVolumeIndicator_VolumeIndicator__text__kunXz",VolumeIndicator__percentSymbol:"DockedVolumeIndicator_VolumeIndicator__percentSymbol__qs6iD","VolumeIndicator__icon--muted":"DockedVolumeIndicator_VolumeIndicator__icon--muted__a-WYo",VolumeBarOverlay:"DockedVolumeIndicator_VolumeBarOverlay__naWSt","VolumeBarOverlay--centerVolumeBar":"DockedVolumeIndicator_VolumeBarOverlay--centerVolumeBar__OsoCv","VolumeBarOverlay--after-open":"DockedVolumeIndicator_VolumeBarOverlay--after-open__3-BpP","VolumeBarOverlay--before-close":"DockedVolumeIndicator_VolumeBarOverlay--before-close__klF1s",VolumeBarWrapper:"DockedVolumeIndicator_VolumeBarWrapper__F34iB",VolumeBar:"DockedVolumeIndicator_VolumeBar__5QqsX","VolumeBar--anchored":"DockedVolumeIndicator_VolumeBar--anchored__6Td9c","VolumeBar--anchored-top-left":"DockedVolumeIndicator_VolumeBar--anchored-top-left__AmdEJ","VolumeBar--anchored-top":"DockedVolumeIndicator_VolumeBar--anchored-top__dUH2P","VolumeBar--anchored-top-right":"DockedVolumeIndicator_VolumeBar--anchored-top-right__iGvhS","VolumeBar--anchored-bottom-left":"DockedVolumeIndicator_VolumeBar--anchored-bottom-left__n14tg","VolumeBar--anchored-bottom":"DockedVolumeIndicator_VolumeBar--anchored-bottom__kQ7SF","VolumeBar--anchored-bottom-right":"DockedVolumeIndicator_VolumeBar--anchored-bottom-right__+BoDd","VolumeBar--anchored-left":"DockedVolumeIndicator_VolumeBar--anchored-left__2l3B5","VolumeBar--anchored-right":"DockedVolumeIndicator_VolumeBar--anchored-right__nvgcp","VolumeBar--vertical":"DockedVolumeIndicator_VolumeBar--vertical__0OPTv","VolumeBar--horizontal":"DockedVolumeIndicator_VolumeBar--horizontal__dHAaA","VolumeBarWrapper--after-open":"DockedVolumeIndicator_VolumeBarWrapper--after-open__xrEqi","VolumeBarWrapper--before-close":"DockedVolumeIndicator_VolumeBarWrapper--before-close__gZKwr"};var Fh=function(){var t=dt(fe.CommonSettingsCategory.NowPlayingScreen).settings.dockedVolumeIndicator,n=t.placement,r=t.showVolumeBarOnClick,i=t.volumeBarPosition,a=t.volumeBarOrientation,o=p((0,e.useState)(!1),2),s=o[0],u=o[1],l=p((0,e.useState)({width:window.innerWidth,height:window.innerHeight}),2),c=l[0],h=l[1],d=(0,e.useRef)(null),v=(0,e.useRef)(null),g=(0,e.useRef)(null),y=(0,e.useCallback)((function(){u(!s)}),[u,s]);(0,e.useEffect)((function(){var e=function(){r&&h({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[r]);var b=(0,e.useCallback)((function(){if(!v.current||"center"===i)return"0";var e=v.current.getBoundingClientRect(),t={top:0,right:0,bottom:0,left:0};switch(n){case"top-left":case"top":case"top-right":t.top="".concat(e.bottom,"px"),t.bottom="0";break;case"left":case"right":t.top="0",t.bottom="0";break;default:t.top="0",t.bottom="".concat(c.height-e.top,"px")}switch(n){case"left":t.left="".concat(e.left+e.width,"px"),t.right="0";break;case"right":t.left="0",t.right="".concat(c.width-e.left,"px");break;default:t.left="0",t.right="0"}return Object.values(t).join(" ")}),[n,i,c]),_=(0,e.useMemo)((function(){if(!r)return null;var e={top:"auto",right:"auto",bottom:"auto",left:"auto"},t=g.current?g.current.getBoundingClientRect():null;if("center"===i&&t){var a=(c.height-t.height)/2,o=(c.width-t.width)/2;e.top="".concat(a,"px"),e.left="".concat(o,"px")}else if("anchored"===i){switch(n){case"top-left":case"top":case"top-right":e.top="0";break;case"left":e.left="0";break;case"right":e.right="0";break;default:e.bottom="0"}if(v.current&&t){var s=v.current.getBoundingClientRect();switch(n){case"left":case"right":var u=Math.max(s.top+(s.height-t.height)/2,0),l=u+t.height-c.height;l>0&&(u-=l),e.top="".concat(u,"px");break;default:var f=Math.max(s.left+(s.width-t.width)/2,0),h=f+t.width-c.width;h>0&&(f-=h),e.left="".concat(f,"px")}}}return Object.values(e).join(" ")}),[r,n,i,c]),x=(0,e.useMemo)((function(){if(!r)return null;var e={x:0,y:0};switch(n){case"top-left":case"top":case"top-right":e.y="-80px";break;case"left":e.x="-80px";break;case"right":e.x="80px";break;default:e.y="80px"}return"translate(".concat(e.x,", ").concat(e.y,")")}),[r,n]),w={"--docked-margin":t.margin};"custom"===t.fontSettings&&Object.assign(w,{"--docked-font-size":t.fontSize,"--docked-font-size-percent-symbol":t.fontSizePercentSymbol,"--docked-font-color":t.fontColor}),"custom"===t.iconSettings&&Object.assign(w,{"--docked-icon-size":t.iconSize,"--docked-muted-icon-size":t.iconSize,"--docked-icon-color":t.iconColor});var S=r?{base:jh.VolumeBarWrapper,afterOpen:jh["VolumeBarWrapper--after-open"],beforeClose:jh["VolumeBarWrapper--before-close"]}:void 0,T=r?k()(jh.VolumeBar,jh["VolumeBar--".concat(a)],jh["VolumeBar--".concat(i)],"anchored"===i?jh["VolumeBar--anchored-".concat(n)]:null):void 0,E=d.current?getComputedStyle(d.current).getPropertyValue("font-size"):null,C=r?{content:{"--volume-bar-wrapper-inset":b(),"--volume-bar-inset":_,"--volume-bar-before-close":x,fontSize:"center"===i?E:null}}:void 0,A=r?{base:k()(jh.VolumeBarOverlay,jh["VolumeBarOverlay--".concat(i,"VolumeBar")]),afterOpen:jh["VolumeBarOverlay--after-open"],beforeClose:jh["VolumeBarOverlay--before-close"]}:void 0;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{ref:d,style:w,onClick:r?y:void 0,children:(0,m.jsx)(Za,{ref:v,showDial:!1,styles:{baseClassName:"DockedVolumeIndicator",bundle:jh}})}),(0,m.jsx)(Ft,{isOpen:s,onAfterOpen:function(){g.current&&h(f({},c))},closeTimeoutMS:200,overlayClassName:A,className:S,preventScroll:!0,onRequestClose:y,style:C,children:(0,m.jsx)("div",{ref:g,className:T,children:(0,m.jsx)(Nt,{orientation:a})})})]})},Uh={Clock:"DockedClock_Clock__QgZXF",DockedClock:"DockedClock_DockedClock__T3Zak",Clock__date:"DockedClock_Clock__date__EN4S0",Clock__time:"DockedClock_Clock__time__+yyFa"};var zh=function(){var e=dt(fe.CommonSettingsCategory.NowPlayingScreen).settings.dockedClock,t=fe.DefaultNowPlayingScreenSettings.dockedClock,n={"--docked-margin":e.margin};"custom"===e.fontSettings&&Object.assign(n,{"--docked-font-size":e.fontSize,"--docked-date-color":e.dateColor,"--docked-time-color":e.timeColor});var r="custom"===e.dateFormat?e:t,i={year:"none"===r.yearFormat?void 0:r.yearFormat,month:r.monthFormat,day:r.dayFormat,weekday:"none"===r.dayOfWeekFormat?void 0:r.dayOfWeekFormat},a="custom"===e.timeFormat?e:t,o={hour:a.hourFormat,minute:"numeric",second:a.showSeconds?"numeric":void 0,hour12:!a.hour24},s="dateTime"===e.showInfo||"date"===e.showInfo,u="dateTime"===e.showInfo||"time"===e.showInfo;return(0,m.jsx)("div",{style:n,children:(0,m.jsx)(hf,{showDate:s,showTime:u,dateFormat:i,timeFormat:o,styles:{baseClassName:"DockedClock",bundle:Uh}})})},Vh={DockedWeather:"DockedWeather_DockedWeather__q9Fg9",DockedWeather__unit:"DockedWeather_DockedWeather__unit__34Fg8",DockedWeather__icon:"DockedWeather_DockedWeather__icon__34lKK","DockedWeather__icon--mono":"DockedWeather_DockedWeather__icon--mono__H0xs-",DockedWeather__temp:"DockedWeather_DockedWeather__temp__86MoI",DockedWeather__humidity:"DockedWeather_DockedWeather__humidity__xAWsH",DockedWeather__windSpeed:"DockedWeather_DockedWeather__windSpeed__eW-wl",Clock:"DockedWeather_Clock__UImdN",DockedClock:"DockedWeather_DockedClock__fVVZY",Clock__date:"DockedWeather_Clock__date__uWVfs",Clock__time:"DockedWeather_Clock__time__ueaOU"};var Hh=function(){var e=dt(fe.CommonSettingsCategory.NowPlayingScreen).settings.dockedWeather,t=fe.DefaultNowPlayingScreenSettings.dockedWeather,n=vf(),r="custom"===e.iconSettings?e:t,i={style:r.iconStyle,animate:r.iconAnimate,monoColor:r.iconMonoColor},a=function(e){if("fetched"!==n.status)return null;var t=i.style+(i.animate?"Animated":"Static"),r=n.info.current.iconUrl[e][t],a=[Vh.DockedWeather__icon,Vh["DockedWeather__icon--".concat(e)]];if(!r)return null;if("mono"===i.style){var o={"--icon-mono-url":"url(".concat(r,")"),"--icon-mono-color":i.monoColor};return(0,m.jsx)("div",{className:k().apply(void 0,a.concat([Vh["DockedWeather__icon--mono"]])),style:o})}return(0,m.jsx)("img",{className:k()(a),src:r,alt:""})};if("fetched"===n.status){var o=n.info,s={"--margin":e.margin};return"custom"===e.fontSettings&&Object.assign(s,{"--font-size":e.fontSize,"--font-color":e.fontColor}),"custom"===e.iconSettings&&Object.assign(s,{"--icon-size":e.iconSize}),(0,m.jsxs)("div",{className:Vh.DockedWeather,style:s,children:[(0,m.jsxs)("div",{className:Vh.DockedWeather__unit,children:[a("condition"),(0,m.jsx)("span",{className:Vh.DockedWeather__temp,children:o.current.temp.now.text})]},"temperature"),e.showHumidity?(0,m.jsxs)("div",{className:Vh.DockedWeather__unit,children:[a("humidity"),(0,m.jsx)("span",{className:Vh.DockedWeather__humidity,children:o.current.humidity.text})]},"humidity"):null,e.showWindSpeed?(0,m.jsxs)("div",{className:Vh.DockedWeather__unit,children:[a("windSpeed"),(0,m.jsx)("span",{className:Vh.DockedWeather__windSpeed,children:o.current.windSpeed.text})]},"windSpeed"):null]})}return null},Wh={Button:"DockedActionPanelTrigger_Button__CNvFt",DockedActionPanelTrigger:"DockedActionPanelTrigger_DockedActionPanelTrigger__G9DQh","Button--toggleable":"DockedActionPanelTrigger_Button--toggleable__tnGiT",Button__icon:"DockedActionPanelTrigger_Button__icon__PgUpd",Button__text:"DockedActionPanelTrigger_Button__text__-Oq62","Button--toggled":"DockedActionPanelTrigger_Button--toggled__mKFeF",DockedActionPanelTriggerWrapper:"DockedActionPanelTrigger_DockedActionPanelTriggerWrapper__XrAHx"};var Gh=function(e){var t=dt(fe.CommonSettingsCategory.NowPlayingScreen).settings.dockedActionPanelTrigger,n=fe.DefaultNowPlayingScreenSettings.dockedActionPanelTrigger,r={"--docked-opacity":t.opacity,"--docked-margin":t.margin};"custom"===t.iconSettings&&Object.assign(r,{"--docked-icon-size":t.iconSize,"--docked-icon-color":t.iconColor});var i="custom"===t.iconSettings?t.iconStyle:n.iconStyle;return(0,m.jsx)("div",{className:Wh.DockedActionPanelTriggerWrapper,style:r,children:(0,m.jsx)(Pt,{styles:{baseClassName:"DockedActionPanelTrigger",bundle:Wh},onClick:e.onClick,icon:i})})},qh="VUMeterView_Layout__61AL7",Xh=n(763),Yh="VUMeterCSSPanel_Layout__hMXT6",Qh={MarqueeTitleWrapper:"VUMeterCSSExtendedInfo_MarqueeTitleWrapper__gBE7w","MarqueeTitleWrapper--centered":"VUMeterCSSExtendedInfo_MarqueeTitleWrapper--centered__OT2EO",Title:"VUMeterCSSExtendedInfo_Title__cFnY5","Title--marqueeRunning":"VUMeterCSSExtendedInfo_Title--marqueeRunning__MWK3K","Title--marqueeStopped":"VUMeterCSSExtendedInfo_Title--marqueeStopped__z-xQe",Artist:"VUMeterCSSExtendedInfo_Artist__Ssz8R","Artist--centered":"VUMeterCSSExtendedInfo_Artist--centered__MMGpq",Album:"VUMeterCSSExtendedInfo_Album__LiqfI","Album--centered":"VUMeterCSSExtendedInfo_Album--centered__VrgY4",SampleRate:"VUMeterCSSExtendedInfo_SampleRate__51kMC","SampleRate--centered":"VUMeterCSSExtendedInfo_SampleRate--centered__BwvD-",AlbumArt:"VUMeterCSSExtendedInfo_AlbumArt__c8D4-",TrackType:"VUMeterCSSExtendedInfo_TrackType__fJsun"};Object.create;function Kh(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var Zh=n(7857),$h=new Map,Jh=function(e){return e.cloneNode(!0)},ed=function(){return"file:"===window.location.protocol},td=function(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){try{if(!/\.svg/i.test(e)&&2===r.readyState){var t=r.getResponseHeader("Content-Type");if(!t)throw new Error("Content type not found");var i=(0,Zh.Q)(t).type;if("image/svg+xml"!==i&&"text/plain"!==i)throw new Error("Invalid content type: ".concat(i))}if(4===r.readyState){if(404===r.status||null===r.responseXML)throw new Error(ed()?"Note: SVG injection ajax calls do not work locally without adjusting security settings in your browser. Or consider using a local webserver.":"Unable to load SVG file: "+e);if(!(200===r.status||ed()&&0===r.status))throw new Error("There was a problem injecting the SVG: "+r.status+" "+r.statusText);n(null,r)}}catch(a){if(r.abort(),!(a instanceof Error))throw a;n(a,r)}},r.open("GET",e),r.withCredentials=t,r.overrideMimeType&&r.overrideMimeType("text/xml"),r.send()},nd={},rd=function(e,t){nd[e]=nd[e]||[],nd[e].push(t)},id=function(e,t,n){if($h.has(e)){var r=$h.get(e);if(void 0===r)return void rd(e,n);if(r instanceof SVGSVGElement)return void n(null,Jh(r))}$h.set(e,void 0),rd(e,n),td(e,t,(function(t,n){var r;t?$h.set(e,t):(null===(r=n.responseXML)||void 0===r?void 0:r.documentElement)instanceof SVGSVGElement&&$h.set(e,n.responseXML.documentElement),function(e){for(var t=function(t,n){setTimeout((function(){if(Array.isArray(nd[e])){var n=$h.get(e),r=nd[e][t];n instanceof SVGSVGElement&&r(null,Jh(n)),n instanceof Error&&r(n),t===nd[e].length-1&&delete nd[e]}}),0)},n=0,r=nd[e].length;n<r;n++)t(n)}(e)}))},ad=function(e,t,n){td(e,t,(function(e,t){var r;e?n(e):(null===(r=t.responseXML)||void 0===r?void 0:r.documentElement)instanceof SVGSVGElement&&n(null,t.responseXML.documentElement)}))},od=0,sd=[],ud={},ld="http://www.w3.org/1999/xlink",cd=function(e,t,n,r,i,a,o){var s=e.getAttribute("data-src")||e.getAttribute("src");if(s){if(-1!==sd.indexOf(e))return sd.splice(sd.indexOf(e),1),void(e=null);sd.push(e),e.setAttribute("src",""),(r?id:ad)(s,i,(function(r,i){if(!i)return sd.splice(sd.indexOf(e),1),e=null,void o(r);var u=e.getAttribute("id");u&&i.setAttribute("id",u);var l=e.getAttribute("title");l&&i.setAttribute("title",l);var c=e.getAttribute("width");c&&i.setAttribute("width",c);var f=e.getAttribute("height");f&&i.setAttribute("height",f);var h=Array.from(new Set(Kh(Kh(Kh([],(i.getAttribute("class")||"").split(" "),!0),["injected-svg"],!1),(e.getAttribute("class")||"").split(" "),!0))).join(" ").trim();i.setAttribute("class",h);var d=e.getAttribute("style");d&&i.setAttribute("style",d),i.setAttribute("data-src",s);var p=[].filter.call(e.attributes,(function(e){return/^data-\w[\w-]*$/.test(e.name)}));if(Array.prototype.forEach.call(p,(function(e){e.name&&e.value&&i.setAttribute(e.name,e.value)})),n){var v,m,g,y,b,_={clipPath:["clip-path"],"color-profile":["color-profile"],cursor:["cursor"],filter:["filter"],linearGradient:["fill","stroke"],marker:["marker","marker-start","marker-mid","marker-end"],mask:["mask"],path:[],pattern:["fill","stroke"],radialGradient:["fill","stroke"]};Object.keys(_).forEach((function(e){v=e,g=_[e];for(var t=function(e,t){var n;y=m[e].id,b=y+"-"+ ++od,Array.prototype.forEach.call(g,(function(e){for(var t=0,r=(n=i.querySelectorAll("["+e+'*="'+y+'"]')).length;t<r;t++){var a=n[t].getAttribute(e);a&&!a.match(new RegExp('url\\("?#'+y+'"?\\)'))||n[t].setAttribute(e,"url(#"+b+")")}}));for(var r=i.querySelectorAll("[*|href]"),a=[],o=0,s=r.length;o<s;o++){var u=r[o].getAttributeNS(ld,"href");u&&u.toString()==="#"+m[e].id&&a.push(r[o])}for(var l=0,c=a.length;l<c;l++)a[l].setAttributeNS(ld,"href","#"+b);m[e].id=b},n=0,r=(m=i.querySelectorAll(v+"[id]")).length;n<r;n++)t(n)}))}i.removeAttribute("xmlns:a");for(var x,k,w=i.querySelectorAll("script"),S=[],T=0,E=w.length;T<E;T++)(k=w[T].getAttribute("type"))&&"application/ecmascript"!==k&&"application/javascript"!==k&&"text/javascript"!==k||((x=w[T].innerText||w[T].textContent)&&S.push(x),i.removeChild(w[T]));if(S.length>0&&("always"===t||"once"===t&&!ud[s])){for(var C=0,A=S.length;C<A;C++)new Function(S[C])(window);ud[s]=!0}var P=i.querySelectorAll("style");if(Array.prototype.forEach.call(P,(function(e){e.textContent+=""})),i.setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("xmlns:xlink",ld),a(i),!e.parentNode)return sd.splice(sd.indexOf(e),1),e=null,void o(new Error("Parent node is null"));e.parentNode.replaceChild(i,e),sd.splice(sd.indexOf(e),1),e=null,o(null,i)}))}else o(new Error("Invalid data-src or src attribute"))},fd=n(2007),hd=n.n(fd),dd=["afterInjection","beforeInjection","desc","evalScripts","fallback","httpRequestWithCredentials","loading","renumerateIRIElements","src","title","useRequestCache","wrapper"],pd="http://www.w3.org/2000/svg",vd="http://www.w3.org/1999/xlink",md=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).initialState={hasError:!1,isLoading:!0},e.state=e.initialState,e._isMounted=!1,e.reactWrapper=void 0,e.nonReactWrapper=void 0,e.refCallback=function(t){e.reactWrapper=t},e}ke(n,t);var r=n.prototype;return r.renderSVG=function(){var e,t=this;if(this.reactWrapper instanceof(e=this.reactWrapper,((null==e?void 0:e.ownerDocument)||document).defaultView||window).Node){var n,r,i=this.props,a=i.desc,o=i.evalScripts,s=i.httpRequestWithCredentials,u=i.renumerateIRIElements,l=i.src,c=i.title,f=i.useRequestCache,h=this.props.onError,d=this.props.beforeInjection,p=this.props.afterInjection,v=this.props.wrapper;"svg"===v?((n=document.createElementNS(pd,v)).setAttribute("xmlns",pd),n.setAttribute("xmlns:xlink",vd),r=document.createElementNS(pd,v)):(n=document.createElement(v),r=document.createElement(v)),n.appendChild(r),r.dataset.src=l,this.nonReactWrapper=this.reactWrapper.appendChild(n);var m=function(e){t.removeSVG(),t._isMounted?t.setState((function(){return{hasError:!0,isLoading:!1}}),(function(){h(e)})):h(e)};!function(e,t){var n=void 0===t?{}:t,r=n.afterAll,i=void 0===r?function(){}:r,a=n.afterEach,o=void 0===a?function(){}:a,s=n.beforeEach,u=void 0===s?function(){}:s,l=n.cacheRequests,c=void 0===l||l,f=n.evalScripts,h=void 0===f?"never":f,d=n.httpRequestWithCredentials,p=void 0!==d&&d,v=n.renumerateIRIElements,m=void 0===v||v;if(e&&"length"in e)for(var g=0,y=0,b=e.length;y<b;y++)cd(e[y],h,m,c,p,u,(function(t,n){o(t,n),e&&"length"in e&&e.length===++g&&i(g)}));else e?cd(e,h,m,c,p,u,(function(t,n){o(t,n),i(1),e=null})):i(0)}(r,{afterEach:function(e,n){e?m(e):t._isMounted&&t.setState((function(){return{isLoading:!1}}),(function(){try{p(n)}catch(e){m(e)}}))},beforeEach:function(e){if(e.setAttribute("role","img"),a){var t=e.querySelector(":scope > desc");t&&e.removeChild(t);var n=document.createElement("desc");n.innerHTML=a,e.prepend(n)}if(c){var r=e.querySelector(":scope > title");r&&e.removeChild(r);var i=document.createElement("title");i.innerHTML=c,e.prepend(i)}try{d(e)}catch(o){m(o)}},cacheRequests:f,evalScripts:o,httpRequestWithCredentials:s,renumerateIRIElements:u})}},r.removeSVG=function(){var e;null!=(e=this.nonReactWrapper)&&e.parentNode&&(this.nonReactWrapper.parentNode.removeChild(this.nonReactWrapper),this.nonReactWrapper=null)},r.componentDidMount=function(){this._isMounted=!0,this.renderSVG()},r.componentDidUpdate=function(e){var t=this;(function(e,t){for(var n in e)if(!(n in t))return!0;for(var r in t)if(e[r]!==t[r])return!0;return!1})(_e({},e),this.props)&&this.setState((function(){return t.initialState}),(function(){t.removeSVG(),t.renderSVG()}))},r.componentWillUnmount=function(){this._isMounted=!1,this.removeSVG()},r.render=function(){var t=this.props;t.afterInjection,t.beforeInjection,t.desc,t.evalScripts;var n=t.fallback;t.httpRequestWithCredentials;var r=t.loading;t.renumerateIRIElements,t.src,t.title,t.useRequestCache;var i=t.wrapper,a=xe(t,dd),o=i;return e.createElement(o,_e({},a,{ref:this.refCallback},"svg"===i?{xmlns:pd,xmlnsXlink:vd}:{}),this.state.isLoading&&r&&e.createElement(r,null),this.state.hasError&&n&&e.createElement(n,null))},n}(e.Component);md.defaultProps={afterInjection:function(){},beforeInjection:function(){},desc:"",evalScripts:"never",fallback:null,httpRequestWithCredentials:!1,loading:null,onError:function(){},renumerateIRIElements:!0,title:"",useRequestCache:!0,wrapper:"div"},md.propTypes={afterInjection:fd.func,beforeInjection:fd.func,desc:fd.string,evalScripts:fd.oneOf(["always","once","never"]),fallback:fd.oneOfType([fd.func,fd.object,fd.string]),httpRequestWithCredentials:fd.bool,loading:fd.oneOfType([fd.func,fd.object,fd.string]),onError:fd.func,renumerateIRIElements:fd.bool,src:fd.string.isRequired,title:fd.string,useRequestCache:fd.bool,wrapper:fd.oneOf(["div","span","svg"])};var gd="VUMeterCSSExtendedInfoTime_Layout__Lv514",yd={light:"VUMeter Light",regular:"VUMeter Regular",bold:"VUMeter Bold",digi:"VUMeter Digi"};function bd(e){return Reflect.has(e,"extend")&&!!Reflect.get(e,"extend")}function _d(e,t,n){var r=e.regular+e.overload,i=Math.round(r/100*n),a=Math.min(i,e.regular),o=i-a;return{current:a*t.regular+o*t.overload,max:e.regular*t.regular+e.overload*t.overload}}function xd(e,t,n){return-1*((t-e)/100*n+e)}function kd(e,t){return re((e=1e3*(e||0))-t,2)}function wd(e){var t=[Sd(yd.light,e.url.light),Sd(yd.regular,e.url.regular),Sd(yd.bold,e.url.bold),Sd(yd.digi,e.url.digi)];return Promise.all(t)}function Sd(e,t){return Td.apply(this,arguments)}function Td(){return Td=Ge(Xe().mark((function e(t,n){var r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new FontFace(t,'url("'.concat(n,'")')),e.prev=1,e.next=4,r.load();case 4:i=e.sent,document.fonts.add(i),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Failed to load VU meter font from ".concat(n,":"),e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),Td.apply(this,arguments)}var Ed=function(e){var t=St(),n=Tt().currentSeekPosition,r=e.config,i=r.timeRemaining,a=r.font;if(!i||0===t.duration||"stop"===t.status)return null;var o={"--top":"".concat(i.position.y,"px"),"--left":"".concat(i.position.x,"px"),"--font-family":'"'.concat(yd.digi,'", var(--app-font-family)'),"--font-size":"".concat(a.size.digi,"px"),"--color":i.color},s=kd(t.duration,n);return(0,m.jsx)("span",{className:gd,style:o,children:s})};var Cd=function(t){var n=ge().pluginInfo,r=St(),i=t.config,a=i.playInfo,o=i.albumart,s=i.font,u=p((0,e.useState)(!1),2),l=u[0],c=u[1],f=p((0,e.useState)(!1),2),h=f[0],d=f[1],v=p((0,e.useState)(50),2),g=v[0],y=v[1],b=p((0,e.useState)(!1),2),_=b[0],x=b[1],w=(0,e.useRef)(null),S=(0,e.useRef)(null);if(!a)return null;(0,e.useEffect)((function(){return i&&wd(i.font).then((function(){c(!0)})),function(){c(!1)}}),[i]),(0,e.useEffect)((function(){x(!0)}),[r.title]),(0,e.useEffect)((function(){if(_&&w.current&&S.current){if(w.current.offsetWidth>S.current.offsetWidth){var e=.05*S.current.offsetWidth;d(!0),y(e)}else d(!1);x(!1)}}),[r.title,_,l]);var T=function(e,t,n){if(!l)return null;var i,o,u=a[e],c="samplerate"===n?ie(r):r[n];if(!u||!c)return null;"sampleRate"===e?i=(null===(o=a.trackType)||void 0===o?void 0:o.color)||s.color:i=s.color;var f={"--top":"".concat(u.position.y,"px"),"--left":"".concat(u.position.x,"px"),"--width":"".concat(a.maxWidth,"px"),"--font-family":'"'.concat(yd[u.style],'", var(--app-font-family)'),"--font-size":"".concat(s.size[u.style],"px"),"--color":i},h=k()([Qh[t],a.center?Qh["".concat(t,"--centered")]:null]);return(0,m.jsx)("div",{style:f,className:h,children:c})};return(0,m.jsxs)(m.Fragment,{children:[function(){var e;if(!o||!r.albumart)return null;var t={"--top":"".concat(o.position.y,"px"),"--left":"".concat(o.position.x,"px"),"--width":"".concat(o.size.width,"px"),"--height":"".concat(o.size.height,"px")};return null!==(e=o.border)&&void 0!==e&&e.width&&(t["--border"]="".concat(o.border.width,"px solid ").concat(s.color)),(0,m.jsx)(be,{src:r.albumart,style:t,className:Qh.AlbumArt})}(),function(){if(!l||!a.title)return null;var e={"--top":"".concat(a.title.position.y,"px"),"--left":"".concat(a.title.position.x,"px"),"--width":"".concat(a.maxWidth,"px")},t=k()([Qh.MarqueeTitleWrapper,a.center?Qh["MarqueeTitleWrapper--centered"]:null]),n={"--font-family":'"'.concat(yd[a.title.style],'", var(--app-font-family)'),"--font-size":"".concat(s.size[a.title.style],"px"),"--color":s.color},i=k()([Qh.Title,h&&!_?Qh["Title--marqueeRunning"]:Qh["Title--marqueeStopped"]]),o=(0,m.jsx)("span",{ref:w,style:n,className:i,children:r.title},"title");return(0,m.jsx)("div",{ref:S,style:e,className:t,children:h&&!_?(0,m.jsx)(po.Z,{delay:2,pauseOnHover:!0,speed:g,children:o}):o})}(),T("artist","Artist","artist"),T("album","Album","album"),T("sampleRate","SampleRate","samplerate"),function(){if(!a.trackType)return null;var e=n?ae(r.trackType,n.appUrl):null;if(!e)return null;var t={"--top":"".concat(a.trackType.position.y,"px"),"--left":"".concat(a.trackType.position.x,"px"),"--color":"".concat(a.trackType.color),"--width":"".concat(a.trackType.size.width,"px"),"--height":"".concat(a.trackType.size.height,"px")};return(0,m.jsx)("div",{style:t,className:Qh.TrackType,children:(0,m.jsx)(md,{src:e})})}(),(0,m.jsx)(Ed,{config:i})]})},Ad="VUMeterCSSBasic_Layout__Uw+Ry",Pd="VUMeterCSSBasic_Layout__foreground__rka4W",Id="VUMeterCSSCircularIndicator_Layout__4gYpk";var Od=function(t){var n=t.img,r=t.startAngle,i=t.stopAngle,a=t.distance,o=t.origin,s=t.value,u=p((0,e.useState)(null),2),l=u[0],c=u[1];if((0,e.useEffect)((function(){var e=o.y-n.height/2-a,t=o.x-n.width/2;return c({top:e,left:t}),function(){c(null)}}),[n,o.x,o.y,a]),!l)return null;var f=xd(r,i,s);return(0,m.jsx)("img",{src:n.src,className:Id,style:{"--top":"".concat(l.top,"px"),"--left":"".concat(l.left,"px"),"--distance":"".concat(a,"px"),"--rotate":"".concat(f,"deg")}})},Md="VUMeterCSSLinearIndicator_Layout__xobOi",Rd="VUMeterCSSLinearIndicator_Layout--flipX__Q3oqd";var Nd=function(e){var t,n=e.img,r=e.top,i=e.left,a=e.position,o=e.stepWidth,s=e.direction,u=e.flipX,l=_d(a,o,e.value),c=l.current,f=l.max,h=f-c,d={top:r,left:i};switch(s){case"left":t=u?"0 ".concat(h,"px 0 0"):"0 0 0 ".concat(h,"px"),d={top:r,left:i-f};break;case"right":t=u?"0 0 0 ".concat(h,"px"):"0 ".concat(h,"px 0 0");break;case"up":t="".concat(h,"px 0 0 0");break;case"down":t="0 0 ".concat(h,"px 0")}var p=k()([Md,u?Rd:null]);return(0,m.jsx)("img",{src:n.src,className:p,style:{"--top":"".concat(d.top,"px"),"--left":"".concat(d.left,"px"),"--clip":"Inset(".concat(t,")")}})};var Dd=function(e){var t,n=e.img,r=e.top,i=e.left,a=e.position,o=e.stepWidth,s=e.direction,u=e.flipX,l=_d(a,o,e.value).current;switch(s){case"left":t={top:r,left:i-l};break;case"right":t={top:r,left:i+l};break;case"up":t={top:r-l,left:i};break;case"down":t={top:r+l,left:i}}var c=k()([Md,u?Rd:null]);return(0,m.jsx)("img",{src:n.src,className:c,style:{"--top":"".concat(t.top,"px"),"--left":"".concat(t.left,"px")}})},Bd={left:0,right:0,mono:0};var Ld=function(t){var n=p((0,e.useState)(Bd),2),r=n[0],i=n[1],a=t.config,o=t.assets.images,s=o.background,u=o.foreground,l=o.indicator,c=Je().socket,h=(0,e.useRef)(r),d=(0,e.useRef)(null),v=(0,e.useRef)(Bd),g=(0,e.useCallback)((function(){d.current&&(clearTimeout(d.current),d.current=null)}),[]);(0,e.useEffect)((function(){if(c){var e=function(e){h.current=e};return c.on("nowPlayingVUMeterData",e),function(){c.off("nowPlayingVUMeterData",e),h.current=Bd,g()}}}),[c,g]);var y=function(){g(),le()(v.current,h.current)||(v.current=f({},h.current),i(h.current)),b()},b=(0,e.useCallback)((function(){a&&(d.current=setTimeout(y,1e3*a.uiRefreshPeriod))}),[a]);(0,e.useEffect)((function(){b()}),[b]);var _=(0,e.useCallback)((function(e,t){if("circular"===e.type){var n={img:l,stepsPerDegree:e.stepsPerDegree,distance:e.distance};return 1===e.channels?(0,m.jsx)(Od,f(f({},n),{},{origin:e.monoOrigin,startAngle:e.angle.start,stopAngle:e.angle.stop,value:t.mono})):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Od,f(f({},n),{},{origin:e.leftOrigin,startAngle:e.angle.leftStart,stopAngle:e.angle.leftStop,value:t.left})),(0,m.jsx)(Od,f(f({},n),{},{origin:e.rightOrigin,startAngle:e.angle.rightStart,stopAngle:e.angle.rightStop,value:t.right}))]})}if("linear"===e.type){var r=function(t){switch(e.direction){case"left-right":return"right";case"bottom-top":return"up";case"top-bottom":return"down";case"center-edges":return"left"===t?"left":"right";case"edges-center":return"left"===t?"right":"left"}},i={img:l,top:e.left.y,left:e.left.x,position:e.position,stepWidth:e.stepWidth,direction:r("left"),flipX:e.flipLeft.x,value:t.left},a={img:l,top:e.right.y,left:e.right.x,position:e.position,stepWidth:e.stepWidth,direction:r("right"),flipX:e.flipRight.x,value:t.right};return"single"===e.indicatorType?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Dd,f({},i)),(0,m.jsx)(Dd,f({},a))]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Nd,f({},i)),(0,m.jsx)(Nd,f({},a))]})}}),[]),x={"--top":"".concat(a.meter.y,"px"),"--left":"".concat(a.meter.x,"px"),"--width":"".concat(s.width,"px"),"--height":"".concat(s.height,"px"),"--background":'url("'.concat(s.src,'")')};return(0,m.jsxs)("div",{className:Ad,style:x,children:[_(a,r),u?(0,m.jsx)("div",{className:Pd,style:{"--foreground":'url("'.concat(u.src,'")')}}):null]})},jd="VUMeterErrorPanel_Layout__h5HXe";var Fd=function(e){return(0,m.jsxs)("div",{className:jd,children:[(0,m.jsx)("span",{className:"material-icons",children:"error"}),(0,m.jsx)("div",{children:e.message})]})};var Ud,zd=function(t){var n=t.meter,r=t.offset,i=t.size,a=p((0,e.useState)(null),2),o=a[0],s=a[1];(0,e.useEffect)((function(){var e=!1,t=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=function(){console.log("Failed to load image from ".concat(e)),n({src:e})},r.src=e}))},r=function(t){e||s(t)},i=function(){var e=Ge(Xe().mark((function e(){var i,a,o,u,l,c,f,h,d;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(null),i=[t(n.images.background),t(n.images.indicator),n.images.screenBackground?t(n.images.screenBackground):Promise.resolve(null),n.images.foreground?t(n.images.foreground):Promise.resolve(null)],e.prev=2,e.next=5,Promise.all(i);case 5:a=e.sent,e.next=14;break;case 8:return e.prev=8,e.t0=e.catch(2),o=["Failed to load VU meter asset"],null!==e.t0&&void 0!==e.t0&&e.t0.src&&o.push(e.t0.src),r({error:!0,message:o.join(" from: ")}),e.abrupt("return");case 14:u=p(a,4),l=u[0],c=u[1],f=u[2],h=u[3],l&&c?(d={background:l,indicator:c},f&&(d.screenBackground=f),h&&(d.foreground=h),r({error:!1,images:d})):r(null);case 16:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}();return i(),function(){e=!0}}),[n]);var u=(0,e.useMemo)((function(){return n&&bd(n)?(0,m.jsx)(Cd,{config:n}):null}),[n]);if(!o)return null;if(o.error)return(0,m.jsx)(Fd,{message:o.message});var l=o.images.screenBackground||o.images.background,c=1,f={top:0,left:0};if(i&&i.height>0&&i.width>0){c=Math.min(i.width/l.width,i.height/l.height);var h=l.width*c,d=l.height*c;f={top:(i.height-d)/2,left:(i.width-h)/2}}var v=o.images.screenBackground,g={"--top":"".concat((r?r.top:0)+f.top,"px"),"--left":"".concat((r?r.left:0)+f.left,"px"),"--width":"".concat(l.width,"px"),"--height":"".concat(l.height,"px"),"--background":v?'url("'.concat(v.src,'")'):"none"};return 1!==c&&(g.transform="scale(".concat(c,")"),g.transformOrigin="0 0"),(0,m.jsxs)("div",{className:Yh,style:g,children:[(0,m.jsx)(Ld,{config:n,assets:o}),u]})},Vd="VUMeterPixiPanel_Layout__+LTgi",Hd=function(e){return e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2",e}(Hd||{}),Wd=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS",e}(Wd||{}),Gd=function(e){return e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL",e}(Gd||{}),qd=function(e){return e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR",e}(qd||{}),Xd=function(e){return e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e}(Xd||{}),Yd=function(e){return e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e}(Yd||{}),Qd=function(e){return e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e}(Qd||{}),Kd=function(e){return e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT",e}(Kd||{}),Zd=function(e){return e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT",e}(Zd||{}),$d=function(e){return e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR",e}($d||{}),Jd=function(e){return e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e}(Jd||{}),ep=function(e){return e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL",e}(ep||{}),tp=function(e){return e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",e}(tp||{}),np=function(e){return e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT",e}(np||{}),rp=function(e){return e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL",e}(rp||{}),ip=function(e){return e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp",e}(ip||{}),ap=function(e){return e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE",e[e.COLOR=4]="COLOR",e}(ap||{}),op=function(e){return e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH",e}(op||{}),sp=function(e){return e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e}(sp||{}),up={createCanvas:function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n},getCanvasRenderingContext2D:function(){return CanvasRenderingContext2D},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var e;return null!==(e=document.baseURI)&&void 0!==e?e:window.location.href},getFontFaceSet:function(){return document.fonts},fetch:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return fetch(e,t)})),parseXML:function(e){return(new DOMParser).parseFromString(e,"text/xml")}},lp={ADAPTER:up,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},cp=/iPhone/i,fp=/iPod/i,hp=/iPad/i,dp=/\biOS-universal(?:.+)Mac\b/i,pp=/\bAndroid(?:.+)Mobile\b/i,vp=/Android/i,mp=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,gp=/Silk/i,yp=/Windows Phone/i,bp=/\bWindows(?:.+)ARM\b/i,_p=/BlackBerry/i,xp=/BB10/i,kp=/Opera Mini/i,wp=/\b(CriOS|Chrome)(?:.+)Mobile/i,Sp=/Mobile(?:.+)Firefox\b/i,Tp=function(e){return"undefined"!==typeof e&&"MacIntel"===e.platform&&"number"===typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"===typeof MSStream};function Ep(e){var t={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"===typeof navigator?"string"===typeof e?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var n=t.userAgent,r=n.split("[FBAN");"undefined"!==typeof r[1]&&(n=r[0]),"undefined"!==typeof(r=n.split("Twitter"))[1]&&(n=r[0]);var i=function(e){return function(t){return t.test(e)}}(n),a={apple:{phone:i(cp)&&!i(yp),ipod:i(fp),tablet:!i(cp)&&(i(hp)||Tp(t))&&!i(yp),universal:i(dp),device:(i(cp)||i(fp)||i(hp)||i(dp)||Tp(t))&&!i(yp)},amazon:{phone:i(mp),tablet:!i(mp)&&i(gp),device:i(mp)||i(gp)},android:{phone:!i(yp)&&i(mp)||!i(yp)&&i(pp),tablet:!i(yp)&&!i(mp)&&!i(pp)&&(i(gp)||i(vp)),device:!i(yp)&&(i(mp)||i(gp)||i(pp)||i(vp))||i(/\bokhttp\b/i)},windows:{phone:i(yp),tablet:i(bp),device:i(yp)||i(bp)},other:{blackberry:i(_p),blackberry10:i(xp),opera:i(kp),firefox:i(Sp),chrome:i(wp),device:i(_p)||i(xp)||i(kp)||i(Sp)||i(wp)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}var Cp=(null!==(Ud=Ep.default)&&void 0!==Ud?Ud:Ep)(globalThis.navigator);lp.RETINA_PREFIX=/@([0-9\.]+)x/,lp.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Ap=n(7143),Pp=n(7089),Ip=n(2114),Op={parse:Ip.Qc,format:Ip.WU,resolve:Ip.DB};function Mp(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received ".concat(JSON.stringify(e)))}function Rp(e){return e.split("?")[0].split("#")[0]}var Np,Dp={toPosix:function(e){return t="\\",n="/",e.replace(new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),n);var t,n},isUrl:function(e){return/^https?:/.test(this.toPosix(e))},isDataUrl:function(e){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(e)},hasProtocol:function(e){return/^[^/:]+:\//.test(this.toPosix(e))},getProtocol:function(e){Mp(e),e=this.toPosix(e);var t="",n=/^file:\/\/\//.exec(e),r=/^[^/:]+:\/\//.exec(e),i=/^[^/:]+:\//.exec(e);if(n||r||i){var a=(null===n||void 0===n?void 0:n[0])||(null===r||void 0===r?void 0:r[0])||(null===i||void 0===i?void 0:i[0]);t=a,e=e.slice(a.length)}return t},toAbsolute:function(e,t,n){if(this.isDataUrl(e))return e;var r=Rp(this.toPosix(null!==t&&void 0!==t?t:lp.ADAPTER.getBaseUrl())),i=Rp(this.toPosix(null!==n&&void 0!==n?n:this.rootname(r)));return Mp(e),(e=this.toPosix(e)).startsWith("/")?Dp.join(i,e.slice(1)):this.isAbsolute(e)?e:this.join(r,e)},normalize:function(e){if(Mp(e=this.toPosix(e)),0===e.length)return".";var t="",n=e.startsWith("/");this.hasProtocol(e)&&(t=this.rootname(e),e=e.slice(t.length));var r=e.endsWith("/");return e=function(e,t){for(var n="",r=0,i=-1,a=0,o=-1,s=0;s<=e.length;++s){if(s<e.length)o=e.charCodeAt(s);else{if(47===o)break;o=47}if(47===o){if(i===s-1||1===a);else if(i!==s-1&&2===a){if(n.length<2||2!==r||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var u=n.lastIndexOf("/");if(u!==n.length-1){-1===u?(n="",r=0):r=(n=n.slice(0,u)).length-1-n.lastIndexOf("/"),i=s,a=0;continue}}else if(2===n.length||1===n.length){n="",r=0,i=s,a=0;continue}t&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+="/".concat(e.slice(i+1,s)):n=e.slice(i+1,s),r=s-i-1;i=s,a=0}else 46===o&&-1!==a?++a:a=-1}return n}(e,!1),e.length>0&&r&&(e+="/"),n?"/".concat(e):t+e},isAbsolute:function(e){return Mp(e),e=this.toPosix(e),!!this.hasProtocol(e)||e.startsWith("/")},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var n=t<0||arguments.length<=t?void 0:arguments[t];if(Mp(n),n.length>0)if(void 0===e)e=n;else{var r,i=null!==(r=t-1<0||arguments.length<=t-1?void 0:arguments[t-1])&&void 0!==r?r:"";this.extname(i)?e+="/../".concat(n):e+="/".concat(n)}}return void 0===e?".":this.normalize(e)},dirname:function(e){if(Mp(e),0===e.length)return".";for(var t=(e=this.toPosix(e)).charCodeAt(0),n=47===t,r=-1,i=!0,a=this.getProtocol(e),o=e,s=(e=e.slice(a.length)).length-1;s>=1;--s)if(47===(t=e.charCodeAt(s))){if(!i){r=s;break}}else i=!1;return-1===r?n?"/":this.isUrl(o)?a+e:a:n&&1===r?"//":a+e.slice(0,r)},rootname:function(e){Mp(e);var t="";if(t=(e=this.toPosix(e)).startsWith("/")?"/":this.getProtocol(e),this.isUrl(e)){var n=e.indexOf("/",t.length);(t=-1!==n?e.slice(0,n):e).endsWith("/")||(t+="/")}return t},basename:function(e,t){Mp(e),t&&Mp(t),e=Rp(this.toPosix(e));var n,r=0,i=-1,a=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var o=t.length-1,s=-1;for(n=e.length-1;n>=0;--n){var u=e.charCodeAt(n);if(47===u){if(!a){r=n+1;break}}else-1===s&&(a=!1,s=n+1),o>=0&&(u===t.charCodeAt(o)?-1===--o&&(i=n):(o=-1,i=s))}return r===i?i=s:-1===i&&(i=e.length),e.slice(r,i)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!a){r=n+1;break}}else-1===i&&(a=!1,i=n+1);return-1===i?"":e.slice(r,i)},extname:function(e){Mp(e);for(var t=-1,n=0,r=-1,i=!0,a=0,o=(e=Rp(this.toPosix(e))).length-1;o>=0;--o){var s=e.charCodeAt(o);if(47!==s)-1===r&&(i=!1,r=o+1),46===s?-1===t?t=o:1!==a&&(a=1):-1!==t&&(a=-1);else if(!i){n=o+1;break}}return-1===t||-1===r||0===a||1===a&&t===r-1&&t===n+1?"":e.slice(t,r)},parse:function(e){Mp(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var n,r=(e=Rp(this.toPosix(e))).charCodeAt(0),i=this.isAbsolute(e);t.root=this.rootname(e),n=i||this.hasProtocol(e)?1:0;for(var a=-1,o=0,s=-1,u=!0,l=e.length-1,c=0;l>=n;--l)if(47!==(r=e.charCodeAt(l)))-1===s&&(u=!1,s=l+1),46===r?-1===a?a=l:1!==c&&(c=1):-1!==a&&(c=-1);else if(!u){o=l+1;break}return-1===a||-1===s||0===c||1===c&&a===s-1&&a===o+1?-1!==s&&(t.base=t.name=0===o&&i?e.slice(1,s):e.slice(o,s)):(0===o&&i?(t.name=e.slice(1,a),t.base=e.slice(1,s)):(t.name=e.slice(o,a),t.base=e.slice(o,s)),t.ext=e.slice(a,s)),t.dir=this.dirname(e),t},sep:"/",delimiter:":"},Bp={};function Lp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(!Bp[t]){var r=(new Error).stack;"undefined"===typeof r?console.warn("PixiJS Deprecation Warning: ","".concat(t,"\nDeprecated since v").concat(e)):(r=r.split("\n").splice(n).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6","".concat(t,"\nDeprecated since v").concat(e)),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ","".concat(t,"\nDeprecated since v").concat(e)),console.warn(r))),Bp[t]=!0}}function jp(){return"undefined"===typeof Np&&(Np=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:lp.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{var t,n;if(!lp.ADAPTER.getWebGLRenderingContext())return!1;var r=lp.ADAPTER.createCanvas(),i=r.getContext("webgl",e)||r.getContext("experimental-webgl",e),a=!(null===(t=i)||void 0===t||null===(n=t.getContextAttributes())||void 0===n||!n.stencil);if(i){var o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,a}catch(Vp){return!1}}()),Np}var Fp={grad:.9,turn:360,rad:360/(2*Math.PI)},Up=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},zp=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},Vp=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},Hp=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},Wp=function(e){return{r:Vp(e.r,0,255),g:Vp(e.g,0,255),b:Vp(e.b,0,255),a:Vp(e.a)}},Gp=function(e){return{r:zp(e.r),g:zp(e.g),b:zp(e.b),a:zp(e.a,3)}},qp=/^#([0-9a-f]{3,8})$/i,Xp=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},Yp=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,a=Math.max(t,n,r),o=a-Math.min(t,n,r),s=o?a===t?(n-r)/o:a===n?2+(r-t)/o:4+(t-n)/o:0;return{h:60*(s<0?s+6:s),s:a?o/a*100:0,v:a/255*100,a:i}},Qp=function(e){var t=e.h,n=e.s,r=e.v,i=e.a;t=t/360*6,n/=100,r/=100;var a=Math.floor(t),o=r*(1-n),s=r*(1-(t-a)*n),u=r*(1-(1-t+a)*n),l=a%6;return{r:255*[r,s,o,o,u,r][l],g:255*[u,r,r,s,o,o][l],b:255*[o,o,u,r,r,s][l],a:i}},Kp=function(e){return{h:Hp(e.h),s:Vp(e.s,0,100),l:Vp(e.l,0,100),a:Vp(e.a)}},Zp=function(e){return{h:zp(e.h),s:zp(e.s),l:zp(e.l),a:zp(e.a,3)}},$p=function(e){return Qp((n=(t=e).s,{h:t.h,s:(n*=((r=t.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:t.a}));var t,n,r},Jp=function(e){return{h:(t=Yp(e)).h,s:(i=(200-(n=t.s))*(r=t.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,n,r,i},ev=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,tv=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,nv=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,rv=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,iv={string:[[function(e){var t=qp.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?zp(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?zp(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=nv.exec(e)||rv.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:Wp({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=ev.exec(e)||tv.exec(e);if(!t)return null;var n,r,i=Kp({h:(n=t[1],r=t[2],void 0===r&&(r="deg"),Number(n)*(Fp[r]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return $p(i)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,r=e.b,i=e.a,a=void 0===i?1:i;return Up(t)&&Up(n)&&Up(r)?Wp({r:Number(t),g:Number(n),b:Number(r),a:Number(a)}):null},"rgb"],[function(e){var t=e.h,n=e.s,r=e.l,i=e.a,a=void 0===i?1:i;if(!Up(t)||!Up(n)||!Up(r))return null;var o=Kp({h:Number(t),s:Number(n),l:Number(r),a:Number(a)});return $p(o)},"hsl"],[function(e){var t=e.h,n=e.s,r=e.v,i=e.a,a=void 0===i?1:i;if(!Up(t)||!Up(n)||!Up(r))return null;var o=function(e){return{h:Hp(e.h),s:Vp(e.s,0,100),v:Vp(e.v,0,100),a:Vp(e.a)}}({h:Number(t),s:Number(n),v:Number(r),a:Number(a)});return Qp(o)},"hsv"]]},av=function(e,t){for(var n=0;n<t.length;n++){var r=t[n][0](e);if(r)return[r,t[n][1]]}return[null,void 0]},ov=function(e){return"string"==typeof e?av(e.trim(),iv.string):"object"==typeof e&&null!==e?av(e,iv.object):[null,void 0]},sv=function(e,t){var n=Jp(e);return{h:n.h,s:Vp(n.s+100*t,0,100),l:n.l,a:n.a}},uv=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},lv=function(e,t){var n=Jp(e);return{h:n.h,s:n.s,l:Vp(n.l+100*t,0,100),a:n.a}},cv=function(){function e(e){this.parsed=ov(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return zp(uv(this.rgba),2)},e.prototype.isDark=function(){return uv(this.rgba)<.5},e.prototype.isLight=function(){return uv(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=Gp(this.rgba)).r,n=e.g,r=e.b,a=(i=e.a)<1?Xp(zp(255*i)):"","#"+Xp(t)+Xp(n)+Xp(r)+a;var e,t,n,r,i,a},e.prototype.toRgb=function(){return Gp(this.rgba)},e.prototype.toRgbString=function(){return t=(e=Gp(this.rgba)).r,n=e.g,r=e.b,(i=e.a)<1?"rgba("+t+", "+n+", "+r+", "+i+")":"rgb("+t+", "+n+", "+r+")";var e,t,n,r,i},e.prototype.toHsl=function(){return Zp(Jp(this.rgba))},e.prototype.toHslString=function(){return t=(e=Zp(Jp(this.rgba))).h,n=e.s,r=e.l,(i=e.a)<1?"hsla("+t+", "+n+"%, "+r+"%, "+i+")":"hsl("+t+", "+n+"%, "+r+"%)";var e,t,n,r,i},e.prototype.toHsv=function(){return e=Yp(this.rgba),{h:zp(e.h),s:zp(e.s),v:zp(e.v),a:zp(e.a,3)};var e},e.prototype.invert=function(){return fv({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),fv(sv(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),fv(sv(this.rgba,-e))},e.prototype.grayscale=function(){return fv(sv(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),fv(lv(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),fv(lv(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?fv({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):zp(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=Jp(this.rgba);return"number"==typeof e?fv({h:e,s:t.s,l:t.l,a:t.a}):zp(t.h)},e.prototype.isEqual=function(e){return this.toHex()===fv(e).toHex()},e}(),fv=function(e){return e instanceof cv?e:new cv(e)},hv=[];!function(e){e.forEach((function(e){hv.indexOf(e)<0&&(e(cv,iv),hv.push(e))}))}([function(e,t){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in n)r[n[i]]=i;var a={};e.prototype.toName=function(t){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var i,o,s=r[this.toHex()];if(s)return s;if(null==t?void 0:t.closest){var u=this.toRgb(),l=1/0,c="black";if(!a.length)for(var f in n)a[f]=new e(n[f]).toRgb();for(var h in n){var d=(i=u,o=a[h],Math.pow(i.r-o.r,2)+Math.pow(i.g-o.g,2)+Math.pow(i.b-o.b,2));d<l&&(l=d,c=h)}return c}},t.string.push([function(t){var r=t.toLowerCase(),i="transparent"===r?"#0000":n[r];return i?new e(i).toRgb():null},"name"])}]);var dv=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16777215;U(this,e),this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}return V(e,[{key:"red",get:function(){return this._components[0]}},{key:"green",get:function(){return this._components[1]}},{key:"blue",get:function(){return this._components[2]}},{key:"alpha",get:function(){return this._components[3]}},{key:"setValue",value:function(e){return this.value=e,this}},{key:"value",get:function(){return this._value},set:function(t){if(t instanceof e)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(null===t)throw new Error("Cannot set PIXI.Color#value to null");null!==this._value&&this.isSourceEqual(this._value,t)||(this.normalize(t),this._value=this.cloneSource(t))}}},{key:"cloneSource",value:function(e){return"string"===typeof e||"number"===typeof e||e instanceof Number||null===e?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):"object"===typeof e&&null!==e?f({},e):e}},{key:"isSourceEqual",value:function(e,t){var n=typeof e;if(n!==typeof t)return!1;if("number"===n||"string"===n||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length===t.length&&e.every((function(e,n){return e===t[n]}));if(null!==e&&null!==t){var r=Object.keys(e),i=Object.keys(t);return r.length===i.length&&r.every((function(n){return e[n]===t[n]}))}return e===t}},{key:"toRgba",value:function(){var e=p(this._components,4);return{r:e[0],g:e[1],b:e[2],a:e[3]}}},{key:"toRgb",value:function(){var e=p(this._components,3);return{r:e[0],g:e[1],b:e[2]}}},{key:"toRgbaString",value:function(){var e=p(this.toUint8RgbArray(),3),t=e[0],n=e[1],r=e[2];return"rgba(".concat(t,",").concat(n,",").concat(r,",").concat(this.alpha,")")}},{key:"toUint8RgbArray",value:function(e){var t,n=p(this._components,3),r=n[0],i=n[1],a=n[2];return(e=null!==(t=e)&&void 0!==t?t:[])[0]=Math.round(255*r),e[1]=Math.round(255*i),e[2]=Math.round(255*a),e}},{key:"toRgbArray",value:function(e){var t;e=null!==(t=e)&&void 0!==t?t:[];var n=p(this._components,3),r=n[0],i=n[1],a=n[2];return e[0]=r,e[1]=i,e[2]=a,e}},{key:"toNumber",value:function(){return this._int}},{key:"toLittleEndianNumber",value:function(){var e=this._int;return(e>>16)+(65280&e)+((255&e)<<16)}},{key:"multiply",value:function(t){var n=p(e.temp.setValue(t)._components,4),r=n[0],i=n[1],a=n[2],o=n[3];return this._components[0]*=r,this._components[1]*=i,this._components[2]*=a,this._components[3]*=o,this.refreshInt(),this._value=null,this}},{key:"premultiply",value:function(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}},{key:"toPremultiplied",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(1===e)return(255<<24)+this._int;if(0===e)return t?0:this._int;var n=this._int>>16&255,r=this._int>>8&255,i=255&this._int;return t&&(n=n*e+.5|0,r=r*e+.5|0,i=i*e+.5|0),(255*e<<24)+(n<<16)+(r<<8)+i}},{key:"toHex",value:function(){var e=this._int.toString(16);return"#".concat("000000".substring(0,6-e.length)+e)}},{key:"toHexa",value:function(){var e=Math.round(255*this._components[3]).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}},{key:"setAlpha",value:function(e){return this._components[3]=this._clamp(e),this}},{key:"round",value:function(e){var t=p(this._components,3),n=t[0],r=t[1],i=t[2];return this._components[0]=Math.round(n*e)/e,this._components[1]=Math.round(r*e)/e,this._components[2]=Math.round(i*e)/e,this.refreshInt(),this._value=null,this}},{key:"toArray",value:function(e){var t;e=null!==(t=e)&&void 0!==t?t:[];var n=p(this._components,4),r=n[0],i=n[1],a=n[2],o=n[3];return e[0]=r,e[1]=i,e[2]=a,e[3]=o,e}},{key:"normalize",value:function(t){var n,r,i,a;if(("number"===typeof t||t instanceof Number)&&t>=0&&t<=16777215){n=(t>>16&255)/255,r=(t>>8&255)/255,i=(255&t)/255,a=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4){var o=p(t=this._clamp(t),4);n=o[0],r=o[1],i=o[2];var s=o[3];a=void 0===s?1:s}else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4){var u=p(t=this._clamp(t,0,255),4);n=u[0],r=u[1],i=u[2];var l=u[3];a=void 0===l?255:l,n/=255,r/=255,i/=255,a/=255}else if("string"===typeof t||"object"===typeof t){if("string"===typeof t){var c=e.HEX_PATTERN.exec(t);c&&(t="#".concat(c[2]))}var f=fv(t);if(f.isValid()){var h=f.rgba;n=h.r,r=h.g,i=h.b,a=h.a,n/=255,r/=255,i/=255}}if(void 0===n)throw new Error("Unable to convert color ".concat(t));this._components[0]=n,this._components[1]=r,this._components[2]=i,this._components[3]=a,this.refreshInt()}},{key:"refreshInt",value:function(){this._clamp(this._components);var e=p(this._components,3),t=e[0],n=e[1],r=e[2];this._int=(255*t<<16)+(255*n<<8)+(255*r|0)}},{key:"_clamp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return"number"===typeof e?Math.min(Math.max(e,t),n):(e.forEach((function(r,i){e[i]=Math.min(Math.max(r,t),n)})),e)}}]),e}(),pv=dv;pv.shared=new dv,pv.temp=new dv,pv.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;var vv=function(){for(var e=[],t=[],n=0;n<32;n++)e[n]=n,t[n]=n;e[qd.NORMAL_NPM]=qd.NORMAL,e[qd.ADD_NPM]=qd.ADD,e[qd.SCREEN_NPM]=qd.SCREEN,t[qd.NORMAL]=qd.NORMAL_NPM,t[qd.ADD]=qd.ADD_NPM,t[qd.SCREEN]=qd.SCREEN_NPM;var r=[];return r.push(t),r.push(e),r}();function mv(e,t){return vv[t?1:0][e]}function gv(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}Float32Array,Uint32Array,Int32Array,Uint8Array;function yv(e){return e+=0===e?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1}function bv(e){return!(e&e-1)&&!!e}function _v(e){var t=(e>65535?1:0)<<4,n=((e>>>=t)>255?1:0)<<3;return t|=n,t|=n=((e>>>=n)>15?1:0)<<2,(t|=n=((e>>>=n)>3?1:0)<<1)|(e>>>=n)>>1}function xv(e,t,n){var r,i=e.length;if(!(t>=i||0===n)){var a=i-(n=t+n>i?i-t:n);for(r=t;r<a;++r)e[r]=e[r+n];e.length=a}}function kv(e){return 0===e?0:e<0?-1:1}var wv=0;function Sv(){return++wv}var Tv=function(){function e(t,n,r,i){U(this,e),this.left=t,this.top=n,this.right=r,this.bottom=i}return V(e,[{key:"width",get:function(){return this.right-this.left}},{key:"height",get:function(){return this.bottom-this.top}},{key:"isEmpty",value:function(){return this.left===this.right||this.top===this.bottom}}]),e}(),Ev=Tv;Ev.EMPTY=new Tv(0,0,0,0);var Cv={},Av=Object.create(null),Pv=Object.create(null);var Iv,Ov=function(){function e(t,n,r){U(this,e),this._canvas=lp.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||lp.RESOLUTION,this.resize(t,n)}return V(e,[{key:"clear",value:function(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}},{key:"resize",value:function(e,t){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(t*this.resolution)}},{key:"destroy",value:function(){this._context=null,this._canvas=null}},{key:"width",get:function(){return this._checkDestroyed(),this._canvas.width},set:function(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}},{key:"height",get:function(){return this._checkDestroyed(),this._canvas.height},set:function(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}},{key:"canvas",get:function(){return this._checkDestroyed(),this._canvas}},{key:"context",get:function(){return this._checkDestroyed(),this._context}},{key:"_checkDestroyed",value:function(){if(null===this._canvas)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}]),e}();function Mv(e,t,n){for(var r=0,i=4*n*t;r<t;++r,i+=4)if(0!==e[i+3])return!1;return!0}function Rv(e,t,n,r,i){for(var a=4*t,o=r,s=r*a+4*n;o<=i;++o,s+=a)if(0!==e[s+3])return!1;return!0}function Nv(e){var t=function(e){var t=e.width,n=e.height,r=e.getContext("2d",{willReadFrequently:!0});if(null===r)throw new TypeError("Failed to get canvas 2D context");for(var i=r.getImageData(0,0,t,n).data,a=0,o=0,s=t-1,u=n-1;o<n&&Mv(i,t,o);)++o;if(o===n)return Ev.EMPTY;for(;Mv(i,t,u);)--u;for(;Rv(i,t,a,o,u);)++a;for(;Rv(i,t,s,o,u);)--s;return++s,++u,new Ev(a,o,s,u)}(e),n=t.width,r=t.height,i=null;if(!t.isEmpty()){var a=e.getContext("2d");if(null===a)throw new TypeError("Failed to get canvas 2D context");i=a.getImageData(t.left,t.top,n,r)}return{width:n,height:r,data:i}}function Dv(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=null===(t=lp.RETINA_PREFIX)||void 0===t?void 0:t.exec(e);return r?parseFloat(r[1]):n}var Bv=function(e){return e.Renderer="renderer",e.Application="application",e.RendererSystem="renderer-webgl-system",e.RendererPlugin="renderer-webgl-plugin",e.CanvasRendererSystem="renderer-canvas-system",e.CanvasRendererPlugin="renderer-canvas-plugin",e.Asset="asset",e.LoadParser="load-parser",e.ResolveParser="resolve-parser",e.CacheParser="cache-parser",e.DetectionParser="detection-parser",e}(Bv||{}),Lv=function(e){if("function"===typeof e||"object"===typeof e&&e.extension){if(!e.extension)throw new Error("Extension class must have an extension object");e=f(f({},"object"!==typeof e.extension?{type:e.extension}:e.extension),{},{ref:e})}if("object"!==typeof e)throw new Error("Invalid extension type");return"string"===typeof(e=f({},e)).type&&(e.type=[e.type]),e},jv=function(e,t){var n;return null!==(n=Lv(e).priority)&&void 0!==n?n:t},Fv={_addHandlers:{},_removeHandlers:{},_queue:{},remove:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.map(Lv).forEach((function(t){t.type.forEach((function(n){var r,i;return null===(r=(i=e._removeHandlers)[n])||void 0===r?void 0:r.call(i,t)}))})),this},add:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.map(Lv).forEach((function(t){t.type.forEach((function(n){var r=e._addHandlers,i=e._queue;r[n]?r[n](t):(i[n]=i[n]||[],i[n].push(t))}))})),this},handle:function(e,t,n){var r=this._addHandlers,i=this._removeHandlers;if(r[e]||i[e])throw new Error("Extension type ".concat(e," already has a handler"));r[e]=t,i[e]=n;var a=this._queue;return a[e]&&(a[e].forEach((function(e){return t(e)})),delete a[e]),this},handleByMap:function(e,t){return this.handle(e,(function(e){t[e.name]=e.ref}),(function(e){delete t[e.name]}))},handleByList:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return this.handle(e,(function(e){t.includes(e.ref)||(t.push(e.ref),t.sort((function(e,t){return jv(t,n)-jv(e,n)})))}),(function(e){var n=t.indexOf(e.ref);-1!==n&&t.splice(n,1)}))}},Uv=function(){function e(t){U(this,e),"number"===typeof t?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return V(e,[{key:"int8View",get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}},{key:"uint8View",get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}},{key:"int16View",get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}},{key:"uint16View",get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}},{key:"int32View",get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}},{key:"view",value:function(e){return this["".concat(e,"View")]}},{key:"destroy",value:function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}}],[{key:"sizeOf",value:function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error("".concat(e," isn't a valid view type"))}}}]),e}(),zv=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Vv(e){for(var t="",n=0;n<e;++n)n>0&&(t+="\nelse "),n<e-1&&(t+="if(test == ".concat(n,".0){}"));return t}var Hv=function(){function e(){U(this,e),this.data=0,this.blendMode=qd.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return V(e,[{key:"blend",get:function(){return!!(1&this.data)},set:function(e){!!(1&this.data)!==e&&(this.data^=1)}},{key:"offsets",get:function(){return!!(2&this.data)},set:function(e){!!(2&this.data)!==e&&(this.data^=2)}},{key:"culling",get:function(){return!!(4&this.data)},set:function(e){!!(4&this.data)!==e&&(this.data^=4)}},{key:"depthTest",get:function(){return!!(8&this.data)},set:function(e){!!(8&this.data)!==e&&(this.data^=8)}},{key:"depthMask",get:function(){return!!(32&this.data)},set:function(e){!!(32&this.data)!==e&&(this.data^=32)}},{key:"clockwiseFrontFace",get:function(){return!!(16&this.data)},set:function(e){!!(16&this.data)!==e&&(this.data^=16)}},{key:"blendMode",get:function(){return this._blendMode},set:function(e){this.blend=e!==qd.NONE,this._blendMode=e}},{key:"polygonOffset",get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e}},{key:"toString",value:function(){return"[@pixi/core:State blendMode=".concat(this.blendMode," clockwiseFrontFace=").concat(this.clockwiseFrontFace," culling=").concat(this.culling," depthMask=").concat(this.depthMask," polygonOffset=").concat(this.polygonOffset,"]")}}],[{key:"for2d",value:function(){var t=new e;return t.depthTest=!1,t.blend=!0,t}}]),e}(),Wv=[];function Gv(e,t){if(!e)return null;var n="";if("string"===typeof e){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);r&&(n=r[1].toLowerCase())}for(var i=Wv.length-1;i>=0;--i){var a=Wv[i];if(a.test&&a.test(e,n))return new a(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")}var qv=function(){function e(t){U(this,e),this.items=[],this._name=t,this._aliasCount=0}return V(e,[{key:"emit",value:function(e,t,n,r,i,a,o,s){if(arguments.length>8)throw new Error("max arguments reached");var u=this.name,l=this.items;this._aliasCount++;for(var c=0,f=l.length;c<f;c++)l[c][u](e,t,n,r,i,a,o,s);return l===this.items&&this._aliasCount--,this}},{key:"ensureNonAliasedItems",value:function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}},{key:"add",value:function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}},{key:"remove",value:function(e){var t=this.items.indexOf(e);return-1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this}},{key:"contains",value:function(e){return this.items.includes(e)}},{key:"removeAll",value:function(){return this.ensureNonAliasedItems(),this.items.length=0,this}},{key:"destroy",value:function(){this.removeAll(),this.items=null,this._name=null}},{key:"empty",get:function(){return 0===this.items.length}},{key:"name",get:function(){return this._name}}]),e}();Object.defineProperties(qv.prototype,{dispatch:{value:qv.prototype.emit},run:{value:qv.prototype.emit}});var Xv=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;U(this,e),this._width=t,this._height=n,this.destroyed=!1,this.internal=!1,this.onResize=new qv("setRealSize"),this.onUpdate=new qv("update"),this.onError=new qv("onError")}return V(e,[{key:"bind",value:function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}},{key:"unbind",value:function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}},{key:"resize",value:function(e,t){e===this._width&&t===this._height||(this._width=e,this._height=t,this.onResize.emit(e,t))}},{key:"valid",get:function(){return!!this._width&&!!this._height}},{key:"update",value:function(){this.destroyed||this.onUpdate.emit()}},{key:"load",value:function(){return Promise.resolve(this)}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"style",value:function(e,t,n){return!1}},{key:"dispose",value:function(){}},{key:"destroy",value:function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}}],[{key:"test",value:function(e,t){return!1}}]),e}(),Yv=function(e){X(n,e);var t=K(n);function n(e,r){var i;U(this,n);var a=r||{},o=a.width,s=a.height;if(!o||!s)throw new Error("BufferResource width or height invalid");return(i=t.call(this,o,s)).data=e,i}return V(n,[{key:"upload",value:function(e,t,n){var r=e.gl;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===tp.UNPACK);var i=t.realWidth,a=t.realHeight;return n.width===i&&n.height===a?r.texSubImage2D(t.target,0,0,0,i,a,t.format,n.type,this.data):(n.width=i,n.height=a,r.texImage2D(t.target,0,n.internalFormat,i,a,0,t.format,n.type,this.data)),!0}},{key:"dispose",value:function(){this.data=null}}],[{key:"test",value:function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}]),n}(Xv),Qv={scaleMode:$d.NEAREST,format:Yd.RGBA,alphaMode:tp.NPM},Kv=function(e){X(n,e);var t=K(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;U(this,n),e=t.call(this);var a=i=Object.assign({},n.defaultOptions,i),o=a.alphaMode,s=a.mipmap,u=a.anisotropicLevel,l=a.scaleMode,c=a.width,f=a.height,h=a.wrapMode,d=a.format,p=a.type,v=a.target,m=a.resolution,g=a.resourceOptions;return!r||r instanceof Xv||((r=Gv(r,g)).internal=!0),e.resolution=m||lp.RESOLUTION,e.width=Math.round((c||0)*e.resolution)/e.resolution,e.height=Math.round((f||0)*e.resolution)/e.resolution,e._mipmap=s,e.anisotropicLevel=u,e._wrapMode=h,e._scaleMode=l,e.format=d,e.type=p,e.target=v,e.alphaMode=o,e.uid=Sv(),e.touched=0,e.isPowerOfTwo=!1,e._refreshPOT(),e._glTextures={},e.dirtyId=0,e.dirtyStyleId=0,e.cacheId=null,e.valid=c>0&&f>0,e.textureCacheIds=[],e.destroyed=!1,e.resource=null,e._batchEnabled=0,e._batchLocation=0,e.parentTextureArray=null,e.setResource(r),e}return V(n,[{key:"realWidth",get:function(){return Math.round(this.width*this.resolution)}},{key:"realHeight",get:function(){return Math.round(this.height*this.resolution)}},{key:"mipmap",get:function(){return this._mipmap},set:function(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}},{key:"scaleMode",get:function(){return this._scaleMode},set:function(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}},{key:"wrapMode",get:function(){return this._wrapMode},set:function(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}},{key:"setStyle",value:function(e,t){var n;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),void 0!==t&&t!==this.mipmap&&(this.mipmap=t,n=!0),n&&this.dirtyStyleId++,this}},{key:"setSize",value:function(e,t,n){return n=n||this.resolution,this.setRealSize(e*n,t*n,n)}},{key:"setRealSize",value:function(e,t,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this}},{key:"_refreshPOT",value:function(){this.isPowerOfTwo=bv(this.realWidth)&&bv(this.realHeight)}},{key:"setResolution",value:function(e){var t=this.resolution;return t===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT()),this}},{key:"setResource",value:function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}},{key:"update",value:function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}},{key:"onError",value:function(e){this.emit("error",this,e)}},{key:"destroy",value:function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Pv[this.cacheId],delete Av[this.cacheId],this.cacheId=null),this.dispose(),n.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}},{key:"dispose",value:function(){this.emit("dispose",this)}},{key:"castToBaseTexture",value:function(){return this}}],[{key:"from",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:lp.STRICT_TEXTURE_CACHE,i="string"===typeof e,a=null;if(i)a=e;else{if(!e._pixiId){var o=(null===t||void 0===t?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId="".concat(o,"_").concat(Sv())}a=e._pixiId}var s=Pv[a];if(i&&r&&!s)throw new Error('The cacheId "'.concat(a,'" does not exist in BaseTextureCache.'));return s||((s=new n(e,t)).cacheId=a,n.addToCache(s,a)),s}},{key:"fromBuffer",value:function(e,t,r,i){e=e||new Float32Array(t*r*4);var a=new Yv(e,{width:t,height:r}),o=e instanceof Float32Array?Kd.FLOAT:Kd.UNSIGNED_BYTE;return new n(a,Object.assign({},Qv,{type:o},i))}},{key:"addToCache",value:function(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),Pv[t]&&Pv[t]!==e&&console.warn("BaseTexture added to the cache with an id [".concat(t,"] that already had an entry")),Pv[t]=e)}},{key:"removeFromCache",value:function(e){if("string"===typeof e){var t=Pv[e];if(t){var n=t.textureCacheIds.indexOf(e);return n>-1&&t.textureCacheIds.splice(n,1),delete Pv[e],t}}else if(null!==e&&void 0!==e&&e.textureCacheIds){for(var r=0;r<e.textureCacheIds.length;++r)delete Pv[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}}]),n}(Ap),Zv=Kv;Zv.defaultOptions={mipmap:ep.POW2,anisotropicLevel:0,scaleMode:$d.LINEAR,wrapMode:Jd.CLAMP,alphaMode:tp.UNPACK,target:Qd.TEXTURE_2D,format:Yd.RGBA,type:Kd.UNSIGNED_BYTE},Zv._globalBatch=0;var $v=V((function e(){U(this,e),this.texArray=null,this.blend=0,this.type=Xd.TRIANGLES,this.start=0,this.size=0,this.data=null})),Jv=0,em=function(){function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];U(this,e),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=n,this.id=Jv++,this.disposeRunner=new qv("disposeBuffer")}return V(e,[{key:"update",value:function(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}},{key:"dispose",value:function(){this.disposeRunner.emit(this,!1)}},{key:"destroy",value:function(){this.dispose(),this.data=null}},{key:"index",get:function(){return this.type===sp.ELEMENT_ARRAY_BUFFER},set:function(e){this.type=e?sp.ELEMENT_ARRAY_BUFFER:sp.ARRAY_BUFFER}}],[{key:"from",value:function(t){return t instanceof Array&&(t=new Float32Array(t)),new e(t)}}]),e}(),tm=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Kd.FLOAT,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1;U(this,e),this.buffer=t,this.size=n,this.normalized=r,this.type=i,this.stride=a,this.start=o,this.instance=s,this.divisor=u}return V(e,[{key:"destroy",value:function(){this.buffer=null}}],[{key:"from",value:function(t,n,r,i,a){return new e(t,n,r,i,a)}}]),e}(),nm={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var rm={5126:4,5123:2,5121:1},im=0,am={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},om=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};U(this,e),this.buffers=t,this.indexBuffer=null,this.attributes=n,this.glVertexArrayObjects={},this.id=im++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new qv("disposeGeometry"),this.refCount=0}return V(e,[{key:"addAttribute",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof em||(t instanceof Array&&(t=new Float32Array(t)),t=new em(t));var u=e.split("|");if(u.length>1){for(var l=0;l<u.length;l++)this.addAttribute(u[l],t,n,r,i);return this}var c=this.buffers.indexOf(t);return-1===c&&(this.buffers.push(t),c=this.buffers.length-1),this.attributes[e]=new tm(c,n,r,i,a,o,s),this.instanced=this.instanced||s,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"getBuffer",value:function(e){return this.buffers[this.getAttribute(e).buffer]}},{key:"addIndex",value:function(e){return e instanceof em||(e instanceof Array&&(e=new Uint16Array(e)),e=new em(e)),e.type=sp.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}},{key:"getIndex",value:function(){return this.indexBuffer}},{key:"interleave",value:function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var e,t=[],n=[],r=new em;for(e in this.attributes){var i=this.attributes[e],a=this.buffers[i.buffer];t.push(a.data),n.push(i.size*rm[i.type]/4),i.buffer=0}for(r.data=function(e,t){for(var n=0,r=0,i={},a=0;a<e.length;a++)r+=t[a],n+=e[a].length;for(var o=new ArrayBuffer(4*n),s=null,u=0,l=0;l<e.length;l++){var c=t[l],f=e[l],h=gv(f);i[h]||(i[h]=new nm[h](o)),s=i[h];for(var d=0;d<f.length;d++)s[(d/c|0)*r+u+d%c]=f[d];u+=c}return new Float32Array(o)}(t,n),e=0;e<this.buffers.length;e++)this.buffers[e]!==this.indexBuffer&&this.buffers[e].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}},{key:"getSize",value:function(){for(var e in this.attributes){var t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0}},{key:"dispose",value:function(){this.disposeRunner.emit(this,!1)}},{key:"destroy",value:function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}},{key:"clone",value:function(){for(var t=new e,n=0;n<this.buffers.length;n++)t.buffers[n]=new em(this.buffers[n].data.slice(0));for(var r in this.attributes){var i=this.attributes[r];t.attributes[r]=new tm(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=sp.ELEMENT_ARRAY_BUFFER),t}}],[{key:"merge",value:function(t){for(var n,r=new e,i=[],a=[],o=[],s=0;s<t.length;s++){n=t[s];for(var u=0;u<n.buffers.length;u++)a[u]=a[u]||0,a[u]+=n.buffers[u].data.length,o[u]=0}for(var l=0;l<n.buffers.length;l++)i[l]=new(am[gv(n.buffers[l].data)])(a[l]),r.buffers[l]=new em(i[l]);for(var c=0;c<t.length;c++){n=t[c];for(var f=0;f<n.buffers.length;f++)i[f].set(n.buffers[f].data,o[f]),o[f]+=n.buffers[f].data.length}if(r.attributes=n.attributes,n.indexBuffer){r.indexBuffer=r.buffers[n.buffers.indexOf(n.indexBuffer)],r.indexBuffer.type=sp.ELEMENT_ARRAY_BUFFER;for(var h=0,d=0,p=0,v=0,m=0;m<n.buffers.length;m++)if(n.buffers[m]!==n.indexBuffer){v=m;break}for(var g in n.attributes){var y=n.attributes[g];(0|y.buffer)===v&&(d+=y.size*rm[y.type]/4)}for(var b=0;b<t.length;b++){for(var _=t[b].indexBuffer.data,x=0;x<_.length;x++)r.indexBuffer.data[x+p]+=h;h+=t[b].buffers[v].data.length/d,p+=_.length}}return r}}]),e}(),sm=function(e){X(n,e);var t=K(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return U(this,n),(e=t.call(this))._buffer=new em(null,r,!1),e._indexBuffer=new em(null,r,!0),e.addAttribute("aVertexPosition",e._buffer,2,!1,Kd.FLOAT).addAttribute("aTextureCoord",e._buffer,2,!1,Kd.FLOAT).addAttribute("aColor",e._buffer,4,!0,Kd.UNSIGNED_BYTE).addAttribute("aTextureId",e._buffer,1,!0,Kd.FLOAT).addIndex(e._indexBuffer),e}return V(n)}(om),um=2*Math.PI,lm=180/Math.PI,cm=Math.PI/180,fm=function(e){return e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC",e}(fm||{}),hm=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;U(this,e),this.x=0,this.y=0,this.x=t,this.y=n}return V(e,[{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"copyFrom",value:function(e){return this.set(e.x,e.y),this}},{key:"copyTo",value:function(e){return e.set(this.x,this.y),e}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"set",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.x=e,this.y=t,this}},{key:"toString",value:function(){return"[@pixi/math:Point x=".concat(this.x," y=").concat(this.y,"]")}}]),e}(),dm=[new hm,new hm,new hm,new hm],pm=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;U(this,e),this.x=Number(t),this.y=Number(n),this.width=Number(r),this.height=Number(i),this.type=fm.RECT}return V(e,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}},{key:"clone",value:function(){return new e(this.x,this.y,this.width,this.height)}},{key:"copyFrom",value:function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}},{key:"copyTo",value:function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}},{key:"contains",value:function(e,t){return!(this.width<=0||this.height<=0)&&(e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height)}},{key:"intersects",value:function(e,t){if(!t){var n=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=n)return!1;var r=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>r}var i=this.left,a=this.right,o=this.top,s=this.bottom;if(a<=i||s<=o)return!1;var u=dm[0].set(e.left,e.top),l=dm[1].set(e.left,e.bottom),c=dm[2].set(e.right,e.top),f=dm[3].set(e.right,e.bottom);if(c.x<=u.x||l.y<=u.y)return!1;var h=Math.sign(t.a*t.d-t.b*t.c);if(0===h)return!1;if(t.apply(u,u),t.apply(l,l),t.apply(c,c),t.apply(f,f),Math.max(u.x,l.x,c.x,f.x)<=i||Math.min(u.x,l.x,c.x,f.x)>=a||Math.max(u.y,l.y,c.y,f.y)<=o||Math.min(u.y,l.y,c.y,f.y)>=s)return!1;var d=h*(l.y-u.y),p=h*(u.x-l.x),v=d*i+p*o,m=d*a+p*o,g=d*i+p*s,y=d*a+p*s;if(Math.max(v,m,g,y)<=d*u.x+p*u.y||Math.min(v,m,g,y)>=d*f.x+p*f.y)return!1;var b=h*(u.y-c.y),_=h*(c.x-u.x),x=b*i+_*o,k=b*a+_*o,w=b*i+_*s,S=b*a+_*s;return!(Math.max(x,k,w,S)<=b*u.x+_*u.y||Math.min(x,k,w,S)>=b*f.x+_*f.y)}},{key:"pad",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this}},{key:"fit",value:function(e){var t=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),r=Math.max(this.y,e.y),i=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(n-t,0),this.y=r,this.height=Math.max(i-r,0),this}},{key:"ceil",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.001,n=Math.ceil((this.x+this.width-t)*e)/e,r=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=n-this.x,this.height=r-this.y,this}},{key:"enlarge",value:function(e){var t=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),r=Math.min(this.y,e.y),i=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=n-t,this.y=r,this.height=i-r,this}},{key:"toString",value:function(){return"[@pixi/math:Rectangle x=".concat(this.x," y=").concat(this.y," width=").concat(this.width," height=").concat(this.height,"]")}}],[{key:"EMPTY",get:function(){return new e(0,0,0,0)}}]),e}(),vm=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;U(this,e),this.x=t,this.y=n,this.radius=r,this.type=fm.CIRC}return V(e,[{key:"clone",value:function(){return new e(this.x,this.y,this.radius)}},{key:"contains",value:function(e,t){if(this.radius<=0)return!1;var n=this.radius*this.radius,r=this.x-e,i=this.y-t;return(r*=r)+(i*=i)<=n}},{key:"getBounds",value:function(){return new pm(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}},{key:"toString",value:function(){return"[@pixi/math:Circle x=".concat(this.x," y=").concat(this.y," radius=").concat(this.radius,"]")}}]),e}(),mm=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;U(this,e),this.x=t,this.y=n,this.width=r,this.height=i,this.type=fm.ELIP}return V(e,[{key:"clone",value:function(){return new e(this.x,this.y,this.width,this.height)}},{key:"contains",value:function(e,t){if(this.width<=0||this.height<=0)return!1;var n=(e-this.x)/this.width,r=(t-this.y)/this.height;return(n*=n)+(r*=r)<=1}},{key:"getBounds",value:function(){return new pm(this.x-this.width,this.y-this.height,this.width,this.height)}},{key:"toString",value:function(){return"[@pixi/math:Ellipse x=".concat(this.x," y=").concat(this.y," width=").concat(this.width," height=").concat(this.height,"]")}}]),e}(),gm=function(){function e(){U(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Array.isArray(n[0])?n[0]:n;if("number"!==typeof i[0]){for(var a=[],o=0,s=i.length;o<s;o++)a.push(i[o].x,i[o].y);i=a}this.points=i,this.type=fm.POLY,this.closeStroke=!0}return V(e,[{key:"clone",value:function(){var t=new e(this.points.slice());return t.closeStroke=this.closeStroke,t}},{key:"contains",value:function(e,t){for(var n=!1,r=this.points.length/2,i=0,a=r-1;i<r;a=i++){var o=this.points[2*i],s=this.points[2*i+1],u=this.points[2*a],l=this.points[2*a+1];s>t!==l>t&&e<(t-s)/(l-s)*(u-o)+o&&(n=!n)}return n}},{key:"toString",value:function(){return"[@pixi/math:PolygoncloseStroke=".concat(this.closeStroke,"points=").concat(this.points.reduce((function(e,t){return"".concat(e,", ").concat(t)}),""),"]")}}]),e}(),ym=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;U(this,e),this.x=t,this.y=n,this.width=r,this.height=i,this.radius=a,this.type=fm.RREC}return V(e,[{key:"clone",value:function(){return new e(this.x,this.y,this.width,this.height,this.radius)}},{key:"contains",value:function(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){var n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+n&&t<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;var r=e-(this.x+n),i=t-(this.y+n),a=n*n;if(r*r+i*i<=a)return!0;if((r=e-(this.x+this.width-n))*r+i*i<=a)return!0;if(r*r+(i=t-(this.y+this.height-n))*i<=a)return!0;if((r=e-(this.x+n))*r+i*i<=a)return!0}return!1}},{key:"toString",value:function(){return"[@pixi/math:RoundedRectangle x=".concat(this.x," y=").concat(this.y,"width=").concat(this.width," height=").concat(this.height," radius=").concat(this.radius,"]")}}]),e}(),bm=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;U(this,e),this.array=null,this.a=t,this.b=n,this.c=r,this.d=i,this.tx=a,this.ty=o}return V(e,[{key:"fromArray",value:function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}},{key:"set",value:function(e,t,n,r,i,a){return this.a=e,this.b=t,this.c=n,this.d=r,this.tx=i,this.ty=a,this}},{key:"toArray",value:function(e,t){this.array||(this.array=new Float32Array(9));var n=t||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}},{key:"apply",value:function(e,t){t=t||new hm;var n=e.x,r=e.y;return t.x=this.a*n+this.c*r+this.tx,t.y=this.b*n+this.d*r+this.ty,t}},{key:"applyInverse",value:function(e,t){t=t||new hm;var n=1/(this.a*this.d+this.c*-this.b),r=e.x,i=e.y;return t.x=this.d*n*r+-this.c*n*i+(this.ty*this.c-this.tx*this.d)*n,t.y=this.a*n*i+-this.b*n*r+(-this.ty*this.a+this.tx*this.b)*n,t}},{key:"translate",value:function(e,t){return this.tx+=e,this.ty+=t,this}},{key:"scale",value:function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}},{key:"rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.a,i=this.c,a=this.tx;return this.a=r*t-this.b*n,this.b=r*n+this.b*t,this.c=i*t-this.d*n,this.d=i*n+this.d*t,this.tx=a*t-this.ty*n,this.ty=a*n+this.ty*t,this}},{key:"append",value:function(e){var t=this.a,n=this.b,r=this.c,i=this.d;return this.a=e.a*t+e.b*r,this.b=e.a*n+e.b*i,this.c=e.c*t+e.d*r,this.d=e.c*n+e.d*i,this.tx=e.tx*t+e.ty*r+this.tx,this.ty=e.tx*n+e.ty*i+this.ty,this}},{key:"setTransform",value:function(e,t,n,r,i,a,o,s,u){return this.a=Math.cos(o+u)*i,this.b=Math.sin(o+u)*i,this.c=-Math.sin(o-s)*a,this.d=Math.cos(o-s)*a,this.tx=e-(n*this.a+r*this.c),this.ty=t-(n*this.b+r*this.d),this}},{key:"prepend",value:function(e){var t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){var n=this.a,r=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=r*e.a+this.d*e.c,this.d=r*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}},{key:"decompose",value:function(e){var t=this.a,n=this.b,r=this.c,i=this.d,a=e.pivot,o=-Math.atan2(-r,i),s=Math.atan2(n,t),u=Math.abs(o+s);return u<1e-5||Math.abs(um-u)<1e-5?(e.rotation=s,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=o,e.skew.y=s),e.scale.x=Math.sqrt(t*t+n*n),e.scale.y=Math.sqrt(r*r+i*i),e.position.x=this.tx+(a.x*t+a.y*r),e.position.y=this.ty+(a.x*n+a.y*i),e}},{key:"invert",value:function(){var e=this.a,t=this.b,n=this.c,r=this.d,i=this.tx,a=e*r-t*n;return this.a=r/a,this.b=-t/a,this.c=-n/a,this.d=e/a,this.tx=(n*this.ty-r*i)/a,this.ty=-(e*this.ty-t*i)/a,this}},{key:"identity",value:function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}},{key:"clone",value:function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}},{key:"copyTo",value:function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}},{key:"copyFrom",value:function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}},{key:"toString",value:function(){return"[@pixi/math:Matrix a=".concat(this.a," b=").concat(this.b," c=").concat(this.c," d=").concat(this.d," tx=").concat(this.tx," ty=").concat(this.ty,"]")}}],[{key:"IDENTITY",get:function(){return new e}},{key:"TEMP_MATRIX",get:function(){return new e}}]),e}(),_m=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],xm=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],km=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],wm=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Sm=[],Tm=[],Em=Math.sign;!function(){for(var e=0;e<16;e++){var t=[];Sm.push(t);for(var n=0;n<16;n++)for(var r=Em(_m[e]*_m[n]+km[e]*xm[n]),i=Em(xm[e]*_m[n]+wm[e]*xm[n]),a=Em(_m[e]*km[n]+km[e]*wm[n]),o=Em(xm[e]*km[n]+wm[e]*wm[n]),s=0;s<16;s++)if(_m[s]===r&&xm[s]===i&&km[s]===a&&wm[s]===o){t.push(s);break}}for(var u=0;u<16;u++){var l=new bm;l.set(_m[u],xm[u],km[u],wm[u],0,0),Tm.push(l)}}();var Cm={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(e){return _m[e]},uY:function(e){return xm[e]},vX:function(e){return km[e]},vY:function(e){return wm[e]},inv:function(e){return 8&e?15&e:7&-e},add:function(e,t){return Sm[e][t]},sub:function(e,t){return Sm[e][Cm.inv(t)]},rotate180:function(e){return 4^e},isVertical:function(e){return 2===(3&e)},byDirection:function(e,t){return 2*Math.abs(e)<=Math.abs(t)?t>=0?Cm.S:Cm.N:2*Math.abs(t)<=Math.abs(e)?e>0?Cm.E:Cm.W:t>0?e>0?Cm.SE:Cm.SW:e>0?Cm.NE:Cm.NW},matrixAppendRotationInv:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=Tm[Cm.inv(t)];i.tx=n,i.ty=r,e.append(i)}},Am=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;U(this,e),this._x=r,this._y=i,this.cb=t,this.scope=n}return V(e,[{key:"clone",value:function(){return new e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.cb,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scope,this._x,this._y)}},{key:"set",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this._x===e&&this._y===t||(this._x=e,this._y=t,this.cb.call(this.scope)),this}},{key:"copyFrom",value:function(e){return this._x===e.x&&this._y===e.y||(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}},{key:"copyTo",value:function(e){return e.set(this._x,this._y),e}},{key:"equals",value:function(e){return e.x===this._x&&e.y===this._y}},{key:"toString",value:function(){return"[@pixi/math:ObservablePoint x=".concat(0," y=",0," scope=",this.scope,"]")}},{key:"x",get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}]),e}(),Pm=function(){function e(){U(this,e),this.worldTransform=new bm,this.localTransform=new bm,this.position=new Am(this.onChange,this,0,0),this.scale=new Am(this.onChange,this,1,1),this.pivot=new Am(this.onChange,this,0,0),this.skew=new Am(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return V(e,[{key:"onChange",value:function(){this._localID++}},{key:"updateSkew",value:function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}},{key:"toString",value:function(){return"[@pixi/math:Transform position=(".concat(this.position.x,", ").concat(this.position.y,") rotation=").concat(this.rotation," scale=(").concat(this.scale.x,", ").concat(this.scale.y,") skew=(").concat(this.skew.x,", ").concat(this.skew.y,") ]")}},{key:"updateLocalTransform",value:function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)}},{key:"updateTransform",value:function(e){var t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,r=this.worldTransform;r.a=t.a*n.a+t.b*n.c,r.b=t.a*n.b+t.b*n.d,r.c=t.c*n.a+t.d*n.c,r.d=t.c*n.b+t.d*n.d,r.tx=t.tx*n.a+t.ty*n.c+n.tx,r.ty=t.tx*n.b+t.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}}},{key:"setFromMatrix",value:function(e){e.decompose(this),this._localID++}},{key:"rotation",get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())}}]),e}(),Im=Pm;Im.IDENTITY=new Pm;var Om=[{test:function(e){return"float"===e.type&&1===e.size&&!e.isArray},code:function(e){return'\n            if(uv["'.concat(e,'"] !== ud["').concat(e,'"].value)\n            {\n                ud["').concat(e,'"].value = uv["').concat(e,'"]\n                gl.uniform1f(ud["').concat(e,'"].location, uv["').concat(e,'"])\n            }\n            ')}},{test:function(e,t){return("sampler2D"===e.type||"samplerCube"===e.type||"sampler2DArray"===e.type)&&1===e.size&&!e.isArray&&(null==t||void 0!==t.castToBaseTexture)},code:function(e){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'.concat(e,'"], t);\n\n            if(ud["').concat(e,'"].value !== t)\n            {\n                ud["').concat(e,'"].value = t;\n                gl.uniform1i(ud["').concat(e,'"].location, t);\n; // eslint-disable-line max-len\n            }')}},{test:function(e,t){return"mat3"===e.type&&1===e.size&&!e.isArray&&void 0!==t.a},code:function(e){return'\n            gl.uniformMatrix3fv(ud["'.concat(e,'"].location, false, uv["').concat(e,'"].toArray(true));\n            ')},codeUbo:function(e){return"\n                var ".concat(e,"_matrix = uv.").concat(e,".toArray(true);\n\n                data[offset] = ").concat(e,"_matrix[0];\n                data[offset+1] = ").concat(e,"_matrix[1];\n                data[offset+2] = ").concat(e,"_matrix[2];\n        \n                data[offset + 4] = ").concat(e,"_matrix[3];\n                data[offset + 5] = ").concat(e,"_matrix[4];\n                data[offset + 6] = ").concat(e,"_matrix[5];\n        \n                data[offset + 8] = ").concat(e,"_matrix[6];\n                data[offset + 9] = ").concat(e,"_matrix[7];\n                data[offset + 10] = ").concat(e,"_matrix[8];\n            ")}},{test:function(e,t){return"vec2"===e.type&&1===e.size&&!e.isArray&&void 0!==t.x},code:function(e){return'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["').concat(e,'"].location, v.x, v.y);\n                }')},codeUbo:function(e){return"\n                v = uv.".concat(e,";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            ")}},{test:function(e){return"vec2"===e.type&&1===e.size&&!e.isArray},code:function(e){return'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["').concat(e,'"].location, v[0], v[1]);\n                }\n            ')}},{test:function(e,t){return"vec4"===e.type&&1===e.size&&!e.isArray&&void 0!==t.width},code:function(e){return'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["').concat(e,'"].location, v.x, v.y, v.width, v.height)\n                }')},codeUbo:function(e){return"\n                    v = uv.".concat(e,";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                ")}},{test:function(e,t){return"vec4"===e.type&&1===e.size&&!e.isArray&&void 0!==t.red},code:function(e){return'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n                    cv[3] = v.alpha;\n                    gl.uniform4f(ud["').concat(e,'"].location, v.red, v.green, v.blue, v.alpha)\n                }')},codeUbo:function(e){return"\n                    v = uv.".concat(e,";\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                    data[offset+3] = v.alpha;\n                ")}},{test:function(e,t){return"vec3"===e.type&&1===e.size&&!e.isArray&&void 0!==t.red},code:function(e){return'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n    \n                    gl.uniform3f(ud["').concat(e,'"].location, v.red, v.green, v.blue)\n                }')},codeUbo:function(e){return"\n                    v = uv.".concat(e,";\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                ")}},{test:function(e){return"vec4"===e.type&&1===e.size&&!e.isArray},code:function(e){return'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["').concat(e,'"].location, v[0], v[1], v[2], v[3])\n                }')}}],Mm={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",samplerCube:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",sampler2DArray:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }"},Rm={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var Nm,Dm={},Bm=Dm;function Lm(){if(!Nm){Nm=ip.MEDIUM;var e=function(){var e;if(Bm===Dm||null!==(e=Bm)&&void 0!==e&&e.isContextLost()){var t,n=lp.ADAPTER.createCanvas();lp.PREFER_ENV>=Hd.WEBGL2&&(t=n.getContext("webgl2",{})),t||((t=n.getContext("webgl",{})||n.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),Bm=t}return Bm}();if(e&&e.getShaderPrecisionFormat){var t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);Nm=t.precision?ip.HIGH:ip.MEDIUM}}return Nm}var jm={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Fm(e){return jm[e]}var Um=null,zm={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Vm(e,t){if(!Um){var n=Object.keys(zm);Um={};for(var r=0;r<n.length;++r){var i=n[r];Um[e[i]]=zm[i]}}return Um[t]}function Hm(e,t,n){if("precision"!==e.substring(0,9)){var r=t;return t===ip.HIGH&&n!==ip.HIGH&&(r=ip.MEDIUM),"precision ".concat(r," float;\n").concat(e)}return n!==ip.HIGH&&"precision highp"===e.substring(0,15)?e.replace("precision highp","precision mediump"):e}var Wm=0,Gm={},qm=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pixi-shader",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};U(this,e),this.extra={},this.id=Wm++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=n||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,"#version"!==this.vertexSrc.substring(0,8)&&(r=r.replace(/\s+/g,"-"),Gm[r]?(Gm[r]++,r+="-".concat(Gm[r])):Gm[r]=1,this.vertexSrc="#define SHADER_NAME ".concat(r,"\n").concat(this.vertexSrc),this.fragmentSrc="#define SHADER_NAME ".concat(r,"\n").concat(this.fragmentSrc),this.vertexSrc=Hm(this.vertexSrc,e.defaultVertexPrecision,ip.HIGH),this.fragmentSrc=Hm(this.fragmentSrc,e.defaultFragmentPrecision,Lm())),this.glPrograms={},this.syncUniforms=null}return V(e,null,[{key:"defaultVertexSrc",get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"}},{key:"defaultFragmentSrc",get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"}},{key:"from",value:function(t,n,r){var i=t+n,a=Cv[i];return a||(Cv[i]=a=new e(t,n,r)),a}}]),e}(),Xm=qm;Xm.defaultVertexPrecision=ip.HIGH,Xm.defaultFragmentPrecision=Cp.apple.device?ip.HIGH:ip.MEDIUM;var Ym=0,Qm=function(){function e(t,n,r){U(this,e),this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Ym++,this.static=!!n,this.ubo=!!r,t instanceof em?(this.buffer=t,this.buffer.type=sp.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new em(new Float32Array(1)),this.buffer.type=sp.UNIFORM_BUFFER,this.autoManage=!0))}return V(e,[{key:"update",value:function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}},{key:"add",value:function(t,n,r){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[t]=new e(n,r)}}],[{key:"from",value:function(t,n,r){return new e(t,n,r)}},{key:"uboFrom",value:function(t,n){return new e(t,null===n||void 0===n||n,!0)}}]),e}(),Km=function(){function e(t,n){U(this,e),this.uniformBindCount=0,this.program=t,this.uniformGroup=n?n instanceof Qm?n:new Qm(n):new Qm({}),this.disposeRunner=new qv("disposeShader")}return V(e,[{key:"checkUniformExists",value:function(e,t){if(t.uniforms[e])return!0;for(var n in t.uniforms){var r=t.uniforms[n];if(r.group&&this.checkUniformExists(e,r))return!0}return!1}},{key:"destroy",value:function(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}},{key:"uniforms",get:function(){return this.uniformGroup.uniforms}}],[{key:"from",value:function(t,n,r){return new e(Xm.from(t,n),r)}}]),e}(),Zm=function(){function e(t,n){if(U(this,e),this.vertexSrc=t,this.fragTemplate=n,this.programCache={},this.defaultGroupCache={},!n.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!n.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}return V(e,[{key:"generateShader",value:function(e){if(!this.programCache[e]){for(var t=new Int32Array(e),n=0;n<e;n++)t[n]=n;this.defaultGroupCache[e]=Qm.from({uSamplers:t},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,"".concat(e))).replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Xm(this.vertexSrc,r)}var i={tint:new Float32Array([1,1,1,1]),translationMatrix:new bm,default:this.defaultGroupCache[e]};return new Km(this.programCache[e],i)}},{key:"generateSampleSrc",value:function(e){var t="";t+="\n",t+="\n";for(var n=0;n<e;n++)n>0&&(t+="\nelse "),n<e-1&&(t+="if(vTextureId < ".concat(n,".5)")),t+="\n{",t+="\n\tcolor = texture2D(uSamplers[".concat(n,"], vTextureCoord);"),t+="\n}";return t+="\n",t+="\n"}}]),e}(),$m=function(){function e(){U(this,e),this.elements=[],this.ids=[],this.count=0}return V(e,[{key:"clear",value:function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}]),e}();var Jm=function(){function e(t){U(this,e),this.renderer=t}return V(e,[{key:"flush",value:function(){}},{key:"destroy",value:function(){this.renderer=null}},{key:"start",value:function(){}},{key:"stop",value:function(){this.flush()}},{key:"render",value:function(e){}}]),e}(),eg=function(e){X(n,e);var t=K(n);function n(e){var r;return U(this,n),(r=t.call(this,e)).setShaderGenerator(),r.geometryClass=sm,r.vertexSize=6,r.state=Hv.for2d(),r.size=4*n.defaultBatchSize,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.maxTextures=1,r.renderer.on("prerender",r.onPrerender,H(r)),e.runners.contextChange.add(H(r)),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return V(n,[{key:"MAX_TEXTURES",get:function(){return Lp("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}},{key:"setShaderGenerator",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.vertex,r=void 0===t?n.defaultVertexSrc:t,i=e.fragment,a=void 0===i?n.defaultFragmentTemplate:i;this.shaderGenerator=new Zm(r,a)}},{key:"contextChange",value:function(){var e=this.renderer.gl;lp.PREFER_ENV===Hd.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),n.defaultMaxTextures),this.maxTextures=function(e,t){if(0===e)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var n=t.createShader(t.FRAGMENT_SHADER);;){var r=zv.replace(/%forloop%/gi,Vv(e));if(t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS))break;e=e/2|0}return e}(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()}},{key:"initFlushBuffers",value:function(){for(var e=n._drawCallPool,t=n._textureArrayPool,r=this.size/4,i=Math.floor(r/this.maxTextures)+1;e.length<r;)e.push(new $v);for(;t.length<i;)t.push(new $m);for(var a=0;a<this.maxTextures;a++)this._tempBoundTextures[a]=null}},{key:"onPrerender",value:function(){this._flushId=0}},{key:"render",value:function(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}},{key:"buildTexturesAndDrawCalls",value:function(){var e=this._bufferedTextures,t=this.maxTextures,r=n._textureArrayPool,i=this.renderer.batch,a=this._tempBoundTextures,o=this.renderer.textureGC.count,s=++Zv._globalBatch,u=0,l=r[0],c=0;i.copyBoundTextures(a,t);for(var f=0;f<this._bufferSize;++f){var h=e[f];e[f]=null,h._batchEnabled!==s&&(l.count>=t&&(i.boundArray(l,a,s,t),this.buildDrawCalls(l,c,f),c=f,l=r[++u],++s),h._batchEnabled=s,h.touched=o,l.elements[l.count++]=h)}l.count>0&&(i.boundArray(l,a,s,t),this.buildDrawCalls(l,c,this._bufferSize),++u,++s);for(var d=0;d<a.length;d++)a[d]=null;Zv._globalBatch=s}},{key:"buildDrawCalls",value:function(e,t,r){var i=this._bufferedElements,a=this._attributeBuffer,o=this._indexBuffer,s=this.vertexSize,u=n._drawCallPool,l=this._dcIndex,c=this._aIndex,f=this._iIndex,h=u[l];h.start=this._iIndex,h.texArray=e;for(var d=t;d<r;++d){var p=i[d],v=p._texture.baseTexture,m=vv[v.alphaMode?1:0][p.blendMode];i[d]=null,t<d&&h.blend!==m&&(h.size=f-h.start,t=d,(h=u[++l]).texArray=e,h.start=f),this.packInterleavedGeometry(p,a,o,c,f),c+=p.vertexData.length/2*s,f+=p.indices.length,h.blend=m}t<r&&(h.size=f-h.start,++l),this._dcIndex=l,this._aIndex=c,this._iIndex=f}},{key:"bindAndClearTexArray",value:function(e){for(var t=this.renderer.texture,n=0;n<e.count;n++)t.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}},{key:"updateGeometry",value:function(){var e=this._packedGeometries,t=this._attributeBuffer,r=this._indexBuffer;n.canUploadSameBuffer?(e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}},{key:"drawBatches",value:function(){for(var e=this._dcIndex,t=this.renderer,r=t.gl,i=t.state,a=n._drawCallPool,o=null,s=0;s<e;s++){var u=a[s],l=u.texArray,c=u.type,f=u.size,h=u.start,d=u.blend;o!==l&&(o=l,this.bindAndClearTexArray(l)),this.state.blendMode=d,i.set(this.state),r.drawElements(c,f,r.UNSIGNED_SHORT,2*h)}}},{key:"flush",value:function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}},{key:"start",value:function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),n.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}},{key:"stop",value:function(){this.flush()}},{key:"destroy",value:function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),G(W(n.prototype),"destroy",this).call(this)}},{key:"getAttributeBuffer",value:function(e){var t=yv(Math.ceil(e/8)),n=_v(t),r=8*t;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);var i=this._aBuffers[r];return i||(this._aBuffers[r]=i=new Uv(r*this.vertexSize*4)),i}},{key:"getIndexBuffer",value:function(e){var t=yv(Math.ceil(e/12)),n=_v(t),r=12*t;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);var i=this._iBuffers[n];return i||(this._iBuffers[n]=i=new Uint16Array(r)),i}},{key:"packInterleavedGeometry",value:function(e,t,n,r,i){for(var a=t.uint32View,o=t.float32View,s=r/this.vertexSize,u=e.uvs,l=e.indices,c=e.vertexData,f=e._texture.baseTexture._batchLocation,h=Math.min(e.worldAlpha,1),d=pv.shared.setValue(e._tintRGB).toPremultiplied(h,e._texture.baseTexture.alphaMode>0),p=0;p<c.length;p+=2)o[r++]=c[p],o[r++]=c[p+1],o[r++]=u[p],o[r++]=u[p+1],a[r++]=d,o[r++]=f;for(var v=0;v<l.length;v++)n[i++]=s+l[v]}}],[{key:"defaultMaxTextures",get:function(){var e;return this._defaultMaxTextures=null!==(e=this._defaultMaxTextures)&&void 0!==e?e:function(e){var t=!0,n=lp.ADAPTER.getNavigator();if(Cp.tablet||Cp.phone){if(Cp.apple.device){var r=n.userAgent.match(/OS (\d+)_(\d+)?/);r&&parseInt(r[1],10)<11&&(t=!1)}if(Cp.android.device){var i=n.userAgent.match(/Android\s([0-9.]*)/);i&&parseInt(i[1],10)<7&&(t=!1)}}return t?e:4}(32),this._defaultMaxTextures},set:function(e){this._defaultMaxTextures=e}},{key:"canUploadSameBuffer",get:function(){var e;return this._canUploadSameBuffer=null!==(e=this._canUploadSameBuffer)&&void 0!==e?e:!Cp.apple.device,this._canUploadSameBuffer},set:function(e){this._canUploadSameBuffer=e}},{key:"defaultVertexSrc",get:function(){return"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n"}},{key:"defaultFragmentTemplate",get:function(){return"varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n"}}]),n}(Jm),tg=eg;tg.defaultBatchSize=4096,tg.extension={name:"batch",type:Bv.RendererPlugin},tg._drawCallPool=[],tg._textureArrayPool=[],Fv.add(tg);var ng=function(e){X(n,e);var t=K(n);function n(e,r,i){var a;U(this,n);var o=Xm.from(e||n.defaultVertexSrc,r||n.defaultFragmentSrc);return(a=t.call(this,o,i)).padding=0,a.resolution=n.defaultResolution,a.multisample=n.defaultMultisample,a.enabled=!0,a.autoFit=!0,a.state=new Hv,a}return V(n,[{key:"apply",value:function(e,t,n,r,i){e.applyFilter(this,t,n,r)}},{key:"blendMode",get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e}},{key:"resolution",get:function(){return this._resolution},set:function(e){this._resolution=e}}],[{key:"defaultVertexSrc",get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"}},{key:"defaultFragmentSrc",get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"}}]),n}(Km);ng.defaultResolution=1,ng.defaultMultisample=op.NONE;var rg=function(){function e(){U(this,e),this.clearBeforeRender=!0,this._backgroundColor=new pv(0),this.alpha=1}return V(e,[{key:"init",value:function(e){this.clearBeforeRender=e.clearBeforeRender;var t=e.backgroundColor,n=e.background,r=e.backgroundAlpha,i=null!==n&&void 0!==n?n:t;void 0!==i&&(this.color=i),this.alpha=r}},{key:"color",get:function(){return this._backgroundColor.value},set:function(e){this._backgroundColor.setValue(e)}},{key:"alpha",get:function(){return this._backgroundColor.alpha},set:function(e){this._backgroundColor.setAlpha(e)}},{key:"backgroundColor",get:function(){return this._backgroundColor}},{key:"destroy",value:function(){}}]),e}();rg.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},rg.extension={type:[Bv.RendererSystem,Bv.CanvasRendererSystem],name:"background"},Fv.add(rg);var ig=function(){function e(t){U(this,e),this.renderer=t,this.emptyRenderer=new Jm(t),this.currentRenderer=this.emptyRenderer}return V(e,[{key:"setObjectRenderer",value:function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}},{key:"flush",value:function(){this.setObjectRenderer(this.emptyRenderer)}},{key:"reset",value:function(){this.setObjectRenderer(this.emptyRenderer)}},{key:"copyBoundTextures",value:function(e,t){for(var n=this.renderer.texture.boundTextures,r=t-1;r>=0;--r)e[r]=n[r]||null,e[r]&&(e[r]._batchLocation=r)}},{key:"boundArray",value:function(e,t,n,r){for(var i=e.elements,a=e.ids,o=e.count,s=0,u=0;u<o;u++){var l=i[u],c=l._batchLocation;if(c>=0&&c<r&&t[c]===l)a[u]=c;else for(;s<r;){var f=t[s];if(!f||f._batchEnabled!==n||f._batchLocation!==s){a[u]=s,l._batchLocation=s,t[s]=l;break}s++}}}},{key:"destroy",value:function(){this.renderer=null}}]),e}();ig.extension={type:Bv.RendererSystem,name:"batch"},Fv.add(ig);var ag=0,og=function(){function e(t){U(this,e),this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}return V(e,[{key:"isLost",get:function(){return!this.gl||this.gl.isContextLost()}},{key:"contextChange",value:function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=ag++}},{key:"init",value:function(e){if(e.context)this.initFromContext(e.context);else{var t=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:t,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}},{key:"initFromContext",value:function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=ag++,this.renderer.runners.contextChange.emit(e);var t=this.renderer.view;void 0!==t.addEventListener&&(t.addEventListener("webglcontextlost",this.handleContextLost,!1),t.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}},{key:"initFromOptions",value:function(e){var t=this.createContext(this.renderer.view,e);this.initFromContext(t)}},{key:"createContext",value:function(e,t){var n;if(lp.PREFER_ENV>=Hd.WEBGL2&&(n=e.getContext("webgl2",t)),n)this.webGLVersion=2;else if(this.webGLVersion=1,!(n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}},{key:"getExtensions",value:function(){var e=this.gl,t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}},{key:"handleContextLost",value:function(e){var t=this;e.preventDefault(),setTimeout((function(){t.gl.isContextLost()&&t.extensions.loseContext&&t.extensions.loseContext.restoreContext()}),0)}},{key:"handleContextRestored",value:function(){this.renderer.runners.contextChange.emit(this.gl)}},{key:"destroy",value:function(){var e=this.renderer.view;this.renderer=null,void 0!==e.removeEventListener&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}},{key:"postrender",value:function(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}},{key:"validateContext",value:function(e){var t=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var r=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=r,r||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}]),e}();og.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},og.extension={type:Bv.RendererSystem,name:"context"},Fv.add(og);var sg=function(e){X(n,e);var t=K(n);function n(){return U(this,n),t.apply(this,arguments)}return V(n,[{key:"upload",value:function(e,t,n){var r=e.gl;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===tp.UNPACK);var i=t.realWidth,a=t.realHeight;return n.width===i&&n.height===a?r.texSubImage2D(t.target,0,0,0,i,a,t.format,n.type,this.data):(n.width=i,n.height=a,r.texImage2D(t.target,0,n.internalFormat,i,a,0,t.format,n.type,this.data)),!0}}]),n}(Yv),ug=function(){function e(t,n){U(this,e),this.width=Math.round(t||100),this.height=Math.round(n||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new qv("disposeFramebuffer"),this.multisample=op.NONE}return V(e,[{key:"colorTexture",get:function(){return this.colorTextures[0]}},{key:"addColorTexture",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return this.colorTextures[e]=t||new Zv(null,{scaleMode:$d.NEAREST,resolution:1,mipmap:ep.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}},{key:"addDepthTexture",value:function(e){return this.depthTexture=e||new Zv(new sg(null,{width:this.width,height:this.height}),{scaleMode:$d.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:ep.OFF,format:Yd.DEPTH_COMPONENT,type:Kd.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}},{key:"enableDepth",value:function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}},{key:"enableStencil",value:function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}},{key:"resize",value:function(e,t){if(e=Math.round(e),t=Math.round(t),e!==this.width||t!==this.height){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var r=this.colorTextures[n],i=r.resolution;r.setSize(e/i,t/i)}if(this.depthTexture){var a=this.depthTexture.resolution;this.depthTexture.setSize(e/a,t/a)}}}},{key:"dispose",value:function(){this.disposeRunner.emit(this,!1)}},{key:"destroyDepthTexture",value:function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}]),e}(),lg=function(e){X(n,e);var t=K(n);function n(){var e,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(U(this,n),"number"===typeof i)&&(i={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]});return i.width=i.width||100,i.height=i.height||100,null!==(e=i.multisample)&&void 0!==e||(i.multisample=op.NONE),(r=t.call(this,null,i)).mipmap=ep.OFF,r.valid=!0,r._clear=new pv([0,0,0,0]),r.framebuffer=new ug(r.realWidth,r.realHeight).addColorTexture(0,H(r)),r.framebuffer.multisample=i.multisample,r.maskStack=[],r.filterStack=[{}],r}return V(n,[{key:"clearColor",get:function(){return this._clear.value},set:function(e){this._clear.setValue(e)}},{key:"clear",get:function(){return this._clear}},{key:"resize",value:function(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}},{key:"dispose",value:function(){this.framebuffer.dispose(),G(W(n.prototype),"dispose",this).call(this)}},{key:"destroy",value:function(){G(W(n.prototype),"destroy",this).call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}]),n}(Zv),cg=function(e){X(n,e);var t=K(n);function n(e){var r;U(this,n);var i=e,a=i.naturalWidth||i.videoWidth||i.width,o=i.naturalHeight||i.videoHeight||i.height;return(r=t.call(this,a,o)).source=e,r.noSubImage=!1,r}return V(n,[{key:"upload",value:function(e,t,n,r){var i=e.gl,a=t.realWidth,o=t.realHeight;if(r=r||this.source,"undefined"!==typeof HTMLImageElement&&r instanceof HTMLImageElement){if(!r.complete||0===r.naturalWidth)return!1}else if("undefined"!==typeof HTMLVideoElement&&r instanceof HTMLVideoElement&&r.readyState<=1&&0===r.buffered.length)return!1;return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===tp.UNPACK),this.noSubImage||t.target!==i.TEXTURE_2D||n.width!==a||n.height!==o?(n.width=a,n.height=o,i.texImage2D(t.target,0,n.internalFormat,t.format,n.type,r)):i.texSubImage2D(i.TEXTURE_2D,0,0,0,t.format,n.type,r),!0}},{key:"update",value:function(){if(!this.destroyed){var e=this.source,t=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(t,r),G(W(n.prototype),"update",this).call(this)}}},{key:"dispose",value:function(){this.source=null}}],[{key:"crossOrigin",value:function(e,t,n){void 0!==n||t.startsWith("data:")?!1!==n&&(e.crossOrigin="string"===typeof n?n:"anonymous"):e.crossOrigin=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis.location;if(e.startsWith("data:"))return"";t=t||globalThis.location,Iv||(Iv=document.createElement("a")),Iv.href=e;var n=Op.parse(Iv.href),r=!n.port&&""===t.port||n.port===t.port;return n.hostname===t.hostname&&r&&n.protocol===t.protocol?"":"anonymous"}(t)}}]),n}(Xv),fg=function(e){X(n,e);var t=K(n);function n(e,r){var i,a;if(U(this,n),r=r||{},"string"===typeof e){var o=new Image;cg.crossOrigin(o,e,r.crossorigin),o.src=e,e=o}return a=t.call(this,e),!e.complete&&a._width&&a._height&&(a._width=0,a._height=0),a.url=e.src,a._process=null,a.preserveBitmap=!1,a.createBitmap=(null!==(i=r.createBitmap)&&void 0!==i?i:lp.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,a.alphaMode="number"===typeof r.alphaMode?r.alphaMode:null,a.bitmap=null,a._load=null,!1!==r.autoLoad&&a.load(),a}return V(n,[{key:"load",value:function(e){var t=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise((function(e,n){var r=t.source;t.url=r.src;var i=function(){t.destroyed||(r.onload=null,r.onerror=null,t.resize(r.width,r.height),t._load=null,t.createBitmap?e(t.process()):e(t))};r.complete&&r.src?i():(r.onload=i,r.onerror=function(e){n(e),t.onError.emit(e)})}))),this._load}},{key:"process",value:function(){var e=this,t=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!globalThis.createImageBitmap)return Promise.resolve(this);var n=globalThis.createImageBitmap,r=!t.crossOrigin||"anonymous"===t.crossOrigin;return this._process=fetch(t.src,{mode:r?"cors":"no-cors"}).then((function(e){return e.blob()})).then((function(r){return n(r,0,0,t.width,t.height,{premultiplyAlpha:null===e.alphaMode||e.alphaMode===tp.UNPACK?"premultiply":"none"})})).then((function(t){return e.destroyed?Promise.reject():(e.bitmap=t,e.update(),e._process=null,Promise.resolve(e))})),this._process}},{key:"upload",value:function(e,t,r){if("number"===typeof this.alphaMode&&(t.alphaMode=this.alphaMode),!this.createBitmap)return G(W(n.prototype),"upload",this).call(this,e,t,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(G(W(n.prototype),"upload",this).call(this,e,t,r,this.bitmap),!this.preserveBitmap){var i=!0,a=t._glTextures;for(var o in a){var s=a[o];if(s!==r&&s.dirtyId!==t.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}},{key:"dispose",value:function(){this.source.onload=null,this.source.onerror=null,G(W(n.prototype),"dispose",this).call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}}],[{key:"test",value:function(e){return"undefined"!==typeof HTMLImageElement&&("string"===typeof e||e instanceof HTMLImageElement)}}]),n}(cg),hg=function(){function e(){U(this,e),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return V(e,[{key:"set",value:function(e,t,n){var r=t.width,i=t.height;if(n){var a=e.width/2/r,o=e.height/2/i,s=e.x/r+a,u=e.y/i+o;n=Cm.add(n,Cm.NW),this.x0=s+a*Cm.uX(n),this.y0=u+o*Cm.uY(n),n=Cm.add(n,2),this.x1=s+a*Cm.uX(n),this.y1=u+o*Cm.uY(n),n=Cm.add(n,2),this.x2=s+a*Cm.uX(n),this.y2=u+o*Cm.uY(n),n=Cm.add(n,2),this.x3=s+a*Cm.uX(n),this.y3=u+o*Cm.uY(n)}else this.x0=e.x/r,this.y0=e.y/i,this.x1=(e.x+e.width)/r,this.y1=e.y/i,this.x2=(e.x+e.width)/r,this.y2=(e.y+e.height)/i,this.x3=e.x/r,this.y3=(e.y+e.height)/i;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}},{key:"toString",value:function(){return"[@pixi/core:TextureUvs x0=".concat(this.x0," y0=").concat(this.y0," x1=").concat(this.x1," y1=").concat(this.y1," x2=").concat(this.x2," y2=").concat(this.y2," x3=").concat(this.x3," y3=").concat(this.y3,"]")}}]),e}(),dg=new hg;function pg(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}var vg=function(e){X(n,e);var t=K(n);function n(e,r,i,a,o,s,u){var l;if(U(this,n),(l=t.call(this)).noFrame=!1,r||(l.noFrame=!0,r=new pm(0,0,1,1)),e instanceof n&&(e=e.baseTexture),l.baseTexture=e,l._frame=r,l.trim=a,l.valid=!1,l._uvs=dg,l.uvMatrix=null,l.orig=i||r,l._rotate=Number(o||0),!0===o)l._rotate=2;else if(l._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=s?new hm(s.x,s.y):new hm(0,0),l.defaultBorders=u,l._updateID=0,l.textureCacheIds=[],e.valid?l.noFrame?e.valid&&l.onBaseTextureUpdated(e):l.frame=r:e.once("loaded",l.onBaseTextureUpdated,H(l)),l.noFrame&&e.on("update",l.onBaseTextureUpdated,H(l)),l}return V(n,[{key:"update",value:function(){this.baseTexture.resource&&this.baseTexture.resource.update()}},{key:"onBaseTextureUpdated",value:function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}},{key:"destroy",value:function(e){if(this.baseTexture){if(e){var t=this.baseTexture.resource;null!==t&&void 0!==t&&t.url&&Av[t.url]&&n.removeFromCache(t.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,n.removeFromCache(this),this.textureCacheIds=null}},{key:"clone",value:function(){var e,t=this._frame.clone(),r=this._frame===this.orig?t:this.orig.clone(),i=new n(this.baseTexture,!this.noFrame&&t,r,null===(e=this.trim)||void 0===e?void 0:e.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(i._frame=t),i}},{key:"updateUvs",value:function(){this._uvs===dg&&(this._uvs=new hg),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}},{key:"resolution",get:function(){return this.baseTexture.resolution}},{key:"frame",get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var t=e.x,n=e.y,r=e.width,i=e.height,a=t+r>this.baseTexture.width,o=n+i>this.baseTexture.height;if(a||o){var s=a&&o?"and":"or",u="X: ".concat(t," + ").concat(r," = ").concat(t+r," > ").concat(this.baseTexture.width),l="Y: ".concat(n," + ").concat(i," = ").concat(n+i," > ").concat(this.baseTexture.height);throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: ".concat(u," ").concat(s," ").concat(l))}this.valid=r&&i&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=e),this.valid&&this.updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}},{key:"castToBaseTexture",value:function(){return this.baseTexture}}],[{key:"from",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:lp.STRICT_TEXTURE_CACHE,i="string"===typeof e,a=null;if(i)a=e;else if(e instanceof Zv){if(!e.cacheId){var o=(null===t||void 0===t?void 0:t.pixiIdPrefix)||"pixiid";e.cacheId="".concat(o,"-").concat(Sv()),Zv.addToCache(e,e.cacheId)}a=e.cacheId}else{if(!e._pixiId){var s=(null===t||void 0===t?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId="".concat(s,"_").concat(Sv())}a=e._pixiId}var u=Av[a];if(i&&r&&!u)throw new Error('The cacheId "'.concat(a,'" does not exist in TextureCache.'));return u||e instanceof Zv?!u&&e instanceof Zv&&(u=new n(e),n.addToCache(u,a)):(t.resolution||(t.resolution=Dv(e)),(u=new n(new Zv(e,t))).baseTexture.cacheId=a,Zv.addToCache(u.baseTexture,a),n.addToCache(u,a)),u}},{key:"fromURL",value:function(e,t){var r=Object.assign({autoLoad:!1},null===t||void 0===t?void 0:t.resourceOptions),i=n.from(e,Object.assign({resourceOptions:r},t),!1),a=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):a.load().then((function(){return Promise.resolve(i)}))}},{key:"fromBuffer",value:function(e,t,r,i){return new n(Zv.fromBuffer(e,t,r,i))}},{key:"fromLoader",value:function(e,t,r,i){var a=new Zv(e,Object.assign({scaleMode:Zv.defaultOptions.scaleMode,resolution:Dv(t)},i)),o=a.resource;o instanceof fg&&(o.url=t);var s=new n(a);return r||(r=t),Zv.addToCache(s.baseTexture,r),n.addToCache(s,r),r!==t&&(Zv.addToCache(s.baseTexture,t),n.addToCache(s,t)),s.baseTexture.valid?Promise.resolve(s):new Promise((function(e){s.baseTexture.once("loaded",(function(){return e(s)}))}))}},{key:"addToCache",value:function(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),Av[t]&&Av[t]!==e&&console.warn("Texture added to the cache with an id [".concat(t,"] that already had an entry")),Av[t]=e)}},{key:"removeFromCache",value:function(e){if("string"===typeof e){var t=Av[e];if(t){var n=t.textureCacheIds.indexOf(e);return n>-1&&t.textureCacheIds.splice(n,1),delete Av[e],t}}else if(null!==e&&void 0!==e&&e.textureCacheIds){for(var r=0;r<e.textureCacheIds.length;++r)Av[e.textureCacheIds[r]]===e&&delete Av[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}},{key:"EMPTY",get:function(){return n._EMPTY||(n._EMPTY=new n(new Zv),pg(n._EMPTY),pg(n._EMPTY.baseTexture)),n._EMPTY}},{key:"WHITE",get:function(){if(!n._WHITE){var e=lp.ADAPTER.createCanvas(16,16),t=e.getContext("2d");e.width=16,e.height=16,t.fillStyle="white",t.fillRect(0,0,16,16),n._WHITE=new n(Zv.from(e)),pg(n._WHITE),pg(n._WHITE.baseTexture)}return n._WHITE}}]),n}(Ap),mg=function(e){X(n,e);var t=K(n);function n(e,r){var i;return U(this,n),(i=t.call(this,e,r)).valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return V(n,[{key:"framebuffer",get:function(){return this.baseTexture.framebuffer}},{key:"multisample",get:function(){return this.framebuffer.multisample},set:function(e){this.framebuffer.multisample=e}},{key:"resize",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.baseTexture.resolution,i=Math.round(e*r)/r,a=Math.round(t*r)/r;this.valid=i>0&&a>0,this._frame.width=this.orig.width=i,this._frame.height=this.orig.height=a,n&&this.baseTexture.resize(i,a),this.updateUvs()}},{key:"setResolution",value:function(e){var t=this.baseTexture;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))}}],[{key:"create",value:function(e){return new n(new lg(e))}}]),n}(vg),gg=function(){function e(t){U(this,e),this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return V(e,[{key:"createTexture",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:op.NONE,r=new lg(Object.assign({width:e,height:t,resolution:1,multisample:n},this.textureOptions));return new mg(r)}},{key:"getOptimalTexture",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:op.NONE;e=Math.ceil(e*r-1e-6),t=Math.ceil(t*r-1e-6),this.enableFullScreen&&e===this._pixelsWidth&&t===this._pixelsHeight?n=i>1?-i:-1:(n=((65535&(e=yv(e)))<<16|65535&(t=yv(t)))>>>0,i>1&&(n+=4294967296*i)),this.texturePool[n]||(this.texturePool[n]=[]);var a=this.texturePool[n].pop();return a||(a=this.createTexture(e,t,i)),a.filterPoolKey=n,a.setResolution(r),a}},{key:"getFilterTexture",value:function(e,t,n){var r=this.getOptimalTexture(e.width,e.height,t||e.resolution,n||op.NONE);return r.filterFrame=e.filterFrame,r}},{key:"returnTexture",value:function(e){var t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)}},{key:"returnFilterTexture",value:function(e){this.returnTexture(e)}},{key:"clear",value:function(e){if(e=!1!==e)for(var t in this.texturePool){var n=this.texturePool[t];if(n)for(var r=0;r<n.length;r++)n[r].destroy(!0)}this.texturePool={}}},{key:"setScreenSize",value:function(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){for(var t in this.enableFullScreen=e.width>0&&e.height>0,this.texturePool)if(Number(t)<0){var n=this.texturePool[t];if(n)for(var r=0;r<n.length;r++)n[r].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}]),e}();gg.SCREEN_KEY=-1;var yg=function(e){X(n,e);var t=K(n);function n(){var e;return U(this,n),(e=t.call(this)).addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return V(n)}(om),bg=function(e){X(n,e);var t=K(n);function n(){var e;return U(this,n),(e=t.call(this)).vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new em(e.vertices),e.uvBuffer=new em(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return V(n,[{key:"map",value:function(e,t){var n=0,r=0;return this.uvs[0]=n,this.uvs[1]=r,this.uvs[2]=n+t.width/e.width,this.uvs[3]=r,this.uvs[4]=n+t.width/e.width,this.uvs[5]=r+t.height/e.height,this.uvs[6]=n,this.uvs[7]=r+t.height/e.height,n=t.x,r=t.y,this.vertices[0]=n,this.vertices[1]=r,this.vertices[2]=n+t.width,this.vertices[3]=r,this.vertices[4]=n+t.width,this.vertices[5]=r+t.height,this.vertices[6]=n,this.vertices[7]=r+t.height,this.invalidate(),this}},{key:"invalidate",value:function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}]),n}(om),_g=function(){function e(){U(this,e),this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=op.NONE,this.sourceFrame=new pm,this.destinationFrame=new pm,this.bindingSourceFrame=new pm,this.bindingDestinationFrame=new pm,this.filters=[],this.transform=null}return V(e,[{key:"clear",value:function(){this.target=null,this.filters=null,this.renderTexture=null}}]),e}(),xg=[new hm,new hm,new hm,new hm],kg=new bm,wg=function(){function e(t){U(this,e),this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new gg,this.statePool=[],this.quad=new yg,this.quadUv=new bg,this.tempRect=new pm,this.activeState={},this.globalUniforms=new Qm({outputFrame:new pm,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return V(e,[{key:"init",value:function(){this.texturePool.setScreenSize(this.renderer.view)}},{key:"push",value:function(e,t){for(var n,r=this.renderer,i=this.defaultFilterStack,a=this.statePool.pop()||new _g,o=this.renderer.renderTexture,s=t[0].resolution,u=t[0].multisample,l=t[0].padding,c=t[0].autoFit,f=null===(n=t[0].legacy)||void 0===n||n,h=1;h<t.length;h++){var d,p=t[h];s=Math.min(s,p.resolution),u=Math.min(u,p.multisample),l=this.useMaxPadding?Math.max(l,p.padding):l+p.padding,c=c&&p.autoFit,f=f||null===(d=p.legacy)||void 0===d||d}1===i.length&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(a),a.resolution=s,a.multisample=u,a.legacy=f,a.target=e,a.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),a.sourceFrame.pad(l);var v=this.tempRect.copyFrom(o.sourceFrame);r.projection.transform&&this.transformAABB(kg.copyFrom(r.projection.transform).invert(),v),c?(a.sourceFrame.fit(v),(a.sourceFrame.width<=0||a.sourceFrame.height<=0)&&(a.sourceFrame.width=0,a.sourceFrame.height=0)):a.sourceFrame.intersects(v)||(a.sourceFrame.width=0,a.sourceFrame.height=0),this.roundFrame(a.sourceFrame,o.current?o.current.resolution:r.resolution,o.sourceFrame,o.destinationFrame,r.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,s,u),a.filters=t,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;var m=this.tempRect;m.x=0,m.y=0,m.width=a.sourceFrame.width,m.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(o.sourceFrame),a.bindingDestinationFrame.copyFrom(o.destinationFrame),a.transform=r.projection.transform,r.projection.transform=null,o.bind(a.renderTexture,a.sourceFrame,m),r.framebuffer.clear(0,0,0,0)}},{key:"pop",value:function(){var e=this.defaultFilterStack,t=e.pop(),n=t.filters;this.activeState=t;var r=this.globalUniforms.uniforms;r.outputFrame=t.sourceFrame,r.resolution=t.resolution;var i=r.inputSize,a=r.inputPixel,o=r.inputClamp;if(i[0]=t.destinationFrame.width,i[1]=t.destinationFrame.height,i[2]=1/i[0],i[3]=1/i[1],a[0]=Math.round(i[0]*t.resolution),a[1]=Math.round(i[1]*t.resolution),a[2]=1/a[0],a[3]=1/a[1],o[0]=.5*a[2],o[1]=.5*a[3],o[2]=t.sourceFrame.width*i[2]-.5*a[2],o[3]=t.sourceFrame.height*i[3]-.5*a[3],t.legacy){var s=r.filterArea;s[0]=t.destinationFrame.width,s[1]=t.destinationFrame.height,s[2]=t.sourceFrame.x,s[3]=t.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var u=e[e.length-1];if(this.renderer.framebuffer.blit(),1===n.length)n[0].apply(this,t.renderTexture,u.renderTexture,np.BLEND,t),this.returnFilterTexture(t.renderTexture);else{var l=t.renderTexture,c=this.getOptimalFilterTexture(l.width,l.height,t.resolution);c.filterFrame=l.filterFrame;var f=0;for(f=0;f<n.length-1;++f){1===f&&t.multisample>1&&((c=this.getOptimalFilterTexture(l.width,l.height,t.resolution)).filterFrame=l.filterFrame),n[f].apply(this,l,c,np.CLEAR,t);var h=l;l=c,c=h}n[f].apply(this,l,u.renderTexture,np.BLEND,t),f>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(l),this.returnFilterTexture(c)}t.clear(),this.statePool.push(t)}},{key:"bindAndClear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:np.CLEAR,n=this.renderer,r=n.renderTexture,i=n.state;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,null!==e&&void 0!==e&&e.filterFrame){var a=this.tempRect;a.x=0,a.y=0,a.width=e.filterFrame.width,a.height=e.filterFrame.height,r.bind(e,e.filterFrame,a)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var o=1&i.stateId||this.forceClear;(t===np.CLEAR||t===np.BLIT&&o)&&this.renderer.framebuffer.clear(0,0,0,0)}},{key:"applyFilter",value:function(e,t,n,r){var i=this.renderer;i.state.set(e.state),this.bindAndClear(n,r),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,i.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),i.geometry.bind(this.quadUv),i.geometry.draw(Xd.TRIANGLES)):(i.geometry.bind(this.quad),i.geometry.draw(Xd.TRIANGLE_STRIP))}},{key:"calculateSpriteMatrix",value:function(e,t){var n=this.activeState,r=n.sourceFrame,i=n.destinationFrame,a=t._texture.orig,o=e.set(i.width,0,0,i.height,r.x,r.y),s=t.worldTransform.copyTo(bm.TEMP_MATRIX);return s.invert(),o.prepend(s),o.scale(1/a.width,1/a.height),o.translate(t.anchor.x,t.anchor.y),o}},{key:"destroy",value:function(){this.renderer=null,this.texturePool.clear(!1)}},{key:"getOptimalFilterTexture",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:op.NONE;return this.texturePool.getOptimalTexture(e,t,n,r)}},{key:"getFilterTexture",value:function(e,t,n){if("number"===typeof e){var r=e;e=t,t=r}e=e||this.activeState.renderTexture;var i=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,n||op.NONE);return i.filterFrame=e.filterFrame,i}},{key:"returnFilterTexture",value:function(e){this.texturePool.returnTexture(e)}},{key:"emptyPool",value:function(){this.texturePool.clear(!0)}},{key:"resize",value:function(){this.texturePool.setScreenSize(this.renderer.view)}},{key:"transformAABB",value:function(e,t){var n=xg[0],r=xg[1],i=xg[2],a=xg[3];n.set(t.left,t.top),r.set(t.left,t.bottom),i.set(t.right,t.top),a.set(t.right,t.bottom),e.apply(n,n),e.apply(r,r),e.apply(i,i),e.apply(a,a);var o=Math.min(n.x,r.x,i.x,a.x),s=Math.min(n.y,r.y,i.y,a.y),u=Math.max(n.x,r.x,i.x,a.x),l=Math.max(n.y,r.y,i.y,a.y);t.x=o,t.y=s,t.width=u-o,t.height=l-s}},{key:"roundFrame",value:function(e,t,n,r,i){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(i){var a=i,o=a.a,s=a.b,u=a.c,l=a.d;if((Math.abs(s)>1e-4||Math.abs(u)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(l)>1e-4))return}(i=i?kg.copyFrom(i):kg.identity()).translate(-n.x,-n.y).scale(r.width/n.width,r.height/n.height).translate(r.x,r.y),this.transformAABB(i,e),e.ceil(t),this.transformAABB(i.invert(),e)}}}]),e}();wg.extension={type:Bv.RendererSystem,name:"filter"},Fv.add(wg);var Sg=V((function e(t){U(this,e),this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=op.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0})),Tg=new pm,Eg=function(){function e(t){U(this,e),this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new ug(10,10),this.msaaSamples=null}return V(e,[{key:"contextChange",value:function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new pm,this.hasMRT=!0,this.writeDepthTexture=!0,1===this.renderer.context.webGLVersion){var t=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;lp.PREFER_ENV===Hd.WEBGL_LEGACY&&(t=null,n=null),t?e.drawBuffers=function(e){return t.drawBuffersWEBGL(e)}:(this.hasMRT=!1,e.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}},{key:"bind",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.gl;if(e){var i=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,r.bindFramebuffer(r.FRAMEBUFFER,i.framebuffer)),i.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,i.mipLevel=n),i.dirtyId!==e.dirtyId&&(i.dirtyId=e.dirtyId,i.dirtyFormat!==e.dirtyFormat?(i.dirtyFormat=e.dirtyFormat,i.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):i.dirtySize!==e.dirtySize&&(i.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var a=0;a<e.colorTextures.length;a++){var o=e.colorTextures[a];this.renderer.texture.unbind(o.parentTextureArray||o)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){var s=t.width>>n,u=t.height>>n,l=s/t.width;this.setViewport(t.x*l,t.y*l,s,u)}else{var c=e.width>>n,f=e.height>>n;this.setViewport(0,0,c,f)}}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}},{key:"setViewport",value:function(e,t,n,r){var i=this.viewport;e=Math.round(e),t=Math.round(t),n=Math.round(n),r=Math.round(r),i.width===n&&i.height===r&&i.x===e&&i.y===t||(i.x=e,i.y=t,i.width=n,i.height=r,this.gl.viewport(e,t,n,r))}},{key:"size",get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}},{key:"clear",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Gd.COLOR|Gd.DEPTH,a=this.gl;a.clearColor(e,t,n,r),a.clear(i)}},{key:"initFramebuffer",value:function(e){var t=this.gl,n=new Sg(t.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}},{key:"resizeFramebuffer",value:function(e){var t=this.gl,n=e.glFramebuffers[this.CONTEXT_UID];n.stencil&&(t.bindRenderbuffer(t.RENDERBUFFER,n.stencil),n.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,t.DEPTH24_STENCIL8,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height));var r=e.colorTextures,i=r.length;t.drawBuffers||(i=Math.min(i,1));for(var a=0;a<i;a++){var o=r[a],s=o.parentTextureArray||o;this.renderer.texture.bind(s,0),0===a&&n.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,n.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,s._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}},{key:"updateFramebuffer",value:function(e,t){var n=this.gl,r=e.glFramebuffers[this.CONTEXT_UID],i=e.colorTextures,a=i.length;n.drawBuffers||(a=Math.min(a,1)),r.multisample>1&&this.canMultisampleFramebuffer(e)?r.msaaBuffer=r.msaaBuffer||n.createRenderbuffer():r.msaaBuffer&&(n.deleteRenderbuffer(r.msaaBuffer),r.msaaBuffer=null,r.blitFramebuffer&&(r.blitFramebuffer.dispose(),r.blitFramebuffer=null));for(var o=[],s=0;s<a;s++){var u=i[s],l=u.parentTextureArray||u;this.renderer.texture.bind(l,0),0===s&&r.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,r.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,r.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+s,u.target,l._glTextures[this.CONTEXT_UID].texture,t),o.push(n.COLOR_ATTACHMENT0+s))}if((o.length>1&&n.drawBuffers(o),e.depthTexture)&&this.writeDepthTexture){var c=e.depthTexture;this.renderer.texture.bind(c,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,t)}!e.stencil&&!e.depth||e.depthTexture&&this.writeDepthTexture?r.stencil&&(n.deleteRenderbuffer(r.stencil),r.stencil=null):(r.stencil=r.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,r.stencil),r.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,r.stencil))}},{key:"canMultisampleFramebuffer",value:function(e){return 1!==this.renderer.context.webGLVersion&&e.colorTextures.length<=1&&!e.depthTexture}},{key:"detectSamples",value:function(e){var t=this.msaaSamples,n=op.NONE;if(e<=1||null===t)return n;for(var r=0;r<t.length;r++)if(t[r]<=e){n=t[r];break}return 1===n&&(n=op.NONE),n}},{key:"blit",value:function(e,t,n){var r=this.current,i=this.renderer,a=this.gl,o=this.CONTEXT_UID;if(2===i.context.webGLVersion&&r){var s=r.glFramebuffers[o];if(s){if(!e){if(!s.msaaBuffer)return;var u=r.colorTextures[0];if(!u)return;s.blitFramebuffer||(s.blitFramebuffer=new ug(r.width,r.height),s.blitFramebuffer.addColorTexture(0,u)),(e=s.blitFramebuffer).colorTextures[0]!==u&&(e.colorTextures[0]=u,e.dirtyId++,e.dirtyFormat++),e.width===r.width&&e.height===r.height||(e.width=r.width,e.height=r.height,e.dirtyId++,e.dirtySize++)}t||((t=Tg).width=r.width,t.height=r.height),n||(n=t);var l=t.width===n.width&&t.height===n.height;this.bind(e),a.bindFramebuffer(a.READ_FRAMEBUFFER,s.framebuffer),a.blitFramebuffer(t.left,t.top,t.right,t.bottom,n.left,n.top,n.right,n.bottom,a.COLOR_BUFFER_BIT,l?a.NEAREST:a.LINEAR),a.bindFramebuffer(a.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}}}},{key:"disposeFramebuffer",value:function(e,t){var n=e.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(n){delete e.glFramebuffers[this.CONTEXT_UID];var i=this.managedFramebuffers.indexOf(e);i>=0&&this.managedFramebuffers.splice(i,1),e.disposeRunner.remove(this),t||(r.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&r.deleteRenderbuffer(n.msaaBuffer),n.stencil&&r.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,t)}}},{key:"disposeAll",value:function(e){var t=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<t.length;n++)this.disposeFramebuffer(t[n],e)}},{key:"forceStencil",value:function(){var e=this.current;if(e){var t=e.glFramebuffers[this.CONTEXT_UID];if(t&&!t.stencil){e.stencil=!0;var n=e.width,r=e.height,i=this.gl,a=i.createRenderbuffer();i.bindRenderbuffer(i.RENDERBUFFER,a),t.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,t.multisample,i.DEPTH24_STENCIL8,n,r):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,n,r),t.stencil=a,i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,a)}}}},{key:"reset",value:function(){this.current=this.unknownFramebuffer,this.viewport=new pm}},{key:"destroy",value:function(){this.renderer=null}}]),e}();Eg.extension={type:Bv.RendererSystem,name:"framebuffer"},Fv.add(Eg);var Cg={5126:4,5123:2,5121:1},Ag=function(){function e(t){U(this,e),this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return V(e,[{key:"contextChange",value:function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==t.webGLVersion){var n=this.renderer.context.extensions.vertexArrayObject;lp.PREFER_ENV===Hd.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=function(){return n.createVertexArrayOES()},e.bindVertexArray=function(e){return n.bindVertexArrayOES(e)},e.deleteVertexArray=function(e){return n.deleteVertexArrayOES(e)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(2!==t.webGLVersion){var r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=function(e,t){return r.vertexAttribDivisorANGLE(e,t)},e.drawElementsInstanced=function(e,t,n,i,a){return r.drawElementsInstancedANGLE(e,t,n,i,a)},e.drawArraysInstanced=function(e,t,n,i){return r.drawArraysInstancedANGLE(e,t,n,i)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===t.webGLVersion||!!t.extensions.uint32ElementIndex}},{key:"bind",value:function(e,t){t=t||this.renderer.shader.shader;var n=this.gl,r=e.glVertexArrayObjects[this.CONTEXT_UID],i=!1;r||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=r={},i=!0);var a=r[t.program.id]||this.initGeometryVao(e,t,i);this._activeGeometry=e,this._activeVao!==a&&(this._activeVao=a,this.hasVao?n.bindVertexArray(a):this.activateVao(e,t.program)),this.updateBuffers()}},{key:"reset",value:function(){this.unbind()}},{key:"updateBuffers",value:function(){for(var e=this._activeGeometry,t=this.renderer.buffer,n=0;n<e.buffers.length;n++){var r=e.buffers[n];t.update(r)}}},{key:"checkCompatibility",value:function(e,t){var n=e.attributes,r=t.attributeData;for(var i in r)if(!n[i])throw new Error('shader and geometry incompatible, geometry missing the "'.concat(i,'" attribute'))}},{key:"getSignature",value:function(e,t){var n=e.attributes,r=t.attributeData,i=["g",e.id];for(var a in n)r[a]&&i.push(a,r[a].location);return i.join("-")}},{key:"initGeometryVao",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.gl,i=this.CONTEXT_UID,a=this.renderer.buffer,o=t.program;o.glPrograms[i]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,o);var s=this.getSignature(e,o),u=e.glVertexArrayObjects[this.CONTEXT_UID],l=u[s];if(l)return u[o.id]=l,l;var c=e.buffers,f=e.attributes,h={},d={};for(var p in c)h[p]=0,d[p]=0;for(var v in f)!f[v].size&&o.attributeData[v]?f[v].size=o.attributeData[v].size:f[v].size||console.warn("PIXI Geometry attribute '".concat(v,"' size cannot be determined (likely the bound shader does not have the attribute)")),h[f[v].buffer]+=f[v].size*Cg[f[v].type];for(var m in f){var g=f[m],y=g.size;void 0===g.stride&&(h[g.buffer]===y*Cg[g.type]?g.stride=0:g.stride=h[g.buffer]),void 0===g.start&&(g.start=d[g.buffer],d[g.buffer]+=y*Cg[g.type])}l=r.createVertexArray(),r.bindVertexArray(l);for(var b=0;b<c.length;b++){var _=c[b];a.bind(_),n&&_._glBuffers[i].refCount++}return this.activateVao(e,o),u[o.id]=l,u[s]=l,r.bindVertexArray(null),a.unbind(sp.ARRAY_BUFFER),l}},{key:"disposeGeometry",value:function(e,t){var n;if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var r=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,a=e.buffers,o=null===(n=this.renderer)||void 0===n?void 0:n.buffer;if(e.disposeRunner.remove(this),r){if(o)for(var s=0;s<a.length;s++){var u=a[s]._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,0!==u.refCount||t||o.dispose(a[s],t))}if(!t)for(var l in r)if("g"===l[0]){var c=r[l];this._activeVao===c&&this.unbind(),i.deleteVertexArray(c)}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}}},{key:"disposeAll",value:function(e){for(var t=Object.keys(this.managedGeometries),n=0;n<t.length;n++)this.disposeGeometry(this.managedGeometries[t[n]],e)}},{key:"activateVao",value:function(e,t){var n=this.gl,r=this.CONTEXT_UID,i=this.renderer.buffer,a=e.buffers,o=e.attributes;e.indexBuffer&&i.bind(e.indexBuffer);var s=null;for(var u in o){var l=o[u],c=a[l.buffer],f=c._glBuffers[r];if(t.attributeData[u]){s!==f&&(i.bind(c),s=f);var h=t.attributeData[u].location;if(n.enableVertexAttribArray(h),n.vertexAttribPointer(h,l.size,l.type||n.FLOAT,l.normalized,l.stride,l.start),l.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");n.vertexAttribDivisor(h,l.divisor)}}}}},{key:"draw",value:function(e,t,n,r){var i=this.gl,a=this._activeGeometry;if(a.indexBuffer){var o=a.indexBuffer.data.BYTES_PER_ELEMENT,s=2===o?i.UNSIGNED_SHORT:i.UNSIGNED_INT;2===o||4===o&&this.canUseUInt32ElementIndex?a.instanced?i.drawElementsInstanced(e,t||a.indexBuffer.data.length,s,(n||0)*o,r||1):i.drawElements(e,t||a.indexBuffer.data.length,s,(n||0)*o):console.warn("unsupported index buffer type: uint32")}else a.instanced?i.drawArraysInstanced(e,n,t||a.getSize(),r||1):i.drawArrays(e,n,t||a.getSize());return this}},{key:"unbind",value:function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}},{key:"destroy",value:function(){this.renderer=null}}]),e}();Ag.extension={type:Bv.RendererSystem,name:"geometry"},Fv.add(Ag);var Pg=new bm,Ig=function(){function e(t,n){U(this,e),this._texture=t,this.mapCoord=new bm,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin="undefined"===typeof n?.5:n,this.isSimple=!1}return V(e,[{key:"texture",get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1}},{key:"multiplyUvs",value:function(e,t){void 0===t&&(t=e);for(var n=this.mapCoord,r=0;r<e.length;r+=2){var i=e[r],a=e[r+1];t[r]=i*n.a+a*n.c+n.tx,t[r+1]=i*n.b+a*n.d+n.ty}return t}},{key:"update",value:function(e){var t=this._texture;if(!t||!t.valid)return!1;if(!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;var n=t._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var r=t.orig,i=t.trim;i&&(Pg.set(r.width/i.width,0,0,r.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(Pg));var a=t.baseTexture,o=this.uClampFrame,s=this.clampMargin/a.resolution,u=this.clampOffset;return o[0]=(t._frame.x+s+u)/a.width,o[1]=(t._frame.y+s+u)/a.height,o[2]=(t._frame.x+t._frame.width-s+u)/a.width,o[3]=(t._frame.y+t._frame.height-s+u)/a.height,this.uClampOffset[0]=u/a.realWidth,this.uClampOffset[1]=u/a.realHeight,this.isSimple=t._frame.width===a.width&&t._frame.height===a.height&&0===t.rotate,!0}}]),e}(),Og=function(e){X(n,e);var t=K(n);function n(e,r,i){var a;U(this,n);var o=null;return"string"!==typeof e&&void 0===r&&void 0===i&&(o=e,e=void 0,r=void 0,i=void 0),(a=t.call(this,e||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",r||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",i)).maskSprite=o,a.maskMatrix=new bm,a}return V(n,[{key:"maskSprite",get:function(){return this._maskSprite},set:function(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}},{key:"apply",value:function(e,t,n,r){var i=this._maskSprite,a=i._texture;a.valid&&(a.uvMatrix||(a.uvMatrix=new Ig(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,i).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,e.applyFilter(this,t,n,r))}}]),n}(ng),Mg=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;U(this,e),this.type=ap.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=ng.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}return V(e,[{key:"filter",get:function(){return this._filters?this._filters[0]:null},set:function(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}},{key:"reset",value:function(){this.pooled&&(this.maskObject=null,this.type=ap.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}},{key:"copyCountersOrReset",value:function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}]),e}(),Rg=function(){function e(t){U(this,e),this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return V(e,[{key:"setMaskStack",value:function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}},{key:"push",value:function(e,t){var n=t;if(!n.isMaskData){var r=this.maskDataPool.pop()||new Mg;r.pooled=!0,r.maskObject=t,n=r}var i=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==ap.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case ap.SCISSOR:this.renderer.scissor.push(n);break;case ap.STENCIL:this.renderer.stencil.push(n);break;case ap.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case ap.COLOR:this.pushColorMask(n)}n.type===ap.SPRITE&&this.maskStack.push(n)}},{key:"pop",value:function(e){var t=this.maskStack.pop();if(t&&t._target===e){if(t.enabled)switch(t.type){case ap.SCISSOR:this.renderer.scissor.pop(t);break;case ap.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case ap.SPRITE:this.popSpriteMask(t);break;case ap.COLOR:this.popColorMask(t)}if(t.reset(),t.pooled&&this.maskDataPool.push(t),0!==this.maskStack.length){var n=this.maskStack[this.maskStack.length-1];n.type===ap.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}},{key:"detect",value:function(e){var t=e.maskObject;t?t.isSprite?e.type=ap.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=ap.SCISSOR:e.type=ap.STENCIL:e.type=ap.COLOR}},{key:"pushSpriteMask",value:function(e){var t=e.maskObject,n=e._target,r=e._filters;r||(r=this.alphaMaskPool[this.alphaMaskIndex])||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new Og]);var i,a,o=this.renderer,s=o.renderTexture;if(s.current){var u,l=s.current;i=e.resolution||l.resolution,a=null!==(u=e.multisample)&&void 0!==u?u:l.multisample}else{var c;i=e.resolution||o.resolution,a=null!==(c=e.multisample)&&void 0!==c?c:o.multisample}r[0].resolution=i,r[0].multisample=a,r[0].maskSprite=t;var f=n.filterArea;n.filterArea=t.getBounds(!0),o.filter.push(n,r),n.filterArea=f,e._filters||this.alphaMaskIndex++}},{key:"popSpriteMask",value:function(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}},{key:"pushColorMask",value:function(e){var t=e._colorMask,n=e._colorMask=t&e.colorMask;n!==t&&this.renderer.gl.colorMask(0!==(1&n),0!==(2&n),0!==(4&n),0!==(8&n))}},{key:"popColorMask",value:function(e){var t=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==t&&this.renderer.gl.colorMask(0!==(1&n),0!==(2&n),0!==(4&n),0!==(8&n))}},{key:"destroy",value:function(){this.renderer=null}}]),e}();Rg.extension={type:Bv.RendererSystem,name:"mask"},Fv.add(Rg);var Ng=function(){function e(t){U(this,e),this.renderer=t,this.maskStack=[],this.glConst=0}return V(e,[{key:"getStackLength",value:function(){return this.maskStack.length}},{key:"setMaskStack",value:function(e){var t=this.renderer.gl,n=this.getStackLength();this.maskStack=e;var r=this.getStackLength();r!==n&&(0===r?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))}},{key:"_useCurrent",value:function(){}},{key:"destroy",value:function(){this.renderer=null,this.maskStack=null}}]),e}(),Dg=new bm,Bg=[],Lg=function(e){X(n,e);var t=K(n);function n(e){var r;return U(this,n),(r=t.call(this,e)).glConst=lp.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST,r}return V(n,[{key:"getStackLength",value:function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}},{key:"calcScissorRect",value:function(e){var t;if(!e._scissorRectLocal){var n=e._scissorRect,r=e.maskObject,i=this.renderer,a=i.renderTexture,o=r.getBounds(!0,null!==(t=Bg.pop())&&void 0!==t?t:new pm);this.roundFrameToPixels(o,a.current?a.current.resolution:i.resolution,a.sourceFrame,a.destinationFrame,i.projection.transform),n&&o.fit(n),e._scissorRectLocal=o}}},{key:"testScissor",value:function(e){var t=e.maskObject;if(!t.isFastRect||!t.isFastRect())return!1;if(n.isMatrixRotated(t.worldTransform))return!1;if(n.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);var r=e._scissorRectLocal;return r.width>0&&r.height>0}},{key:"roundFrameToPixels",value:function(e,t,r,i,a){n.isMatrixRotated(a)||((a=a?Dg.copyFrom(a):Dg.identity()).translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.renderer.filter.transformAABB(a,e),e.fit(i),e.x=Math.round(e.x*t),e.y=Math.round(e.y*t),e.width=Math.round(e.width*t),e.height=Math.round(e.height*t))}},{key:"push",value:function(e){e._scissorRectLocal||this.calcScissorRect(e);var t=this.renderer.gl;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}},{key:"pop",value:function(e){var t=this.renderer.gl;e&&Bg.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)}},{key:"_useCurrent",value:function(){var e,t=this.maskStack[this.maskStack.length-1]._scissorRect;e=this.renderer.renderTexture.current?t.y:this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}}],[{key:"isMatrixRotated",value:function(e){if(!e)return!1;var t=e.a,n=e.b,r=e.c,i=e.d;return(Math.abs(n)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(i)>1e-4)}}]),n}(Ng),jg=Lg;jg.extension={type:Bv.RendererSystem,name:"scissor"},Fv.add(jg);var Fg=function(e){X(n,e);var t=K(n);function n(e){var r;return U(this,n),(r=t.call(this,e)).glConst=lp.ADAPTER.getWebGLRenderingContext().STENCIL_TEST,r}return V(n,[{key:"getStackLength",value:function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}},{key:"push",value:function(e){var t=e.maskObject,n=this.renderer.gl,r=e._stencilCounter;0===r&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;var i=e._colorMask;0!==i&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,r,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,0!==i&&(e._colorMask=i,n.colorMask(0!==(1&i),0!==(2&i),0!==(4&i),0!==(8&i))),this._useCurrent()}},{key:"pop",value:function(e){var t=this.renderer.gl;if(0===this.getStackLength())t.disable(t.STENCIL_TEST);else{var n=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null,r=n?n._colorMask:15;0!==r&&(n._colorMask=0,t.colorMask(!1,!1,!1,!1)),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,0!==r&&(n._colorMask=r,t.colorMask(0!==(1&r),0!==(2&r),0!==(4&r),0!==(8&r))),this._useCurrent()}}},{key:"_useCurrent",value:function(){var e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}]),n}(Ng);Fg.extension={type:Bv.RendererSystem,name:"stencil"},Fv.add(Fg);var Ug=function(){function e(t){U(this,e),this.renderer=t,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get:function(){return Lp("7.0.0","renderer.plugins.extract has moved to renderer.extract"),t.extract}},prepare:{enumerable:!1,get:function(){return Lp("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),t.prepare}},interaction:{enumerable:!1,get:function(){return Lp("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),t.events}}})}return V(e,[{key:"init",value:function(){var e=this.rendererPlugins;for(var t in e)this.plugins[t]=new e[t](this.renderer)}},{key:"destroy",value:function(){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}]),e}();Ug.extension={type:[Bv.RendererSystem,Bv.CanvasRendererSystem],name:"_plugin"},Fv.add(Ug);var zg=function(){function e(t){U(this,e),this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new bm,this.transform=null}return V(e,[{key:"update",value:function(e,t,n,r){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,r),this.transform&&this.projectionMatrix.append(this.transform);var i=this.renderer;i.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,i.globalUniforms.update(),i.shader.shader&&i.shader.syncUniformGroup(i.shader.shader.uniforms.globals)}},{key:"calculateProjection",value:function(e,t,n,r){var i=this.projectionMatrix,a=r?-1:1;i.identity(),i.a=1/t.width*2,i.d=a*(1/t.height*2),i.tx=-1-t.x*i.a,i.ty=-a-t.y*i.d}},{key:"setTransform",value:function(e){}},{key:"destroy",value:function(){this.renderer=null}}]),e}();zg.extension={type:Bv.RendererSystem,name:"projection"},Fv.add(zg);var Vg=["region"],Hg=new Im,Wg=function(){function e(t){U(this,e),this.renderer=t,this._tempMatrix=new bm}return V(e,[{key:"generateTexture",value:function(e,t){var n=t||{},r=n.region,i=Qa(n,Vg),a=r||e.getLocalBounds(null,!0);0===a.width&&(a.width=1),0===a.height&&(a.height=1);var o=mg.create(f({width:a.width,height:a.height},i));this._tempMatrix.tx=-a.x,this._tempMatrix.ty=-a.y;var s=e.transform;return e.transform=Hg,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=s,o}},{key:"destroy",value:function(){}}]),e}();Wg.extension={type:[Bv.RendererSystem,Bv.CanvasRendererSystem],name:"textureGenerator"},Fv.add(Wg);var Gg=new pm,qg=new pm,Xg=function(){function e(t){U(this,e),this.renderer=t,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new pm,this.destinationFrame=new pm,this.viewportFrame=new pm}return V(e,[{key:"contextChange",value:function(){var e,t=null===(e=this.renderer)||void 0===e?void 0:e.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}},{key:"bind",value:function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,o=this.renderer;this.current=r,r?(n=(e=r.baseTexture).resolution,i||(Gg.width=r.frame.width,Gg.height=r.frame.height,i=Gg),a||(qg.x=r.frame.x,qg.y=r.frame.y,qg.width=i.width,qg.height=i.height,a=qg),t=e.framebuffer):(n=o.resolution,i||(Gg.width=o._view.screen.width,Gg.height=o._view.screen.height,i=Gg),a||((a=Gg).width=i.width,a.height=i.height));var s=this.viewportFrame;s.x=a.x*n,s.y=a.y*n,s.width=a.width*n,s.height=a.height*n,r||(s.y=o.view.height-(s.y+s.height)),s.ceil(),this.renderer.framebuffer.bind(t,s),this.renderer.projection.update(a,i,n,!t),r?this.renderer.mask.setMaskStack(e.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(i),this.destinationFrame.copyFrom(a)}},{key:"clear",value:function(e,t){var n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,r=pv.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&r.premultiply(r.alpha);var i=this.destinationFrame,a=this.current?this.current.baseTexture:this.renderer._view.screen,o=i.width!==a.width||i.height!==a.height;if(o){var s=this.viewportFrame,u=s.x,l=s.y,c=s.width,f=s.height;u=Math.round(u),l=Math.round(l),c=Math.round(c),f=Math.round(f),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(u,l,c,f)}this.renderer.framebuffer.clear(r.red,r.green,r.blue,r.alpha,t),o&&this.renderer.scissor.pop()}},{key:"resize",value:function(){this.bind(null)}},{key:"reset",value:function(){this.bind(null)}},{key:"destroy",value:function(){this.renderer=null}}]),e}();Xg.extension={type:Bv.RendererSystem,name:"renderTexture"},Fv.add(Xg);var Yg=function(){function e(t,n){U(this,e),this.program=t,this.uniformData=n,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return V(e,[{key:"destroy",value:function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}]),e}();function Qg(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}function Kg(e){for(var t=new Array(e),n=0;n<t.length;n++)t[n]=!1;return t}function Zg(e,t){switch(e){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return Kg(2*t);case"bvec3":return Kg(3*t);case"bvec4":return Kg(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}function $g(e,t){var n,r=e.getShaderSource(t).split("\n").map((function(e,t){return"".concat(t,": ").concat(e)})),i=e.getShaderInfoLog(t),a=i.split("\n"),o={},s=a.map((function(e){return parseFloat(e.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))})).filter((function(e){return!(!e||o[e])&&(o[e]=!0,!0)})),u=[""];s.forEach((function(e){r[e-1]="%c".concat(r[e-1],"%c"),u.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")}));var l=r.join("\n");u[0]=l,console.error(i),console.groupCollapsed("click to view full shader code"),(n=console).warn.apply(n,u),console.groupEnd()}function Jg(e,t){var n,r=Qg(e,e.VERTEX_SHADER,t.vertexSrc),i=Qg(e,e.FRAGMENT_SHADER,t.fragmentSrc),a=e.createProgram();e.attachShader(a,r),e.attachShader(a,i);var o=null===(n=t.extra)||void 0===n?void 0:n.transformFeedbackVaryings;if(o&&("function"!==typeof e.transformFeedbackVaryings?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):e.transformFeedbackVaryings(a,o.names,"separate"===o.bufferMode?e.SEPARATE_ATTRIBS:e.INTERLEAVED_ATTRIBS)),e.linkProgram(a),e.getProgramParameter(a,e.LINK_STATUS)||function(e,t,n,r){e.getProgramParameter(t,e.LINK_STATUS)||(e.getShaderParameter(n,e.COMPILE_STATUS)||$g(e,n),e.getShaderParameter(r,e.COMPILE_STATUS)||$g(e,r),console.error("PixiJS Error: Could not initialize shader."),""!==e.getProgramInfoLog(t)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(t)))}(e,a,r,i),t.attributeData=function(e,t){for(var n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var a=t.getActiveAttrib(e,i);if(!a.name.startsWith("gl_")){var o=Vm(t,a.type),s={type:o,name:a.name,size:Fm(o),location:t.getAttribLocation(e,a.name)};n[a.name]=s}}return n}(a,e),t.uniformData=function(e,t){for(var n={},r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<r;i++){var a=t.getActiveUniform(e,i),o=a.name.replace(/\[.*?\]$/,""),s=!!a.name.match(/\[.*?\]$/),u=Vm(t,a.type);n[o]={name:o,index:i,type:u,size:a.size,isArray:s,value:Zg(u,a.size)}}return n}(a,e),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){var s=Object.keys(t.attributeData);s.sort((function(e,t){return e>t?1:-1}));for(var u=0;u<s.length;u++)t.attributeData[s[u]].location=u,e.bindAttribLocation(a,u,s[u]);e.linkProgram(a)}e.deleteShader(r),e.deleteShader(i);var l={};for(var c in t.uniformData){var f=t.uniformData[c];l[c]={location:e.getUniformLocation(a,c),value:Zg(f.type,f.size)}}return new Yg(a,l)}function ey(e,t,n,r,i){n.buffer.update(i)}var ty,ny={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},ry={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function iy(e,t){if(!e.autoManage)return{size:0,syncFunc:ey};for(var n=function(e,t){var n=[];for(var r in e)t[r]&&n.push(t[r]);return n.sort((function(e,t){return e.index-t.index})),n}(e.uniforms,t),r=function(e){for(var t=e.map((function(e){return{data:e,offset:0,dataLen:0,dirty:0}})),n=0,r=0,i=0,a=0;a<t.length;a++){var o=t[a];if(n=ry[o.data.type],o.data.size>1&&(n=Math.max(n,16)*o.data.size),o.dataLen=n,r%n!==0&&r<16){var s=r%n%16;r+=s,i+=s}r+n>16?(i=16*Math.ceil(i/16),o.offset=i,i+=n,r=n):(o.offset=i,r+=n,i+=n)}return{uboElements:t,size:i=16*Math.ceil(i/16)}}(n),i=r.uboElements,a=r.size,o=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],s=0;s<i.length;s++){for(var u=i[s],l=e.uniforms[u.data.name],c=u.data.name,f=!1,h=0;h<Om.length;h++){var d=Om[h];if(d.codeUbo&&d.test(u.data,l)){o.push("offset = ".concat(u.offset/4,";"),Om[h].codeUbo(u.data.name,l)),f=!0;break}}if(!f)if(u.data.size>1){var p=Fm(u.data.type),v=Math.max(ry[u.data.type]/16,1),m=p/v,g=(4-m%4)%4;o.push("\n                cv = ud.".concat(c,".value;\n                v = uv.").concat(c,";\n                offset = ").concat(u.offset/4,";\n\n                t = 0;\n\n                for(var i=0; i < ").concat(u.data.size*v,"; i++)\n                {\n                    for(var j = 0; j < ").concat(m,"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += ").concat(g,";\n                }\n\n                "))}else{var y=ny[u.data.type];o.push("\n                cv = ud.".concat(c,".value;\n                v = uv.").concat(c,";\n                offset = ").concat(u.offset/4,";\n                ").concat(y,";\n                "))}}return o.push("\n       renderer.buffer.update(buffer);\n    "),{size:a,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join("\n"))}}var ay=0,oy={textureCount:0,uboCount:0},sy=function(){function e(t){U(this,e),this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=ay++}return V(e,[{key:"systemCheck",value:function(){if(!function(){if("boolean"===typeof ty)return ty;try{var e=new Function("param1","param2","param3","return param1[param2] === param3;");ty=!0===e({a:"b"},"a","b")}catch(Vp){ty=!1}return ty}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}},{key:"contextChange",value:function(e){this.gl=e,this.reset()}},{key:"bind",value:function(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;var n=e.program,r=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(r.program)),t||(oy.textureCount=0,oy.uboCount=0,this.syncUniformGroup(e.uniformGroup,oy)),r}},{key:"setUniforms",value:function(e){var t=this.shader.program,n=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(n.uniformData,e,this.renderer)}},{key:"syncUniformGroup",value:function(e,t){var n=this.getGlProgram();e.static&&e.dirtyId===n.uniformDirtyGroups[e.id]||(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,t))}},{key:"syncUniforms",value:function(e,t,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,n)}},{key:"createSyncGroups",value:function(e){var t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=function(e,t){var n=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(var r in e.uniforms){var i=t[r];if(i){for(var a=e.uniforms[r],o=!1,s=0;s<Om.length;s++)if(Om[s].test(i,a)){n.push(Om[s].code(r,a)),o=!0;break}if(!o){var u=(1!==i.size||i.isArray?Rm:Mm)[i.type].replace("location",'ud["'.concat(r,'"].location'));n.push('\n            cu = ud["'.concat(r,'"];\n            cv = cu.value;\n            v = uv["').concat(r,'"];\n            ').concat(u,";"))}}else{var l;null!==(l=e.uniforms[r])&&void 0!==l&&l.group&&(e.uniforms[r].ubo?n.push("\n                        renderer.shader.syncUniformBufferGroup(uv.".concat(r,", '").concat(r,"');\n                    ")):n.push("\n                        renderer.shader.syncUniformGroup(uv.".concat(r,", syncData);\n                    ")))}}return new Function("ud","uv","renderer","syncData",n.join("\n"))}(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]}},{key:"syncUniformBufferGroup",value:function(e,t){var n=this.getGlProgram();if(!e.static||0!==e.dirtyId||!n.uniformGroups[e.id]){e.dirtyId=0;var r=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,t);e.buffer.update(),r(n.uniformData,e.uniforms,this.renderer,oy,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[t])}},{key:"createSyncBufferGroup",value:function(e,t,n){var r=this.renderer.gl;this.renderer.buffer.bind(e.buffer);var i=this.gl.getUniformBlockIndex(t.program,n);t.uniformBufferBindings[n]=this.shader.uniformBindCount,r.uniformBlockBinding(t.program,i,this.shader.uniformBindCount),this.shader.uniformBindCount++;var a=this.getSignature(e,this.shader.program.uniformData,"ubo"),o=this._uboCache[a];if(o||(o=this._uboCache[a]=iy(e,this.shader.program.uniformData)),e.autoManage){var s=new Float32Array(o.size/4);e.buffer.update(s)}return t.uniformGroups[e.id]=o.syncFunc,t.uniformGroups[e.id]}},{key:"getSignature",value:function(e,t,n){var r=e.uniforms,i=["".concat(n,"-")];for(var a in r)i.push(a),t[a]&&i.push(t[a].type);return i.join("-")}},{key:"getGlProgram",value:function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}},{key:"generateProgram",value:function(e){var t=this.gl,n=e.program,r=Jg(t,n);return n.glPrograms[this.renderer.CONTEXT_UID]=r,r}},{key:"reset",value:function(){this.program=null,this.shader=null}},{key:"disposeShader",value:function(e){this.shader===e&&(this.shader=null)}},{key:"destroy",value:function(){this.renderer=null,this.destroyed=!0}}]),e}();sy.extension={type:Bv.RendererSystem,name:"shader"},Fv.add(sy);var uy=function(){function e(t){U(this,e),this.renderer=t}return V(e,[{key:"run",value:function(e){var t=this.renderer;t.runners.init.emit(t.options),e.hello&&console.log("PixiJS ".concat("7.2.4"," - ",t.rendererLogId," - https://pixijs.com")),t.resize(t.screen.width,t.screen.height)}},{key:"destroy",value:function(){}}]),e}();uy.defaultOptions={hello:!1},uy.extension={type:[Bv.RendererSystem,Bv.CanvasRendererSystem],name:"startup"},Fv.add(uy);var ly=function(){function e(){U(this,e),this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=qd.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new Hv,this.defaultState.blend=!0}return V(e,[{key:"contextChange",value:function(e){this.gl=e,this.blendModes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t[qd.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qd.ADD]=[e.ONE,e.ONE],t[qd.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qd.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qd.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qd.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qd.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qd.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qd.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qd.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qd.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qd.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qd.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qd.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qd.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qd.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qd.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qd.NONE]=[0,0],t[qd.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qd.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[qd.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qd.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[qd.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[qd.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[qd.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[qd.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[qd.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[qd.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[qd.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[qd.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}(e),this.set(this.defaultState),this.reset()}},{key:"set",value:function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var t=this.stateId^e.data,n=0;t;)1&t&&this.map[n].call(this,!!(e.data&1<<n)),t>>=1,n++;this.stateId=e.data}for(var r=0;r<this.checks.length;r++)this.checks[r](this,e)}},{key:"forceState",value:function(e){e=e||this.defaultState;for(var t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(var n=0;n<this.checks.length;n++)this.checks[n](this,e);this.stateId=e.data}},{key:"setBlend",value:function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}},{key:"setOffset",value:function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}},{key:"setDepthTest",value:function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}},{key:"setDepthMask",value:function(e){this.gl.depthMask(e)}},{key:"setCullFace",value:function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}},{key:"setFrontFace",value:function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}},{key:"setBlendMode",value:function(e){if(e!==this.blendMode){this.blendMode=e;var t=this.blendModes[e],n=this.gl;2===t.length?n.blendFunc(t[0],t[1]):n.blendFuncSeparate(t[0],t[1],t[2],t[3]),6===t.length?(this._blendEq=!0,n.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}}},{key:"setPolygonOffset",value:function(e,t){this.gl.polygonOffset(e,t)}},{key:"reset",value:function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}},{key:"updateCheck",value:function(e,t){var n=this.checks.indexOf(e);t&&-1===n?this.checks.push(e):t||-1===n||this.checks.splice(n,1)}},{key:"destroy",value:function(){this.gl=null}}],[{key:"checkBlendMode",value:function(e,t){e.setBlendMode(t.blendMode)}},{key:"checkPolygonOffset",value:function(e,t){e.setPolygonOffset(1,t.polygonOffset)}}]),e}(),cy=ly;cy.extension={type:Bv.RendererSystem,name:"state"},Fv.add(cy);var fy=function(e){X(n,e);var t=K(n);function n(){var e;return U(this,n),(e=t.apply(this,arguments)).runners={},e._systemsHash={},e}return V(n,[{key:"setup",value:function(e){var t;this.addRunners.apply(this,o(e.runners));var n,r=(null!==(t=e.priority)&&void 0!==t?t:[]).filter((function(t){return e.systems[t]})),i=L([].concat(o(r),o(Object.keys(e.systems).filter((function(e){return!r.includes(e)})))));try{for(i.s();!(n=i.n()).done;){var a=n.value;this.addSystem(e.systems[a],a)}}catch(s){i.e(s)}finally{i.f()}}},{key:"addRunners",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){e.runners[t]=new qv(t)}))}},{key:"addSystem",value:function(e,t){var n=new e(this);if(this[t])throw new Error('Whoops! The name "'.concat(t,'" is already in use'));for(var r in this[t]=n,this._systemsHash[t]=n,this.runners)this.runners[r].add(n);return this}},{key:"emitWithCustomOptions",value:function(e,t){var n=this,r=Object.keys(this._systemsHash);e.items.forEach((function(i){var a=r.find((function(e){return n._systemsHash[e]===i}));i[e.name](t[a])}))}},{key:"destroy",value:function(){Object.values(this.runners).forEach((function(e){e.destroy()})),this._systemsHash={}}}]),n}(Ap),hy=function(){function e(t){U(this,e),this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=e.defaultMaxIdle,this.checkCountMax=e.defaultCheckCountMax,this.mode=e.defaultMode}return V(e,[{key:"postrender",value:function(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==rp.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}},{key:"run",value:function(){for(var e=this.renderer.texture,t=e.managedTextures,n=!1,r=0;r<t.length;r++){var i=t[r];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(e.destroyTexture(i,!0),t[r]=null,n=!0)}if(n){for(var a=0,o=0;o<t.length;o++)null!==t[o]&&(t[a++]=t[o]);t.length=a}}},{key:"unload",value:function(e){var t=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&t.destroyTexture(n);for(var r=e.children.length-1;r>=0;r--)this.unload(e.children[r])}},{key:"destroy",value:function(){this.renderer=null}}]),e}(),dy=hy;dy.defaultMode=rp.AUTO,dy.defaultMaxIdle=3600,dy.defaultCheckCountMax=600,dy.extension={type:Bv.RendererSystem,name:"textureGC"},Fv.add(dy);var py=V((function e(t){U(this,e),this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Kd.UNSIGNED_BYTE,this.internalFormat=Yd.RGBA,this.samplerType=0}));var vy=function(){function e(t){U(this,e),this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Zv,this.hasIntegerTextures=!1}return V(e,[{key:"contextChange",value:function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function(e){var t,n,r,i,a,o,s,u,c,f,h,d,p;return"WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?(l(h={},Kd.UNSIGNED_BYTE,(l(n={},Yd.RGBA,e.RGBA8),l(n,Yd.RGB,e.RGB8),l(n,Yd.RG,e.RG8),l(n,Yd.RED,e.R8),l(n,Yd.RGBA_INTEGER,e.RGBA8UI),l(n,Yd.RGB_INTEGER,e.RGB8UI),l(n,Yd.RG_INTEGER,e.RG8UI),l(n,Yd.RED_INTEGER,e.R8UI),l(n,Yd.ALPHA,e.ALPHA),l(n,Yd.LUMINANCE,e.LUMINANCE),l(n,Yd.LUMINANCE_ALPHA,e.LUMINANCE_ALPHA),n)),l(h,Kd.BYTE,(l(r={},Yd.RGBA,e.RGBA8_SNORM),l(r,Yd.RGB,e.RGB8_SNORM),l(r,Yd.RG,e.RG8_SNORM),l(r,Yd.RED,e.R8_SNORM),l(r,Yd.RGBA_INTEGER,e.RGBA8I),l(r,Yd.RGB_INTEGER,e.RGB8I),l(r,Yd.RG_INTEGER,e.RG8I),l(r,Yd.RED_INTEGER,e.R8I),r)),l(h,Kd.UNSIGNED_SHORT,(l(i={},Yd.RGBA_INTEGER,e.RGBA16UI),l(i,Yd.RGB_INTEGER,e.RGB16UI),l(i,Yd.RG_INTEGER,e.RG16UI),l(i,Yd.RED_INTEGER,e.R16UI),l(i,Yd.DEPTH_COMPONENT,e.DEPTH_COMPONENT16),i)),l(h,Kd.SHORT,(l(a={},Yd.RGBA_INTEGER,e.RGBA16I),l(a,Yd.RGB_INTEGER,e.RGB16I),l(a,Yd.RG_INTEGER,e.RG16I),l(a,Yd.RED_INTEGER,e.R16I),a)),l(h,Kd.UNSIGNED_INT,(l(o={},Yd.RGBA_INTEGER,e.RGBA32UI),l(o,Yd.RGB_INTEGER,e.RGB32UI),l(o,Yd.RG_INTEGER,e.RG32UI),l(o,Yd.RED_INTEGER,e.R32UI),l(o,Yd.DEPTH_COMPONENT,e.DEPTH_COMPONENT24),o)),l(h,Kd.INT,(l(s={},Yd.RGBA_INTEGER,e.RGBA32I),l(s,Yd.RGB_INTEGER,e.RGB32I),l(s,Yd.RG_INTEGER,e.RG32I),l(s,Yd.RED_INTEGER,e.R32I),s)),l(h,Kd.FLOAT,(l(u={},Yd.RGBA,e.RGBA32F),l(u,Yd.RGB,e.RGB32F),l(u,Yd.RG,e.RG32F),l(u,Yd.RED,e.R32F),l(u,Yd.DEPTH_COMPONENT,e.DEPTH_COMPONENT32F),u)),l(h,Kd.HALF_FLOAT,(l(c={},Yd.RGBA,e.RGBA16F),l(c,Yd.RGB,e.RGB16F),l(c,Yd.RG,e.RG16F),l(c,Yd.RED,e.R16F),c)),l(h,Kd.UNSIGNED_SHORT_5_6_5,l({},Yd.RGB,e.RGB565)),l(h,Kd.UNSIGNED_SHORT_4_4_4_4,l({},Yd.RGBA,e.RGBA4)),l(h,Kd.UNSIGNED_SHORT_5_5_5_1,l({},Yd.RGBA,e.RGB5_A1)),l(h,Kd.UNSIGNED_INT_2_10_10_10_REV,(l(f={},Yd.RGBA,e.RGB10_A2),l(f,Yd.RGBA_INTEGER,e.RGB10_A2UI),f)),l(h,Kd.UNSIGNED_INT_10F_11F_11F_REV,l({},Yd.RGB,e.R11F_G11F_B10F)),l(h,Kd.UNSIGNED_INT_5_9_9_9_REV,l({},Yd.RGB,e.RGB9_E5)),l(h,Kd.UNSIGNED_INT_24_8,l({},Yd.DEPTH_STENCIL,e.DEPTH24_STENCIL8)),l(h,Kd.FLOAT_32_UNSIGNED_INT_24_8_REV,l({},Yd.DEPTH_STENCIL,e.DEPTH32F_STENCIL8)),t=h):(l(p={},Kd.UNSIGNED_BYTE,(l(d={},Yd.RGBA,e.RGBA),l(d,Yd.RGB,e.RGB),l(d,Yd.ALPHA,e.ALPHA),l(d,Yd.LUMINANCE,e.LUMINANCE),l(d,Yd.LUMINANCE_ALPHA,e.LUMINANCE_ALPHA),d)),l(p,Kd.UNSIGNED_SHORT_5_6_5,l({},Yd.RGB,e.RGB)),l(p,Kd.UNSIGNED_SHORT_4_4_4_4,l({},Yd.RGBA,e.RGBA)),l(p,Kd.UNSIGNED_SHORT_5_5_5_1,l({},Yd.RGBA,e.RGBA)),t=p),t}(e);var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(var n=0;n<t;n++)this.boundTextures[n]=null;this.emptyTextures={};var r=new py(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new py(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(var i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(var a=0;a<this.boundTextures.length;a++)this.bind(null,a)}},{key:"bind",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.gl;if(null!==(n=e=null===(t=e)||void 0===t?void 0:t.castToBaseTexture())&&void 0!==n&&n.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;var a=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),i.bindTexture(e.target,a.texture)),a.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),this.updateTexture(e)):a.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[r]=null}},{key:"reset",value:function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}},{key:"unbind",value:function(e){var t=this.gl,n=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var r=0;r<n.length;r++)n[r]===this.unknownTexture&&this.bind(null,r)}for(var i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(t.activeTexture(t.TEXTURE0+i),this.currentLocation=i),t.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}},{key:"ensureSamplerType",value:function(e){var t=this.boundTextures,n=this.hasIntegerTextures,r=this.CONTEXT_UID;if(n)for(var i=e-1;i>=0;--i){var a=t[i];if(a)a._glTextures[r].samplerType!==Zd.FLOAT&&this.renderer.texture.unbind(a)}}},{key:"initTexture",value:function(e){var t=new py(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t}},{key:"initTextureType",value:function(e,t){var n,r;t.internalFormat=null!==(n=null===(r=this.internalFormats[e.type])||void 0===r?void 0:r[e.format])&&void 0!==n?n:e.format,2===this.webGLVersion&&e.type===Kd.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type}},{key:"updateTexture",value:function(e){var t,n=e._glTextures[this.CONTEXT_UID];if(n){var r=this.renderer;if(this.initTextureType(e,n),null!==(t=e.resource)&&void 0!==t&&t.upload(r,e,n))n.samplerType!==Zd.FLOAT&&(this.hasIntegerTextures=!0);else{var i=e.realWidth,a=e.realHeight,o=r.gl;(n.width!==i||n.height!==a||n.dirtyId<0)&&(n.width=i,n.height=a,o.texImage2D(e.target,0,n.internalFormat,i,a,0,e.format,n.type,null))}e.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(e),n.dirtyId=e.dirtyId}}},{key:"destroyTexture",value:function(e,t){var n=this.gl;if((e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){var r=this.managedTextures.indexOf(e);-1!==r&&xv(this.managedTextures,r,1)}}},{key:"updateTextureStyle",value:function(e){var t,n=e._glTextures[this.CONTEXT_UID];n&&(e.mipmap!==ep.POW2&&2===this.webGLVersion||e.isPowerOfTwo?n.mipmap=e.mipmap>=1:n.mipmap=!1,2===this.webGLVersion||e.isPowerOfTwo?n.wrapMode=e.wrapMode:n.wrapMode=Jd.CLAMP,null!==(t=e.resource)&&void 0!==t&&t.style(this.renderer,e,n)||this.setStyle(e,n),n.dirtyStyleId=e.dirtyStyleId)}},{key:"setStyle",value:function(e,t){var n=this.gl;if(t.mipmap&&e.mipmap!==ep.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,t.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===$d.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var r=this.renderer.context.extensions.anisotropicFiltering;if(r&&e.anisotropicLevel>0&&e.scaleMode===$d.LINEAR){var i=Math.min(e.anisotropicLevel,n.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,r.TEXTURE_MAX_ANISOTROPY_EXT,i)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===$d.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===$d.LINEAR?n.LINEAR:n.NEAREST)}},{key:"destroy",value:function(){this.renderer=null}}]),e}();vy.extension={type:Bv.RendererSystem,name:"texture"},Fv.add(vy);var my=function(){function e(t){U(this,e),this.renderer=t}return V(e,[{key:"contextChange",value:function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}},{key:"bind",value:function(e){var t=this.gl,n=this.CONTEXT_UID,r=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,r)}},{key:"unbind",value:function(){var e=this.gl;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}},{key:"beginTransformFeedback",value:function(e,t){var n=this.gl,r=this.renderer;t&&r.shader.bind(t),n.beginTransformFeedback(e)}},{key:"endTransformFeedback",value:function(){this.gl.endTransformFeedback()}},{key:"createGLTransformFeedback",value:function(e){var t=this.gl,n=this.renderer,r=this.CONTEXT_UID,i=t.createTransformFeedback();e._glTransformFeedbacks[r]=i,t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,i);for(var a=0;a<e.buffers.length;a++){var o=e.buffers[a];o&&(n.buffer.update(o),o._glBuffers[r].refCount++,t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,a,o._glBuffers[r].buffer||null))}return t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),i}},{key:"disposeTransformFeedback",value:function(e,t){var n=e._glTransformFeedbacks[this.CONTEXT_UID],r=this.gl;e.disposeRunner.remove(this);var i=this.renderer.buffer;if(i)for(var a=0;a<e.buffers.length;a++){var o=e.buffers[a];if(o){var s=o._glBuffers[this.CONTEXT_UID];s&&(s.refCount--,0!==s.refCount||t||i.dispose(o,t))}}n&&(t||r.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}},{key:"destroy",value:function(){this.renderer=null}}]),e}();my.extension={type:Bv.RendererSystem,name:"transformFeedback"},Fv.add(my);var gy=function(){function e(t){U(this,e),this.renderer=t}return V(e,[{key:"init",value:function(e){this.screen=new pm(0,0,e.width,e.height),this.element=e.view||lp.ADAPTER.createCanvas(),this.resolution=e.resolution||lp.RESOLUTION,this.autoDensity=!!e.autoDensity}},{key:"resizeView",value:function(e,t){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(t*this.resolution);var n=this.element.width/this.resolution,r=this.element.height/this.resolution;this.screen.width=n,this.screen.height=r,this.autoDensity&&(this.element.style.width="".concat(n,"px"),this.element.style.height="".concat(r,"px")),this.renderer.emit("resize",n,r),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}},{key:"destroy",value:function(e){var t;e&&(null===(t=this.element.parentNode)||void 0===t||t.removeChild(this.element));this.renderer=null,this.element=null,this.screen=null}}]),e}();gy.defaultOptions={width:800,height:600,resolution:lp.RESOLUTION,autoDensity:!1},gy.extension={type:[Bv.RendererSystem,Bv.CanvasRendererSystem],name:"_view"},Fv.add(gy),lp.PREFER_ENV=Hd.WEBGL2,lp.STRICT_TEXTURE_CACHE=!1,lp.RENDER_OPTIONS=f(f(f(f({},og.defaultOptions),rg.defaultOptions),gy.defaultOptions),uy.defaultOptions),Object.defineProperties(lp,{WRAP_MODE:{get:function(){return Zv.defaultOptions.wrapMode},set:function(e){Lp("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Zv.defaultOptions.wrapMode=e}},SCALE_MODE:{get:function(){return Zv.defaultOptions.scaleMode},set:function(e){Lp("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Zv.defaultOptions.scaleMode=e}},MIPMAP_TEXTURES:{get:function(){return Zv.defaultOptions.mipmap},set:function(e){Lp("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Zv.defaultOptions.mipmap=e}},ANISOTROPIC_LEVEL:{get:function(){return Zv.defaultOptions.anisotropicLevel},set:function(e){Lp("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Zv.defaultOptions.anisotropicLevel=e}},FILTER_RESOLUTION:{get:function(){return Lp("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),ng.defaultResolution},set:function(e){ng.defaultResolution=e}},FILTER_MULTISAMPLE:{get:function(){return Lp("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),ng.defaultMultisample},set:function(e){ng.defaultMultisample=e}},SPRITE_MAX_TEXTURES:{get:function(){return tg.defaultMaxTextures},set:function(e){Lp("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),tg.defaultMaxTextures=e}},SPRITE_BATCH_SIZE:{get:function(){return tg.defaultBatchSize},set:function(e){Lp("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),tg.defaultBatchSize=e}},CAN_UPLOAD_SAME_BUFFER:{get:function(){return tg.canUploadSameBuffer},set:function(e){Lp("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),tg.canUploadSameBuffer=e}},GC_MODE:{get:function(){return dy.defaultMode},set:function(e){Lp("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),dy.defaultMode=e}},GC_MAX_IDLE:{get:function(){return dy.defaultMaxIdle},set:function(e){Lp("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),dy.defaultMaxIdle=e}},GC_MAX_CHECK_COUNT:{get:function(){return dy.defaultCheckCountMax},set:function(e){Lp("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),dy.defaultCheckCountMax=e}},PRECISION_VERTEX:{get:function(){return Xm.defaultVertexPrecision},set:function(e){Lp("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Xm.defaultVertexPrecision=e}},PRECISION_FRAGMENT:{get:function(){return Xm.defaultFragmentPrecision},set:function(e){Lp("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Xm.defaultFragmentPrecision=e}}});var yy=function(e){return e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY",e}(yy||{}),by=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];U(this,e),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=n,this.priority=r,this.once=i}return V(e,[{key:"match",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.fn===e&&this.context===t}},{key:"emit",value:function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t}},{key:"connect",value:function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var t=this.next;return this.next=e?null:t,this.previous=null,t}}]),e}(),_y=function(){function e(){var t=this;U(this,e),this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new by(null,null,1/0),this.deltaMS=1/e.targetFPMS,this.elapsedMS=1/e.targetFPMS,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return V(e,[{key:"_requestIfNeeded",value:function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}},{key:"_cancelIfNeeded",value:function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)}},{key:"_startIfPossible",value:function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}},{key:"add",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yy.NORMAL;return this._addListener(new by(e,t,n))}},{key:"addOnce",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yy.NORMAL;return this._addListener(new by(e,t,n,!0))}},{key:"_addListener",value:function(e){var t=this._head.next,n=this._head;if(t){for(;t;){if(e.priority>t.priority){e.connect(n);break}n=t,t=t.next}e.previous||e.connect(n)}else e.connect(n);return this._startIfPossible(),this}},{key:"remove",value:function(e,t){for(var n=this._head.next;n;)n=n.match(e,t)?n.destroy():n.next;return this._head.next||this._cancelIfNeeded(),this}},{key:"count",get:function(){if(!this._head)return 0;for(var e=0,t=this._head;t=t.next;)e++;return e}},{key:"start",value:function(){this.started||(this.started=!0,this._requestIfNeeded())}},{key:"stop",value:function(){this.started&&(this.started=!1,this._cancelIfNeeded())}},{key:"destroy",value:function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}},{key:"update",value:function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now();if(n>this.lastTime){if((t=this.elapsedMS=n-this.lastTime)>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){var r=n-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=n-r%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*e.targetFPMS;for(var i=this._head,a=i.next;a;)a=a.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=n}},{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(t){var n=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,n)/1e3,e.targetFPMS);this._maxElapsedMS=1/r}},{key:"maxFPS",get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(0===e)this._minElapsedMS=0;else{var t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}}],[{key:"shared",get:function(){if(!e._shared){var t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared}},{key:"system",get:function(){if(!e._system){var t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system}}]),e}(),xy=_y;xy.targetFPMS=.06,Object.defineProperties(lp,{TARGET_FPMS:{get:function(){return xy.targetFPMS},set:function(e){Lp("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),xy.targetFPMS=e}}});var ky=function(){function e(){U(this,e)}return V(e,null,[{key:"init",value:function(e){var t=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,yy.LOW)},get:function(){return this._ticker}}),this.stop=function(){t._ticker.stop()},this.start=function(){t._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?xy.shared:new xy,e.autoStart&&this.start()}},{key:"destroy",value:function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}}}]),e}();ky.extension=Bv.Application,Fv.add(ky);var wy=[];Fv.handleByList(Bv.Renderer,wy);var Sy="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",Ty=function(){function e(t){U(this,e),this.renderer=t}return V(e,[{key:"contextChange",value:function(e){var t;if(1===this.renderer.context.webGLVersion){var n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{var r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}t>=op.HIGH?this.multisample=op.HIGH:t>=op.MEDIUM?this.multisample=op.MEDIUM:t>=op.LOW?this.multisample=op.LOW:this.multisample=op.NONE}},{key:"destroy",value:function(){}}]),e}();Ty.extension={type:Bv.RendererSystem,name:"_multisample"},Fv.add(Ty);var Ey=V((function e(t){U(this,e),this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0})),Cy=function(){function e(t){U(this,e),this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return V(e,[{key:"destroy",value:function(){this.renderer=null}},{key:"contextChange",value:function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}},{key:"bind",value:function(e){var t=this.gl,n=this.CONTEXT_UID,r=e._glBuffers[n]||this.createGLBuffer(e);t.bindBuffer(e.type,r.buffer)}},{key:"unbind",value:function(e){this.gl.bindBuffer(e,null)}},{key:"bindBufferBase",value:function(e,t){var n=this.gl,r=this.CONTEXT_UID;if(this.boundBufferBases[t]!==e){var i=e._glBuffers[r]||this.createGLBuffer(e);this.boundBufferBases[t]=e,n.bindBufferBase(n.UNIFORM_BUFFER,t,i.buffer)}}},{key:"bindBufferRange",value:function(e,t,n){var r=this.gl,i=this.CONTEXT_UID;n=n||0;var a=e._glBuffers[i]||this.createGLBuffer(e);r.bindBufferRange(r.UNIFORM_BUFFER,t||0,a.buffer,256*n,256)}},{key:"update",value:function(e){var t=this.gl,n=this.CONTEXT_UID,r=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==r.updateID)if(r.updateID=e._updateID,t.bindBuffer(e.type,r.buffer),r.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{var i=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;r.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,i)}}},{key:"dispose",value:function(e,t){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var n=e._glBuffers[this.CONTEXT_UID],r=this.gl;e.disposeRunner.remove(this),n&&(t||r.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}}},{key:"disposeAll",value:function(e){for(var t=Object.keys(this.managedBuffers),n=0;n<t.length;n++)this.dispose(this.managedBuffers[t[n]],e)}},{key:"createGLBuffer",value:function(e){var t=this.CONTEXT_UID,n=this.gl;return e._glBuffers[t]=new Ey(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]}}]),e}();Cy.extension={type:Bv.RendererSystem,name:"buffer"},Fv.add(Cy);var Ay=function(){function e(t){U(this,e),this.renderer=t}return V(e,[{key:"render",value:function(e,t){var n,r,i,a,o,s=this.renderer;if(t&&(r=t.renderTexture,i=t.clear,a=t.transform,o=t.skipUpdateTransform),this.renderingToScreen=!r,s.runners.prerender.emit(),s.emit("prerender"),s.projection.transform=a,!s.context.isLost){if(r||(this.lastObjectRendered=e),!o){var u=e.enableTempParent();e.updateTransform(),e.disableTempParent(u)}s.renderTexture.bind(r),s.batch.currentRenderer.start(),(null!==(n=i)&&void 0!==n?n:s.background.clearBeforeRender)&&s.renderTexture.clear(),e.render(s),s.batch.currentRenderer.flush(),r&&(t.blit&&s.framebuffer.blit(),r.baseTexture.update()),s.runners.postrender.emit(),s.projection.transform=null,s.emit("postrender")}}},{key:"destroy",value:function(){this.renderer=null,this.lastObjectRendered=null}}]),e}();Ay.extension={type:Bv.RendererSystem,name:"objectRenderer"},Fv.add(Ay);var Py=function(e){X(n,e);var t=K(n);function n(e){var r;U(this,n),(r=t.call(this)).type=Wd.WEBGL,e=Object.assign({},lp.RENDER_OPTIONS,e),r.gl=null,r.CONTEXT_UID=0,r.globalUniforms=new Qm({projectionMatrix:new bm},!0);var i={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:n.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};return r.setup(i),"useContextAlpha"in e&&(Lp("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&"notMultiplied"!==e.useContextAlpha,e.backgroundAlpha=!1===e.useContextAlpha?1:e.backgroundAlpha),r._plugin.rendererPlugins=n.__plugins,r.options=e,r.startup.run(r.options),r}return V(n,[{key:"render",value:function(e,t){this.objectRenderer.render(e,t)}},{key:"resize",value:function(e,t){this._view.resizeView(e,t)}},{key:"reset",value:function(){return this.runners.reset.emit(),this}},{key:"clear",value:function(){this.renderTexture.bind(),this.renderTexture.clear()}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),G(W(n.prototype),"destroy",this).call(this)}},{key:"plugins",get:function(){return this._plugin.plugins}},{key:"multisample",get:function(){return this._multisample.multisample}},{key:"width",get:function(){return this._view.element.width}},{key:"height",get:function(){return this._view.element.height}},{key:"resolution",get:function(){return this._view.resolution},set:function(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}},{key:"autoDensity",get:function(){return this._view.autoDensity}},{key:"view",get:function(){return this._view.element}},{key:"screen",get:function(){return this._view.screen}},{key:"lastObjectRendered",get:function(){return this.objectRenderer.lastObjectRendered}},{key:"renderingToScreen",get:function(){return this.objectRenderer.renderingToScreen}},{key:"rendererLogId",get:function(){return"WebGL ".concat(this.context.webGLVersion)}},{key:"clearBeforeRender",get:function(){return Lp("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}},{key:"useContextAlpha",get:function(){return Lp("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}},{key:"preserveDrawingBuffer",get:function(){return Lp("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}},{key:"backgroundColor",get:function(){return Lp("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color},set:function(e){Lp("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}},{key:"backgroundAlpha",get:function(){return Lp("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha},set:function(e){Lp("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}},{key:"powerPreference",get:function(){return Lp("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}},{key:"generateTexture",value:function(e,t){return this.textureGenerator.generateTexture(e,t)}}],[{key:"test",value:function(e){return(null===e||void 0===e||!e.forceCanvas)&&jp()}}]),n}(fy),Iy=Py;Iy.extension={type:Bv.Renderer,priority:1},Iy.__plugins={},Iy.__systems={},Fv.handleByMap(Bv.RendererPlugin,Iy.__plugins),Fv.handleByMap(Bv.RendererSystem,Iy.__systems),Fv.add(Iy);var Oy=function(e){X(n,e);var t=K(n);function n(e,r){var i;U(this,n);var a=r||{},o=a.width,s=a.height;(i=t.call(this,o,s)).items=[],i.itemDirtyIds=[];for(var u=0;u<e;u++){var l=new Zv;i.items.push(l),i.itemDirtyIds.push(-2)}return i.length=e,i._load=null,i.baseTexture=null,i}return V(n,[{key:"initFromArray",value:function(e,t){for(var n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Xv?this.addResourceAt(e[n],n):this.addResourceAt(Gv(e[n],t),n))}},{key:"dispose",value:function(){for(var e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}},{key:"addResourceAt",value:function(e,t){if(!this.items[t])throw new Error("Index ".concat(t," is out of bounds"));return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this}},{key:"bind",value:function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");G(W(n.prototype),"bind",this).call(this,e);for(var t=0;t<this.length;t++)this.items[t].parentTextureArray=e,this.items[t].on("update",e.update,e)}},{key:"unbind",value:function(e){G(W(n.prototype),"unbind",this).call(this,e);for(var t=0;t<this.length;t++)this.items[t].parentTextureArray=null,this.items[t].off("update",e.update,e)}},{key:"load",value:function(){var e=this;if(this._load)return this._load;var t=this.items.map((function(e){return e.resource})).filter((function(e){return e})).map((function(e){return e.load()}));return this._load=Promise.all(t).then((function(){var t=e.items[0],n=t.realWidth,r=t.realHeight;return e.resize(n,r),Promise.resolve(e)})),this._load}}]),n}(Xv),My=function(e){X(n,e);var t=K(n);function n(e,r){var i;U(this,n);var a,o,s=r||{},u=s.width,l=s.height;return Array.isArray(e)?(a=e,o=e.length):o=e,i=t.call(this,o,{width:u,height:l}),a&&i.initFromArray(a,r),i}return V(n,[{key:"addBaseTextureAt",value:function(e,t){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,t),this}},{key:"bind",value:function(e){G(W(n.prototype),"bind",this).call(this,e),e.target=Qd.TEXTURE_2D_ARRAY}},{key:"upload",value:function(e,t,n){var r=this.length,i=this.itemDirtyIds,a=this.items,o=e.gl;n.dirtyId<0&&o.texImage3D(o.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,r,0,t.format,n.type,null);for(var s=0;s<r;s++){var u=a[s];i[s]<u.dirtyId&&(i[s]=u.dirtyId,u.valid&&o.texSubImage3D(o.TEXTURE_2D_ARRAY,0,0,0,s,u.resource.width,u.resource.height,1,t.format,n.type,u.resource.source))}return!0}}]),n}(Oy),Ry=function(e){X(n,e);var t=K(n);function n(e){return U(this,n),t.call(this,e)}return V(n,null,[{key:"test",value:function(e){var t=globalThis.OffscreenCanvas;return!!(t&&e instanceof t)||globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}]),n}(cg),Ny=function(e){X(n,e);var t=K(n);function n(e,r){var i;U(this,n);var a=r||{},o=a.width,s=a.height,u=a.autoLoad,l=a.linkBaseTexture;if(e&&e.length!==n.SIDES)throw new Error("Invalid length. Got ".concat(e.length,", expected 6"));i=t.call(this,6,{width:o,height:s});for(var c=0;c<n.SIDES;c++)i.items[c].target=Qd.TEXTURE_CUBE_MAP_POSITIVE_X+c;return i.linkBaseTexture=!1!==l,e&&i.initFromArray(e,r),!1!==u&&i.load(),i}return V(n,[{key:"bind",value:function(e){G(W(n.prototype),"bind",this).call(this,e),e.target=Qd.TEXTURE_CUBE_MAP}},{key:"addBaseTextureAt",value:function(e,t,n){if(void 0===n&&(n=this.linkBaseTexture),!this.items[t])throw new Error("Index ".concat(t," is out of bounds"));if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,t)}else e.target=Qd.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this}},{key:"upload",value:function(e,t,r){for(var i=this.itemDirtyIds,a=0;a<n.SIDES;a++){var o=this.items[a];(i[a]<o.dirtyId||r.dirtyId<t.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(e,o,r),i[a]=o.dirtyId):i[a]<-1&&(e.gl.texImage2D(o.target,0,r.internalFormat,t.realWidth,t.realHeight,0,t.format,r.type,null),i[a]=-1))}return!0}}],[{key:"test",value:function(e){return Array.isArray(e)&&e.length===n.SIDES}}]),n}(Oy),Dy=Ny;Dy.SIDES=6;var By=function(e){X(n,e);var t=K(n);function n(e,r){var i,a,o,s;return U(this,n),r=r||{},"string"===typeof e?(o=n.EMPTY,s=e):(o=e,s=null),(a=t.call(this,o)).url=s,a.crossOrigin=null===(i=r.crossOrigin)||void 0===i||i,a.alphaMode="number"===typeof r.alphaMode?r.alphaMode:null,a._load=null,!1!==r.autoLoad&&a.load(),a}return V(n,[{key:"load",value:function(){var e=this;return this._load||(this._load=new Promise(function(){var t=Ge(qe.mark((function t(n,r){var i,a,o;return qe.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==e.url){t.next=3;break}return n(e),t.abrupt("return");case 3:return t.prev=3,t.next=6,lp.ADAPTER.fetch(e.url,{mode:e.crossOrigin?"cors":"no-cors"});case 6:if(i=t.sent,!e.destroyed){t.next=9;break}return t.abrupt("return");case 9:return t.next=11,i.blob();case 11:if(a=t.sent,!e.destroyed){t.next=14;break}return t.abrupt("return");case 14:return t.next=16,createImageBitmap(a,{premultiplyAlpha:null===e.alphaMode||e.alphaMode===tp.UNPACK?"premultiply":"none"});case 16:if(o=t.sent,!e.destroyed){t.next=19;break}return t.abrupt("return");case 19:e.source=o,e.update(),n(e),t.next=30;break;case 24:if(t.prev=24,t.t0=t.catch(3),!e.destroyed){t.next=28;break}return t.abrupt("return");case 28:r(t.t0),e.onError.emit(t.t0);case 30:case"end":return t.stop()}}),t,null,[[3,24]])})));return function(e,n){return t.apply(this,arguments)}}())),this._load}},{key:"upload",value:function(e,t,r){return this.source instanceof ImageBitmap?("number"===typeof this.alphaMode&&(t.alphaMode=this.alphaMode),G(W(n.prototype),"upload",this).call(this,e,t,r)):(this.load(),!1)}},{key:"dispose",value:function(){this.source instanceof ImageBitmap&&this.source.close(),G(W(n.prototype),"dispose",this).call(this),this._load=null}}],[{key:"test",value:function(e){return!!globalThis.createImageBitmap&&"undefined"!==typeof ImageBitmap&&("string"===typeof e||e instanceof ImageBitmap)}},{key:"EMPTY",get:function(){var e;return n._EMPTY=null!==(e=n._EMPTY)&&void 0!==e?e:lp.ADAPTER.createCanvas(0,0),n._EMPTY}}]),n}(cg),Ly=function(e){X(n,e);var t=K(n);function n(e,r){var i;return U(this,n),r=r||{},(i=t.call(this,lp.ADAPTER.createCanvas()))._width=0,i._height=0,i.svg=e,i.scale=r.scale||1,i._overrideWidth=r.width,i._overrideHeight=r.height,i._resolve=null,i._crossorigin=r.crossorigin,i._load=null,!1!==r.autoLoad&&i.load(),i}return V(n,[{key:"load",value:function(){var e=this;return this._load||(this._load=new Promise((function(t){if(e._resolve=function(){e.resize(e.source.width,e.source.height),t(e)},n.SVG_XML.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,".concat(btoa(unescape(encodeURIComponent(e.svg))))}e._loadSvg()}))),this._load}},{key:"_loadSvg",value:function(){var e=this,t=new Image;cg.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=function(n){e._resolve&&(t.onerror=null,e.onError.emit(n))},t.onload=function(){if(e._resolve){var n=t.width,r=t.height;if(!n||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var i=n*e.scale,a=r*e.scale;(e._overrideWidth||e._overrideHeight)&&(i=e._overrideWidth||e._overrideHeight/r*n,a=e._overrideHeight||e._overrideWidth/n*r),i=Math.round(i),a=Math.round(a);var o=e.source;o.width=i,o.height=a,o._pixiId="canvas_".concat(Sv()),o.getContext("2d").drawImage(t,0,0,n,r,0,0,i,a),e._resolve(),e._resolve=null}}}},{key:"dispose",value:function(){G(W(n.prototype),"dispose",this).call(this),this._resolve=null,this._crossorigin=null}}],[{key:"getSize",value:function(e){var t=n.SVG_SIZE.exec(e),r={};return t&&(r[t[1]]=Math.round(parseFloat(t[3])),r[t[5]]=Math.round(parseFloat(t[7]))),r}},{key:"test",value:function(e,t){return"svg"===t||"string"===typeof e&&e.startsWith("data:image/svg+xml")||"string"===typeof e&&n.SVG_XML.test(e)}}]),n}(cg);Ly.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,Ly.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;var jy=function(e){X(n,e);var t=K(n);function n(e,r){var i;if(U(this,n),r=r||{},!(e instanceof HTMLVideoElement)){var a=document.createElement("video");a.setAttribute("preload","auto"),a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline",""),"string"===typeof e&&(e=[e]);var o=e[0].src||e[0];cg.crossOrigin(a,o,r.crossorigin);for(var s=0;s<e.length;++s){var u=document.createElement("source"),l=e[s],c=l.src,f=l.mime,h=(c=c||e[s]).split("?").shift().toLowerCase(),d=h.slice(h.lastIndexOf(".")+1);f=f||n.MIME_TYPES[d]||"video/".concat(d),u.src=c,u.type=f,a.appendChild(u)}e=a}return(i=t.call(this,e)).noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=r.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=!1!==r.autoPlay,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(H(i)),i._onError=i._onError.bind(H(i)),!1!==r.autoLoad&&i.load(),i}return V(n,[{key:"update",value:function(){if(!this.destroyed){var e=xy.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(G(W(n.prototype),"update",this).call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}},{key:"load",value:function(){var e=this;if(this._load)return this._load;var t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise((function(n){e.valid?n(e):(e._resolve=n,t.load())})),this._load}},{key:"_onError",value:function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)}},{key:"_isSourcePlaying",value:function(){var e=this.source;return!e.paused&&!e.ended&&this._isSourceReady()}},{key:"_isSourceReady",value:function(){return this.source.readyState>2}},{key:"_onPlayStart",value:function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(xy.shared.add(this.update,this),this._isConnectedToTicker=!0)}},{key:"_onPlayStop",value:function(){this._isConnectedToTicker&&(xy.shared.remove(this.update,this),this._isConnectedToTicker=!1)}},{key:"_onCanPlay",value:function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var t=this.valid;this.resize(e.videoWidth,e.videoHeight),!t&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}},{key:"dispose",value:function(){this._isConnectedToTicker&&(xy.shared.remove(this.update,this),this._isConnectedToTicker=!1);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),G(W(n.prototype),"dispose",this).call(this)}},{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(xy.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(xy.shared.add(this.update,this),this._isConnectedToTicker=!0))}},{key:"updateFPS",get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)}}],[{key:"test",value:function(e,t){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||n.TYPES.includes(t)}}]),n}(cg),Fy=jy;Fy.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],Fy.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},Wv.push(By,fg,Ry,Fy,Ly,Yv,Dy,My);var Uy;function zy(e){var t=lp.ADAPTER.createCanvas(6,1),n=t.getContext("2d");return n.fillStyle=e,n.fillRect(0,0,6,1),t}function Vy(){if("undefined"===typeof document)return!1;if(void 0!==Uy)return Uy;var e=zy("#ff00ff"),t=zy("#ffff00"),n=lp.ADAPTER.createCanvas(6,1).getContext("2d");n.globalCompositeOperation="multiply",n.drawImage(e,0,0),n.drawImage(t,2,0);var r=n.getImageData(2,0,1,1);if(r){var i=r.data;Uy=255===i[0]&&0===i[1]&&0===i[2]}else Uy=!1;return Uy}Zv.prototype.getDrawableSource=function(){var e=this.resource;return e?e.bitmap||e.source:null},lg.prototype._canvasRenderTarget=null,vg.prototype.patternCache=null,vg.prototype.tintCache=null;var Hy=new bm,Wy=function(){function e(t){U(this,e),this.activeResolution=1,this.smoothProperty="imageSmoothingEnabled",this.blendModes=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Vy()?(e[qd.NORMAL]="source-over",e[qd.ADD]="lighter",e[qd.MULTIPLY]="multiply",e[qd.SCREEN]="screen",e[qd.OVERLAY]="overlay",e[qd.DARKEN]="darken",e[qd.LIGHTEN]="lighten",e[qd.COLOR_DODGE]="color-dodge",e[qd.COLOR_BURN]="color-burn",e[qd.HARD_LIGHT]="hard-light",e[qd.SOFT_LIGHT]="soft-light",e[qd.DIFFERENCE]="difference",e[qd.EXCLUSION]="exclusion",e[qd.HUE]="hue",e[qd.SATURATION]="saturation",e[qd.COLOR]="color",e[qd.LUMINOSITY]="luminosity"):(e[qd.NORMAL]="source-over",e[qd.ADD]="lighter",e[qd.MULTIPLY]="source-over",e[qd.SCREEN]="source-over",e[qd.OVERLAY]="source-over",e[qd.DARKEN]="source-over",e[qd.LIGHTEN]="source-over",e[qd.COLOR_DODGE]="source-over",e[qd.COLOR_BURN]="source-over",e[qd.HARD_LIGHT]="source-over",e[qd.SOFT_LIGHT]="source-over",e[qd.DIFFERENCE]="source-over",e[qd.EXCLUSION]="source-over",e[qd.HUE]="source-over",e[qd.SATURATION]="source-over",e[qd.COLOR]="source-over",e[qd.LUMINOSITY]="source-over"),e[qd.NORMAL_NPM]=e[qd.NORMAL],e[qd.ADD_NPM]=e[qd.ADD],e[qd.SCREEN_NPM]=e[qd.SCREEN],e[qd.SRC_IN]="source-in",e[qd.SRC_OUT]="source-out",e[qd.SRC_ATOP]="source-atop",e[qd.DST_OVER]="destination-over",e[qd.DST_IN]="destination-in",e[qd.DST_OUT]="destination-out",e[qd.DST_ATOP]="destination-atop",e[qd.XOR]="xor",e[qd.SUBTRACT]="source-over",e}(),this._activeBlendMode=null,this._projTransform=null,this._outerBlend=!1,this.renderer=t}return V(e,[{key:"init",value:function(){var e=this.renderer.background.alpha<1;if(this.rootContext=this.renderer.view.getContext("2d",{alpha:e}),this.activeContext=this.rootContext,!this.rootContext.imageSmoothingEnabled){var t=this.rootContext;t.webkitImageSmoothingEnabled?this.smoothProperty="webkitImageSmoothingEnabled":t.mozImageSmoothingEnabled?this.smoothProperty="mozImageSmoothingEnabled":t.oImageSmoothingEnabled?this.smoothProperty="oImageSmoothingEnabled":t.msImageSmoothingEnabled&&(this.smoothProperty="msImageSmoothingEnabled")}}},{key:"setContextTransform",value:function(e,t,n){var r=e,i=this._projTransform,a=this.activeResolution;n=n||a,i&&((r=Hy).copyFrom(e),r.prepend(i)),t?this.activeContext.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*a|0,r.ty*a|0):this.activeContext.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*a,r.ty*a)}},{key:"clear",value:function(e,t){var n=this.activeContext,r=this.renderer,i=e?pv.shared.setValue(e):this.renderer.background.backgroundColor;n.clearRect(0,0,r.width,r.height),e&&(n.globalAlpha=null!==t&&void 0!==t?t:this.renderer.background.alpha,n.fillStyle=i.toHex(),n.fillRect(0,0,r.width,r.height),n.globalAlpha=1)}},{key:"setBlendMode",value:function(e,t){var n=e===qd.SRC_IN||e===qd.SRC_OUT||e===qd.DST_IN||e===qd.DST_ATOP;!t&&n&&(e=qd.NORMAL),this._activeBlendMode!==e&&(this._activeBlendMode=e,this._outerBlend=n,this.activeContext.globalCompositeOperation=this.blendModes[e])}},{key:"resize",value:function(){this.smoothProperty&&(this.rootContext[this.smoothProperty]=Zv.defaultOptions.scaleMode===$d.LINEAR)}},{key:"invalidateBlendMode",value:function(){this._activeBlendMode=this.blendModes.indexOf(this.activeContext.globalCompositeOperation)}},{key:"destroy",value:function(){this.renderer=null,this.rootContext=null,this.activeContext=null,this.smoothProperty=null}}]),e}();Wy.extension={type:Bv.CanvasRendererSystem,name:"canvasContext"},Fv.add(Wy);var Gy=function(){function e(t){U(this,e),this._foundShapes=[],this.renderer=t}return V(e,[{key:"pushMask",value:function(e){var t=this.renderer,n=e.maskObject||e;t.canvasContext.activeContext.save();var r=this._foundShapes;if(this.recursiveFindShapes(n,r),r.length>0){var i=t.canvasContext.activeContext;i.beginPath();for(var a=0;a<r.length;a++){var o=r[a],s=o.transform.worldTransform;this.renderer.canvasContext.setContextTransform(s),this.renderGraphicsShape(o)}r.length=0,i.clip()}}},{key:"recursiveFindShapes",value:function(e,t){e.geometry&&e.geometry.graphicsData&&t.push(e);var n=e.children;if(n)for(var r=0;r<n.length;r++)this.recursiveFindShapes(n[r],t)}},{key:"renderGraphicsShape",value:function(e){e.finishPoly();var t=this.renderer.canvasContext.activeContext,n=e.geometry.graphicsData,r=n.length;if(0!==r)for(var i=0;i<r;i++){var a=n[i],o=a.shape;if(o.type===fm.POLY){var s=o.points,u=a.holes,l=void 0,c=void 0,f=void 0,h=void 0;t.moveTo(s[0],s[1]);for(var d=1;d<s.length/2;d++)t.lineTo(s[2*d],s[2*d+1]);if(u.length>0){l=0,f=s[0],h=s[1];for(var p=2;p+2<s.length;p+=2)l+=(s[p]-f)*(s[p+3]-h)-(s[p+2]-f)*(s[p+1]-h);for(var v=0;v<u.length;v++)if(s=u[v].shape.points){c=0,f=s[0],h=s[1];for(var m=2;m+2<s.length;m+=2)c+=(s[m]-f)*(s[m+3]-h)-(s[m+2]-f)*(s[m+1]-h);if(c*l<0){t.moveTo(s[0],s[1]);for(var g=2;g<s.length;g+=2)t.lineTo(s[g],s[g+1])}else{t.moveTo(s[s.length-2],s[s.length-1]);for(var y=s.length-4;y>=0;y-=2)t.lineTo(s[y],s[y+1])}u[v].shape.closeStroke&&t.closePath()}}s[0]===s[s.length-2]&&s[1]===s[s.length-1]&&t.closePath()}else if(o.type===fm.RECT)t.rect(o.x,o.y,o.width,o.height),t.closePath();else if(o.type===fm.CIRC)t.arc(o.x,o.y,o.radius,0,2*Math.PI),t.closePath();else if(o.type===fm.ELIP){var b=2*o.width,_=2*o.height,x=o.x-b/2,k=o.y-_/2,w=.5522848,S=b/2*w,T=_/2*w,E=x+b,C=k+_,A=x+b/2,P=k+_/2;t.moveTo(x,P),t.bezierCurveTo(x,P-T,A-S,k,A,k),t.bezierCurveTo(A+S,k,E,P-T,E,P),t.bezierCurveTo(E,P+T,A+S,C,A,C),t.bezierCurveTo(A-S,C,x,P+T,x,P),t.closePath()}else if(o.type===fm.RREC){var I=o.x,O=o.y,M=o.width,R=o.height,N=o.radius,D=Math.min(M,R)/2;N=N>D?D:N,t.moveTo(I,O+N),t.lineTo(I,O+R-N),t.quadraticCurveTo(I,O+R,I+N,O+R),t.lineTo(I+M-N,O+R),t.quadraticCurveTo(I+M,O+R,I+M,O+R-N),t.lineTo(I+M,O+N),t.quadraticCurveTo(I+M,O,I+M-N,O),t.lineTo(I+N,O),t.quadraticCurveTo(I,O,I,O+N),t.closePath()}}}},{key:"popMask",value:function(e){e.canvasContext.activeContext.restore(),e.canvasContext.invalidateBlendMode()}},{key:"destroy",value:function(){}}]),e}();Gy.extension={type:Bv.CanvasRendererSystem,name:"mask"},Fv.add(Gy);var qy=function(){function e(t){U(this,e),this.renderer=t}return V(e,[{key:"render",value:function(e,t){var n,r=this.renderer;if(r.view){var i,a,o,s,u=r.canvasContext;t&&(i=t.renderTexture,a=t.clear,o=t.transform,s=t.skipUpdateTransform),this.renderingToScreen=!i,r.emit("prerender");var l=r.resolution;i?((i=i.castToBaseTexture())._canvasRenderTarget||(i._canvasRenderTarget=new Ov(i.width,i.height,i.resolution),i.resource=new Ry(i._canvasRenderTarget.canvas),i.valid=!0),u.activeContext=i._canvasRenderTarget.context,r.canvasContext.activeResolution=i._canvasRenderTarget.resolution):(u.activeContext=u.rootContext,u.activeResolution=l);var c=u.activeContext;if(u._projTransform=o||null,i||(this.lastObjectRendered=e),!s){var f=e.enableTempParent();e.updateTransform(),e.disableTempParent(f)}if(c.save(),c.setTransform(1,0,0,1,0,0),c.globalAlpha=1,u._activeBlendMode=qd.NORMAL,u._outerBlend=!1,c.globalCompositeOperation=u.blendModes[qd.NORMAL],null!==(n=a)&&void 0!==n?n:r.background.clearBeforeRender)if(this.renderingToScreen){c.clearRect(0,0,r.width,r.height);var h=r.background;h.alpha>0&&(c.globalAlpha=h.backgroundColor.alpha,c.fillStyle=h.backgroundColor.toHex(),c.fillRect(0,0,r.width,r.height),c.globalAlpha=1)}else i._canvasRenderTarget.clear(),i.clear.alpha>0&&(c.globalAlpha=i.clear.alpha,c.fillStyle=i.clear.toHex(),c.fillRect(0,0,i.realWidth,i.realHeight),c.globalAlpha=1);var d=u.activeContext;u.activeContext=c,e.renderCanvas(r),u.activeContext=d,c.restore(),u.activeResolution=l,u._projTransform=null,r.emit("postrender")}}},{key:"destroy",value:function(){this.lastObjectRendered=null,this.render=null}}]),e}();qy.extension={type:Bv.CanvasRendererSystem,name:"objectRenderer"},Fv.add(qy);var Xy=Lp,Yy=function(e){X(n,e);var t=K(n);function n(e){var r;U(this,n),(r=t.call(this)).type=Wd.CANVAS,r.rendererLogId="Canvas",e=Object.assign({},lp.RENDER_OPTIONS,e);var i={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:n.__systems,priority:["textureGenerator","background","_view","_plugin","startup","mask","canvasContext","objectRenderer"]};return r.setup(i),"useContextAlpha"in e&&(Xy("7.0.0","options.useContextAlpha is deprecated, use options.backgroundAlpha instead"),e.backgroundAlpha=!1===e.useContextAlpha?1:e.backgroundAlpha),r._plugin.rendererPlugins=n.__plugins,r.options=e,r.startup.run(r.options),r}return V(n,[{key:"generateTexture",value:function(e,t){return this.textureGenerator.generateTexture(e,t)}},{key:"reset",value:function(){}},{key:"render",value:function(e,t){this.objectRenderer.render(e,t)}},{key:"clear",value:function(){this.canvasContext.clear()}},{key:"destroy",value:function(e){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),G(W(n.prototype),"destroy",this).call(this)}},{key:"plugins",get:function(){return this._plugin.plugins}},{key:"resize",value:function(e,t){this._view.resizeView(e,t)}},{key:"width",get:function(){return this._view.element.width}},{key:"height",get:function(){return this._view.element.height}},{key:"resolution",get:function(){return this._view.resolution},set:function(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}},{key:"autoDensity",get:function(){return this._view.autoDensity}},{key:"view",get:function(){return this._view.element}},{key:"screen",get:function(){return this._view.screen}},{key:"lastObjectRendered",get:function(){return this.objectRenderer.lastObjectRendered}},{key:"renderingToScreen",get:function(){return this.objectRenderer.renderingToScreen}},{key:"clearBeforeRender",get:function(){return this.background.clearBeforeRender}},{key:"blendModes",get:function(){return Xy("7.0.0","renderer.blendModes has been deprecated, please use renderer.canvasContext.blendModes instead"),this.canvasContext.blendModes}},{key:"maskManager",get:function(){return Xy("7.0.0","renderer.maskManager has been deprecated, please use renderer.mask instead"),this.mask}},{key:"refresh",get:function(){return Xy("7.0.0","renderer.refresh has been deprecated"),!0}},{key:"rootContext",get:function(){return Xy("7.0.0","renderer.rootContext has been deprecated, please use renderer.canvasContext.rootContext instead"),this.canvasContext.rootContext}},{key:"context",get:function(){return Xy("7.0.0","renderer.context has been deprecated, please use renderer.canvasContext.activeContext instead"),this.canvasContext.activeContext}},{key:"smoothProperty",get:function(){return Xy("7.0.0","renderer.smoothProperty has been deprecated, please use renderer.canvasContext.smoothProperty instead"),this.canvasContext.smoothProperty}},{key:"setBlendMode",value:function(e,t){Xy("7.0.0","renderer.setBlendMode has been deprecated, use renderer.canvasContext.setBlendMode instead"),this.canvasContext.setBlendMode(e,t)}},{key:"invalidateBlendMode",value:function(){Xy("7.0.0","renderer.invalidateBlendMode has been deprecated, use renderer.canvasContext.invalidateBlendMode instead"),this.canvasContext.invalidateBlendMode()}},{key:"setContextTransform",value:function(e,t,n){Xy("7.0.0","renderer.setContextTransform has been deprecated, use renderer.canvasContext.setContextTransform instead"),this.canvasContext.setContextTransform(e,t,n)}},{key:"backgroundColor",get:function(){return Xy("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color},set:function(e){Xy("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}},{key:"backgroundAlpha",get:function(){return Xy("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha},set:function(e){Xy("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}},{key:"preserveDrawingBuffer",get:function(){return Xy("7.0.0","renderer.preserveDrawingBuffer has been deprecated"),!1}},{key:"useContextAlpha",get:function(){return Xy("7.0.0","renderer.useContextAlpha has been deprecated"),!1}}],[{key:"test",value:function(){return!0}}]),n}(fy);Yy.extension={type:Bv.Renderer,priority:0},Yy.__plugins={},Yy.__systems={},Fv.handleByMap(Bv.CanvasRendererPlugin,Yy.__plugins),Fv.handleByMap(Bv.CanvasRendererSystem,Yy.__systems),Fv.add(Yy);var Qy={canvas:null,getTintedCanvas:function(e,t){var n=e.texture;t=Qy.roundColor(t);var r="#".concat("00000".concat((0|t).toString(16)).slice(-6));n.tintCache=n.tintCache||{};var i,a=n.tintCache[r];if(a){if(a.tintId===n._updateID)return n.tintCache[r];i=n.tintCache[r]}else i=lp.ADAPTER.createCanvas();if(Qy.tintMethod(n,t,i),i.tintId=n._updateID,Qy.convertTintToImage&&void 0!==i.toDataURL){var o=new Image;o.src=i.toDataURL(),n.tintCache[r]=o}else n.tintCache[r]=i;return i},getTintedPattern:function(e,t){var n;t=Qy.roundColor(t);var r="#".concat("00000".concat((0|t).toString(16)).slice(-6));e.patternCache=e.patternCache||{};var i=e.patternCache[r];return(null===(n=i)||void 0===n?void 0:n.tintId)===e._updateID||(Qy.canvas||(Qy.canvas=lp.ADAPTER.createCanvas()),Qy.tintMethod(e,t,Qy.canvas),(i=Qy.canvas.getContext("2d").createPattern(Qy.canvas,"repeat")).tintId=e._updateID,e.patternCache[r]=i),i},tintWithMultiply:function(e,t,n){var r=n.getContext("2d"),i=e._frame.clone(),a=e.baseTexture.resolution;i.x*=a,i.y*=a,i.width*=a,i.height*=a,n.width=Math.ceil(i.width),n.height=Math.ceil(i.height),r.save(),r.fillStyle="#".concat("00000".concat((0|t).toString(16)).slice(-6)),r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation="multiply";var o=e.baseTexture.getDrawableSource();r.drawImage(o,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.globalCompositeOperation="destination-atop",r.drawImage(o,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.restore()},tintWithOverlay:function(e,t,n){var r=n.getContext("2d"),i=e._frame.clone(),a=e.baseTexture.resolution;i.x*=a,i.y*=a,i.width*=a,i.height*=a,n.width=Math.ceil(i.width),n.height=Math.ceil(i.height),r.save(),r.globalCompositeOperation="copy",r.fillStyle="#".concat("00000".concat((0|t).toString(16)).slice(-6)),r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation="destination-atop",r.drawImage(e.baseTexture.getDrawableSource(),i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.restore()},tintWithPerPixel:function(e,t,n){var r=n.getContext("2d"),i=e._frame.clone(),a=e.baseTexture.resolution;i.x*=a,i.y*=a,i.width*=a,i.height*=a,n.width=Math.ceil(i.width),n.height=Math.ceil(i.height),r.save(),r.globalCompositeOperation="copy",r.drawImage(e.baseTexture.getDrawableSource(),i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.restore();for(var o=p(pv.shared.setValue(t).toArray(),3),s=o[0],u=o[1],l=o[2],c=r.getImageData(0,0,i.width,i.height),f=c.data,h=0;h<f.length;h+=4)f[h+0]*=s,f[h+1]*=u,f[h+2]*=l;r.putImageData(c,0,0)},roundColor:function(e){return pv.shared.setValue(e).round(Qy.cacheStepsPerColorChannel).toNumber()},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:Vy(),tintMethod:null};Qy.tintMethod=Qy.canUseMultiply?Qy.tintWithMultiply:Qy.tintWithPerPixel;var Ky=function(){function e(){U(this,e),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return V(e,[{key:"isEmpty",value:function(){return this.minX>this.maxX||this.minY>this.maxY}},{key:"clear",value:function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}},{key:"getRectangle",value:function(e){return this.minX>this.maxX||this.minY>this.maxY?pm.EMPTY:((e=e||new pm(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}},{key:"addPoint",value:function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}},{key:"addPointMatrix",value:function(e,t){var n=e.a,r=e.b,i=e.c,a=e.d,o=e.tx,s=e.ty,u=n*t.x+i*t.y+o,l=r*t.x+a*t.y+s;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,l),this.maxY=Math.max(this.maxY,l)}},{key:"addQuad",value:function(e){var t=this.minX,n=this.minY,r=this.maxX,i=this.maxY,a=e[0],o=e[1];t=a<t?a:t,n=o<n?o:n,r=a>r?a:r,i=o>i?o:i,t=(a=e[2])<t?a:t,n=(o=e[3])<n?o:n,r=a>r?a:r,i=o>i?o:i,t=(a=e[4])<t?a:t,n=(o=e[5])<n?o:n,r=a>r?a:r,i=o>i?o:i,t=(a=e[6])<t?a:t,n=(o=e[7])<n?o:n,r=a>r?a:r,i=o>i?o:i,this.minX=t,this.minY=n,this.maxX=r,this.maxY=i}},{key:"addFrame",value:function(e,t,n,r,i){this.addFrameMatrix(e.worldTransform,t,n,r,i)}},{key:"addFrameMatrix",value:function(e,t,n,r,i){var a=e.a,o=e.b,s=e.c,u=e.d,l=e.tx,c=e.ty,f=this.minX,h=this.minY,d=this.maxX,p=this.maxY,v=a*t+s*n+l,m=o*t+u*n+c;f=v<f?v:f,h=m<h?m:h,d=v>d?v:d,p=m>p?m:p,f=(v=a*r+s*n+l)<f?v:f,h=(m=o*r+u*n+c)<h?m:h,d=v>d?v:d,p=m>p?m:p,f=(v=a*t+s*i+l)<f?v:f,h=(m=o*t+u*i+c)<h?m:h,d=v>d?v:d,p=m>p?m:p,f=(v=a*r+s*i+l)<f?v:f,h=(m=o*r+u*i+c)<h?m:h,d=v>d?v:d,p=m>p?m:p,this.minX=f,this.minY=h,this.maxX=d,this.maxY=p}},{key:"addVertexData",value:function(e,t,n){for(var r=this.minX,i=this.minY,a=this.maxX,o=this.maxY,s=t;s<n;s+=2){var u=e[s],l=e[s+1];r=u<r?u:r,i=l<i?l:i,a=u>a?u:a,o=l>o?l:o}this.minX=r,this.minY=i,this.maxX=a,this.maxY=o}},{key:"addVertices",value:function(e,t,n,r){this.addVerticesMatrix(e.worldTransform,t,n,r)}},{key:"addVerticesMatrix",value:function(e,t,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:i,o=e.a,s=e.b,u=e.c,l=e.d,c=e.tx,f=e.ty,h=this.minX,d=this.minY,p=this.maxX,v=this.maxY,m=n;m<r;m+=2){var g=t[m],y=t[m+1],b=o*g+u*y+c,_=l*y+s*g+f;h=Math.min(h,b-i),p=Math.max(p,b+i),d=Math.min(d,_-a),v=Math.max(v,_+a)}this.minX=h,this.minY=d,this.maxX=p,this.maxY=v}},{key:"addBounds",value:function(e){var t=this.minX,n=this.minY,r=this.maxX,i=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>r?e.maxX:r,this.maxY=e.maxY>i?e.maxY:i}},{key:"addBoundsMask",value:function(e,t){var n=e.minX>t.minX?e.minX:t.minX,r=e.minY>t.minY?e.minY:t.minY,i=e.maxX<t.maxX?e.maxX:t.maxX,a=e.maxY<t.maxY?e.maxY:t.maxY;if(n<=i&&r<=a){var o=this.minX,s=this.minY,u=this.maxX,l=this.maxY;this.minX=n<o?n:o,this.minY=r<s?r:s,this.maxX=i>u?i:u,this.maxY=a>l?a:l}}},{key:"addBoundsMatrix",value:function(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)}},{key:"addBoundsArea",value:function(e,t){var n=e.minX>t.x?e.minX:t.x,r=e.minY>t.y?e.minY:t.y,i=e.maxX<t.x+t.width?e.maxX:t.x+t.width,a=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(n<=i&&r<=a){var o=this.minX,s=this.minY,u=this.maxX,l=this.maxY;this.minX=n<o?n:o,this.minY=r<s?r:s,this.maxX=i>u?i:u,this.maxY=a>l?a:l}}},{key:"pad",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)}},{key:"addFramePad",value:function(e,t,n,r,i,a){e-=i,t-=a,n+=i,r+=a,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>r?this.maxY:r}}]),e}(),Zy=function(e){X(n,e);var t=K(n);function n(){var e;return U(this,n),(e=t.call(this)).tempDisplayObjectParent=null,e.transform=new Im,e.alpha=1,e.visible=!0,e.renderable=!0,e.cullable=!1,e.cullArea=null,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new Ky,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._maskRefCount=0,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return V(n,[{key:"destroyed",get:function(){return this._destroyed}},{key:"_recursivePostUpdateTransform",value:function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}},{key:"updateTransform",value:function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}},{key:"getBounds",value:function(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new pm),t=this._boundsRect),this._bounds.getRectangle(t)}},{key:"getLocalBounds",value:function(e){e||(this._localBoundsRect||(this._localBoundsRect=new pm),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Ky);var t=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var r=this._bounds,i=this._boundsID;this._bounds=this._localBounds;var a=this.getBounds(!1,e);return this.parent=n,this.transform=t,this._bounds=r,this._bounds.updateID+=this._boundsID-i,a}},{key:"toGlobal",value:function(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)}},{key:"toLocal",value:function(e,t,n,r){return t&&(e=t.toGlobal(e,n,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}},{key:"setParent",value:function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}},{key:"removeFromParent",value:function(){var e;null===(e=this.parent)||void 0===e||e.removeChild(this)}},{key:"setTransform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=e,this.position.y=t,this.scale.x=n||1,this.scale.y=r||1,this.rotation=i,this.skew.x=a,this.skew.y=o,this.pivot.x=s,this.pivot.y=u,this}},{key:"destroy",value:function(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}},{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new $y),this.tempDisplayObjectParent}},{key:"enableTempParent",value:function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e}},{key:"disableTempParent",value:function(e){this.parent=e}},{key:"x",get:function(){return this.position.x},set:function(e){this.transform.position.x=e}},{key:"y",get:function(){return this.position.y},set:function(e){this.transform.position.y=e}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)}},{key:"scale",get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)}},{key:"skew",get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e}},{key:"angle",get:function(){return this.transform.rotation*lm},set:function(e){this.transform.rotation=e*cm}},{key:"zIndex",get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}},{key:"worldVisible",get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}},{key:"mask",get:function(){return this._mask},set:function(e){if(this._mask!==e){if(this._mask){var t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount--,0===t._maskRefCount&&(t.renderable=!0,t.isMask=!1))}if(this._mask=e,this._mask){var n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(0===n._maskRefCount&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++)}}}}],[{key:"mixin",value:function(e){for(var t=Object.keys(e),r=0;r<t.length;++r){var i=t[r];Object.defineProperty(n.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}}]),n}(Ap),$y=function(e){X(n,e);var t=K(n);function n(){var e;return U(this,n),(e=t.apply(this,arguments)).sortDirty=null,e}return V(n)}(Zy);Zy.prototype.displayObjectUpdateTransform=Zy.prototype.updateTransform;var Jy=new bm;function eb(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}var tb=function(e){X(n,e);var t=K(n);function n(){var e;return U(this,n),(e=t.call(this)).children=[],e.sortableChildren=n.defaultSortableChildren,e.sortDirty=!1,e}return V(n,[{key:"onChildrenChange",value:function(e){}},{key:"addChild",value:function(){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.addChild(e<0||arguments.length<=e?void 0:arguments[e]);else{var t=arguments.length<=0?void 0:arguments[0];t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this)}return arguments.length<=0?void 0:arguments[0]}},{key:"addChildAt",value:function(e,t){if(t<0||t>this.children.length)throw new Error("".concat(e,"addChildAt: The index ").concat(t," supplied is out of bounds ").concat(this.children.length));return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e}},{key:"swapChildren",value:function(e,t){if(e!==t){var n=this.getChildIndex(e),r=this.getChildIndex(t);this.children[n]=t,this.children[r]=e,this.onChildrenChange(n<r?n:r)}}},{key:"getChildIndex",value:function(e){var t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t}},{key:"setChildIndex",value:function(e,t){if(t<0||t>=this.children.length)throw new Error("The index ".concat(t," supplied is out of bounds ").concat(this.children.length));var n=this.getChildIndex(e);xv(this.children,n,1),this.children.splice(t,0,e),this.onChildrenChange(t)}},{key:"getChildAt",value:function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index (".concat(e,") does not exist."));return this.children[e]}},{key:"removeChild",value:function(){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.removeChild(e<0||arguments.length<=e?void 0:arguments[e]);else{var t=arguments.length<=0?void 0:arguments[0],n=this.children.indexOf(t);if(-1===n)return null;t.parent=null,t.transform._parentID=-1,xv(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this),this.emit("childRemoved",t,this,n)}return arguments.length<=0?void 0:arguments[0]}},{key:"removeChildAt",value:function(e){var t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,xv(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t}},{key:"removeChildren",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.children.length,r=t,i=n-r;if(i>0&&i<=n){e=this.children.splice(r,i);for(var a=0;a<e.length;++a)e[a].parent=null,e[a].transform&&(e[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var o=0;o<e.length;++o)e[o].emit("removed",this),this.emit("childRemoved",e[o],this,o);return e}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}},{key:"sortChildren",value:function(){for(var e=!1,t=0,n=this.children.length;t<n;++t){var r=this.children[t];r._lastSortedIndex=t,e||0===r.zIndex||(e=!0)}e&&this.children.length>1&&this.children.sort(eb),this.sortDirty=!1}},{key:"updateTransform",value:function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,t=this.children.length;e<t;++e){var n=this.children[e];n.visible&&n.updateTransform()}}},{key:"calculateBounds",value:function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var t=this.children[e];if(t.visible&&t.renderable)if(t.calculateBounds(),t._mask){var n=t._mask.isMaskData?t._mask.maskObject:t._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(t._bounds,n._bounds)):this._bounds.addBounds(t._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID}},{key:"getLocalBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=G(W(n.prototype),"getLocalBounds",this).call(this,e);if(!t)for(var i=0,a=this.children.length;i<a;++i){var o=this.children[i];o.visible&&o.updateTransform()}return r}},{key:"_calculateBounds",value:function(){}},{key:"_renderWithCulling",value:function(e){var t=e.renderTexture.sourceFrame;if(t.width>0&&t.height>0){var r,i;this.cullArea?(r=this.cullArea,i=this.worldTransform):this._render!==n.prototype._render&&(r=this.getBounds(!0));var a=e.projection.transform;if(a&&(i?(i=Jy.copyFrom(i)).prepend(a):i=a),r&&t.intersects(r,i))this._render(e);else if(this.cullArea)return;for(var o=0,s=this.children.length;o<s;++o){var u=this.children[o],l=u.cullable;u.cullable=l||!this.cullArea,u.render(e),u.cullable=l}}}},{key:"render",value:function(e){var t;if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||null!==(t=this.filters)&&void 0!==t&&t.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(var n=0,r=this.children.length;n<r;++n)this.children[n].render(e)}}},{key:"renderAdvanced",value:function(e){var t,n,r,i=this.filters,a=this._mask;if(i){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var o=0;o<i.length;o++)i[o].enabled&&this._enabledFilters.push(i[o])}var s=i&&(null===(t=this._enabledFilters)||void 0===t?void 0:t.length)||a&&(!a.isMaskData||a.enabled&&(a.autoDetect||a.type!==ap.NONE));if(s&&e.batch.flush(),i&&null!==(n=this._enabledFilters)&&void 0!==n&&n.length&&e.filter.push(this,this._enabledFilters),a&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(var u=0,l=this.children.length;u<l;++u)this.children[u].render(e)}s&&e.batch.flush(),a&&e.mask.pop(this),i&&null!==(r=this._enabledFilters)&&void 0!==r&&r.length&&e.filter.pop()}},{key:"_render",value:function(e){}},{key:"destroy",value:function(e){G(W(n.prototype),"destroy",this).call(this),this.sortDirty=!1;var t="boolean"===typeof e?e:null===e||void 0===e?void 0:e.children,r=this.removeChildren(0,this.children.length);if(t)for(var i=0;i<r.length;++i)r[i].destroy(e)}},{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e}}]),n}(Zy),nb=tb;nb.defaultSortableChildren=!1,nb.prototype.containerUpdateTransform=nb.prototype.updateTransform,Object.defineProperties(lp,{SORTABLE_CHILDREN:{get:function(){return nb.defaultSortableChildren},set:function(e){Lp("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),nb.defaultSortableChildren=e}}});var rb=new hm,ib=new Uint16Array([0,1,2,0,2,3]),ab=function(e){X(n,e);var t=K(n);function n(e){var r;return U(this,n),(r=t.call(this))._anchor=new Am(r._onAnchorUpdate,H(r),e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tintColor=new pv(16777215),r._tintRGB=null,r.tint=16777215,r.blendMode=qd.NORMAL,r._cachedTint=16777215,r.uvs=null,r.texture=e||vg.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.indices=ib,r.pluginName="batch",r.isSprite=!0,r._roundPixels=lp.ROUND_PIXELS,r}return V(n,[{key:"_onTextureUpdate",value:function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=kv(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=kv(this.scale.y)*this._height/this._texture.orig.height)}},{key:"_onAnchorUpdate",value:function(){this._transformID=-1,this._transformTrimmedID=-1}},{key:"calculateVertices",value:function(){var e=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==e._updateID){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var t=this.transform.worldTransform,n=t.a,r=t.b,i=t.c,a=t.d,o=t.tx,s=t.ty,u=this.vertexData,l=e.trim,c=e.orig,f=this._anchor,h=0,d=0,p=0,v=0;if(l?(h=(d=l.x-f._x*c.width)+l.width,p=(v=l.y-f._y*c.height)+l.height):(h=(d=-f._x*c.width)+c.width,p=(v=-f._y*c.height)+c.height),u[0]=n*d+i*v+o,u[1]=a*v+r*d+s,u[2]=n*h+i*v+o,u[3]=a*v+r*h+s,u[4]=n*h+i*p+o,u[5]=a*p+r*h+s,u[6]=n*d+i*p+o,u[7]=a*p+r*d+s,this._roundPixels)for(var m=lp.RESOLUTION,g=0;g<u.length;++g)u[g]=Math.round(u[g]*m)/m}}},{key:"calculateTrimmedVertices",value:function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,t=this.vertexTrimmedData,n=e.orig,r=this._anchor,i=this.transform.worldTransform,a=i.a,o=i.b,s=i.c,u=i.d,l=i.tx,c=i.ty,f=-r._x*n.width,h=f+n.width,d=-r._y*n.height,p=d+n.height;t[0]=a*f+s*d+l,t[1]=u*d+o*f+c,t[2]=a*h+s*d+l,t[3]=u*d+o*h+c,t[4]=a*h+s*p+l,t[5]=u*p+o*h+c,t[6]=a*f+s*p+l,t[7]=u*p+o*f+c}},{key:"_render",value:function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}},{key:"_calculateBounds",value:function(){var e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}},{key:"getLocalBounds",value:function(e){return 0===this.children.length?(this._localBounds||(this._localBounds=new Ky),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new pm),e=this._localBoundsRect),this._localBounds.getRectangle(e)):G(W(n.prototype),"getLocalBounds",this).call(this,e)}},{key:"containsPoint",value:function(e){this.worldTransform.applyInverse(e,rb);var t=this._texture.orig.width,n=this._texture.orig.height,r=-t*this.anchor.x,i=0;return rb.x>=r&&rb.x<r+t&&(i=-n*this.anchor.y,rb.y>=i&&rb.y<i+n)}},{key:"destroy",value:function(e){if(G(W(n.prototype),"destroy",this).call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"===typeof e?e:null===e||void 0===e?void 0:e.texture){var t="boolean"===typeof e?e:null===e||void 0===e?void 0:e.baseTexture;this._texture.destroy(!!t)}this._texture=null}},{key:"roundPixels",get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}},{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var t=kv(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var t=kv(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}},{key:"anchor",get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)}},{key:"tint",get:function(){return this._tintColor.value},set:function(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}},{key:"tintValue",get:function(){return this._tintColor.toNumber()}},{key:"texture",get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||vg.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}],[{key:"from",value:function(e,t){return new n(e instanceof vg?e:vg.from(e,t))}}]),n}(nb),ob=new hm,sb=function(e){X(n,e);var t=K(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return U(this,n),(r=t.call(this,e)).tileTransform=new Im,r._width=i,r._height=a,r.uvMatrix=r.texture.uvMatrix||new Ig(e),r.pluginName="tilingSprite",r.uvRespectAnchor=!1,r}return V(n,[{key:"clampMargin",get:function(){return this.uvMatrix.clampMargin},set:function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copyFrom(e)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copyFrom(e)}},{key:"_onTextureUpdate",value:function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}},{key:"_render",value:function(e){var t=this._texture;t&&t.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}},{key:"_calculateBounds",value:function(){var e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),r=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,n,r)}},{key:"getLocalBounds",value:function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new pm),e=this._localBoundsRect),this._bounds.getRectangle(e)):G(W(n.prototype),"getLocalBounds",this).call(this,e)}},{key:"containsPoint",value:function(e){this.worldTransform.applyInverse(e,ob);var t=this._width,n=this._height,r=-t*this.anchor._x;if(ob.x>=r&&ob.x<r+t){var i=-n*this.anchor._y;if(ob.y>=i&&ob.y<i+n)return!0}return!1}},{key:"destroy",value:function(e){G(W(n.prototype),"destroy",this).call(this,e),this.tileTransform=null,this.uvMatrix=null}},{key:"width",get:function(){return this._width},set:function(e){this._width=e}},{key:"height",get:function(){return this._height},set:function(e){this._height=e}}],[{key:"from",value:function(e,t){return new n(e instanceof vg?e:vg.from(e,t),t.width,t.height)}}]),n}(ab),ub="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",lb=new bm,cb=function(e){X(n,e);var t=K(n);function n(e){var r;return U(this,n),r=t.call(this,e),e.runners.contextChange.add(H(r)),r.quad=new bg,r.state=Hv.for2d(),r}return V(n,[{key:"contextChange",value:function(){var e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=Km.from(ub,"#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",t),this.shader=e.context.webGLVersion>1?Km.from("#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",t):Km.from(ub,"#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",t)}},{key:"render",value:function(e){var t=this.renderer,n=this.quad,r=n.vertices;r[0]=r[6]=e._width*-e.anchor.x,r[1]=r[3]=e._height*-e.anchor.y,r[2]=r[4]=e._width*(1-e.anchor.x),r[5]=r[7]=e._height*(1-e.anchor.y);var i=e.uvRespectAnchor?e.anchor.x:0,a=e.uvRespectAnchor?e.anchor.y:0;(r=n.uvs)[0]=r[6]=-i,r[1]=r[3]=-a,r[2]=r[4]=1-i,r[5]=r[7]=1-a,n.invalidate();var o=e._texture,s=o.baseTexture,u=s.alphaMode>0,l=e.tileTransform.localTransform,c=e.uvMatrix,f=s.isPowerOfTwo&&o.frame.width===s.width&&o.frame.height===s.height;f&&(s._glTextures[t.CONTEXT_UID]?f=s.wrapMode!==Jd.CLAMP:s.wrapMode===Jd.CLAMP&&(s.wrapMode=Jd.REPEAT));var h=f?this.simpleShader:this.shader,d=o.width,p=o.height,v=e._width,m=e._height;lb.set(l.a*d/v,l.b*d/m,l.c*p/v,l.d*p/m,l.tx/v,l.ty/m),lb.invert(),f?lb.prepend(c.mapCoord):(h.uniforms.uMapCoord=c.mapCoord.toArray(!0),h.uniforms.uClampFrame=c.uClampFrame,h.uniforms.uClampOffset=c.uClampOffset),h.uniforms.uTransform=lb.toArray(!0),h.uniforms.uColor=pv.shared.setValue(e.tint).premultiply(e.worldAlpha,u).toArray(h.uniforms.uColor),h.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),h.uniforms.uSampler=o,t.shader.bind(h),t.geometry.bind(n),this.state.blendMode=mv(e.blendMode,u),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}]),n}(Jm);cb.extension={name:"tilingSprite",type:Bv.RendererPlugin},Fv.add(cb);var fb=new bm,hb=new bm,db=[new hm,new hm,new hm,new hm];sb.prototype._renderCanvas=function(e){var t=this._texture;if(t.baseTexture.valid){var n=e.canvasContext.activeContext,r=this.worldTransform,i=t.baseTexture,a=i.getDrawableSource(),o=i.resolution;if(this._textureID!==this._texture._updateID||this._cachedTint!==this.tintValue){this._textureID=this._texture._updateID;var s=new Ov(t._frame.width,t._frame.height,o);16777215!==this.tintValue?(this._tintedCanvas=Qy.getTintedCanvas(this,this.tintValue),s.context.drawImage(this._tintedCanvas,0,0)):s.context.drawImage(a,-t._frame.x*o,-t._frame.y*o),this._cachedTint=this.tintValue,this._canvasPattern=s.context.createPattern(s.canvas,"repeat")}n.globalAlpha=this.worldAlpha,e.canvasContext.setBlendMode(this.blendMode),this.tileTransform.updateLocalTransform();var u=this.tileTransform.localTransform,l=this._width,c=this._height;fb.identity(),hb.copyFrom(u),this.uvRespectAnchor||hb.translate(-this.anchor.x*l,-this.anchor.y*c),hb.scale(1/o,1/o),fb.prepend(hb),fb.prepend(r),e.canvasContext.setContextTransform(fb),n.fillStyle=this._canvasPattern;var f=this.anchor.x*-l,h=this.anchor.y*-c;db[0].set(f,h),db[1].set(f+l,h),db[2].set(f+l,h+c),db[3].set(f,h+c);for(var d=0;d<4;d++)hb.applyInverse(db[d],db[d]);n.beginPath(),n.moveTo(db[0].x,db[0].y);for(var p=1;p<4;p++)n.lineTo(db[p].x,db[p].y);n.closePath(),n.fill()}};var pb=function(e){X(n,e);var t=K(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500,i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16384,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];U(this,n);return a>16384&&(a=16384),(e=t.call(this))._properties=[!1,!0,!1,!1,!1],e._maxSize=r,e._batchSize=a,e._buffers=null,e._bufferUpdateIDs=[],e._updateID=0,e.interactiveChildren=!1,e.blendMode=qd.NORMAL,e.autoResize=o,e.roundPixels=!0,e.baseTexture=null,e.setProperties(i),e._tintColor=new pv(0),e.tintRgb=new Float32Array(3),e.tint=16777215,e}return V(n,[{key:"setProperties",value:function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}},{key:"updateTransform",value:function(){this.displayObjectUpdateTransform()}},{key:"tint",get:function(){return this._tintColor.value},set:function(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}},{key:"render",value:function(e){var t=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return t.onChildrenChange(0)}))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}},{key:"onChildrenChange",value:function(e){for(var t=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID}},{key:"dispose",value:function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}},{key:"destroy",value:function(e){G(W(n.prototype),"destroy",this).call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}]),n}(nb),vb=function(){function e(t,n,r){U(this,e),this.geometry=new om,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<t.length;++i){var a=t[i];a={attributeName:a.attributeName,size:a.size,uploadFunction:a.uploadFunction,type:a.type||Kd.FLOAT,offset:a.offset},n[i]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return V(e,[{key:"initBuffers",value:function(){var e=this.geometry,t=0;this.indexBuffer=new em(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=6*e;if((t=t||new Uint16Array(n)).length!==n)throw new Error("Out buffer length is incorrect, got ".concat(t.length," and expected ").concat(n));for(var r=0,i=0;r<n;r+=6,i+=4)t[r+0]=i+0,t[r+1]=i+1,t[r+2]=i+2,t[r+3]=i+0,t[r+4]=i+2,t[r+5]=i+3;return t}(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var r=this.dynamicProperties[n];r.offset=t,t+=r.size,this.dynamicStride+=r.size}var i=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(i),this.dynamicDataUint32=new Uint32Array(i),this.dynamicBuffer=new em(this.dynamicData,!1,!1);var a=0;this.staticStride=0;for(var o=0;o<this.staticProperties.length;++o){var s=this.staticProperties[o];s.offset=a,a+=s.size,this.staticStride+=s.size}var u=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(u),this.staticDataUint32=new Uint32Array(u),this.staticBuffer=new em(this.staticData,!0,!1);for(var l=0;l<this.dynamicProperties.length;++l){var c=this.dynamicProperties[l];e.addAttribute(c.attributeName,this.dynamicBuffer,0,c.type===Kd.UNSIGNED_BYTE,c.type,4*this.dynamicStride,4*c.offset)}for(var f=0;f<this.staticProperties.length;++f){var h=this.staticProperties[f];e.addAttribute(h.attributeName,this.staticBuffer,0,h.type===Kd.UNSIGNED_BYTE,h.type,4*this.staticStride,4*h.offset)}}},{key:"uploadDynamic",value:function(e,t,n){for(var r=0;r<this.dynamicProperties.length;r++){var i=this.dynamicProperties[r];i.uploadFunction(e,t,n,i.type===Kd.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer._updateID++}},{key:"uploadStatic",value:function(e,t,n){for(var r=0;r<this.staticProperties.length;r++){var i=this.staticProperties[r];i.uploadFunction(e,t,n,i.type===Kd.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer._updateID++}},{key:"destroy",value:function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}]),e}(),mb=function(e){X(n,e);var t=K(n);function n(e){var r;return U(this,n),(r=t.call(this,e)).shader=null,r.properties=null,r.tempMatrix=new bm,r.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:r.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:r.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:r.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:r.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Kd.UNSIGNED_BYTE,uploadFunction:r.uploadTint,offset:0}],r.shader=Km.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),r.state=Hv.for2d(),r}return V(n,[{key:"render",value:function(e){var t=e.children,n=e._maxSize,r=e._batchSize,i=this.renderer,a=t.length;if(0!==a){a>n&&!e.autoResize&&(a=n);var o=e._buffers;o||(o=e._buffers=this.generateBuffers(e));var s=t[0]._texture.baseTexture,u=s.alphaMode>0;this.state.blendMode=mv(e.blendMode,u),i.state.set(this.state);var l=i.gl,c=e.worldTransform.copyTo(this.tempMatrix);c.prepend(i.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=c.toArray(!0),this.shader.uniforms.uColor=pv.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,u).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=s,this.renderer.shader.bind(this.shader);for(var f=!1,h=0,d=0;h<a;h+=r,d+=1){var p=a-h;p>r&&(p=r),d>=o.length&&o.push(this._generateOneMoreBuffer(e));var v=o[d];v.uploadDynamic(t,h,p);var m=e._bufferUpdateIDs[d]||0;(f=f||v._updateID<m)&&(v._updateID=e._updateID,v.uploadStatic(t,h,p)),i.geometry.bind(v.geometry),l.drawElements(l.TRIANGLES,6*p,l.UNSIGNED_SHORT,0)}}}},{key:"generateBuffers",value:function(e){for(var t=[],n=e._maxSize,r=e._batchSize,i=e._properties,a=0;a<n;a+=r)t.push(new vb(this.properties,i,r));return t}},{key:"_generateOneMoreBuffer",value:function(e){var t=e._batchSize,n=e._properties;return new vb(this.properties,n,t)}},{key:"uploadVertices",value:function(e,t,n,r,i,a){for(var o=0,s=0,u=0,l=0,c=0;c<n;++c){var f=e[t+c],h=f._texture,d=f.scale.x,p=f.scale.y,v=h.trim,m=h.orig;v?(o=(s=v.x-f.anchor.x*m.width)+v.width,u=(l=v.y-f.anchor.y*m.height)+v.height):(o=m.width*(1-f.anchor.x),s=m.width*-f.anchor.x,u=m.height*(1-f.anchor.y),l=m.height*-f.anchor.y),r[a]=s*d,r[a+1]=l*p,r[a+i]=o*d,r[a+i+1]=l*p,r[a+2*i]=o*d,r[a+2*i+1]=u*p,r[a+3*i]=s*d,r[a+3*i+1]=u*p,a+=4*i}}},{key:"uploadPosition",value:function(e,t,n,r,i,a){for(var o=0;o<n;o++){var s=e[t+o].position;r[a]=s.x,r[a+1]=s.y,r[a+i]=s.x,r[a+i+1]=s.y,r[a+2*i]=s.x,r[a+2*i+1]=s.y,r[a+3*i]=s.x,r[a+3*i+1]=s.y,a+=4*i}}},{key:"uploadRotation",value:function(e,t,n,r,i,a){for(var o=0;o<n;o++){var s=e[t+o].rotation;r[a]=s,r[a+i]=s,r[a+2*i]=s,r[a+3*i]=s,a+=4*i}}},{key:"uploadUvs",value:function(e,t,n,r,i,a){for(var o=0;o<n;++o){var s=e[t+o]._texture._uvs;s?(r[a]=s.x0,r[a+1]=s.y0,r[a+i]=s.x1,r[a+i+1]=s.y1,r[a+2*i]=s.x2,r[a+2*i+1]=s.y2,r[a+3*i]=s.x3,r[a+3*i+1]=s.y3,a+=4*i):(r[a]=0,r[a+1]=0,r[a+i]=0,r[a+i+1]=0,r[a+2*i]=0,r[a+2*i+1]=0,r[a+3*i]=0,r[a+3*i+1]=0,a+=4*i)}}},{key:"uploadTint",value:function(e,t,n,r,i,a){for(var o=0;o<n;++o){var s=e[t+o],u=pv.shared.setValue(s._tintRGB).toPremultiplied(s.alpha,s.texture.baseTexture.alphaMode>0);r[a]=u,r[a+i]=u,r[a+2*i]=u,r[a+3*i]=u,a+=4*i}}},{key:"destroy",value:function(){G(W(n.prototype),"destroy",this).call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}]),n}(Jm);mb.extension={name:"particle",type:Bv.RendererPlugin},Fv.add(mb),pb.prototype.renderCanvas=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var t=e.canvasContext.activeContext,n=this.worldTransform,r=!0,i=0,a=0,o=0,s=0;e.canvasContext.setBlendMode(this.blendMode),t.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var u=0;u<this.children.length;++u){var l=this.children[u];if(l.visible&&l._texture.valid){var c=l._texture.frame;if(t.globalAlpha=this.worldAlpha*l.alpha,l.rotation%(2*Math.PI)===0)r&&(e.canvasContext.setContextTransform(n,!1,1),r=!1),i=l.anchor.x*(-c.width*l.scale.x)+l.position.x+.5,a=l.anchor.y*(-c.height*l.scale.y)+l.position.y+.5,o=c.width*l.scale.x,s=c.height*l.scale.y;else{r||(r=!0),l.displayObjectUpdateTransform();var f=l.worldTransform;e.canvasContext.setContextTransform(f,this.roundPixels,1),i=l.anchor.x*-c.width+.5,a=l.anchor.y*-c.height+.5,o=c.width,s=c.height}var h=l._texture.baseTexture.resolution,d=e.canvasContext.activeResolution;t.drawImage(l._texture.baseTexture.getDrawableSource(),c.x*h,c.y*h,c.width*h,c.height*h,i*d,a*d,o*d,s*d)}}}},nb.prototype._renderCanvas=function(e){},nb.prototype.renderCanvas=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&e.mask.pushMask(this._mask),this._renderCanvas(e);for(var t=0,n=this.children.length;t<n;++t)this.children[t].renderCanvas(e);this._mask&&e.mask.popMask(e)}},Zy.prototype.renderCanvas=function(e){};var gb=function(e){return e[e.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",e[e.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",e}(gb||{}),yb={willReadFrequently:!0},bb=function(){function e(t,n,r,i,a,o,s,u,l){U(this,e),this.text=t,this.style=n,this.width=r,this.height=i,this.lines=a,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=u,this.fontProperties=l}return V(e,null,[{key:"experimentalLetterSpacingSupported",get:function(){var t=e._experimentalLetterSpacingSupported;if(void 0!==t){var n=lp.ADAPTER.getCanvasRenderingContext2D().prototype;t=e._experimentalLetterSpacingSupported="letterSpacing"in n||"textLetterSpacing"in n}return t}},{key:"measureText",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e._canvas;r=void 0===r||null===r?n.wordWrap:r;var a=n.toFontString(),o=e.measureFont(a);0===o.fontSize&&(o.fontSize=n.fontSize,o.ascent=n.fontSize);var s=i.getContext("2d",yb);s.font=a;for(var u=(r?e.wordWrap(t,n,i):t).split(/(?:\r\n|\r|\n)/),l=new Array(u.length),c=0,f=0;f<u.length;f++){var h=e._measureText(u[f],n.letterSpacing,s);l[f]=h,c=Math.max(c,h)}var d=c+n.strokeThickness;n.dropShadow&&(d+=n.dropShadowDistance);var p=n.lineHeight||o.fontSize+n.strokeThickness,v=Math.max(p,o.fontSize+2*n.strokeThickness)+(u.length-1)*(p+n.leading);return n.dropShadow&&(v+=n.dropShadowDistance),new e(t,n,d,v,u,l,p+n.leading,c,o)}},{key:"_measureText",value:function(t,n,r){var i=!1;e.experimentalLetterSpacingSupported&&(e.experimentalLetterSpacing?(r.letterSpacing="".concat(n,"px"),r.textLetterSpacing="".concat(n,"px"),i=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));var a=r.measureText(t).width;return a>0&&(i?a-=n:a+=(e.graphemeSegmenter(t).length-1)*n),a}},{key:"wordWrap",value:function(t,n){for(var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:e._canvas).getContext("2d",yb),i=0,a="",o="",s=Object.create(null),u=n.letterSpacing,l=n.whiteSpace,c=e.collapseSpaces(l),f=e.collapseNewlines(l),h=!c,d=n.wordWrapWidth+u,p=e.tokenize(t),v=0;v<p.length;v++){var m=p[v];if(e.isNewline(m)){if(!f){o+=e.addLine(a),h=!c,a="",i=0;continue}m=" "}if(c){var g=e.isBreakingSpace(m),y=e.isBreakingSpace(a[a.length-1]);if(g&&y)continue}var b=e.getFromCache(m,u,s,r);if(b>d)if(""!==a&&(o+=e.addLine(a),a="",i=0),e.canBreakWords(m,n.breakWords))for(var _=e.wordWrapSplit(m),x=0;x<_.length;x++){for(var k=_[x],w=k,S=1;_[x+S];){var T=_[x+S];if(e.canBreakChars(w,T,m,x,n.breakWords))break;k+=T,w=T,S++}x+=S-1;var E=e.getFromCache(k,u,s,r);E+i>d&&(o+=e.addLine(a),h=!1,a="",i=0),a+=k,i+=E}else{a.length>0&&(o+=e.addLine(a),a="",i=0);var C=v===p.length-1;o+=e.addLine(m,!C),h=!1,a="",i=0}else b+i>d&&(h=!1,o+=e.addLine(a),a="",i=0),(a.length>0||!e.isBreakingSpace(m)||h)&&(a+=m,i+=b)}return o+=e.addLine(a,!1)}},{key:"addLine",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t=e.trimRight(t),t=n?"".concat(t,"\n"):t}},{key:"getFromCache",value:function(t,n,r,i){var a=r[t];return"number"!==typeof a&&(a=e._measureText(t,n,i)+n,r[t]=a),a}},{key:"collapseSpaces",value:function(e){return"normal"===e||"pre-line"===e}},{key:"collapseNewlines",value:function(e){return"normal"===e}},{key:"trimRight",value:function(t){if("string"!==typeof t)return"";for(var n=t.length-1;n>=0;n--){var r=t[n];if(!e.isBreakingSpace(r))break;t=t.slice(0,-1)}return t}},{key:"isNewline",value:function(t){return"string"===typeof t&&e._newlines.includes(t.charCodeAt(0))}},{key:"isBreakingSpace",value:function(t,n){return"string"===typeof t&&e._breakingSpaces.includes(t.charCodeAt(0))}},{key:"tokenize",value:function(t){var n=[],r="";if("string"!==typeof t)return n;for(var i=0;i<t.length;i++){var a=t[i],o=t[i+1];e.isBreakingSpace(a,o)||e.isNewline(a)?(""!==r&&(n.push(r),r=""),n.push(a)):r+=a}return""!==r&&n.push(r),n}},{key:"canBreakWords",value:function(e,t){return t}},{key:"canBreakChars",value:function(e,t,n,r,i){return!0}},{key:"wordWrapSplit",value:function(t){return e.graphemeSegmenter(t)}},{key:"measureFont",value:function(t){if(e._fonts[t])return e._fonts[t];var n={ascent:0,descent:0,fontSize:0},r=e._canvas,i=e._context;i.font=t;var a=e.METRICS_STRING+e.BASELINE_SYMBOL,o=Math.ceil(i.measureText(a).width),s=Math.ceil(i.measureText(e.BASELINE_SYMBOL).width),u=Math.ceil(e.HEIGHT_MULTIPLIER*s);if(s=s*e.BASELINE_MULTIPLIER|0,0===o||0===u)return e._fonts[t]=n,n;r.width=o,r.height=u,i.fillStyle="#f00",i.fillRect(0,0,o,u),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(a,0,s);var l=i.getImageData(0,0,o,u).data,c=l.length,f=4*o,h=0,d=0,p=!1;for(h=0;h<s;++h){for(var v=0;v<f;v+=4)if(255!==l[d+v]){p=!0;break}if(p)break;d+=f}for(n.ascent=s-h,d=c-f,p=!1,h=u;h>s;--h){for(var m=0;m<f;m+=4)if(255!==l[d+m]){p=!0;break}if(p)break;d-=f}return n.descent=h-s,n.fontSize=n.ascent+n.descent,e._fonts[t]=n,n}},{key:"clearMetrics",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t?delete e._fonts[t]:e._fonts={}}},{key:"_canvas",get:function(){if(!e.__canvas){var t;try{var n=new OffscreenCanvas(0,0),r=n.getContext("2d",yb);if(null!==r&&void 0!==r&&r.measureText)return e.__canvas=n,n;t=lp.ADAPTER.createCanvas()}catch(i){t=lp.ADAPTER.createCanvas()}t.width=t.height=10,e.__canvas=t}return e.__canvas}},{key:"_context",get:function(){return e.__context||(e.__context=e._canvas.getContext("2d",yb)),e.__context}}]),e}(),_b=bb;_b.METRICS_STRING="|\xc9q\xc5",_b.BASELINE_SYMBOL="M",_b.BASELINE_MULTIPLIER=1.4,_b.HEIGHT_MULTIPLIER=2,_b.graphemeSegmenter=function(e){if("function"===typeof(null===(e=Intl)||void 0===e?void 0:e.Segmenter)){var t=new Intl.Segmenter;return function(e){return o(t.segment(e)).map((function(e){return e.segment}))}}return function(e){return o(e)}}(),_b.experimentalLetterSpacing=!1,_b._fonts={},_b._newlines=[10,13],_b._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var xb=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],kb=function(){function e(t){U(this,e),this.styleID=0,this.reset(),Tb(this,t,t)}return V(e,[{key:"clone",value:function(){var t={};return Tb(t,this,e.defaultStyle),new e(t)}},{key:"reset",value:function(){Tb(this,e.defaultStyle,e.defaultStyle)}},{key:"align",get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(e){var t=Sb(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(e){var t=Sb(e);this._fill!==t&&(this._fill=t,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(e){(function(e,t){if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0})(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(e){var t=Sb(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)}},{key:"whiteSpace",get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}},{key:"toFontString",value:function(){var e="number"===typeof this.fontSize?"".concat(this.fontSize,"px"):this.fontSize,t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(var n=t.length-1;n>=0;n--){var r=t[n].trim();/([\"\'])[^\'\"]+\1/.test(r)||xb.includes(r)||(r='"'.concat(r,'"')),t[n]=r}return"".concat(this.fontStyle," ").concat(this.fontVariant," ").concat(this.fontWeight," ").concat(e," ").concat(t.join(","))}}]),e}(),wb=kb;function Sb(e){var t=pv.shared;return Array.isArray(e)?e.map((function(e){return t.setValue(e).toHex()})):t.setValue(e).toHex()}function Tb(e,t,n){for(var r in n)Array.isArray(t[r])?e[r]=t[r].slice():e[r]=t[r]}wb.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:gb.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};var Eb={texture:!0,children:!1,baseTexture:!0},Cb=function(e){X(n,e);var t=K(n);function n(e,r,i){var a,o;U(this,n);var s=!1;i||(i=lp.ADAPTER.createCanvas(),s=!0),i.width=3,i.height=3;var u=vg.from(i);return u.orig=new pm,u.trim=new pm,(o=t.call(this,u))._ownCanvas=s,o.canvas=i,o.context=i.getContext("2d",{willReadFrequently:!0}),o._resolution=null!==(a=n.defaultResolution)&&void 0!==a?a:lp.RESOLUTION,o._autoResolution=n.defaultAutoResolution,o._text=null,o._style=null,o._styleListener=null,o._font="",o.text=e,o.style=r,o.localStyleID=-1,o}return V(n,[{key:"updateText",value:function(e){var t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),this.dirty||!e){this._font=this._style.toFontString();var n,r,i=this.context,a=_b.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=a.width,s=a.height,u=a.lines,l=a.lineHeight,c=a.lineWidths,f=a.maxLineWidth,h=a.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o)+2*t.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+2*t.padding)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=t.strokeThickness,i.textBaseline=t.textBaseline,i.lineJoin=t.lineJoin,i.miterLimit=t.miterLimit;for(var d=t.dropShadow?2:1,p=0;p<d;++p){var v=t.dropShadow&&0===p,m=v?Math.ceil(Math.max(1,s)+2*t.padding):0,g=m*this._resolution;if(v){i.fillStyle="black",i.strokeStyle="black";var y=t.dropShadowColor,b=t.dropShadowBlur*this._resolution,_=t.dropShadowDistance*this._resolution;i.shadowColor=pv.shared.setValue(y).setAlpha(t.dropShadowAlpha).toRgbaString(),i.shadowBlur=b,i.shadowOffsetX=Math.cos(t.dropShadowAngle)*_,i.shadowOffsetY=Math.sin(t.dropShadowAngle)*_+g}else i.fillStyle=this._generateFillStyle(t,u,a),i.strokeStyle=t.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var x=(l-h.fontSize)/2;l-h.fontSize<0&&(x=0);for(var k=0;k<u.length;k++)n=t.strokeThickness/2,r=t.strokeThickness/2+k*l+h.ascent+x,"right"===t.align?n+=f-c[k]:"center"===t.align&&(n+=(f-c[k])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(u[k],n+t.padding,r+t.padding-m,!0),t.fill&&this.drawLetterSpacing(u[k],n+t.padding,r+t.padding-m)}this.updateTexture()}}},{key:"drawLetterSpacing",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this._style.letterSpacing,a=!1;if(_b.experimentalLetterSpacingSupported&&(_b.experimentalLetterSpacing?(this.context.letterSpacing="".concat(i,"px"),this.context.textLetterSpacing="".concat(i,"px"),a=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),0===i||a)r?this.context.strokeText(e,t,n):this.context.fillText(e,t,n);else for(var o=t,s=_b.graphemeSegmenter(e),u=this.context.measureText(e).width,l=0,c=0;c<s.length;++c){var f=s[c];r?this.context.strokeText(f,o,n):this.context.fillText(f,o,n);for(var h="",d=c+1;d<s.length;++d)h+=s[d];o+=u-(l=this.context.measureText(h).width)+i,u=l}}},{key:"updateTexture",value:function(){var e=this.canvas;if(this._style.trim){var t=Nv(e);t.data&&(e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0))}var n=this._texture,r=this._style,i=r.trim?0:r.padding,a=n.baseTexture;n.trim.width=n._frame.width=e.width/this._resolution,n.trim.height=n._frame.height=e.height/this._resolution,n.trim.x=-i,n.trim.y=-i,n.orig.width=n._frame.width-2*i,n.orig.height=n._frame.height-2*i,this._onTextureUpdate(),a.setRealSize(e.width,e.height,this._resolution),n.updateUvs(),this.dirty=!1}},{key:"_render",value:function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),G(W(n.prototype),"_render",this).call(this,e)}},{key:"updateTransform",value:function(){this.updateText(!0),G(W(n.prototype),"updateTransform",this).call(this)}},{key:"getBounds",value:function(e,t){return this.updateText(!0),-1===this._textureID&&(e=!1),G(W(n.prototype),"getBounds",this).call(this,e,t)}},{key:"getLocalBounds",value:function(e){return this.updateText(!0),G(W(n.prototype),"getLocalBounds",this).call(this,e)}},{key:"_calculateBounds",value:function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}},{key:"_generateFillStyle",value:function(e,t,n){var r,i=e.fill;if(!Array.isArray(i))return i;if(1===i.length)return i[0];var a=e.dropShadow?e.dropShadowDistance:0,o=e.padding||0,s=this.canvas.width/this._resolution-a-2*o,u=this.canvas.height/this._resolution-a-2*o,l=i.slice(),c=e.fillGradientStops.slice();if(!c.length)for(var f=l.length+1,h=1;h<f;++h)c.push(h/f);if(l.unshift(i[0]),c.unshift(0),l.push(i[i.length-1]),c.push(1),e.fillGradientType===gb.LINEAR_VERTICAL){r=this.context.createLinearGradient(s/2,o,s/2,u+o);for(var d=n.fontProperties.fontSize+e.strokeThickness,p=0;p<t.length;p++){var v=n.lineHeight*(p-1)+d,m=n.lineHeight*p,g=m;p>0&&v>m&&(g=(m+v)/2);var y=m+d,b=n.lineHeight*(p+1),_=y;p+1<t.length&&b<y&&(_=(y+b)/2);for(var x=(_-g)/u,k=0;k<l.length;k++){var w=0;w="number"===typeof c[k]?c[k]:k/l.length;var S=Math.min(1,Math.max(0,g/u+w*x));S=Number(S.toFixed(5)),r.addColorStop(S,l[k])}}}else{r=this.context.createLinearGradient(o,u/2,s+o,u/2);for(var T=l.length+1,E=1,C=0;C<l.length;C++){var A=void 0;A="number"===typeof c[C]?c[C]:E/T,r.addColorStop(A,l[C]),E++}}return r}},{key:"destroy",value:function(e){"boolean"===typeof e&&(e={children:e}),e=Object.assign({},Eb,e),G(W(n.prototype),"destroy",this).call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}},{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var t=kv(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var t=kv(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}},{key:"style",get:function(){return this._style},set:function(e){e=e||{},this._style=e instanceof wb?e:new wb(e),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(e){e=String(null===e||void 0===e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)}},{key:"resolution",get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}}],[{key:"experimentalLetterSpacing",get:function(){return _b.experimentalLetterSpacing},set:function(e){Lp("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),_b.experimentalLetterSpacing=e}}]),n}(ab),Ab=Cb;Ab.defaultAutoResolution=!0,Ab.prototype._renderCanvas=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),ab.prototype._renderCanvas.call(this,e)};var Pb=new bm;Zy.prototype._cacheAsBitmap=!1,Zy.prototype._cacheData=null,Zy.prototype._cacheAsBitmapResolution=null,Zy.prototype._cacheAsBitmapMultisample=null;var Ib=V((function e(){U(this,e),this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}));Object.defineProperties(Zy.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(e){e!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(e){e!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){var t;this._cacheAsBitmap!==e&&(this._cacheAsBitmap=e,e?(this._cacheData||(this._cacheData=new Ib),(t=this._cacheData).originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((t=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea))}}}),Zy.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))},Zy.prototype._initCachedDisplayObject=function(e){var t,n,r;if(null===(t=this._cacheData)||void 0===t||!t.sprite){var i=this.alpha;this.alpha=1,e.batch.flush();var a=this.getLocalBounds(null,!0).clone();if(null!==(n=this.filters)&&void 0!==n&&n.length){var o=this.filters[0].padding;a.pad(o)}a.ceil(lp.RESOLUTION);var s=e.renderTexture.current,u=e.renderTexture.sourceFrame.clone(),l=e.renderTexture.destinationFrame.clone(),c=e.projection.transform,f=mg.create({width:a.width,height:a.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:null!==(r=this.cacheAsBitmapMultisample)&&void 0!==r?r:e.multisample}),h="cacheAsBitmap_".concat(Sv());this._cacheData.textureCacheId=h,Zv.addToCache(f.baseTexture,h),vg.addToCache(f,h);var d=this.transform.localTransform.copyTo(Pb).invert().translate(-a.x,-a.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:f,clear:!0,transform:d,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=c,e.renderTexture.bind(s,u,l),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;var p=new ab(f);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-a.x/a.width,p.anchor.y=-a.y/a.height,p.alpha=i,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=p.containsPoint.bind(p)}},Zy.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},Zy.prototype._initCachedDisplayObjectCanvas=function(e){var t;if(null===(t=this._cacheData)||void 0===t||!t.sprite){var n=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;var i=e.canvasContext.activeContext,a=e._projTransform;n.ceil(lp.RESOLUTION);var o=mg.create({width:n.width,height:n.height}),s="cacheAsBitmap_".concat(Sv());this._cacheData.textureCacheId=s,Zv.addToCache(o.baseTexture,s),vg.addToCache(o,s);var u=Pb;this.transform.localTransform.copyTo(u),u.invert(),u.tx-=n.x,u.ty-=n.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:u,skipUpdateTransform:!1}),e.canvasContext.activeContext=i,e._projTransform=a,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;var l=new ab(o);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-n.x/n.width,l.anchor.y=-n.y/n.height,l.alpha=r,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}},Zy.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},Zy.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},Zy.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Zv.removeFromCache(this._cacheData.textureCacheId),vg.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},Zy.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)},Zy.prototype.name=null,nb.prototype.getChildByName=function(e,t){for(var n=0,r=this.children.length;n<r;n++)if(this.children[n].name===e)return this.children[n];if(t)for(var i=0,a=this.children.length;i<a;i++){var o=this.children[i];if(o.getChildByName){var s=o.getChildByName(e,!0);if(s)return s}}return null},Zy.prototype.getGlobalPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new hm,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e};var Ob=function(e){X(n,e);var t=K(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return U(this,n),(e=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})).alpha=r,e}return V(n,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e}}]),n}(ng),Mb={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Rb=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");var Nb=function(e){X(n,e);var t=K(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ng.defaultResolution,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5;U(this,n);var u=function(e,t){var n,r=Math.ceil(e/2),i="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",a="";n=t?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var o=0;o<e;o++){var s=n.replace("%index%",o.toString());a+=s=s.replace("%sampleIndex%","".concat(o-(r-1),".0")),a+="\n"}return(i=i.replace("%blur%",a)).replace("%size%",e.toString())}(s,e),l=function(e){for(var t,n=Mb[e],r=n.length,i=Rb,a="",o=0;o<e;o++){var s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",o.toString());t=o,o>=r&&(t=e-o-1),a+=s=s.replace("%value%",n[t].toString()),a+="\n"}return(i=i.replace("%blur%",a)).replace("%size%",e.toString())}(s);return(r=t.call(this,u,l)).horizontal=e,r.resolution=o,r._quality=0,r.quality=a,r.blur=i,r}return V(n,[{key:"apply",value:function(e,t,n,r){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/t.width):this.uniforms.strength=1/n.height*(n.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,n,r);else{var i=e.getFilterTexture(),a=e.renderer,o=t,s=i;this.state.blend=!1,e.applyFilter(this,o,s,np.CLEAR);for(var u=1;u<this.passes-1;u++){e.bindAndClear(o,np.BLIT),this.uniforms.uSampler=s;var l=s;s=o,o=l,a.shader.bind(this),a.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,s,n,r),e.returnFilterTexture(i)}}},{key:"blur",get:function(){return this.strength},set:function(e){this.padding=1+2*Math.abs(e),this.strength=e}},{key:"quality",get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e}}]),n}(ng),Db=function(e){X(n,e);var t=K(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ng.defaultResolution,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5;return U(this,n),(e=t.call(this))._repeatEdgePixels=!1,e.blurXFilter=new Nb(!0,r,i,a,o),e.blurYFilter=new Nb(!1,r,i,a,o),e.resolution=a,e.quality=i,e.blur=r,e.repeatEdgePixels=!1,e}return V(n,[{key:"apply",value:function(e,t,n,r){var i=Math.abs(this.blurXFilter.strength),a=Math.abs(this.blurYFilter.strength);if(i&&a){var o=e.getFilterTexture();this.blurXFilter.apply(e,t,o,np.CLEAR),this.blurYFilter.apply(e,o,n,r),e.returnFilterTexture(o)}else a?this.blurYFilter.apply(e,t,n,r):this.blurXFilter.apply(e,t,n,r)}},{key:"updatePadding",value:function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blur",get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()}},{key:"blendMode",get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e}},{key:"repeatEdgePixels",get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()}}]),n}(ng),Bb=function(e){X(n,e);var t=K(n);function n(){var e;U(this,n);var r={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=t.call(this,Sy,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",r)).alpha=1,e}return V(n,[{key:"_loadMatrix",value:function(e){var t=e;arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(t,this.uniforms.m,e),t=this._colorMatrix(t)),this.uniforms.m=t}},{key:"_multiply",value:function(e,t,n){return e[0]=t[0]*n[0]+t[1]*n[5]+t[2]*n[10]+t[3]*n[15],e[1]=t[0]*n[1]+t[1]*n[6]+t[2]*n[11]+t[3]*n[16],e[2]=t[0]*n[2]+t[1]*n[7]+t[2]*n[12]+t[3]*n[17],e[3]=t[0]*n[3]+t[1]*n[8]+t[2]*n[13]+t[3]*n[18],e[4]=t[0]*n[4]+t[1]*n[9]+t[2]*n[14]+t[3]*n[19]+t[4],e[5]=t[5]*n[0]+t[6]*n[5]+t[7]*n[10]+t[8]*n[15],e[6]=t[5]*n[1]+t[6]*n[6]+t[7]*n[11]+t[8]*n[16],e[7]=t[5]*n[2]+t[6]*n[7]+t[7]*n[12]+t[8]*n[17],e[8]=t[5]*n[3]+t[6]*n[8]+t[7]*n[13]+t[8]*n[18],e[9]=t[5]*n[4]+t[6]*n[9]+t[7]*n[14]+t[8]*n[19]+t[9],e[10]=t[10]*n[0]+t[11]*n[5]+t[12]*n[10]+t[13]*n[15],e[11]=t[10]*n[1]+t[11]*n[6]+t[12]*n[11]+t[13]*n[16],e[12]=t[10]*n[2]+t[11]*n[7]+t[12]*n[12]+t[13]*n[17],e[13]=t[10]*n[3]+t[11]*n[8]+t[12]*n[13]+t[13]*n[18],e[14]=t[10]*n[4]+t[11]*n[9]+t[12]*n[14]+t[13]*n[19]+t[14],e[15]=t[15]*n[0]+t[16]*n[5]+t[17]*n[10]+t[18]*n[15],e[16]=t[15]*n[1]+t[16]*n[6]+t[17]*n[11]+t[18]*n[16],e[17]=t[15]*n[2]+t[16]*n[7]+t[17]*n[12]+t[18]*n[17],e[18]=t[15]*n[3]+t[16]*n[8]+t[17]*n[13]+t[18]*n[18],e[19]=t[15]*n[4]+t[16]*n[9]+t[17]*n[14]+t[18]*n[19]+t[19],e}},{key:"_colorMatrix",value:function(e){var t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t}},{key:"brightness",value:function(e,t){var n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)}},{key:"tint",value:function(e,t){var n=p(pv.shared.setValue(e).toArray(),3),r=[n[0],0,0,0,0,0,n[1],0,0,0,0,0,n[2],0,0,0,0,0,1,0];this._loadMatrix(r,t)}},{key:"greyscale",value:function(e,t){var n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)}},{key:"blackAndWhite",value:function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)}},{key:"hue",value:function(e,t){e=(e||0)/180*Math.PI;var n=Math.cos(e),r=Math.sin(e),i=1/3,a=(0,Math.sqrt)(i),o=[n+(1-n)*i,i*(1-n)-a*r,i*(1-n)+a*r,0,0,i*(1-n)+a*r,n+i*(1-n),i*(1-n)-a*r,0,0,i*(1-n)-a*r,i*(1-n)+a*r,n+i*(1-n),0,0,0,0,0,1,0];this._loadMatrix(o,t)}},{key:"contrast",value:function(e,t){var n=(e||0)+1,r=-.5*(n-1),i=[n,0,0,0,r,0,n,0,0,r,0,0,n,0,r,0,0,0,1,0];this._loadMatrix(i,t)}},{key:"saturate",value:function(){var e=arguments.length>1?arguments[1]:void 0,t=2*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)/3+1,n=-.5*(t-1),r=[t,n,n,0,0,n,t,n,0,0,n,n,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)}},{key:"desaturate",value:function(){this.saturate(-1)}},{key:"negative",value:function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)}},{key:"sepia",value:function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)}},{key:"technicolor",value:function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)}},{key:"polaroid",value:function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)}},{key:"toBGR",value:function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)}},{key:"kodachrome",value:function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)}},{key:"browni",value:function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)}},{key:"vintage",value:function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)}},{key:"colorTone",value:function(e,t,n,r,i){e=e||.2,t=t||.15,n=n||16770432,r=r||3375104;var a=pv.shared,o=p(a.setValue(n).toArray(),3),s=o[0],u=o[1],l=o[2],c=p(a.setValue(r).toArray(),3),f=c[0],h=c[1],d=c[2],v=[.3,.59,.11,0,0,s,u,l,e,0,f,h,d,t,0,s-f,u-h,l-d,0,0];this._loadMatrix(v,i)}},{key:"night",value:function(e,t){var n=[-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(n,t)}},{key:"predator",value:function(e,t){var n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,t)}},{key:"lsd",value:function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)}},{key:"reset",value:function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)}},{key:"matrix",get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e}}]),n}(ng);Bb.prototype.grayscale=Bb.prototype.greyscale;var Lb=function(e){X(n,e);var t=K(n);function n(e,r){var i;U(this,n);var a=new bm;return e.renderable=!1,(i=t.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:a,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})).maskSprite=e,i.maskMatrix=a,null!==r&&void 0!==r||(r=20),i.scale=new hm(r,r),i}return V(n,[{key:"apply",value:function(e,t,n,r){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var i=this.maskSprite.worldTransform,a=Math.sqrt(i.a*i.a+i.b*i.b),o=Math.sqrt(i.c*i.c+i.d*i.d);0!==a&&0!==o&&(this.uniforms.rotation[0]=i.a/a,this.uniforms.rotation[1]=i.b/a,this.uniforms.rotation[2]=i.c/o,this.uniforms.rotation[3]=i.d/o),e.applyFilter(this,t,n,r)}},{key:"map",get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e}}]),n}(ng),jb=function(e){X(n,e);var t=K(n);function n(){return U(this,n),t.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')}return V(n)}(ng),Fb=function(e){X(n,e);var t=K(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random();return U(this,n),(e=t.call(this,Sy,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})).noise=r,e.seed=i,e}return V(n,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e}}]),n}(ng),Ub={AlphaFilter:Ob,BlurFilter:Db,BlurFilterPass:Nb,ColorMatrixFilter:Bb,DisplacementFilter:Lb,FXAAFilter:jb,NoiseFilter:Fb};Object.entries(Ub).forEach((function(e){var t=p(e,2),n=t[0],r=t[1];Object.defineProperty(Ub,n,{get:function(){return Lp("7.1.0","filters.".concat(n," has moved to ").concat(n)),r}})}));var zb=function(){function e(){U(this,e),this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}return V(e,[{key:"init",value:function(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}},{key:"pauseUpdate",get:function(){return this._pauseUpdate},set:function(e){this._pauseUpdate=e}},{key:"addTickerListener",value:function(){!this.tickerAdded&&this.domElement&&(xy.system.add(this.tickerUpdate,this,yy.INTERACTION),this.tickerAdded=!0)}},{key:"removeTickerListener",value:function(){this.tickerAdded&&(xy.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}},{key:"pointerMoved",value:function(){this._didMove=!0}},{key:"update",value:function(){if(this.domElement&&!this._pauseUpdate)if(this._didMove)this._didMove=!1;else{var e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&"touch"===e.pointerType||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}}},{key:"tickerUpdate",value:function(e){this._deltaTime+=e,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())}}]),e}(),Vb=new zb,Hb=function(){function e(t){U(this,e),this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=e.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new hm,this.page=new hm,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t}return V(e,[{key:"layerX",get:function(){return this.layer.x}},{key:"layerY",get:function(){return this.layer.y}},{key:"pageX",get:function(){return this.page.x}},{key:"pageY",get:function(){return this.page.y}},{key:"data",get:function(){return this}},{key:"composedPath",value:function(){return!this.manager||this.path&&this.path[this.path.length-1]===this.target||(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}},{key:"initEvent",value:function(e,t,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}},{key:"initUIEvent",value:function(e,t,n,r,i){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}},{key:"preventDefault",value:function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}},{key:"stopImmediatePropagation",value:function(){this.propagationImmediatelyStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),e}(),Wb=function(e){X(n,e);var t=K(n);function n(){var e;return U(this,n),(e=t.apply(this,arguments)).client=new hm,e.movement=new hm,e.offset=new hm,e.global=new hm,e.screen=new hm,e}return V(n,[{key:"clientX",get:function(){return this.client.x}},{key:"clientY",get:function(){return this.client.y}},{key:"x",get:function(){return this.clientX}},{key:"y",get:function(){return this.clientY}},{key:"movementX",get:function(){return this.movement.x}},{key:"movementY",get:function(){return this.movement.y}},{key:"offsetX",get:function(){return this.offset.x}},{key:"offsetY",get:function(){return this.offset.y}},{key:"globalX",get:function(){return this.global.x}},{key:"globalY",get:function(){return this.global.y}},{key:"screenX",get:function(){return this.screen.x}},{key:"screenY",get:function(){return this.screen.y}},{key:"getLocalPosition",value:function(e,t,n){return e.worldTransform.applyInverse(n||this.global,t)}},{key:"getModifierState",value:function(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}},{key:"initMouseEvent",value:function(e,t,n,r,i,a,o,s,u,l,c,f,h,d,p){throw new Error("Method not implemented.")}}]),n}(Hb),Gb=function(e){X(n,e);var t=K(n);function n(){var e;return U(this,n),(e=t.apply(this,arguments)).width=0,e.height=0,e.isPrimary=!1,e}return V(n,[{key:"getCoalescedEvents",value:function(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}},{key:"getPredictedEvents",value:function(){throw new Error("getPredictedEvents is not supported!")}}]),n}(Wb),qb=function(e){X(n,e);var t=K(n);function n(){var e;return U(this,n),(e=t.apply(this,arguments)).DOM_DELTA_PIXEL=0,e.DOM_DELTA_LINE=1,e.DOM_DELTA_PAGE=2,e}return V(n)}(Wb);qb.DOM_DELTA_PIXEL=0,qb.DOM_DELTA_LINE=1,qb.DOM_DELTA_PAGE=2;var Xb=new hm,Yb=new hm,Qb=function(){function e(t){U(this,e),this.dispatch=new Ap,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=t,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}return V(e,[{key:"addEventMapping",value:function(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort((function(e,t){return e.priority-t.priority}))}},{key:"dispatchEvent",value:function(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}},{key:"mapEvent",value:function(e){if(this.rootTarget){var t=this.mappingTable[e.type];if(t)for(var n=0,r=t.length;n<r;n++)t[n].fn(e);else console.warn("[EventBoundary]: Event mapping not defined for ".concat(e.type))}}},{key:"hitTest",value:function(e,t){Vb.pauseUpdate=!0;var n=this[this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive"](this.rootTarget,this.rootTarget.eventMode,Xb.set(e,t),this.hitTestFn,this.hitPruneFn);return n&&n[0]}},{key:"propagate",value:function(e,t){if(e.target){var n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(var r=0,i=n.length-1;r<i;r++)if(e.currentTarget=n[r],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!e.propagationStopped&&!e.propagationImmediatelyStopped){e.eventPhase=e.BUBBLING_PHASE;for(var a=n.length-2;a>=0;a--)if(e.currentTarget=n[a],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}}},{key:"all",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._allInteractiveElements;if(0!==r.length){e.eventPhase=e.BUBBLING_PHASE;for(var i=Array.isArray(t)?t:[t],a=function(t){i.forEach((function(i){e.currentTarget=r[t],n.notifyTarget(e,i)}))},o=r.length-1;o>=0;o--)a(o)}}},{key:"propagationPath",value:function(e){for(var t=[e],n=0;n<2048&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}},{key:"hitTestMoveRecursive",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=!1;if(this._interactivePrune(e))return null;if("dynamic"!==e.eventMode&&"dynamic"!==t||(Vb.pauseUpdate=!1),e.interactiveChildren&&e.children)for(var s=e.children,u=s.length-1;u>=0;u--){var l=s[u],c=this.hitTestMoveRecursive(l,this._isInteractive(t)?t:l.eventMode,n,r,i,a||i(e,n));if(c){if(c.length>0&&!c[c.length-1].parent)continue;var f=e.isInteractive();(c.length>0||f)&&(f&&this._allInteractiveElements.push(e),c.push(e)),0===this._hitElements.length&&(this._hitElements=c),o=!0}}var h=this._isInteractive(t),d=e.isInteractive();return d&&d&&this._allInteractiveElements.push(e),a||this._hitElements.length>0?null:o?this._hitElements:h&&!i(e,n)&&r(e,n)?d?[e]:[]:null}},{key:"hitTestRecursive",value:function(e,t,n,r,i){if(this._interactivePrune(e)||i(e,n))return null;if("dynamic"!==e.eventMode&&"dynamic"!==t||(Vb.pauseUpdate=!1),e.interactiveChildren&&e.children)for(var a=e.children,o=a.length-1;o>=0;o--){var s=a[o],u=this.hitTestRecursive(s,this._isInteractive(t)?t:s.eventMode,n,r,i);if(u){if(u.length>0&&!u[u.length-1].parent)continue;var l=e.isInteractive();return(u.length>0||l)&&u.push(e),u}}var c=this._isInteractive(t),f=e.isInteractive();return c&&r(e,n)?f?[e]:[]:null}},{key:"_isInteractive",value:function(e){return"static"===e||"dynamic"===e}},{key:"_interactivePrune",value:function(e){return!(e&&!e.isMask&&e.visible&&e.renderable)||("none"===e.eventMode||("passive"===e.eventMode&&!e.interactiveChildren||!!e.isMask))}},{key:"hitPruneFn",value:function(e,t){if(e.hitArea&&(e.worldTransform.applyInverse(t,Yb),!e.hitArea.contains(Yb.x,Yb.y)))return!0;if(e._mask){var n,r=e._mask.isMaskData?e._mask.maskObject:e._mask;if(r&&(null===(n=r.containsPoint)||void 0===n||!n.call(r,t)))return!0}return!1}},{key:"hitTestFn",value:function(e,t){return"passive"!==e.eventMode&&(!!e.hitArea||!!e.containsPoint&&e.containsPoint(t))}},{key:"notifyTarget",value:function(e,t){var n,r,i;t=null!==(n=t)&&void 0!==n?n:e.type;var a="on".concat(t);null===(r=(i=e.currentTarget)[a])||void 0===r||r.call(i,e);var o=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?"".concat(t,"capture"):t;this.notifyListeners(e,o),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}},{key:"mapPointerDown",value:function(e){if(e instanceof Gb){var t=this.createPointerEvent(e);if(this.dispatchEvent(t,"pointerdown"),"touch"===t.pointerType)this.dispatchEvent(t,"touchstart");else if("mouse"===t.pointerType||"pen"===t.pointerType){var n=2===t.button;this.dispatchEvent(t,n?"rightdown":"mousedown")}this.trackingData(e.pointerId).pressTargetsByButton[e.button]=t.composedPath(),this.freeEvent(t)}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}},{key:"mapPointerMove",value:function(e){var t,n;if(e instanceof Gb){this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;var r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;var i="mouse"===r.pointerType||"pen"===r.pointerType,a=this.trackingData(e.pointerId),o=this.findMountedTarget(a.overTargets);if((null===(t=a.overTargets)||void 0===t?void 0:t.length)>0&&o!==r.target){var s="mousemove"===e.type?"mouseout":"pointerout",u=this.createPointerEvent(e,s,o);if(this.dispatchEvent(u,"pointerout"),i&&this.dispatchEvent(u,"mouseout"),!r.composedPath().includes(o)){var l=this.createPointerEvent(e,"pointerleave",o);for(l.eventPhase=l.AT_TARGET;l.target&&!r.composedPath().includes(l.target);)l.currentTarget=l.target,this.notifyTarget(l),i&&this.notifyTarget(l,"mouseleave"),l.target=l.target.parent;this.freeEvent(l)}this.freeEvent(u)}if(o!==r.target){var c="mousemove"===e.type?"mouseover":"pointerover",f=this.clonePointerEvent(r,c);this.dispatchEvent(f,"pointerover"),i&&this.dispatchEvent(f,"mouseover");for(var h=null===o||void 0===o?void 0:o.parent;h&&h!==this.rootTarget.parent&&h!==r.target;)h=h.parent;if(!h||h===this.rootTarget.parent){var d=this.clonePointerEvent(r,"pointerenter");for(d.eventPhase=d.AT_TARGET;d.target&&d.target!==o&&d.target!==this.rootTarget.parent;)d.currentTarget=d.target,this.notifyTarget(d),i&&this.notifyTarget(d,"mouseenter"),d.target=d.target.parent;this.freeEvent(d)}this.freeEvent(f)}var p,v=[],m=null===(n=this.enableGlobalMoveEvents)||void 0===n||n;if(this.moveOnAll?v.push("pointermove"):this.dispatchEvent(r,"pointermove"),m&&v.push("globalpointermove"),"touch"===r.pointerType&&(this.moveOnAll?v.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),m&&v.push("globaltouchmove")),i)this.moveOnAll?v.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),m&&v.push("globalmousemove"),this.cursor=null===(p=r.target)||void 0===p?void 0:p.cursor;v.length>0&&this.all(r,v),this._allInteractiveElements.length=0,this._hitElements.length=0,a.overTargets=r.composedPath(),this.freeEvent(r)}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}},{key:"mapPointerOver",value:function(e){var t;if(e instanceof Gb){var n=this.trackingData(e.pointerId),r=this.createPointerEvent(e),i="mouse"===r.pointerType||"pen"===r.pointerType;this.dispatchEvent(r,"pointerover"),i&&this.dispatchEvent(r,"mouseover"),"mouse"===r.pointerType&&(this.cursor=null===(t=r.target)||void 0===t?void 0:t.cursor);var a=this.clonePointerEvent(r,"pointerenter");for(a.eventPhase=a.AT_TARGET;a.target&&a.target!==this.rootTarget.parent;)a.currentTarget=a.target,this.notifyTarget(a),i&&this.notifyTarget(a,"mouseenter"),a.target=a.target.parent;n.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(a)}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}},{key:"mapPointerOut",value:function(e){if(e instanceof Gb){var t=this.trackingData(e.pointerId);if(t.overTargets){var n="mouse"===e.pointerType||"pen"===e.pointerType,r=this.findMountedTarget(t.overTargets),i=this.createPointerEvent(e,"pointerout",r);this.dispatchEvent(i),n&&this.dispatchEvent(i,"mouseout");var a=this.createPointerEvent(e,"pointerleave",r);for(a.eventPhase=a.AT_TARGET;a.target&&a.target!==this.rootTarget.parent;)a.currentTarget=a.target,this.notifyTarget(a),n&&this.notifyTarget(a,"mouseleave"),a.target=a.target.parent;t.overTargets=null,this.freeEvent(i),this.freeEvent(a)}this.cursor=null}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}},{key:"mapPointerUp",value:function(e){if(e instanceof Gb){var t=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),"touch"===n.pointerType)this.dispatchEvent(n,"touchend");else if("mouse"===n.pointerType||"pen"===n.pointerType){var r=2===n.button;this.dispatchEvent(n,r?"rightup":"mouseup")}var i=this.trackingData(e.pointerId),a=this.findMountedTarget(i.pressTargetsByButton[e.button]),o=a;if(a&&!n.composedPath().includes(a)){for(var s=a;s&&!n.composedPath().includes(s);){if(n.currentTarget=s,this.notifyTarget(n,"pointerupoutside"),"touch"===n.pointerType)this.notifyTarget(n,"touchendoutside");else if("mouse"===n.pointerType||"pen"===n.pointerType){var u=2===n.button;this.notifyTarget(n,u?"rightupoutside":"mouseupoutside")}s=s.parent}delete i.pressTargetsByButton[e.button],o=s}if(o){var l=this.clonePointerEvent(n,"click");l.target=o,l.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:l.target,timeStamp:t});var c=i.clicksByButton[e.button];if(c.target===l.target&&t-c.timeStamp<200?++c.clickCount:c.clickCount=1,c.target=l.target,c.timeStamp=t,l.detail=c.clickCount,"mouse"===l.pointerType){var f=2===l.button;this.dispatchEvent(l,f?"rightclick":"click")}else"touch"===l.pointerType&&this.dispatchEvent(l,"tap");this.dispatchEvent(l,"pointertap"),this.freeEvent(l)}this.freeEvent(n)}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}},{key:"mapPointerUpOutside",value:function(e){if(e instanceof Gb){var t=this.trackingData(e.pointerId),n=this.findMountedTarget(t.pressTargetsByButton[e.button]),r=this.createPointerEvent(e);if(n){for(var i=n;i;)r.currentTarget=i,this.notifyTarget(r,"pointerupoutside"),"touch"===r.pointerType?this.notifyTarget(r,"touchendoutside"):"mouse"!==r.pointerType&&"pen"!==r.pointerType||this.notifyTarget(r,2===r.button?"rightupoutside":"mouseupoutside"),i=i.parent;delete t.pressTargetsByButton[e.button]}this.freeEvent(r)}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}},{key:"mapWheel",value:function(e){if(e instanceof qb){var t=this.createWheelEvent(e);this.dispatchEvent(t),this.freeEvent(t)}else console.warn("EventBoundary cannot map a non-wheel event as a wheel event")}},{key:"findMountedTarget",value:function(e){if(!e)return null;for(var t=e[0],n=1;n<e.length&&e[n].parent===t;n++)t=e[n];return t}},{key:"createPointerEvent",value:function(e,t,n){var r,i=this.allocateEvent(Gb);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=null!==(r=null!==n&&void 0!==n?n:this.hitTest(i.global.x,i.global.y))&&void 0!==r?r:this._hitElements[0],"string"===typeof t&&(i.type=t),i}},{key:"createWheelEvent",value:function(e){var t=this.allocateEvent(qb);return this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e,t.target=this.hitTest(t.global.x,t.global.y),t}},{key:"clonePointerEvent",value:function(e,t){var n=this.allocateEvent(Gb);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=null!==t&&void 0!==t?t:n.type,n}},{key:"copyWheelData",value:function(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}},{key:"copyPointerData",value:function(e,t){e instanceof Gb&&t instanceof Gb&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}},{key:"copyMouseData",value:function(e,t){e instanceof Wb&&t instanceof Wb&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.copyFrom(e.client),t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.copyFrom(e.movement),t.screen.copyFrom(e.screen),t.shiftKey=e.shiftKey,t.global.copyFrom(e.global))}},{key:"copyData",value:function(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.copyFrom(e.layer),t.page.copyFrom(e.page)}},{key:"trackingData",value:function(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}},{key:"allocateEvent",value:function(e){this.eventPool.has(e)||this.eventPool.set(e,[]);var t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=null,t.target=null,t}},{key:"freeEvent",value:function(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");var t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}},{key:"notifyListeners",value:function(e,t){var n=e.currentTarget._events[t];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(t,n.fn,void 0,!0),n.fn.call(n.context,e);else for(var r=0,i=n.length;r<i&&!e.propagationImmediatelyStopped;r++)n[r].once&&e.currentTarget.removeListener(t,n[r].fn,void 0,!0),n[r].fn.call(n[r].context,e)}}]),e}(),Kb={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},Zb=function(){function e(t){var n=this;U(this,e),this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new Qb(null),Vb.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Gb(null),this.rootWheelEvent=new qb(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy(f({},e.defaultEventFeatures),{set:function(e,t,r){return"globalMove"===t&&(n.rootBoundary.enableGlobalMoveEvents=r),e[t]=r,!0}}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}return V(e,[{key:"init",value:function(t){var n,r,i=this.renderer,a=i.view,o=i.resolution;this.setTargetElement(a),this.resolution=o,e._defaultEventMode=null!==(n=t.eventMode)&&void 0!==n?n:"auto",Object.assign(this.features,null!==(r=t.eventFeatures)&&void 0!==r?r:{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}},{key:"resolutionChange",value:function(e){this.resolution=e}},{key:"destroy",value:function(){this.setTargetElement(null),this.renderer=null}},{key:"setCursor",value:function(e){e=e||"default";var t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this.currentCursor!==e){this.currentCursor=e;var n=this.cursorStyles[e];if(n)switch(typeof n){case"string":t&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":t&&Object.assign(this.domElement.style,n)}else t&&"string"===typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}}},{key:"pointer",get:function(){return this.rootPointerEvent}},{key:"onPointerDown",value:function(e){if(this.features.click&&(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,!this.supportsTouchEvents||"touch"!==e.pointerType)){var t=this.normalizeToPointerData(e);if(this.autoPreventDefault&&t[0].isNormalized)(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(var n=0,r=t.length;n<r;n++){var i=t[n],a=this.bootstrapEvent(this.rootPointerEvent,i);this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}}},{key:"onPointerMove",value:function(e){if(this.features.move&&(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,!this.supportsTouchEvents||"touch"!==e.pointerType)){Vb.pointerMoved();for(var t=this.normalizeToPointerData(e),n=0,r=t.length;n<r;n++){var i=this.bootstrapEvent(this.rootPointerEvent,t[n]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}}},{key:"onPointerUp",value:function(e){if(this.features.click&&(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,!this.supportsTouchEvents||"touch"!==e.pointerType)){var t=e.target;e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]);for(var n=t!==this.domElement?"outside":"",r=this.normalizeToPointerData(e),i=0,a=r.length;i<a;i++){var o=this.bootstrapEvent(this.rootPointerEvent,r[i]);o.type+=n,this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}}},{key:"onPointerOverOut",value:function(e){if(this.features.click&&(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,!this.supportsTouchEvents||"touch"!==e.pointerType)){for(var t=this.normalizeToPointerData(e),n=0,r=t.length;n<r;n++){var i=this.bootstrapEvent(this.rootPointerEvent,t[n]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}}},{key:"onWheel",value:function(e){if(this.features.wheel){var t=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(t)}}},{key:"setTargetElement",value:function(e){this.removeEvents(),this.domElement=e,Vb.domElement=e,this.addEvents()}},{key:"addEvents",value:function(){if(!this.eventsAdded&&this.domElement){Vb.addTickerListener();var e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}}},{key:"removeEvents",value:function(){if(this.eventsAdded&&this.domElement){Vb.removeTickerListener();var e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}}},{key:"mapPositionToPoint",value:function(e,t,n){var r;r=this.domElement.parentElement?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};var i=1/this.resolution;e.x=(t-r.left)*(this.domElement.width/r.width)*i,e.y=(n-r.top)*(this.domElement.height/r.height)*i}},{key:"normalizeToPointerData",value:function(e){var t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var n=0,r=e.changedTouches.length;n<r;n++){var i=e.changedTouches[n];"undefined"===typeof i.button&&(i.button=0),"undefined"===typeof i.buttons&&(i.buttons=1),"undefined"===typeof i.isPrimary&&(i.isPrimary=1===e.touches.length&&"touchstart"===e.type),"undefined"===typeof i.width&&(i.width=i.radiusX||1),"undefined"===typeof i.height&&(i.height=i.radiusY||1),"undefined"===typeof i.tiltX&&(i.tiltX=0),"undefined"===typeof i.tiltY&&(i.tiltY=0),"undefined"===typeof i.pointerType&&(i.pointerType="touch"),"undefined"===typeof i.pointerId&&(i.pointerId=i.identifier||0),"undefined"===typeof i.pressure&&(i.pressure=i.force||.5),"undefined"===typeof i.twist&&(i.twist=0),"undefined"===typeof i.tangentialPressure&&(i.tangentialPressure=0),"undefined"===typeof i.layerX&&(i.layerX=i.offsetX=i.clientX),"undefined"===typeof i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,i.type=e.type,t.push(i)}else if(globalThis.MouseEvent&&(!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof globalThis.PointerEvent))t.push(e);else{var a=e;"undefined"===typeof a.isPrimary&&(a.isPrimary=!0),"undefined"===typeof a.width&&(a.width=1),"undefined"===typeof a.height&&(a.height=1),"undefined"===typeof a.tiltX&&(a.tiltX=0),"undefined"===typeof a.tiltY&&(a.tiltY=0),"undefined"===typeof a.pointerType&&(a.pointerType="mouse"),"undefined"===typeof a.pointerId&&(a.pointerId=1),"undefined"===typeof a.pressure&&(a.pressure=.5),"undefined"===typeof a.twist&&(a.twist=0),"undefined"===typeof a.tangentialPressure&&(a.tangentialPressure=0),a.isNormalized=!0,t.push(a)}return t}},{key:"normalizeWheelEvent",value:function(e){var t=this.rootWheelEvent;return this.transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}},{key:"bootstrapEvent",value:function(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,"pointerleave"===e.type&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=Kb[e.type]||e.type),e}},{key:"transferMouseData",value:function(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}}],[{key:"defaultEventMode",get:function(){return this._defaultEventMode}}]),e}(),$b=Zb;function Jb(e){return"dynamic"===e||"static"===e}$b.extension={name:"events",type:[Bv.RendererSystem,Bv.CanvasRendererSystem]},$b.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0},Fv.add($b);var e_={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){var e;return null!==(e=this._internalInteractive)&&void 0!==e?e:Jb($b.defaultEventMode)},set interactive(e){Lp("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=e,this.eventMode=e?"static":"auto"},_internalEventMode:void 0,get eventMode(){var e;return null!==(e=this._internalEventMode)&&void 0!==e?e:$b.defaultEventMode},set eventMode(e){this._internalInteractive=Jb(e),this._internalEventMode=e},isInteractive:function(){return"static"===this.eventMode||"dynamic"===this.eventMode},interactiveChildren:!0,hitArea:null,addEventListener:function(e,t,n){var r="function"===typeof t?void 0:t;e="boolean"===typeof n&&n||"object"===typeof n&&n.capture?"".concat(e,"capture"):e,t="function"===typeof t?t:t.handleEvent,this.on(e,t,r)},removeEventListener:function(e,t,n){var r="function"===typeof t?void 0:t;e="boolean"===typeof n&&n||"object"===typeof n&&n.capture?"".concat(e,"capture"):e,t="function"===typeof t?t:t.handleEvent,this.off(e,t,r)},dispatchEvent:function(e){if(!(e instanceof Hb))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return e.defaultPrevented=!1,e.path=null,e.target=this,e.manager.dispatchEvent(e),!e.defaultPrevented}};Zy.mixin(e_);Zy.mixin({accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1});var t_=100,n_=function(){function e(t){U(this,e),this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Cp.tablet||Cp.phone)&&this.createTouchHook();var n=document.createElement("div");n.style.width="".concat(t_,"px"),n.style.height="".concat(t_,"px"),n.style.position="absolute",n.style.top="".concat(0,"px"),n.style.left="".concat(0,"px"),n.style.zIndex=2..toString(),this.div=n,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return V(e,[{key:"isActive",get:function(){return this._isActive}},{key:"isMobileAccessibility",get:function(){return this._isMobileAccessibility}},{key:"createTouchHook",value:function(){var e=this,t=document.createElement("button");t.style.width="".concat(1,"px"),t.style.height="".concat(1,"px"),t.style.position="absolute",t.style.top="".concat(-1e3,"px"),t.style.left="".concat(-1e3,"px"),t.style.zIndex=2..toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessibility for this content",t.addEventListener("focus",(function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()})),document.body.appendChild(t),this._hookDiv=t}},{key:"destroyTouchHook",value:function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}},{key:"activate",value:function(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null===(e=this.renderer.view.parentNode)||void 0===e||e.appendChild(this.div))}},{key:"deactivate",value:function(){var e;this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null===(e=this.div.parentNode)||void 0===e||e.removeChild(this.div))}},{key:"updateAccessibleObjects",value:function(e){if(e.visible&&e.accessibleChildren){e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);var t=e.children;if(t)for(var n=0;n<t.length;n++)this.updateAccessibleObjects(t[n])}}},{key:"update",value:function(){var e=performance.now();if(!(Cp.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),n=t.x,r=t.y,i=t.width,a=t.height,o=this.renderer,s=o.width,u=o.height,l=o.resolution,c=i/s*l,f=a/u*l,h=this.div;h.style.left="".concat(n,"px"),h.style.top="".concat(r,"px"),h.style.width="".concat(s,"px"),h.style.height="".concat(u,"px");for(var d=0;d<this.children.length;d++){var p=this.children[d];if(p.renderId!==this.renderId)p._accessibleActive=!1,xv(this.children,d,1),this.div.removeChild(p._accessibleDiv),this.pool.push(p._accessibleDiv),p._accessibleDiv=null,d--;else{h=p._accessibleDiv;var v=p.hitArea,m=p.worldTransform;p.hitArea?(h.style.left="".concat((m.tx+v.x*m.a)*c,"px"),h.style.top="".concat((m.ty+v.y*m.d)*f,"px"),h.style.width="".concat(v.width*m.a*c,"px"),h.style.height="".concat(v.height*m.d*f,"px")):(v=p.getBounds(),this.capHitArea(v),h.style.left="".concat(v.x*c,"px"),h.style.top="".concat(v.y*f,"px"),h.style.width="".concat(v.width*c,"px"),h.style.height="".concat(v.height*f,"px"),h.title!==p.accessibleTitle&&null!==p.accessibleTitle&&(h.title=p.accessibleTitle),h.getAttribute("aria-label")!==p.accessibleHint&&null!==p.accessibleHint&&h.setAttribute("aria-label",p.accessibleHint)),p.accessibleTitle===h.title&&p.tabIndex===h.tabIndex||(h.title=p.accessibleTitle,h.tabIndex=p.tabIndex,this.debug&&this.updateDebugHTML(h))}}this.renderId++}}},{key:"updateDebugHTML",value:function(e){e.innerHTML="type: ".concat(e.type,"</br> title : ").concat(e.title,"</br> tabIndex: ").concat(e.tabIndex)}},{key:"capHitArea",value:function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);var t=this.renderer,n=t.width,r=t.height;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>r&&(e.height=r-e.y)}},{key:"addChild",value:function(e){var t=this.pool.pop();t||((t=document.createElement("button")).style.width="".concat(t_,"px"),t.style.height="".concat(t_,"px"),t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=2..toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:e.accessibleHint&&null!==e.accessibleHint||(t.title="displayObject ".concat(e.tabIndex)),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}},{key:"_dispatchEvent",value:function(e,t){var n=e.target.displayObject,r=this.renderer.events.rootBoundary,i=Object.assign(new Hb(r),{target:n});r.rootTarget=this.renderer.lastObjectRendered,t.forEach((function(e){return r.dispatchEvent(i,e)}))}},{key:"_onClick",value:function(e){this._dispatchEvent(e,["click","pointertap","tap"])}},{key:"_onFocus",value:function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}},{key:"_onFocusOut",value:function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}},{key:"_onKeyDown",value:function(e){9===e.keyCode&&this.activate()}},{key:"_onMouseMove",value:function(e){0===e.movementX&&0===e.movementY||this.deactivate()}},{key:"destroy",value:function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}]),e}();n_.extension={name:"accessibility",type:[Bv.RendererPlugin,Bv.CanvasRendererPlugin]},Fv.add(n_);var r_=function(){function e(t){var n=this;U(this,e),this.stage=new nb,t=Object.assign({forceCanvas:!1},t),this.renderer=function(e){var t,n=L(wy);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.test(e))return new r(e)}}catch(i){n.e(i)}finally{n.f()}throw new Error("Unable to auto-detect a suitable renderer.")}(t),e._plugins.forEach((function(e){e.init.call(n,t)}))}return V(e,[{key:"render",value:function(){this.renderer.render(this.stage)}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}},{key:"destroy",value:function(t,n){var r=this,i=e._plugins.slice(0);i.reverse(),i.forEach((function(e){e.destroy.call(r)})),this.stage.destroy(n),this.stage=null,this.renderer.destroy(t),this.renderer=null}}]),e}();r_._plugins=[],Fv.handleByList(Bv.Application,r_._plugins);var i_=function(){function e(){U(this,e)}return V(e,null,[{key:"init",value:function(e){var t=this;Object.defineProperty(this,"resizeTo",{set:function(e){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){t._resizeTo&&(t.cancelResize(),t._resizeId=requestAnimationFrame((function(){return t.resize()})))},this.cancelResize=function(){t._resizeId&&(cancelAnimationFrame(t._resizeId),t._resizeId=null)},this.resize=function(){if(t._resizeTo){var e,n;if(t.cancelResize(),t._resizeTo===globalThis.window)e=globalThis.innerWidth,n=globalThis.innerHeight;else{var r=t._resizeTo;e=r.clientWidth,n=r.clientHeight}t.renderer.resize(e,n),t.render()}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}},{key:"destroy",value:function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}]),e}();i_.extension=Bv.Application,Fv.add(i_);var a_={loader:Bv.LoadParser,resolver:Bv.ResolveParser,cache:Bv.CacheParser,detection:Bv.DetectionParser};Fv.handle(Bv.Asset,(function(e){var t=e.ref;Object.entries(a_).filter((function(e){var n=p(e,1)[0];return!!t[n]})).forEach((function(e){var n,r=p(e,2),i=r[0],a=r[1];return Fv.add(Object.assign(t[i],{extension:null!==(n=t[i].extension)&&void 0!==n?n:a}))}))}),(function(e){var t=e.ref;Object.keys(a_).filter((function(e){return!!t[e]})).forEach((function(e){return Fv.remove(t[e])}))}));var o_=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];U(this,e),this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=n}return V(e,[{key:"add",value:function(e){var t=this;e.forEach((function(e){t._assetList.push(e)})),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}},{key:"_next",value:function(){var e=Ge(qe.mark((function e(){var t,n,r;return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._assetList.length||!this._isActive){e.next=9;break}for(this._isLoading=!0,t=[],n=Math.min(this._assetList.length,this._maxConcurrent),r=0;r<n;r++)t.push(this._assetList.pop());return e.next=7,this._loader.load(t);case 7:this._isLoading=!1,this._next();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"active",get:function(){return this._isActive},set:function(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}]),e}();function s_(e,t){var n=e.split("?")[0],r=Dp.extname(n).toLowerCase();return Array.isArray(t)?t.includes(r):r===t}var u_=function(e,t){return Array.isArray(e)||(e=[e]),t?e.map((function(e){return"string"===typeof e?t(e):e})):e},l_=function(){function e(){U(this,e),this._parsers=[],this._cache=new Map,this._cacheMap=new Map}return V(e,[{key:"reset",value:function(){this._cacheMap.clear(),this._cache.clear()}},{key:"has",value:function(e){return this._cache.has(e)}},{key:"get",value:function(e){var t=this._cache.get(e);return t||console.warn("[Assets] Asset id ".concat(e," was not found in the Cache")),t}},{key:"set",value:function(e,t){for(var n,r=this,i=u_(e),a=0;a<this.parsers.length;a++){var o=this.parsers[a];if(o.test(t)){n=o.getCacheableAssets(i,t);break}}n||(n={},i.forEach((function(e){n[e]=t})));var s=Object.keys(n),u={cacheKeys:s,keys:i};if(i.forEach((function(e){r._cacheMap.set(e,u)})),s.forEach((function(e){r._cache.has(e)&&r._cache.get(e)!==t&&console.warn("[Cache] already has key:",e),r._cache.set(e,n[e])})),t instanceof vg){var l=t;i.forEach((function(e){l.baseTexture!==vg.EMPTY.baseTexture&&Zv.addToCache(l.baseTexture,e),vg.addToCache(l,e)}))}}},{key:"remove",value:function(e){var t=this;if(this._cacheMap.get(e),this._cacheMap.has(e)){var n=this._cacheMap.get(e);n.cacheKeys.forEach((function(e){t._cache.delete(e)})),n.keys.forEach((function(e){t._cacheMap.delete(e)}))}else console.warn("[Assets] Asset id ".concat(e," was not found in the Cache"))}},{key:"parsers",get:function(){return this._parsers}}]),e}(),c_=new l_,f_=function(e){return!Array.isArray(e)},h_=function(){function e(){var t=this;U(this,e),this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:function(e,n,r){return t._parsersValidated=!1,e[n]=r,!0}}),this.promiseCache={}}return V(e,[{key:"reset",value:function(){this._parsersValidated=!1,this.promiseCache={}}},{key:"_getLoadPromiseAndParser",value:function(e,t){var n=this,r={promise:null,parser:null};return r.promise=Ge(qe.mark((function i(){var a,o,s,u,l,c,f,h;return qe.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=null,o=null,t.loadParser&&((o=n._parserHash[t.loadParser])||console.warn('[Assets] specified load parser "'.concat(t.loadParser,'" not found while loading ').concat(e))),o){i.next=16;break}s=0;case 5:if(!(s<n.parsers.length)){i.next=13;break}if(!(l=n.parsers[s]).load||null===(u=l.test)||void 0===u||!u.call(l,e,t,n)){i.next=10;break}return o=l,i.abrupt("break",13);case 10:s++,i.next=5;break;case 13:if(o){i.next=16;break}return console.warn("[Assets] ".concat(e," could not be loaded as we don't know how to parse it, ensure the correct parser has been added")),i.abrupt("return",null);case 16:return i.next=18,o.load(e,t,n);case 18:a=i.sent,r.parser=o,c=0;case 21:if(!(c<n.parsers.length)){i.next=40;break}if(!(f=n.parsers[c]).parse){i.next=37;break}if(i.t0=f.parse,!i.t0){i.next=29;break}return i.next=28,null===(h=f.testParse)||void 0===h?void 0:h.call(f,a,t,n);case 28:i.t0=i.sent;case 29:if(!i.t0){i.next=37;break}return i.next=32,f.parse(a,t,n);case 32:if(i.t1=i.sent,i.t1){i.next=35;break}i.t1=a;case 35:a=i.t1,r.parser=f;case 37:c++,i.next=21;break;case 40:return i.abrupt("return",a);case 41:case"end":return i.stop()}}),i)})))(),r}},{key:"load",value:function(){var e=Ge(qe.mark((function e(t,n){var r,i,a,o,s,u,l=this;return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._parsersValidated||this._validateParsers(),r=0,i={},a=f_(t),o=u_(t,(function(e){return{src:e}})),s=o.length,u=o.map(function(){var e=Ge(qe.mark((function e(t){var a;return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Dp.toAbsolute(t.src),i[t.src]){e.next=15;break}return e.prev=2,l.promiseCache[a]||(l.promiseCache[a]=l._getLoadPromiseAndParser(a,t)),e.next=6,l.promiseCache[a].promise;case 6:i[t.src]=e.sent,n&&n(++r/s),e.next=15;break;case 10:throw e.prev=10,e.t0=e.catch(2),delete l.promiseCache[a],delete i[t.src],new Error("[Loader.load] Failed to load ".concat(a,".\n").concat(e.t0));case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Promise.all(u);case 9:return e.abrupt("return",a?i[o[0].src]:i);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unload",value:function(){var e=Ge(qe.mark((function e(t){var n,r,i=this;return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u_(t,(function(e){return{src:e}})),r=n.map(function(){var e=Ge(qe.mark((function e(t){var n,r,a,o,s;return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Dp.toAbsolute(t.src),!(r=i.promiseCache[n])){e.next=8;break}return e.next=5,r.promise;case 5:s=e.sent,null===(a=r.parser)||void 0===a||null===(o=a.unload)||void 0===o||o.call(a,s,t,i),delete i.promiseCache[n];case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,Promise.all(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"_validateParsers",value:function(){this._parsersValidated=!0,this._parserHash=this._parsers.filter((function(e){return e.name})).reduce((function(e,t){return e[t.name]&&console.warn('[Assets] loadParser name conflict "'.concat(t.name,'"')),f(f({},e),{},l({},t.name,t))}),{})}}]),e}(),d_=function(e){return e[e.Low=0]="Low",e[e.Normal=1]="Normal",e[e.High=2]="High",e}(d_||{});function p_(e,t){if(Array.isArray(t)){var n,r=L(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(e.startsWith("data:".concat(i)))return!0}}catch(a){r.e(a)}finally{r.f()}return!1}return e.startsWith("data:".concat(t))}var v_={extension:{type:Bv.LoadParser,priority:d_.Low},name:"loadJson",test:function(e){return p_(e,"application/json")||s_(e,".json")},load:function(e){return Ge(qe.mark((function t(){var n,r;return qe.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lp.ADAPTER.fetch(e);case 2:return n=t.sent,t.next=5,n.json();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})))()}};Fv.add(v_);var m_={name:"loadTxt",extension:{type:Bv.LoadParser,priority:d_.Low},test:function(e){return p_(e,"text/plain")||s_(e,".txt")},load:function(e){return Ge(qe.mark((function t(){var n,r;return qe.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lp.ADAPTER.fetch(e);case 2:return n=t.sent,t.next=5,n.text();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})))()}};Fv.add(m_);var g_=["normal","bold","100","200","300","400","500","600","700","800","900"],y_=[".ttf",".otf",".woff",".woff2"],b_=["font/ttf","font/otf","font/woff","font/woff2"],__=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function x_(e){var t,n=Dp.extname(e),r=Dp.basename(e,n).replace(/(-|_)/g," ").toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),i=r.length>0,a=L(r);try{for(a.s();!(t=a.n()).done;){if(!t.value.match(__)){i=!1;break}}}catch(s){a.e(s)}finally{a.f()}var o=r.join(" ");return i||(o='"'.concat(o.replace(/[\\"]/g,"\\$&"),'"')),o}var k_={extension:{type:Bv.LoadParser,priority:d_.Low},name:"loadWebFont",test:function(e){return p_(e,b_)||s_(e,y_)},load:function(e,t){return Ge(qe.mark((function n(){var r,i,a,o,s,u,l,c,h,d,p,v,m,g;return qe.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r=lp.ADAPTER.getFontFaceSet())){n.next=18;break}c=[],h=null!==(i=null===(a=t.data)||void 0===a?void 0:a.family)&&void 0!==i?i:x_(e),d=null!==(o=null===(s=t.data)||void 0===s||null===(u=s.weights)||void 0===u?void 0:u.filter((function(e){return g_.includes(e)})))&&void 0!==o?o:["normal"],p=null!==(l=t.data)&&void 0!==l?l:{},v=0;case 7:if(!(v<d.length)){n.next=17;break}return m=d[v],g=new FontFace(h,"url(".concat(encodeURI(e),")"),f(f({},p),{},{weight:m})),n.next=12,g.load();case 12:r.add(g),c.push(g);case 14:v++,n.next=7;break;case 17:return n.abrupt("return",1===c.length?c[0]:c);case 18:return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),n.abrupt("return",null);case 20:case"end":return n.stop()}}),n)})))()},unload:function(e){(Array.isArray(e)?e:[e]).forEach((function(e){return lp.ADAPTER.getFontFaceSet().delete(e)}))}};Fv.add(k_);var w_,S_,T_=0,E_={id:"checkImageBitmap",code:"\n    async function checkImageBitmap()\n    {\n        try\n        {\n            if (typeof createImageBitmap !== 'function') return false;\n\n            const response = await fetch('".concat("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=","');\n            const imageBlob =  await response.blob();\n            const imageBitmap = await createImageBitmap(imageBlob);\n\n            return imageBitmap.width === 1 && imageBitmap.height === 1;\n        }\n        catch (e)\n        {\n            return false;\n        }\n    }\n    checkImageBitmap().then((result) => { self.postMessage(result); });\n    ")},C_="\n    async function loadImageBitmap(url)\n    {\n        const response = await fetch(url);\n\n        if (!response.ok)\n        {\n            throw new Error(`[WorkerManager.loadImageBitmap] Failed to fetch ${url}: `\n                + `${response.status} ${response.statusText}`);\n        }\n\n        const imageBlob =  await response.blob();\n        const imageBitmap = await createImageBitmap(imageBlob);\n\n        return imageBitmap;\n    }\n    self.onmessage = async (event) =>\n    {\n        try\n        {\n            const imageBitmap = await loadImageBitmap(event.data.data[0]);\n\n            self.postMessage({\n                data: imageBitmap,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            }, [imageBitmap]);\n        }\n        catch(e)\n        {\n            self.postMessage({\n                error: e,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            });\n        }\n    };",A_=function(){function e(){U(this,e),this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}return V(e,[{key:"isImageBitmapSupported",value:function(){return void 0!==this._isImageBitmapSupported||(this._isImageBitmapSupported=new Promise((function(e){var t=URL.createObjectURL(new Blob([E_.code],{type:"application/javascript"})),n=new Worker(t);n.addEventListener("message",(function(r){n.terminate(),URL.revokeObjectURL(t),e(r.data)}))}))),this._isImageBitmapSupported}},{key:"loadImageBitmap",value:function(e){return this._run("loadImageBitmap",[e])}},{key:"_initWorkers",value:function(){var e=Ge(qe.mark((function e(){return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._initialized){e.next=2;break}return e.abrupt("return");case 2:this._initialized=!0;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getWorker",value:function(){var e=this;void 0===w_&&(w_=navigator.hardwareConcurrency||4);var t=this.workerPool.pop();return!t&&this._createdWorkers<w_&&(S_||(S_=URL.createObjectURL(new Blob([C_],{type:"application/javascript"}))),this._createdWorkers++,(t=new Worker(S_)).addEventListener("message",(function(t){e.complete(t.data),e.returnWorker(t.target),e.next()}))),t}},{key:"returnWorker",value:function(e){this.workerPool.push(e)}},{key:"complete",value:function(e){void 0!==e.error?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}},{key:"_run",value:function(){var e=Ge(qe.mark((function e(t,n){var r,i=this;return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._initWorkers();case 2:return r=new Promise((function(e,r){i.queue.push({id:t,arguments:n,resolve:e,reject:r})})),this.next(),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"next",value:function(){if(this.queue.length){var e=this.getWorker();if(e){var t=this.queue.pop(),n=t.id;this.resolveHash[T_]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:T_++,id:n})}}}}]),e}(),P_=new A_;function I_(e,t,n){var r=new vg(e);return r.baseTexture.on("dispose",(function(){delete t.promiseCache[n]})),r}var O_=[".jpeg",".jpg",".png",".webp",".avif"],M_=["image/jpeg","image/png","image/webp","image/avif"];function R_(e){return N_.apply(this,arguments)}function N_(){return N_=Ge(qe.mark((function e(t){var n,r,i;return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lp.ADAPTER.fetch(t);case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("[loadImageBitmap] Failed to fetch ".concat(t,": ").concat(n.status," ").concat(n.statusText));case 5:return e.next=7,n.blob();case 7:return r=e.sent,e.next=10,createImageBitmap(r);case 10:return i=e.sent,e.abrupt("return",i);case 12:case"end":return e.stop()}}),e)}))),N_.apply(this,arguments)}var D_={name:"loadTextures",extension:{type:Bv.LoadParser,priority:d_.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test:function(e){return p_(e,M_)||s_(e,O_)},load:function(e,t,n){var r=this;return Ge(qe.mark((function i(){var a,o;return qe.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=null,!globalThis.createImageBitmap||!r.config.preferCreateImageBitmap){i.next=18;break}if(i.t0=r.config.preferWorkers,!i.t0){i.next=7;break}return i.next=6,P_.isImageBitmapSupported();case 6:i.t0=i.sent;case 7:if(!i.t0){i.next=13;break}return i.next=10,P_.loadImageBitmap(e);case 10:a=i.sent,i.next=16;break;case 13:return i.next=15,R_(e);case 15:a=i.sent;case 16:i.next=21;break;case 18:return i.next=20,new Promise((function(t){(a=new Image).crossOrigin=r.config.crossOrigin,a.src=e,a.complete?t(a):a.onload=function(){t(a)}}));case 20:a=i.sent;case 21:return(o=new Zv(a,f({resolution:Dv(e)},t.data))).resource.src=e,i.abrupt("return",I_(o,n,e));case 24:case"end":return i.stop()}}),i)})))()},unload:function(e){e.destroy(!0)}};Fv.add(D_);var B_={extension:{type:Bv.LoadParser,priority:d_.High},name:"loadSVG",test:function(e){return p_(e,"image/svg+xml")||s_(e,".svg")},testParse:function(e){return Ge(qe.mark((function t(){return qe.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Ly.test(e));case 1:case"end":return t.stop()}}),t)})))()},parse:function(e,t,n){return Ge(qe.mark((function r(){var i,a,o,s;return qe.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=new Ly(e,null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.resourceOptions),r.next=3,a.load();case 3:return(o=new Zv(a,f({resolution:Dv(e)},null===t||void 0===t?void 0:t.data))).resource.src=e,s=I_(o,n,e),r.abrupt("return",s);case 7:case"end":return r.stop()}}),r)})))()},load:function(e,t){return Ge(qe.mark((function t(){var n;return qe.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lp.ADAPTER.fetch(e);case 2:return n=t.sent,t.abrupt("return",n.text());case 4:case"end":return t.stop()}}),t)})))()},unload:D_.unload};function L_(e,t,n,r,i){for(var a=t[n],o=0;o<a.length;o++){var s=a[o];n<t.length-1?L_(e.replace(r[n],s),t,n+1,r,i):i.push(e.replace(r[n],s))}}function j_(e){var t=e.match(/\{(.*?)\}/g),n=[];if(t){var r=[];t.forEach((function(e){var t=e.substring(1,e.length-1).split(",");r.push(t)})),L_(e,r,0,t,n)}else n.push(e);return n}Fv.add(B_);var F_=function(){function e(){var t=this;U(this,e),this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:function(e,n){return"".concat(e).concat(t._bundleIdConnector).concat(n)},extractAssetIdFromBundle:function(e,n){return n.replace("".concat(e).concat(t._bundleIdConnector),"")}},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}return V(e,[{key:"setBundleIdentifier",value:function(e){var t,n,r;if(this._bundleIdConnector=null!==(t=e.connector)&&void 0!==t?t:this._bundleIdConnector,this._createBundleAssetId=null!==(n=e.createBundleAssetId)&&void 0!==n?n:this._createBundleAssetId,this._extractAssetIdFromBundle=null!==(r=e.extractAssetIdFromBundle)&&void 0!==r?r:this._extractAssetIdFromBundle,"bar"!==this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar")))throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}},{key:"prefer",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){e._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))})),this._resolverHash={}}},{key:"basePath",get:function(){return this._basePath},set:function(e){this._basePath=e}},{key:"rootPath",get:function(){return this._rootPath},set:function(e){this._rootPath=e}},{key:"parsers",get:function(){return this._parsers}},{key:"reset",value:function(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}},{key:"setDefaultSearchParams",value:function(e){if("string"===typeof e)this._defaultSearchParams=e;else{var t=e;this._defaultSearchParams=Object.keys(t).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))})).join("&")}}},{key:"addManifest",value:function(e){var t=this;this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach((function(e){t.addBundle(e.name,e.assets)}))}},{key:"addBundle",value:function(e,t){var n=this,r=[];Array.isArray(t)?t.forEach((function(t){if("string"===typeof t.name){var i=n._createBundleAssetId(e,t.name);r.push(i),n.add([t.name,i],t.srcs,t.data)}else{var a=t.name.map((function(t){return n._createBundleAssetId(e,t)}));a.forEach((function(e){r.push(e)})),n.add([].concat(o(t.name),o(a)),t.srcs)}})):Object.keys(t).forEach((function(i){r.push(n._createBundleAssetId(e,i)),n.add([i,n._createBundleAssetId(e,i)],t[i])})),this._bundles[e]=r}},{key:"add",value:function(e,t,n){var r=this,i=u_(e);i.forEach((function(e){r.hasKey(e)&&console.warn("[Resolver] already has key: ".concat(e," overwriting"))})),Array.isArray(t)||(t="string"===typeof t?j_(t):[t]);var a=t.map((function(e){var t,a=e;if("string"===typeof e){for(var o=!1,s=0;s<r._parsers.length;s++){var u=r._parsers[s];if(u.test(e)){a=u.parse(e),o=!0;break}}o||(a={src:e})}return a.format||(a.format=a.src.split(".").pop()),a.alias||(a.alias=i),(r._basePath||r._rootPath)&&(a.src=Dp.toAbsolute(a.src,r._basePath,r._rootPath)),a.src=r._appendDefaultSearchParams(a.src),a.data=null!==(t=a.data)&&void 0!==t?t:n,a}));i.forEach((function(e){r._assetMap[e]=a}))}},{key:"resolveBundle",value:function(e){var t=this,n=f_(e);e=u_(e);var r={};return e.forEach((function(e){var n=t._bundles[e];if(n){var i=t.resolve(n),a={};for(var o in i){var s=i[o];a[t._extractAssetIdFromBundle(e,o)]=s}r[e]=a}})),n?r[e[0]]:r}},{key:"resolveUrl",value:function(e){var t=this.resolve(e);if("string"!==typeof e){var n={};for(var r in t)n[r]=t[r].src;return n}return t.src}},{key:"resolve",value:function(e){var t=this,n=f_(e);e=u_(e);var r={};return e.forEach((function(e){if(!t._resolverHash[e])if(t._assetMap[e]){var n,i=t._assetMap[e],a=t._getPreferredOrder(i),o=i[0];null===a||void 0===a||a.priority.forEach((function(e){a.params[e].forEach((function(t){var n=i.filter((function(n){return!!n[e]&&n[e]===t}));n.length&&(i=n)}))})),t._resolverHash[e]=null!==(n=i[0])&&void 0!==n?n:o}else{var s=e;(t._basePath||t._rootPath)&&(s=Dp.toAbsolute(s,t._basePath,t._rootPath)),s=t._appendDefaultSearchParams(s),t._resolverHash[e]={src:s}}r[e]=t._resolverHash[e]})),n?r[e[0]]:r}},{key:"hasKey",value:function(e){return!!this._assetMap[e]}},{key:"hasBundle",value:function(e){return!!this._bundles[e]}},{key:"_getPreferredOrder",value:function(e){for(var t=this,n=function(n){var r=e[0],i=t._preferredOrder.find((function(e){return e.params.format.includes(r.format)}));if(i)return{v:i}},r=0;r<e.length;r++){var i=n();if("object"===typeof i)return i.v}return this._preferredOrder[0]}},{key:"_appendDefaultSearchParams",value:function(e){if(!this._defaultSearchParams)return e;var t=/\?/.test(e)?"&":"?";return"".concat(e).concat(t).concat(this._defaultSearchParams)}}]),e}(),U_=function(){function e(){U(this,e),this._detections=[],this._initialized=!1,this.resolver=new F_,this.loader=new h_,this.cache=c_,this._backgroundLoader=new o_(this.loader),this._backgroundLoader.active=!0,this.reset()}return V(e,[{key:"init",value:function(){var e=Ge(qe.mark((function e(){var t,n,r,i,a,o,s,u,l,c,f,h,d,p,v,m,g=arguments;return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=g.length>0&&void 0!==g[0]?g[0]:{},!this._initialized){e.next=4;break}return console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?"),e.abrupt("return");case 4:if(this._initialized=!0,i.defaultSearchParams&&this.resolver.setDefaultSearchParams(i.defaultSearchParams),i.basePath&&(this.resolver.basePath=i.basePath),i.bundleIdentifier&&this.resolver.setBundleIdentifier(i.bundleIdentifier),!i.manifest){e.next=15;break}if("string"!==typeof(a=i.manifest)){e.next=14;break}return e.next=13,this.load(a);case 13:a=e.sent;case 14:this.resolver.addManifest(a);case 15:if(o=null!==(t=null===(n=i.texturePreference)||void 0===n?void 0:n.resolution)&&void 0!==t?t:1,s="number"===typeof o?[o]:o,u=[],null===(r=i.texturePreference)||void 0===r||!r.format){e.next=44;break}c=null===(l=i.texturePreference)||void 0===l?void 0:l.format,u="string"===typeof c?[c]:c,f=L(this._detections),e.prev=22,f.s();case 24:if((h=f.n()).done){e.next=34;break}return d=h.value,e.next=28,d.test();case 28:if(e.sent){e.next=32;break}return e.next=31,d.remove(u);case 31:u=e.sent;case 32:e.next=24;break;case 34:e.next=39;break;case 36:e.prev=36,e.t0=e.catch(22),f.e(e.t0);case 39:return e.prev=39,f.f(),e.finish(39);case 42:e.next=65;break;case 44:p=L(this._detections),e.prev=45,p.s();case 47:if((v=p.n()).done){e.next=57;break}return m=v.value,e.next=51,m.test();case 51:if(!e.sent){e.next=55;break}return e.next=54,m.add(u);case 54:u=e.sent;case 55:e.next=47;break;case 57:e.next=62;break;case 59:e.prev=59,e.t1=e.catch(45),p.e(e.t1);case 62:return e.prev=62,p.f(),e.finish(62);case 65:this.resolver.prefer({params:{format:u,resolution:s}}),i.preferences&&this.setPreferences(i.preferences);case 67:case"end":return e.stop()}}),e,this,[[22,36,39,42],[45,59,62,65]])})));return function(){return e.apply(this,arguments)}}()},{key:"add",value:function(e,t,n){this.resolver.add(e,t,n)}},{key:"load",value:function(){var e=Ge(qe.mark((function e(t,n){var r,i,a,o,s=this;return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._initialized){e.next=3;break}return e.next=3,this.init();case 3:return r=f_(t),i=u_(t).map((function(e){return"string"!==typeof e?(s.resolver.add(e.src,e),e.src):(s.resolver.hasKey(e)||s.resolver.add(e,e),e)})),a=this.resolver.resolve(i),e.next=8,this._mapLoadToResolve(a,n);case 8:return o=e.sent,e.abrupt("return",r?o[i[0]]:o);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addBundle",value:function(e,t){this.resolver.addBundle(e,t)}},{key:"loadBundle",value:function(){var e=Ge(qe.mark((function e(t,n){var r,i,a,o,s,u,l,c,f=this;return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._initialized){e.next=3;break}return e.next=3,this.init();case 3:return r=!1,"string"===typeof t&&(r=!0,t=[t]),i=this.resolver.resolveBundle(t),a={},o=Object.keys(i),s=0,u=0,l=function(){null===n||void 0===n||n(++s/u)},c=o.map((function(e){var t=i[e];return u+=Object.keys(t).length,f._mapLoadToResolve(t,l).then((function(t){a[e]=t}))})),e.next=14,Promise.all(c);case 14:return e.abrupt("return",r?a[t[0]]:a);case 15:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"backgroundLoad",value:function(){var e=Ge(qe.mark((function e(t){var n;return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._initialized){e.next=3;break}return e.next=3,this.init();case 3:"string"===typeof t&&(t=[t]),n=this.resolver.resolve(t),this._backgroundLoader.add(Object.values(n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"backgroundLoadBundle",value:function(){var e=Ge(qe.mark((function e(t){var n,r=this;return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._initialized){e.next=3;break}return e.next=3,this.init();case 3:"string"===typeof t&&(t=[t]),n=this.resolver.resolveBundle(t),Object.values(n).forEach((function(e){r._backgroundLoader.add(Object.values(e))}));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reset",value:function(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}},{key:"get",value:function(e){if("string"===typeof e)return c_.get(e);for(var t={},n=0;n<e.length;n++)t[n]=c_.get(e[n]);return t}},{key:"_mapLoadToResolve",value:function(){var e=Ge(qe.mark((function e(t,n){var r,i,a,s;return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.values(t),i=Object.keys(t),this._backgroundLoader.active=!1,e.next=5,this.loader.load(r,n);case 5:return a=e.sent,this._backgroundLoader.active=!0,s={},r.forEach((function(e,t){var n=a[e.src],r=[e.src];e.alias&&r.push.apply(r,o(e.alias)),s[i[t]]=n,c_.set(r,n)})),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unload",value:function(){var e=Ge(qe.mark((function e(t){var n,r;return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._initialized){e.next=3;break}return e.next=3,this.init();case 3:return n=u_(t).map((function(e){return"string"!==typeof e?e.src:e})),r=this.resolver.resolve(n),e.next=7,this._unloadFromResolved(r);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unloadBundle",value:function(){var e=Ge(qe.mark((function e(t){var n,r,i=this;return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._initialized){e.next=3;break}return e.next=3,this.init();case 3:return t=u_(t),n=this.resolver.resolveBundle(t),r=Object.keys(n).map((function(e){return i._unloadFromResolved(n[e])})),e.next=8,Promise.all(r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_unloadFromResolved",value:function(){var e=Ge(qe.mark((function e(t){var n;return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Object.values(t)).forEach((function(e){c_.remove(e.src)})),e.next=4,this.loader.unload(n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"detections",get:function(){return this._detections}},{key:"preferWorkers",get:function(){return D_.config.preferWorkers},set:function(e){Lp("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}},{key:"setPreferences",value:function(e){this.loader.parsers.forEach((function(t){t.config&&Object.keys(t.config).filter((function(t){return t in e})).forEach((function(n){t.config[n]=e[n]}))}))}}]),e}(),z_=new U_;Fv.handleByList(Bv.LoadParser,z_.loader.parsers).handleByList(Bv.ResolveParser,z_.resolver.parsers).handleByList(Bv.CacheParser,z_.cache.parsers).handleByList(Bv.DetectionParser,z_.detections);var V_={extension:Bv.CacheParser,test:function(e){return Array.isArray(e)&&e.every((function(e){return e instanceof vg}))},getCacheableAssets:function(e,t){var n={};return e.forEach((function(e){t.forEach((function(t,r){n[e+(0===r?"":r+1)]=t}))})),n}};Fv.add(V_);var H_={extension:{type:Bv.DetectionParser,priority:1},test:function(){var e=Ge(qe.mark((function e(){var t;return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(globalThis.createImageBitmap){e.next=2;break}return e.abrupt("return",!1);case 2:return"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",e.next=5,lp.ADAPTER.fetch("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=").then((function(e){return e.blob()}));case 5:return t=e.sent,e.abrupt("return",createImageBitmap(t).then((function(){return!0}),(function(){return!1})));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),add:function(){var e=Ge(qe.mark((function e(t){return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[].concat(o(t),["avif"]));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Ge(qe.mark((function e(t){return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.filter((function(e){return"avif"!==e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};Fv.add(H_);var W_={extension:{type:Bv.DetectionParser,priority:0},test:function(){var e=Ge(qe.mark((function e(){var t;return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(globalThis.createImageBitmap){e.next=2;break}return e.abrupt("return",!1);case 2:return"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e.next=5,lp.ADAPTER.fetch("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=").then((function(e){return e.blob()}));case 5:return t=e.sent,e.abrupt("return",createImageBitmap(t).then((function(){return!0}),(function(){return!1})));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),add:function(){var e=Ge(qe.mark((function e(t){return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[].concat(o(t),["webp"]));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Ge(qe.mark((function e(t){return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.filter((function(e){return"webp"!==e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};Fv.add(W_);var G_=["png","jpg","jpeg"],q_={extension:{type:Bv.DetectionParser,priority:-1},test:function(){return Promise.resolve(!0)},add:function(){var e=Ge(qe.mark((function e(t){return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[].concat(o(t),G_));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Ge(qe.mark((function e(t){return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.filter((function(e){return!G_.includes(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};Fv.add(q_);var X_={extension:Bv.ResolveParser,test:D_.test,parse:function(e){var t,n;return{resolution:parseFloat(null!==(t=null===(n=lp.RETINA_PREFIX.exec(e))||void 0===n?void 0:n[1])&&void 0!==t?t:"1"),format:e.split(".").pop(),src:e}}};Fv.add(X_);var Y_,Q_,K_,Z_=function(e,t){var n=t.split("?")[1];return n&&(e+="?".concat(n)),e},$_=function(e){return e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",e[e.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",e[e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",e}($_||{}),J_=(l(Y_={},33776,.5),l(Y_,33777,.5),l(Y_,33778,1),l(Y_,33779,1),l(Y_,35916,.5),l(Y_,35917,.5),l(Y_,35918,1),l(Y_,35919,1),l(Y_,37488,.5),l(Y_,37489,.5),l(Y_,37490,1),l(Y_,37491,1),l(Y_,37492,.5),l(Y_,37496,1),l(Y_,37493,.5),l(Y_,37497,1),l(Y_,37494,.5),l(Y_,37495,.5),l(Y_,35840,.5),l(Y_,35842,.5),l(Y_,35841,.25),l(Y_,35843,.25),l(Y_,36196,.5),l(Y_,35986,.5),l(Y_,35986,1),l(Y_,34798,1),l(Y_,37808,1),Y_);function ex(){K_={s3tc:Q_.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Q_.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:Q_.getExtension("WEBGL_compressed_texture_etc"),etc1:Q_.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:Q_.getExtension("WEBGL_compressed_texture_pvrtc")||Q_.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:Q_.getExtension("WEBGL_compressed_texture_atc"),astc:Q_.getExtension("WEBGL_compressed_texture_astc")}}var tx={extension:{type:Bv.DetectionParser,priority:2},test:function(){var e=Ge(qe.mark((function e(){var t,n;return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=lp.ADAPTER.createCanvas(),n=t.getContext("webgl")){e.next=5;break}return console.warn("WebGL not available for compressed textures."),e.abrupt("return",!1);case 5:return Q_=n,e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),add:function(){var e=Ge(qe.mark((function e(t){var n,r;return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:K_||ex(),n=[],e.t0=qe.keys(K_);case 3:if((e.t1=e.t0()).done){e.next=11;break}if(r=e.t1.value,K_[r]){e.next=8;break}return e.abrupt("continue",3);case 8:n.push(r),e.next=3;break;case 11:return e.abrupt("return",[].concat(n,o(t)));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Ge(qe.mark((function e(t){return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K_||ex(),e.abrupt("return",t.filter((function(e){return!(e in K_)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};Fv.add(tx);var nx,rx,ix,ax,ox,sx=function(e){X(n,e);var t=K(n);function n(e){var r,i,a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{width:1,height:1,autoLoad:!0};return U(this,n),"string"===typeof e?(i=e,a=new Uint8Array):(i=null,a=e),(r=t.call(this,a,o)).origin=i,r.buffer=a?new Uv(a):null,r._load=null,r.loaded=!1,null!==r.origin&&!1!==o.autoLoad&&r.load(),null===r.origin&&r.buffer&&(r._load=Promise.resolve(H(r)),r.loaded=!0,r.onBlobLoaded(r.buffer.rawBinaryData)),r}return V(n,[{key:"onBlobLoaded",value:function(e){}},{key:"load",value:function(){var e=this;return this._load||(this._load=fetch(this.origin).then((function(e){return e.blob()})).then((function(e){return e.arrayBuffer()})).then((function(t){return e.data=new Uint32Array(t),e.buffer=new Uv(t),e.loaded=!0,e.onBlobLoaded(t),e.update(),e}))),this._load}}]),n}(Yv),ux=function(e){X(n,e);var t=K(n);function n(e,r){var i;return U(this,n),(i=t.call(this,e,r)).format=r.format,i.levels=r.levels||1,i._width=r.width,i._height=r.height,i._extension=n._formatToExtension(i.format),(r.levelBuffers||i.buffer)&&(i._levelBuffers=r.levelBuffers||n._createLevelBuffers(e instanceof Uint8Array?e:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return V(n,[{key:"upload",value:function(e,t,n){var r=e.gl;if(!e.context.extensions[this._extension])throw new Error("".concat(this._extension," textures are not supported on the current machine"));if(!this._levelBuffers)return!1;for(var i=0,a=this.levels;i<a;i++){var o=this._levelBuffers[i],s=o.levelID,u=o.levelWidth,l=o.levelHeight,c=o.levelBuffer;r.compressedTexImage2D(r.TEXTURE_2D,s,this.format,u,l,0,c)}return!0}},{key:"onBlobLoaded",value:function(){this._levelBuffers=n._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}}],[{key:"_formatToExtension",value:function(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}},{key:"_createLevelBuffers",value:function(e,t,n,r,i,a,o){for(var s=new Array(n),u=e.byteOffset,l=a,c=o,f=l+r-1&~(r-1),h=c+i-1&~(i-1),d=f*h*J_[t],p=0;p<n;p++)s[p]={levelID:p,levelWidth:n>1?l:f,levelHeight:n>1?c:h,levelBuffer:new Uint8Array(e.buffer,u,d)},u+=d,d=(f=(l=l>>1||1)+r-1&~(r-1))*(h=(c=c>>1||1)+i-1&~(i-1))*J_[t];return s}}]),n}(sx),lx=124,cx=3,fx=4,hx=7,dx=19,px=2,vx=0,mx=1,gx=2,yx=3,bx=(l(nx={},827611204,$_.COMPRESSED_RGBA_S3TC_DXT1_EXT),l(nx,861165636,$_.COMPRESSED_RGBA_S3TC_DXT3_EXT),l(nx,894720068,$_.COMPRESSED_RGBA_S3TC_DXT5_EXT),nx),_x=(l(rx={},70,$_.COMPRESSED_RGBA_S3TC_DXT1_EXT),l(rx,71,$_.COMPRESSED_RGBA_S3TC_DXT1_EXT),l(rx,73,$_.COMPRESSED_RGBA_S3TC_DXT3_EXT),l(rx,74,$_.COMPRESSED_RGBA_S3TC_DXT3_EXT),l(rx,76,$_.COMPRESSED_RGBA_S3TC_DXT5_EXT),l(rx,77,$_.COMPRESSED_RGBA_S3TC_DXT5_EXT),l(rx,72,$_.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT),l(rx,75,$_.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT),l(rx,78,$_.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT),rx);function xx(e){var t=new Uint32Array(e);if(542327876!==t[0])throw new Error("Invalid DDS file magic word");var n=new Uint32Array(e,0,lx/Uint32Array.BYTES_PER_ELEMENT),r=n[cx],i=n[fx],a=n[hx],o=new Uint32Array(e,dx*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),s=o[1];if(4&s){var u=o[px];if(808540228!==u){var l=bx[u],c=new Uint8Array(e,128);return[new ux(c,{format:l,width:i,height:r,levels:a})]}var f=new Uint32Array(t.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT),h=f[vx],d=f[mx],p=f[gx],v=f[yx],m=_x[h];if(void 0===m)throw new Error("DDSParser cannot parse texture data with DXGI format ".concat(h));if(4===p)throw new Error("DDSParser does not support cubemap textures");if(6===d)throw new Error("DDSParser does not supported 3D texture data");var g=new Array;if(1===v)g.push(new Uint8Array(e,148));else{for(var y=J_[m],b=0,_=i,x=r,k=0;k<a;k++){b+=Math.max(1,_+3&-4)*Math.max(1,x+3&-4)*y,_>>>=1,x>>>=1}for(var w=148,S=0;S<v;S++)g.push(new Uint8Array(e,w,b)),w+=b}return g.map((function(e){return new ux(e,{format:m,width:i,height:r,levels:a})}))}if(64&s)throw new Error("DDSParser does not support uncompressed texture data.");if(512&s)throw new Error("DDSParser does not supported YUV uncompressed texture data.");if(131072&s)throw new Error("DDSParser does not support single-channel (lumninance) texture data!");if(2&s)throw new Error("DDSParser does not support single-channel (alpha) texture data!");throw new Error("DDSParser failed to load a texture file due to an unknown reason!")}var kx=[171,75,84,88,32,49,49,187,13,10,26,10],wx=12,Sx=16,Tx=24,Ex=28,Cx=36,Ax=40,Px=44,Ix=48,Ox=52,Mx=56,Rx=60,Nx=64,Dx=(l(ix={},Kd.UNSIGNED_BYTE,1),l(ix,Kd.UNSIGNED_SHORT,2),l(ix,Kd.INT,4),l(ix,Kd.UNSIGNED_INT,4),l(ix,Kd.FLOAT,4),l(ix,Kd.HALF_FLOAT,8),ix),Bx=(l(ax={},Yd.RGBA,4),l(ax,Yd.RGB,3),l(ax,Yd.RG,2),l(ax,Yd.RED,1),l(ax,Yd.LUMINANCE,1),l(ax,Yd.LUMINANCE_ALPHA,2),l(ax,Yd.ALPHA,1),ax),Lx=(l(ox={},Kd.UNSIGNED_SHORT_4_4_4_4,2),l(ox,Kd.UNSIGNED_SHORT_5_5_5_1,2),l(ox,Kd.UNSIGNED_SHORT_5_6_5,2),ox);function jx(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new DataView(t);if(!function(e,t){for(var n=0;n<kx.length;n++)if(t.getUint8(n)!==kx[n])return console.error("".concat(e," is not a valid *.ktx file!")),!1;return!0}(e,r))return null;var i=67305985===r.getUint32(wx,!0),a=r.getUint32(Sx,i),o=r.getUint32(Tx,i),s=r.getUint32(Ex,i),u=r.getUint32(Cx,i),l=r.getUint32(Ax,i)||1,c=r.getUint32(Px,i)||1,f=r.getUint32(Ix,i)||1,h=r.getUint32(Ox,i),d=r.getUint32(Mx,i),p=r.getUint32(Rx,i);if(0===l||1!==c)throw new Error("Only 2D textures are supported");if(1!==h)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==f)throw new Error("WebGL does not support array textures");var v,m=u+3&-4,g=l+3&-4,y=new Array(f),b=u*l;if(0===a&&(b=m*g),void 0===(v=0!==a?Dx[a]?Dx[a]*Bx[o]:Lx[a]:J_[s]))throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var _=n?function(e,t,n){var r=new Map,i=0;for(;i<t;){var a=e.getUint32(Nx+i,n),o=Nx+i+4,s=3-(a+3)%4;if(0===a||a>t-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var u=0;u<a&&0!==e.getUint8(o+u);u++);if(-1===u){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var l=(new TextDecoder).decode(new Uint8Array(e.buffer,o,u)),c=new DataView(e.buffer,o+u+1,a-u-1);r.set(l,c),i+=4+a+s}return r}(r,p,i):null,x=b*v,k=u,w=l,S=m,T=g,E=Nx+p,C=0;C<d;C++){for(var A=r.getUint32(E,i),P=E+4,I=0;I<f;I++){var O=y[I];O||(O=y[I]=new Array(d)),O[C]={levelID:C,levelWidth:d>1||0!==a?k:S,levelHeight:d>1||0!==a?w:T,levelBuffer:new Uint8Array(t,P,x)},P+=x}E=(E+=A+4)%4!==0?E+4-E%4:E,x=(S=(k=k>>1||1)+4-1&-4)*(T=(w=w>>1||1)+4-1&-4)*v}return 0!==a?{uncompressed:y.map((function(e){var t=e[0].levelBuffer,n=!1;return a===Kd.FLOAT?t=new Float32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4):a===Kd.UNSIGNED_INT?(n=!0,t=new Uint32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4)):a===Kd.INT&&(n=!0,t=new Int32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4)),{resource:new Yv(t,{width:e[0].levelWidth,height:e[0].levelHeight}),type:a,format:n?Fx(o):o}})),kvData:_}:{compressed:y.map((function(e){return new ux(null,{format:s,width:u,height:l,levels:d,levelBuffers:e})})),kvData:_}}function Fx(e){switch(e){case Yd.RGBA:return Yd.RGBA_INTEGER;case Yd.RGB:return Yd.RGB_INTEGER;case Yd.RG:return Yd.RG_INTEGER;case Yd.RED:return Yd.RED_INTEGER;default:return e}}var Ux={extension:{type:Bv.LoadParser,priority:d_.High},name:"loadDDS",test:function(e){return s_(e,".dds")},load:function(e,t,n){return Ge(qe.mark((function r(){var i,a,o,s;return qe.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,lp.ADAPTER.fetch(e);case 2:return i=r.sent,r.next=5,i.arrayBuffer();case 5:return a=r.sent,o=xx(a),s=o.map((function(r){return I_(new Zv(r,f({mipmap:ep.OFF,alphaMode:tp.NO_PREMULTIPLIED_ALPHA,resolution:Dv(e)},t.data)),n,e)})),r.abrupt("return",1===s.length?s[0]:s);case 9:case"end":return r.stop()}}),r)})))()},unload:function(e){Array.isArray(e)?e.forEach((function(e){return e.destroy(!0)})):e.destroy(!0)}};Fv.add(Ux);var zx={extension:{type:Bv.LoadParser,priority:d_.High},name:"loadKTX",test:function(e){return s_(e,".ktx")},load:function(e,t,n){return Ge(qe.mark((function r(){var i,a,o,s,u,l,c,h,d;return qe.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,lp.ADAPTER.fetch(e);case 2:return i=r.sent,r.next=5,i.arrayBuffer();case 5:return a=r.sent,o=jx(e,a),s=o.compressed,u=o.uncompressed,l=o.kvData,c=null!==s&&void 0!==s?s:u,h=f({mipmap:ep.OFF,alphaMode:tp.NO_PREMULTIPLIED_ALPHA,resolution:Dv(e)},t.data),d=c.map((function(t){c===u&&Object.assign(h,{type:t.type,format:t.format});var r=new Zv(t,h);return r.ktxKeyValueData=l,I_(r,n,e)})),r.abrupt("return",1===d.length?d[0]:d);case 11:case"end":return r.stop()}}),r)})))()},unload:function(e){Array.isArray(e)?e.forEach((function(e){return e.destroy(!0)})):e.destroy(!0)}};Fv.add(zx);var Vx={extension:Bv.ResolveParser,test:function(e){var t=e.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(t)},parse:function(e){var t,n;if("ktx"===e.split("?")[0].split(".").pop()){var r,i,a=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(a.some((function(t){return e.endsWith(t)})))return{resolution:parseFloat(null!==(r=null===(i=lp.RETINA_PREFIX.exec(e))||void 0===i?void 0:i[1])&&void 0!==r?r:"1"),format:a.find((function(t){return e.endsWith(t)})),src:e}}return{resolution:parseFloat(null!==(t=null===(n=lp.RETINA_PREFIX.exec(e))||void 0===n?void 0:n[1])&&void 0!==t?t:"1"),format:e.split(".").pop(),src:e}}};Fv.add(Vx);var Hx=new pm,Wx=function(){function e(t){U(this,e),this.renderer=t}return V(e,[{key:"image",value:function(){var e=Ge(qe.mark((function e(t,n,r){var i;return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new Image,e.next=3,this.base64(t,n,r);case 3:return i.src=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"base64",value:function(){var e=Ge(qe.mark((function e(t,n,r){var i,a;return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(i=this.canvas(t)).toBlob){e.next=3;break}return e.abrupt("return",new Promise((function(e,t){i.toBlob((function(n){if(n){var r=new FileReader;r.onload=function(){return e(r.result)},r.onerror=t,r.readAsDataURL(n)}else t(new Error("ICanvas.toBlob failed!"))}),n,r)})));case 3:if(void 0===i.toDataURL){e.next=5;break}return e.abrupt("return",i.toDataURL(n,r));case 5:if(void 0===i.convertToBlob){e.next=10;break}return e.next=8,i.convertToBlob({type:n,quality:r});case 8:return a=e.sent,e.abrupt("return",new Promise((function(e,t){var n=new FileReader;n.onload=function(){return e(n.result)},n.onerror=t,n.readAsDataURL(a)})));case 10:throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented");case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"canvas",value:function(t,n){var r=this._rawPixels(t,n),i=r.pixels,a=r.width,o=r.height;r.flipY&&e._flipY(i,a,o),e._unpremultiplyAlpha(i);var s=new Ov(a,o,1),u=new ImageData(new Uint8ClampedArray(i.buffer),a,o);return s.context.putImageData(u,0,0),s.canvas}},{key:"pixels",value:function(t,n){var r=this._rawPixels(t,n),i=r.pixels,a=r.width,o=r.height;return r.flipY&&e._flipY(i,a,o),e._unpremultiplyAlpha(i),i}},{key:"_rawPixels",value:function(e,t){var n,r=this.renderer;if(!r)throw new Error("The Extract has already been destroyed");var i,a,o=!1,s=!1;if(e&&(e instanceof mg?i=e:(i=r.generateTexture(e,{resolution:r.resolution,multisample:r.multisample}),s=!0)),i){if(n=i.baseTexture.resolution,t=null!==(a=t)&&void 0!==a?a:i.frame,o=!1,!s){r.renderTexture.bind(i);var u=i.framebuffer.glFramebuffers[r.CONTEXT_UID];u.blitFramebuffer&&r.framebuffer.bind(u.blitFramebuffer)}}else n=r.resolution,t||((t=Hx).width=r.width/n,t.height=r.height/n),o=!0,r.renderTexture.bind();var l,c=Math.round(t.width*n),f=Math.round(t.height*n),h=new Uint8Array(4*c*f),d=r.gl;(d.readPixels(Math.round(t.x*n),Math.round(t.y*n),c,f,d.RGBA,d.UNSIGNED_BYTE,h),s)&&(null===(l=i)||void 0===l||l.destroy(!0));return{pixels:h,width:c,height:f,flipY:o}}},{key:"destroy",value:function(){this.renderer=null}}],[{key:"_flipY",value:function(e,t,n){for(var r=t<<2,i=n>>1,a=new Uint8Array(r),o=0;o<i;o++){var s=o*r,u=(n-o-1)*r;a.set(e.subarray(s,s+r)),e.copyWithin(s,u,u+r),e.set(a,u)}}},{key:"_unpremultiplyAlpha",value:function(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));for(var t=e.length,n=0;n<t;n+=4){var r=e[n+3];if(0!==r){var i=255.001/r;e[n]=e[n]*i+.5,e[n+1]=e[n+1]*i+.5,e[n+2]=e[n+2]*i+.5}}}}]),e}(),Gx=Wx;Gx.extension={name:"extract",type:Bv.RendererSystem},Fv.add(Gx);var qx={build:function(e){var t,n,r,i,a,o,s=e.points;if(e.type===fm.CIRC){var u=e.shape;t=u.x,n=u.y,a=o=u.radius,r=i=0}else if(e.type===fm.ELIP){var l=e.shape;t=l.x,n=l.y,a=l.width,o=l.height,r=i=0}else{var c=e.shape,f=c.width/2,h=c.height/2;t=c.x+f,n=c.y+h,r=f-(a=o=Math.max(0,Math.min(c.radius,Math.min(f,h)))),i=h-o}if(a>=0&&o>=0&&r>=0&&i>=0){var d=Math.ceil(2.3*Math.sqrt(a+o)),p=8*d+(r?4:0)+(i?4:0);if(s.length=p,0!==p){if(0===d)return s.length=8,s[0]=s[6]=t+r,s[1]=s[3]=n+i,s[2]=s[4]=t-r,void(s[5]=s[7]=n-i);var v=0,m=4*d+(r?2:0)+2,g=m,y=p,b=r+a,_=i,x=t+b,k=t-b,w=n+_;if(s[v++]=x,s[v++]=w,s[--m]=w,s[--m]=k,i){var S=n-_;s[g++]=k,s[g++]=S,s[--y]=S,s[--y]=x}for(var T=1;T<d;T++){var E=Math.PI/2*(T/d),C=r+Math.cos(E)*a,A=i+Math.sin(E)*o,P=t+C,I=t-C,O=n+A,M=n-A;s[v++]=P,s[v++]=O,s[--m]=O,s[--m]=I,s[g++]=I,s[g++]=M,s[--y]=M,s[--y]=P}var R=i+o,N=t+r,D=t-r,B=n+R,L=n-R;s[v++]=N,s[v++]=B,s[--y]=L,s[--y]=N,r&&(s[v++]=D,s[v++]=B,s[--y]=L,s[--y]=D)}}else s.length=0},triangulate:function(e,t){var n=e.points,r=t.points,i=t.indices;if(0!==n.length){var a,o,s=r.length/2,u=s;if(e.type!==fm.RREC){var l=e.shape;a=l.x,o=l.y}else{var c=e.shape;a=c.x+c.width/2,o=c.y+c.height/2}var f=e.matrix;r.push(e.matrix?f.a*a+f.c*o+f.tx:a,e.matrix?f.b*a+f.d*o+f.ty:o),s++,r.push(n[0],n[1]);for(var h=2;h<n.length;h+=2)r.push(n[h],n[h+1]),i.push(s++,u,s);i.push(u+1,u,s)}}};function Xx(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.length;if(!(n<6)){for(var r=0,i=0,a=e[n-2],o=e[n-1];i<n;i+=2){var s=e[i],u=e[i+1];r+=(s-a)*(u+o),a=s,o=u}if(!t&&r>0||t&&r<=0)for(var l=n/2,c=l+l%2;c<n;c+=2){var f=n-c-2,h=n-c-1,d=c,p=c+1,v=[e[d],e[f]];e[f]=v[0],e[d]=v[1];var m=[e[p],e[h]];e[h]=m[0],e[p]=m[1]}}}var Yx={build:function(e){e.points=e.shape.points.slice()},triangulate:function(e,t){var n=e.points,r=e.holes,i=t.points,a=t.indices;if(n.length>=6){Xx(n,!1);for(var o=[],s=0;s<r.length;s++){var u=r[s];Xx(u.points,!0),o.push(n.length/2),n=n.concat(u.points)}var l=Pp(n,o,2);if(!l)return;for(var c=i.length/2,f=0;f<l.length;f+=3)a.push(l[f]+c),a.push(l[f+1]+c),a.push(l[f+2]+c);for(var h=0;h<n.length;h++)i.push(n[h])}}},Qx={build:function(e){var t=e.shape,n=t.x,r=t.y,i=t.width,a=t.height,o=e.points;o.length=0,i>=0&&a>=0&&o.push(n,r,n+i,r,n+i,r+a,n,r+a)},triangulate:function(e,t){var n=e.points,r=t.points;if(0!==n.length){var i=r.length/2;r.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),t.indices.push(i,i+1,i+2,i+1,i+2,i+3)}}},Kx={build:function(e){qx.build(e)},triangulate:function(e,t){qx.triangulate(e,t)}},Zx=function(e){return e.MITER="miter",e.BEVEL="bevel",e.ROUND="round",e}(Zx||{}),$x=function(e){return e.BUTT="butt",e.ROUND="round",e.SQUARE="square",e}($x||{}),Jx={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;if(!this.adaptive||!e||isNaN(e))return t;var n=Math.ceil(e/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}},ek=function(){function e(){U(this,e)}return V(e,null,[{key:"curveTo",value:function(e,t,n,r,i,a){var o=a[a.length-2],s=a[a.length-1]-t,u=o-e,l=r-t,c=n-e,f=Math.abs(s*c-u*l);if(f<1e-8||0===i)return a[a.length-2]===e&&a[a.length-1]===t||a.push(e,t),null;var h=s*s+u*u,d=l*l+c*c,p=s*l+u*c,v=i*Math.sqrt(h)/f,m=i*Math.sqrt(d)/f,g=v*p/h,y=m*p/d,b=v*c+m*u,_=v*l+m*s,x=u*(m+g),k=s*(m+g),w=c*(v+y),S=l*(v+y);return{cx:b+e,cy:_+t,radius:i,startAngle:Math.atan2(k-_,x-b),endAngle:Math.atan2(S-_,w-b),anticlockwise:u*l>c*s}}},{key:"arc",value:function(e,t,n,r,i,a,o,s,u){for(var l=o-a,c=Jx._segmentsCount(Math.abs(l)*i,40*Math.ceil(Math.abs(l)/um)),f=l/(2*c),h=2*f,d=Math.cos(f),p=Math.sin(f),v=c-1,m=v%1/v,g=0;g<=v;++g){var y=f+a+h*(g+m*g),b=Math.cos(y),_=-Math.sin(y);u.push((d*b+p*_)*i+n,(d*-_+p*b)*i+r)}}}]),e}(),tk=function(){function e(){U(this,e)}return V(e,null,[{key:"curveLength",value:function(e,t,n,r,i,a,o,s){for(var u=0,l=0,c=0,f=0,h=0,d=0,p=0,v=0,m=0,g=0,y=0,b=e,_=t,x=1;x<=10;++x)g=b-(v=(p=(d=(h=1-(l=x/10))*h)*h)*e+3*d*l*n+3*h*(c=l*l)*i+(f=c*l)*o),y=_-(m=p*t+3*d*l*r+3*h*c*a+f*s),b=v,_=m,u+=Math.sqrt(g*g+y*y);return u}},{key:"curveTo",value:function(t,n,r,i,a,o,s){var u=s[s.length-2],l=s[s.length-1];s.length-=2;var c=Jx._segmentsCount(e.curveLength(u,l,t,n,r,i,a,o)),f=0,h=0,d=0,p=0,v=0;s.push(u,l);for(var m=1,g=0;m<=c;++m)d=(h=(f=1-(g=m/c))*f)*f,v=(p=g*g)*g,s.push(d*u+3*h*g*t+3*f*p*r+v*a,d*l+3*h*g*n+3*f*p*i+v*o)}}]),e}();function nk(e,t,n,r,i,a,o,s){var u,l;o?(u=r,l=-n):(u=-r,l=n);var c=e-n*i+u,f=t-r*i+l,h=e+n*a+u,d=t+r*a+l;return s.push(c,f,h,d),2}function rk(e,t,n,r,i,a,o,s){var u=n-e,l=r-t,c=Math.atan2(u,l),f=Math.atan2(i-e,a-t);s&&c<f?c+=2*Math.PI:!s&&c>f&&(f+=2*Math.PI);var h=c,d=f-c,p=Math.abs(d),v=Math.sqrt(u*u+l*l),m=1+(15*p*Math.sqrt(v)/Math.PI>>0),g=d/m;if(h+=g,s){o.push(e,t,n,r);for(var y=1,b=h;y<m;y++,b+=g)o.push(e,t,e+Math.sin(b)*v,t+Math.cos(b)*v);o.push(e,t,i,a)}else{o.push(n,r,e,t);for(var _=1,x=h;_<m;_++,x+=g)o.push(e+Math.sin(x)*v,t+Math.cos(x)*v,e,t);o.push(i,a,e,t)}return 2*m}function ik(e,t){e.lineStyle.native?function(e,t){var n=0,r=e.shape,i=e.points||r.points,a=r.type!==fm.POLY||r.closeStroke;if(0!==i.length){var o=t.points,s=t.indices,u=i.length/2,l=o.length/2,c=l;for(o.push(i[0],i[1]),n=1;n<u;n++)o.push(i[2*n],i[2*n+1]),s.push(c,c+1),c++;a&&s.push(c,l)}}(e,t):function(e,t){var n=e.shape,r=e.points||n.points.slice(),i=t.closePointEps;if(0!==r.length){var a=e.lineStyle,o=new hm(r[0],r[1]),s=new hm(r[r.length-2],r[r.length-1]),u=n.type!==fm.POLY||n.closeStroke,l=Math.abs(o.x-s.x)<i&&Math.abs(o.y-s.y)<i;if(u){r=r.slice(),l&&(r.pop(),r.pop(),s.set(r[r.length-2],r[r.length-1]));var c=.5*(o.x+s.x),f=.5*(s.y+o.y);r.unshift(c,f),r.push(c,f)}var h=t.points,d=r.length/2,p=r.length,v=h.length/2,m=a.width/2,g=m*m,y=a.miterLimit*a.miterLimit,b=r[0],_=r[1],x=r[2],k=r[3],w=0,S=0,T=-(_-k),E=b-x,C=0,A=0,P=Math.sqrt(T*T+E*E);T/=P,E/=P,T*=m,E*=m;var I=a.alignment,O=2*(1-I),M=2*I;u||(a.cap===$x.ROUND?p+=rk(b-T*(O-M)*.5,_-E*(O-M)*.5,b-T*O,_-E*O,b+T*M,_+E*M,h,!0)+2:a.cap===$x.SQUARE&&(p+=nk(b,_,T,E,O,M,!0,h))),h.push(b-T*O,_-E*O,b+T*M,_+E*M);for(var R=1;R<d-1;++R){b=r[2*(R-1)],_=r[2*(R-1)+1],x=r[2*R],k=r[2*R+1],w=r[2*(R+1)],S=r[2*(R+1)+1],T=-(_-k),E=b-x,T/=P=Math.sqrt(T*T+E*E),E/=P,T*=m,E*=m,C=-(k-S),A=x-w,C/=P=Math.sqrt(C*C+A*A),A/=P,C*=m,A*=m;var N=x-b,D=_-k,B=x-w,L=S-k,j=N*B+D*L,F=D*B-L*N,U=F<0;if(Math.abs(F)<.001*Math.abs(j))h.push(x-T*O,k-E*O,x+T*M,k+E*M),j>=0&&(a.join===Zx.ROUND?p+=rk(x,k,x-T*O,k-E*O,x-C*O,k-A*O,h,!1)+4:p+=2,h.push(x-C*M,k-A*M,x+C*O,k+A*O));else{var z=(-T+b)*(-E+k)-(-T+x)*(-E+_),V=(-C+w)*(-A+k)-(-C+x)*(-A+S),H=(N*V-B*z)/F,W=(L*z-D*V)/F,G=(H-x)*(H-x)+(W-k)*(W-k),q=x+(H-x)*O,X=k+(W-k)*O,Y=x-(H-x)*M,Q=k-(W-k)*M,K=U?O:M,Z=G<=Math.min(N*N+D*D,B*B+L*L)+K*K*g,$=a.join;if($===Zx.MITER&&G/g>y&&($=Zx.BEVEL),Z)switch($){case Zx.MITER:h.push(q,X,Y,Q);break;case Zx.BEVEL:U?h.push(q,X,x+T*M,k+E*M,q,X,x+C*M,k+A*M):h.push(x-T*O,k-E*O,Y,Q,x-C*O,k-A*O,Y,Q),p+=2;break;case Zx.ROUND:U?(h.push(q,X,x+T*M,k+E*M),p+=rk(x,k,x+T*M,k+E*M,x+C*M,k+A*M,h,!0)+4,h.push(q,X,x+C*M,k+A*M)):(h.push(x-T*O,k-E*O,Y,Q),p+=rk(x,k,x-T*O,k-E*O,x-C*O,k-A*O,h,!1)+4,h.push(x-C*O,k-A*O,Y,Q))}else{switch(h.push(x-T*O,k-E*O,x+T*M,k+E*M),$){case Zx.MITER:U?h.push(Y,Q,Y,Q):h.push(q,X,q,X),p+=2;break;case Zx.ROUND:p+=U?rk(x,k,x+T*M,k+E*M,x+C*M,k+A*M,h,!0)+2:rk(x,k,x-T*O,k-E*O,x-C*O,k-A*O,h,!1)+2}h.push(x-C*O,k-A*O,x+C*M,k+A*M),p+=2}}}b=r[2*(d-2)],_=r[2*(d-2)+1],x=r[2*(d-1)],T=-(_-(k=r[2*(d-1)+1])),E=b-x,T/=P=Math.sqrt(T*T+E*E),E/=P,T*=m,E*=m,h.push(x-T*O,k-E*O,x+T*M,k+E*M),u||(a.cap===$x.ROUND?p+=rk(x-T*(O-M)*.5,k-E*(O-M)*.5,x-T*O,k-E*O,x+T*M,k+E*M,h,!1)+2:a.cap===$x.SQUARE&&(p+=nk(x,k,T,E,O,M,!1,h)));for(var J=t.indices,ee=Jx.epsilon*Jx.epsilon,te=v;te<p+v-2;++te)b=h[2*te],_=h[2*te+1],x=h[2*(te+1)],k=h[2*(te+1)+1],w=h[2*(te+2)],S=h[2*(te+2)+1],Math.abs(b*(k-S)+x*(S-_)+w*(_-k))<ee||J.push(te,te+1,te+2)}}(e,t)}var ak,ok=function(){function e(){U(this,e)}return V(e,null,[{key:"curveLength",value:function(e,t,n,r,i,a){var o=e-2*n+i,s=t-2*r+a,u=2*n-2*e,l=2*r-2*t,c=4*(o*o+s*s),f=4*(o*u+s*l),h=u*u+l*l,d=2*Math.sqrt(c+f+h),p=Math.sqrt(c),v=2*c*p,m=2*Math.sqrt(h),g=f/p;return(v*d+p*f*(d-m)+(4*h*c-f*f)*Math.log((2*p+g+d)/(g+m)))/(4*v)}},{key:"curveTo",value:function(t,n,r,i,a){for(var o=a[a.length-2],s=a[a.length-1],u=Jx._segmentsCount(e.curveLength(o,s,t,n,r,i)),l=0,c=0,f=1;f<=u;++f){var h=f/u;l=o+(t-o)*h,c=s+(n-s)*h,a.push(l+(t+(r-t)*h-l)*h,c+(n+(i-n)*h-c)*h)}}}]),e}(),sk=(l(ak={},fm.POLY,Yx),l(ak,fm.CIRC,qx),l(ak,fm.ELIP,qx),l(ak,fm.RECT,Qx),l(ak,fm.RREC,Kx),ak),uk=[],lk=[],ck=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;U(this,e),this.points=[],this.holes=[],this.shape=t,this.lineStyle=r,this.fillStyle=n,this.matrix=i,this.type=t.type}return V(e,[{key:"clone",value:function(){return new e(this.shape,this.fillStyle,this.lineStyle,this.matrix)}},{key:"destroy",value:function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}]),e}(),fk=function(){function e(){U(this,e),this.reset()}return V(e,[{key:"begin",value:function(e,t,n){this.reset(),this.style=e,this.start=t,this.attribStart=n}},{key:"end",value:function(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start}},{key:"reset",value:function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}]),e}(),hk=new hm,dk=function(e){X(n,e);var t=K(n);function n(){var e;return U(this,n),(e=t.call(this)).closePointEps=1e-4,e.boundsPadding=0,e.uvsFloat32=null,e.indicesUint16=null,e.batchable=!1,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.drawCalls=[],e.batchDirty=-1,e.batches=[],e.dirty=0,e.cacheDirty=-1,e.clearDirty=0,e.shapeIndex=0,e._bounds=new Ky,e.boundsDirty=-1,e}return V(n,[{key:"bounds",get:function(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}},{key:"invalidate",value:function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),lk.push(this.drawCalls[e]);this.drawCalls.length=0;for(var t=0;t<this.batches.length;t++){var n=this.batches[t];n.reset(),uk.push(n)}this.batches.length=0}},{key:"clear",value:function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}},{key:"drawShape",value:function(e){var t=new ck(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null);return this.graphicsData.push(t),this.dirty++,this}},{key:"drawHole",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.graphicsData.length)return null;var n=new ck(e,null,null,t),r=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=r.lineStyle,r.holes.push(n),this.dirty++,this}},{key:"destroy",value:function(){G(W(n.prototype),"destroy",this).call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}},{key:"containsPoint",value:function(e){for(var t=this.graphicsData,n=0;n<t.length;++n){var r=t[n];if(r.fillStyle.visible&&(r.shape&&(r.matrix?r.matrix.applyInverse(e,hk):hk.copyFrom(e),r.shape.contains(hk.x,hk.y)))){var i=!1;if(r.holes)for(var a=0;a<r.holes.length;a++){if(r.holes[a].shape.contains(hk.x,hk.y)){i=!0;break}}if(!i)return!0}}return!1}},{key:"updateBatches",value:function(){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,t=this.graphicsData,n=null,r=null;this.batches.length>0&&(r=(n=this.batches[this.batches.length-1]).style);for(var i=this.shapeIndex;i<t.length;i++){this.shapeIndex++;var a=t[i],o=a.fillStyle,s=a.lineStyle;sk[a.type].build(a),a.matrix&&this.transformPoints(a.points,a.matrix),(o.visible||s.visible)&&this.processHoles(a.holes);for(var u=0;u<2;u++){var l=0===u?o:s;if(l.visible){var c=l.texture.baseTexture,f=this.indices.length,h=this.points.length/2;c.wrapMode=Jd.REPEAT,0===u?this.processFill(a):this.processLine(a);var d=this.points.length/2-h;0!==d&&(n&&!this._compareStyles(r,l)&&(n.end(f,h),n=null),n||((n=uk.pop()||new fk).begin(l,f,h),this.batches.push(n),r=l),this.addUvs(this.points,e,l.texture,h,d,l.matrix))}}}var p=this.indices.length,v=this.points.length/2;if(n&&n.end(p,v),0!==this.batches.length){var m=v>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&m===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=m?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0}},{key:"_compareStyles",value:function(e,t){return!(!e||!t)&&(e.texture.baseTexture===t.texture.baseTexture&&(e.color+e.alpha===t.color+t.alpha&&!!e.native===!!t.native))}},{key:"validateBatching",value:function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,t=this.graphicsData.length;e<t;e++){var n=this.graphicsData[e],r=n.fillStyle,i=n.lineStyle;if(r&&!r.texture.baseTexture.valid)return!1;if(i&&!i.texture.baseTexture.valid)return!1}return!0}},{key:"packBatches",value:function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,t=0,n=e.length;t<n;t++)for(var r=e[t],i=0;i<r.size;i++){var a=r.start+i;this.indicesUint16[a]=this.indicesUint16[a]-r.attribStart}}},{key:"isBatchable",value:function(){if(this.points.length>131070)return!1;for(var e=this.batches,t=0;t<e.length;t++)if(e[t].style.native)return!1;return this.points.length<2*n.BATCHABLE_SIZE}},{key:"buildDrawCalls",value:function(){for(var e=++Zv._globalBatch,t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),lk.push(this.drawCalls[t]);this.drawCalls.length=0;var n=this.colors,r=this.textureIds,i=lk.pop();i||((i=new $v).texArray=new $m),i.texArray.count=0,i.start=0,i.size=0,i.type=Xd.TRIANGLES;var a=0,o=null,s=0,u=!1,l=Xd.TRIANGLES,c=0;this.drawCalls.push(i);for(var f=0;f<this.batches.length;f++){var h=this.batches[f],d=h.style,p=d.texture.baseTexture;u!==!!d.native&&(l=(u=!!d.native)?Xd.LINES:Xd.TRIANGLES,o=null,a=8,e++),o!==p&&(o=p,p._batchEnabled!==e&&(8===a&&(e++,a=0,i.size>0&&((i=lk.pop())||((i=new $v).texArray=new $m),this.drawCalls.push(i)),i.start=c,i.size=0,i.texArray.count=0,i.type=l),p.touched=1,p._batchEnabled=e,p._batchLocation=a,p.wrapMode=Jd.REPEAT,i.texArray.elements[i.texArray.count++]=p,a++)),i.size+=h.size,c+=h.size,s=p._batchLocation,this.addColors(n,d.color,d.alpha,h.attribSize,h.attribStart),this.addTextureIds(r,s,h.attribSize,h.attribStart)}Zv._globalBatch=e,this.packAttributes()}},{key:"packAttributes",value:function(){for(var e=this.points,t=this.uvs,n=this.colors,r=this.textureIds,i=new ArrayBuffer(3*e.length*4),a=new Float32Array(i),o=new Uint32Array(i),s=0,u=0;u<e.length/2;u++)a[s++]=e[2*u],a[s++]=e[2*u+1],a[s++]=t[2*u],a[s++]=t[2*u+1],o[s++]=n[u],a[s++]=r[u];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}},{key:"processFill",value:function(e){e.holes.length?Yx.triangulate(e,this):sk[e.type].triangulate(e,this)}},{key:"processLine",value:function(e){ik(e,this);for(var t=0;t<e.holes.length;t++)ik(e.holes[t],this)}},{key:"processHoles",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];sk[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}},{key:"calculateBounds",value:function(){var e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}},{key:"transformPoints",value:function(e,t){for(var n=0;n<e.length/2;n++){var r=e[2*n],i=e[2*n+1];e[2*n]=t.a*r+t.c*i+t.tx,e[2*n+1]=t.b*r+t.d*i+t.ty}}},{key:"addColors",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=pv.shared.setValue(t).toLittleEndianNumber(),o=pv.shared.setValue(a).toPremultiplied(n);e.length=Math.max(e.length,i+r);for(var s=0;s<r;s++)e[i+s]=o}},{key:"addTextureIds",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;e.length=Math.max(e.length,r+n);for(var i=0;i<n;i++)e[r+i]=t}},{key:"addUvs",value:function(e,t,n,r,i){for(var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=0,s=t.length,u=n.frame;o<i;){var l=e[2*(r+o)],c=e[2*(r+o)+1];if(a){var f=a.a*l+a.c*c+a.tx;c=a.b*l+a.d*c+a.ty,l=f}o++,t.push(l/u.width,c/u.height)}var h=n.baseTexture;(u.width<h.width||u.height<h.height)&&this.adjustUvs(t,n,s,i)}},{key:"adjustUvs",value:function(e,t,n,r){for(var i=t.baseTexture,a=1e-6,o=n+2*r,s=t.frame,u=s.width/i.width,l=s.height/i.height,c=s.x/s.width,f=s.y/s.height,h=Math.floor(e[n]+a),d=Math.floor(e[n+1]+a),p=n+2;p<o;p+=2)h=Math.min(h,Math.floor(e[p]+a)),d=Math.min(d,Math.floor(e[p+1]+a));c-=h,f-=d;for(var v=n;v<o;v+=2)e[v]=(e[v]+c)*u,e[v+1]=(e[v+1]+f)*l}}]),n}(sm),pk=dk;pk.BATCHABLE_SIZE=100;var vk=function(){function e(){U(this,e),this.color=16777215,this.alpha=1,this.texture=vg.WHITE,this.matrix=null,this.visible=!1,this.reset()}return V(e,[{key:"clone",value:function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t}},{key:"reset",value:function(){this.color=16777215,this.alpha=1,this.texture=vg.WHITE,this.matrix=null,this.visible=!1}},{key:"destroy",value:function(){this.texture=null,this.matrix=null}}]),e}(),mk=function(e){X(n,e);var t=K(n);function n(){var e;return U(this,n),(e=t.apply(this,arguments)).width=0,e.alignment=.5,e.native=!1,e.cap=$x.BUTT,e.join=Zx.MITER,e.miterLimit=10,e}return V(n,[{key:"clone",value:function(){var e=new n;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}},{key:"reset",value:function(){G(W(n.prototype),"reset",this).call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}]),n}(vk),gk={},yk=function(e){X(n,e);var t=K(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return U(this,n),(e=t.call(this)).shader=null,e.pluginName="batch",e.currentPath=null,e.batches=[],e.batchTint=-1,e.batchDirty=-1,e.vertexData=null,e._fillStyle=new vk,e._lineStyle=new mk,e._matrix=null,e._holeMode=!1,e.state=Hv.for2d(),e._geometry=r||new pk,e._geometry.refCount++,e._transformID=-1,e._tintColor=new pv(16777215),e.blendMode=qd.NORMAL,e}return V(n,[{key:"geometry",get:function(){return this._geometry}},{key:"clone",value:function(){return this.finishPoly(),new n(this._geometry)}},{key:"blendMode",get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e}},{key:"tint",get:function(){return this._tintColor.value},set:function(e){this._tintColor.setValue(e)}},{key:"fill",get:function(){return this._fillStyle}},{key:"line",get:function(){return this._lineStyle}},{key:"lineStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"number"===typeof e&&(e={width:e,color:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,alpha:arguments.length>2?arguments[2]:void 0,alignment:arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,native:arguments.length>4&&void 0!==arguments[4]&&arguments[4]}),this.lineTextureStyle(e)}},{key:"lineTextureStyle",value:function(e){var t,n={width:0,texture:vg.WHITE,color:null!==(t=e)&&void 0!==t&&t.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:$x.BUTT,join:Zx.MITER,miterLimit:10};e=Object.assign(n,e),this.normalizeColor(e),this.currentPath&&this.startPoly();var r=e.width>0&&e.alpha>0;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:r},e)):this._lineStyle.reset(),this}},{key:"startPoly",value:function(){if(this.currentPath){var e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new gm,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new gm,this.currentPath.closeStroke=!1}},{key:"finishPoly",value:function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}},{key:"moveTo",value:function(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this}},{key:"lineTo",value:function(e,t){this.currentPath||this.moveTo(0,0);var n=this.currentPath.points,r=n[n.length-2],i=n[n.length-1];return r===e&&i===t||n.push(e,t),this}},{key:"_initCurve",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,t]):this.moveTo(e,t)}},{key:"quadraticCurveTo",value:function(e,t,n,r){this._initCurve();var i=this.currentPath.points;return 0===i.length&&this.moveTo(0,0),ok.curveTo(e,t,n,r,i),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){return this._initCurve(),tk.curveTo(e,t,n,r,i,a,this.currentPath.points),this}},{key:"arcTo",value:function(e,t,n,r,i){this._initCurve(e,t);var a=this.currentPath.points,o=ek.curveTo(e,t,n,r,i,a);if(o){var s=o.cx,u=o.cy,l=o.radius,c=o.startAngle,f=o.endAngle,h=o.anticlockwise;this.arc(s,u,l,c,f,h)}return this}},{key:"arc",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(r===i)return this;if(!a&&i<=r?i+=um:a&&r<=i&&(r+=um),0===i-r)return this;var o=e+Math.cos(r)*n,s=t+Math.sin(r)*n,u=this._geometry.closePointEps,l=this.currentPath?this.currentPath.points:null;if(l){var c=Math.abs(l[l.length-2]-o),f=Math.abs(l[l.length-1]-s);c<u&&f<u||l.push(o,s)}else this.moveTo(o,s),l=this.currentPath.points;return ek.arc(o,s,e,t,n,r,i,a,l),this}},{key:"beginFill",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return this.beginTextureFill({texture:vg.WHITE,color:e,alpha:t})}},{key:"normalizeColor",value:function(e){var t,n,r=pv.shared.setValue(null!==(t=e.color)&&void 0!==t?t:0);e.color=r.toNumber(),null!==(n=e.alpha)&&void 0!==n||(e.alpha=r.alpha)}},{key:"beginTextureFill",value:function(e){var t={texture:vg.WHITE,color:16777215,matrix:null};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();var n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}},{key:"endFill",value:function(){return this.finishPoly(),this._fillStyle.reset(),this}},{key:"drawRect",value:function(e,t,n,r){return this.drawShape(new pm(e,t,n,r))}},{key:"drawRoundedRect",value:function(e,t,n,r,i){return this.drawShape(new ym(e,t,n,r,i))}},{key:"drawCircle",value:function(e,t,n){return this.drawShape(new vm(e,t,n))}},{key:"drawEllipse",value:function(e,t,n,r){return this.drawShape(new mm(e,t,n,r))}},{key:"drawPolygon",value:function(){for(var e,t=!0,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r[0];a.points?(t=a.closeStroke,e=a.points):e=Array.isArray(r[0])?r[0]:r;var o=new gm(e);return o.closeStroke=t,this.drawShape(o),this}},{key:"drawShape",value:function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}},{key:"clear",value:function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}},{key:"isFastRect",value:function(){var e=this._geometry.graphicsData;return 1===e.length&&e[0].shape.type===fm.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}},{key:"_render",value:function(e){this.finishPoly();var t=this._geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}},{key:"_populateBatches",value:function(){var e=this._geometry,t=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(var r=0;r<n;r++){var i=e.batches[r],a=i.style.color,o=new Float32Array(this.vertexData.buffer,4*i.attribStart*2,2*i.attribSize),s=new Float32Array(e.uvsFloat32.buffer,4*i.attribStart*2,2*i.attribSize),u={vertexData:o,blendMode:t,indices:new Uint16Array(e.indicesUint16.buffer,2*i.start,i.size),uvs:s,_batchRGB:pv.shared.setValue(a).toRgbArray(),_tintRGB:a,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[r]=u}}},{key:"_renderBatched",value:function(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var t=0,n=this.batches.length;t<n;t++){var r=this.batches[t];r.worldAlpha=this.worldAlpha*r.alpha,e.plugins[this.pluginName].render(r)}}}},{key:"_renderDirect",value:function(e){var t=this._resolveDirectShader(e),n=this._geometry,r=this.worldAlpha,i=t.uniforms,a=n.drawCalls;i.translationMatrix=this.transform.worldTransform,pv.shared.setValue(this._tintColor).premultiply(r).toArray(i.tint),e.shader.bind(t),e.geometry.bind(n,t),e.state.set(this.state);for(var o=0,s=a.length;o<s;o++)this._renderDrawCallDirect(e,n.drawCalls[o])}},{key:"_renderDrawCallDirect",value:function(e,t){for(var n=t.texArray,r=t.type,i=t.size,a=t.start,o=n.count,s=0;s<o;s++)e.texture.bind(n.elements[s],s);e.geometry.draw(r,i,a)}},{key:"_resolveDirectShader",value:function(e){var t=this.shader,n=this.pluginName;if(!t){if(!gk[n]){for(var r=e.plugins[n].maxTextures,i=new Int32Array(r),a=0;a<r;a++)i[a]=a;var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new bm,default:Qm.from({uSamplers:i},!0)},s=e.plugins[n]._shader.program;gk[n]=new Km(s,o)}t=gk[n]}return t}},{key:"_calculateBounds",value:function(){this.finishPoly();var e=this._geometry;if(e.graphicsData.length){var t=e.bounds,n=t.minX,r=t.minY,i=t.maxX,a=t.maxY;this._bounds.addFrame(this.transform,n,r,i,a)}}},{key:"containsPoint",value:function(e){return this.worldTransform.applyInverse(e,n._TEMP_POINT),this._geometry.containsPoint(n._TEMP_POINT)}},{key:"calculateTints",value:function(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(var e=0;e<this.batches.length;e++){var t=this.batches[e];t._tintRGB=pv.shared.setValue(this._tintColor).multiply(t._batchRGB).toLittleEndianNumber()}}}},{key:"calculateVertices",value:function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var t=this.transform.worldTransform,n=t.a,r=t.b,i=t.c,a=t.d,o=t.tx,s=t.ty,u=this._geometry.points,l=this.vertexData,c=0,f=0;f<u.length;f+=2){var h=u[f],d=u[f+1];l[c++]=n*h+i*d+o,l[c++]=a*d+r*h+s}}}},{key:"closePath",value:function(){var e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}},{key:"setMatrix",value:function(e){return this._matrix=e,this}},{key:"beginHole",value:function(){return this.finishPoly(),this._holeMode=!0,this}},{key:"endHole",value:function(){return this.finishPoly(),this._holeMode=!1,this}},{key:"destroy",value:function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,G(W(n.prototype),"destroy",this).call(this,e)}}]),n}(nb),bk=yk;bk.curves=Jx,bk._TEMP_POINT=new hm;var _k=function(){function e(t,n){U(this,e),this.uvBuffer=t,this.uvMatrix=n,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return V(e,[{key:"update",value:function(e){if(e||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var t=this.uvBuffer.data;this.data&&this.data.length===t.length||(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}}}]),e}(),xk=new hm,kk=new gm,wk=function(e){X(n,e);var t=K(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Xd.TRIANGLES;return U(this,n),(a=t.call(this)).geometry=e,a.shader=r,a.state=i||Hv.for2d(),a.drawMode=o,a.start=0,a.size=0,a.uvs=null,a.indices=null,a.vertexData=new Float32Array(1),a.vertexDirty=-1,a._transformID=-1,a._roundPixels=lp.ROUND_PIXELS,a.batchUvs=null,a}return V(n,[{key:"geometry",get:function(){return this._geometry},set:function(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}},{key:"uvBuffer",get:function(){return this.geometry.buffers[1]}},{key:"verticesBuffer",get:function(){return this.geometry.buffers[0]}},{key:"material",get:function(){return this.shader},set:function(e){this.shader=e}},{key:"blendMode",get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e}},{key:"roundPixels",get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}},{key:"tint",get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(e){this.shader.tint=e}},{key:"tintValue",get:function(){return this.shader.tintValue}},{key:"texture",get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(e){this.shader.texture=e}},{key:"_render",value:function(e){var t=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Xd.TRIANGLES&&t.length<2*n.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)}},{key:"_renderDefault",value:function(e){var t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}},{key:"_renderToBatch",value:function(e){var t=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;var r=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[r]),e.plugins[r].render(this)}},{key:"calculateVertices",value:function(){var e=this.geometry.buffers[0],t=e.data,n=e._updateID;if(n!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));for(var r=this.transform.worldTransform,i=r.a,a=r.b,o=r.c,s=r.d,u=r.tx,l=r.ty,c=this.vertexData,f=0;f<c.length/2;f++){var h=t[2*f],d=t[2*f+1];c[2*f]=i*h+o*d+u,c[2*f+1]=a*h+s*d+l}if(this._roundPixels)for(var p=lp.RESOLUTION,v=0;v<c.length;++v)c[v]=Math.round(c[v]*p)/p;this.vertexDirty=n}}},{key:"calculateUvs",value:function(){var e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new _k(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}},{key:"_calculateBounds",value:function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}},{key:"containsPoint",value:function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,xk);for(var t=this.geometry.getBuffer("aVertexPosition").data,n=kk.points,r=this.geometry.getIndex().data,i=r.length,a=4===this.drawMode?3:1,o=0;o+2<i;o+=a){var s=2*r[o],u=2*r[o+1],l=2*r[o+2];if(n[0]=t[s],n[1]=t[s+1],n[2]=t[u],n[3]=t[u+1],n[4]=t[l],n[5]=t[l+1],kk.contains(xk.x,xk.y))return!0}return!1}},{key:"destroy",value:function(e){G(W(n.prototype),"destroy",this).call(this,e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}}]),n}(nb),Sk=wk;Sk.BATCHABLE_SIZE=100;var Tk=function(e){X(n,e);var t=K(n);function n(e,r,i){var a;U(this,n),a=t.call(this);var o=new em(e),s=new em(r,!0),u=new em(i,!0,!0);return a.addAttribute("aVertexPosition",o,2,!1,Kd.FLOAT).addAttribute("aTextureCoord",s,2,!1,Kd.FLOAT).addIndex(u),a._updateId=-1,a}return V(n,[{key:"vertexDirtyId",get:function(){return this.buffers[0]._updateID}}]),n}(om),Ek=function(e){X(n,e);var t=K(n);function n(e,r){var i;U(this,n);var a={uSampler:e,alpha:1,uTextureMatrix:bm.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r)).uniforms&&Object.assign(a,r.uniforms),(i=t.call(this,r.program||Xm.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),a))._colorDirty=!1,i.uvMatrix=new Ig(e),i.batchable=void 0===r.program,i.pluginName=r.pluginName,i._tintColor=new pv(r.tint),i._tintRGB=i._tintColor.toLittleEndianNumber(),i._colorDirty=!0,i.alpha=r.alpha,i}return V(n,[{key:"texture",get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!==!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}},{key:"alpha",get:function(){return this._alpha},set:function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}},{key:"tint",get:function(){return this._tintColor.value},set:function(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}},{key:"tintValue",get:function(){return this._tintColor.toNumber()}},{key:"update",value:function(){if(this._colorDirty){this._colorDirty=!1;var e=this.texture.baseTexture.alphaMode;pv.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}]),n}(Km),Ck=function(e){X(n,e);var t=K(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return U(this,n),(e=t.call(this)).segWidth=a,e.segHeight=o,e.width=r,e.height=i,e.build(),e}return V(n,[{key:"build",value:function(){for(var e=this.segWidth*this.segHeight,t=[],n=[],r=[],i=this.segWidth-1,a=this.segHeight-1,o=this.width/i,s=this.height/a,u=0;u<e;u++){var l=u%this.segWidth,c=u/this.segWidth|0;t.push(l*o,c*s),n.push(l/i,c/a)}for(var f=i*a,h=0;h<f;h++){var d=h%i,p=h/i|0,v=p*this.segWidth+d,m=p*this.segWidth+d+1,g=(p+1)*this.segWidth+d,y=(p+1)*this.segWidth+d+1;r.push(v,m,g,m,y,g)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(r),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}]),n}(Tk),Ak=function(e){X(n,e);var t=K(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return U(this,n),(e=t.call(this,new Float32Array(4*i.length),new Float32Array(4*i.length),new Uint16Array(6*(i.length-1)))).points=i,e._width=r,e.textureScale=a,e.build(),e}return V(n,[{key:"width",get:function(){return this._width}},{key:"build",value:function(){var e=this.points;if(e){var t=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),r=this.getIndex();if(!(e.length<1)){t.data.length/4!==e.length&&(t.data=new Float32Array(4*e.length),n.data=new Float32Array(4*e.length),r.data=new Uint16Array(6*(e.length-1)));var i=n.data,a=r.data;i[0]=0,i[1]=0,i[2]=0,i[3]=1;for(var o=0,s=e[0],u=this._width*this.textureScale,l=e.length,c=0;c<l;c++){var f=4*c;if(this.textureScale>0){var h=s.x-e[c].x,d=s.y-e[c].y,p=Math.sqrt(h*h+d*d);s=e[c],o+=p/u}else o=c/(l-1);i[f]=o,i[f+1]=0,i[f+2]=o,i[f+3]=1}for(var v=0,m=0;m<l-1;m++){var g=2*m;a[v++]=g,a[v++]=g+1,a[v++]=g+2,a[v++]=g+2,a[v++]=g+1,a[v++]=g+3}n.update(),r.update(),this.updateVertices()}}}},{key:"updateVertices",value:function(){var e=this.points;if(!(e.length<1)){for(var t,n=e[0],r=0,i=0,a=this.buffers[0].data,o=e.length,s=this.textureScale>0?this.textureScale*this._width/2:this._width/2,u=0;u<o;u++){var l=e[u],c=4*u;i=-((t=u<e.length-1?e[u+1]:l).x-n.x),r=t.y-n.y;var f=10*(1-u/(o-1));f>1&&(f=1);var h=Math.sqrt(r*r+i*i);h<1e-6?(r=0,i=0):(r/=h,i/=h,r*=s,i*=s),a[c]=l.x+r,a[c+1]=l.y+i,a[c+2]=l.x-r,a[c+3]=l.y-i,n=l}this.buffers[0].update()}}},{key:"update",value:function(){this.textureScale>0?this.build():this.updateVertices()}}]),n}(Tk),Pk=function(e){X(n,e);var t=K(n);function n(e,r,i){var a;U(this,n);var o=new Ck(e.width,e.height,r,i),s=new Ek(vg.WHITE);return(a=t.call(this,o,s)).texture=e,a.autoResize=!0,a}return V(n,[{key:"textureUpdated",value:function(){this._textureID=this.shader.texture._updateID;var e=this.geometry,t=this.shader.texture,n=t.width,r=t.height;!this.autoResize||e.width===n&&e.height===r||(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}},{key:"texture",get:function(){return this.shader.texture},set:function(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}},{key:"_render",value:function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),G(W(n.prototype),"_render",this).call(this,e)}},{key:"destroy",value:function(e){this.shader.texture.off("update",this.textureUpdated,this),G(W(n.prototype),"destroy",this).call(this,e)}}]),n}(Sk),Ik=function(e){X(n,e);var t=K(n);function n(e,r,i,a,o){var s,u,l,c,f,h,d,p,v;return U(this,n),(v=t.call(this,vg.WHITE,4,4))._origWidth=e.orig.width,v._origHeight=e.orig.height,v._width=v._origWidth,v._height=v._origHeight,v._leftWidth=null!==(s=null!==r&&void 0!==r?r:null===(u=e.defaultBorders)||void 0===u?void 0:u.left)&&void 0!==s?s:10,v._rightWidth=null!==(l=null!==a&&void 0!==a?a:null===(c=e.defaultBorders)||void 0===c?void 0:c.right)&&void 0!==l?l:10,v._topHeight=null!==(f=null!==i&&void 0!==i?i:null===(h=e.defaultBorders)||void 0===h?void 0:h.top)&&void 0!==f?f:10,v._bottomHeight=null!==(d=null!==o&&void 0!==o?o:null===(p=e.defaultBorders)||void 0===p?void 0:p.bottom)&&void 0!==d?d:10,v.texture=e,v}return V(n,[{key:"textureUpdated",value:function(){this._textureID=this.shader.texture._updateID,this._refresh()}},{key:"vertices",get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e}},{key:"updateHorizontalVertices",value:function(){var e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height}},{key:"updateVerticalVertices",value:function(){var e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width}},{key:"_getMinScale",value:function(){var e=this._leftWidth+this._rightWidth,t=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,r=this._height>n?1:this._height/n;return Math.min(t,r)}},{key:"width",get:function(){return this._width},set:function(e){this._width=e,this._refresh()}},{key:"height",get:function(){return this._height},set:function(e){this._height=e,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()}},{key:"_refresh",value:function(){var e=this.texture,t=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var n=1/this._origWidth,r=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=n*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-n*this._rightWidth,t[9]=t[11]=t[13]=t[15]=r*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-r*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}]),n}(Pk),Ok=function(e){X(n,e);var t=K(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vg.EMPTY,i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;U(this,n);var u=new Tk(i,a,o);u.getBuffer("aVertexPosition").static=!1;var l=new Ek(r);return(e=t.call(this,u,l,null,s)).autoUpdate=!0,e}return V(n,[{key:"vertices",get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e}},{key:"_render",value:function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),G(W(n.prototype),"_render",this).call(this,e)}}]),n}(Sk),Mk=function(e){X(n,e);var t=K(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;U(this,n);var o=new Ak(e.height,r,a),s=new Ek(e);return a>0&&(e.baseTexture.wrapMode=Jd.REPEAT),(i=t.call(this,o,s)).autoUpdate=!0,i}return V(n,[{key:"_render",value:function(e){var t=this.geometry;(this.autoUpdate||t._width!==this.shader.texture.height)&&(t._width=this.shader.texture.height,t.update()),G(W(n.prototype),"_render",this).call(this,e)}}]),n}(Sk),Rk=function(){function e(t){U(this,e),this.maxItemsPerFrame=t,this.itemsLeft=0}return V(e,[{key:"beginFrame",value:function(){this.itemsLeft=this.maxItemsPerFrame}},{key:"allowedToUpload",value:function(){return this.itemsLeft-- >0}}]),e}();function Nk(e,t){var n,r=!1;if(null!==e&&void 0!==e&&null!==(n=e._textures)&&void 0!==n&&n.length)for(var i=0;i<e._textures.length;i++)if(e._textures[i]instanceof vg){var a=e._textures[i].baseTexture;t.includes(a)||(t.push(a),r=!0)}return r}function Dk(e,t){if(e.baseTexture instanceof Zv){var n=e.baseTexture;return t.includes(n)||t.push(n),!0}return!1}function Bk(e,t){if(e._texture&&e._texture instanceof vg){var n=e._texture.baseTexture;return t.includes(n)||t.push(n),!0}return!1}function Lk(e,t){return t instanceof Ab&&(t.updateText(!0),!0)}function jk(e,t){if(t instanceof wb){var n=t.toFontString();return _b.measureFont(n),!0}return!1}function Fk(e,t){if(e instanceof Ab){t.includes(e.style)||t.push(e.style),t.includes(e)||t.push(e);var n=e._texture.baseTexture;return t.includes(n)||t.push(n),!0}return!1}function Uk(e,t){return e instanceof wb&&(t.includes(e)||t.push(e),!0)}var zk=function(){function e(t){var n=this;U(this,e),this.limiter=new Rk(e.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){n.queue&&n.prepareItems()},this.registerFindHook(Fk),this.registerFindHook(Uk),this.registerFindHook(Nk),this.registerFindHook(Dk),this.registerFindHook(Bk),this.registerUploadHook(Lk),this.registerUploadHook(jk)}return V(e,[{key:"upload",value:function(e){var t=this;return new Promise((function(n){e&&t.add(e),t.queue.length?(t.completes.push(n),t.ticking||(t.ticking=!0,xy.system.addOnce(t.tick,t,yy.UTILITY))):n()}))}},{key:"tick",value:function(){setTimeout(this.delayedTick,0)}},{key:"prepareItems",value:function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],t=!1;if(e&&!e._destroyed)for(var n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}t||this.queue.shift()}if(this.queue.length)xy.system.addOnce(this.tick,this,yy.UTILITY);else{this.ticking=!1;var i=this.completes.slice(0);this.completes.length=0;for(var a=0,o=i.length;a<o;a++)i[a]()}}},{key:"registerFindHook",value:function(e){return e&&this.addHooks.push(e),this}},{key:"registerUploadHook",value:function(e){return e&&this.uploadHooks.push(e),this}},{key:"add",value:function(e){for(var t=0,n=this.addHooks.length;t<n&&!this.addHooks[t](e,this.queue);t++);if(e instanceof nb)for(var r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this}},{key:"destroy",value:function(){this.ticking&&xy.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}}]),e}(),Vk=zk;function Hk(e,t){return t instanceof Zv&&(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0)}function Wk(e,t){if(!(t instanceof bk))return!1;var n=t.geometry;t.finishPoly(),n.updateBatches();for(var r=n.batches,i=0;i<r.length;i++){var a=r[i].style.texture;a&&Hk(e,a.baseTexture)}return n.batchable||e.geometry.bind(n,t._resolveDirectShader(e)),!0}function Gk(e,t){return e instanceof bk&&(t.push(e),!0)}Vk.uploadsPerFrame=4,Object.defineProperties(lp,{UPLOADS_PER_FRAME:{get:function(){return Vk.uploadsPerFrame},set:function(e){Lp("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),Vk.uploadsPerFrame=e}}});var qk=function(e){X(n,e);var t=K(n);function n(e){var r;return U(this,n),(r=t.call(this,e)).uploadHookHelper=r.renderer,r.registerFindHook(Gk),r.registerUploadHook(Hk),r.registerUploadHook(Wk),r}return V(n)}(Vk);qk.extension={name:"prepare",type:Bv.RendererSystem},Fv.add(qk);var Xk=function(e){X(n,e);var t=K(n);function n(e){var r,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return U(this,n),(r=t.call(this,e[0]instanceof vg?e[0]:e[0].texture))._textures=null,r._durations=null,r._autoUpdate=i,r._isConnectedToTicker=!1,r.animationSpeed=1,r.loop=!0,r.updateAnchor=!1,r.onComplete=null,r.onFrameChange=null,r.onLoop=null,r._currentTime=0,r._playing=!1,r._previousFrame=null,r.textures=e,r}return V(n,[{key:"stop",value:function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(xy.shared.remove(this.update,this),this._isConnectedToTicker=!1))}},{key:"play",value:function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(xy.shared.add(this.update,this,yy.HIGH),this._isConnectedToTicker=!0))}},{key:"gotoAndStop",value:function(e){this.stop(),this.currentFrame=e}},{key:"gotoAndPlay",value:function(e){this.currentFrame=e,this.play()}},{key:"update",value:function(e){if(this._playing){var t=this.animationSpeed*e,n=this.currentFrame;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=t/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}}},{key:"updateTexture",value:function(){var e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}},{key:"destroy",value:function(e){this.stop(),G(W(n.prototype),"destroy",this).call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}},{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(e){if(e[0]instanceof vg)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e},set:function(e){if(e<0||e>this.totalFrames-1)throw new Error("[AnimatedSprite]: Invalid frame index value ".concat(e,", expected to be between 0 and totalFrames ").concat(this.totalFrames,"."));var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()}},{key:"playing",get:function(){return this._playing}},{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(xy.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(xy.shared.add(this.update,this),this._isConnectedToTicker=!0))}}],[{key:"fromFrames",value:function(e){for(var t=[],r=0;r<e.length;++r)t.push(vg.from(e[r]));return new n(t)}},{key:"fromImages",value:function(e){for(var t=[],r=0;r<e.length;++r)t.push(vg.from(e[r]));return new n(t)}}]),n}(ab),Yk=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;U(this,e),this.linkedSheets=[],this._texture=t instanceof vg?t:null,this.baseTexture=t instanceof Zv?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=n;var i=this.baseTexture.resource;this.resolution=this._updateResolution(r||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return V(e,[{key:"_updateResolution",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.data.meta.scale,n=Dv(e,null);return null===n&&(n=parseFloat(null!==t&&void 0!==t?t:"1")),1!==n&&this.baseTexture.setResolution(n),n}},{key:"parse",value:function(){var t=this;return new Promise((function(n){t._callback=n,t._batchIndex=0,t._frameKeys.length<=e.BATCH_SIZE?(t._processFrames(0),t._processAnimations(),t._parseComplete()):t._nextBatch()}))}},{key:"_processFrames",value:function(t){for(var n=t,r=e.BATCH_SIZE;n-t<r&&n<this._frameKeys.length;){var i=this._frameKeys[n],a=this._frames[i],o=a.frame;if(o){var s=null,u=null,l=!1!==a.trimmed&&a.sourceSize?a.sourceSize:a.frame,c=new pm(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);s=a.rotated?new pm(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):new pm(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),!1!==a.trimmed&&a.spriteSourceSize&&(u=new pm(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new vg(this.baseTexture,s,c,u,a.rotated?2:0,a.anchor,a.borders),vg.addToCache(this.textures[i],i)}n++}}},{key:"_processAnimations",value:function(){var e=this.data.animations||{};for(var t in e){this.animations[t]=[];for(var n=0;n<e[t].length;n++){var r=e[t][n];this.animations[t].push(this.textures[r])}}}},{key:"_parseComplete",value:function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}},{key:"_nextBatch",value:function(){var t=this;this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout((function(){t._batchIndex*e.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())}),0)}},{key:"destroy",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var n in this.textures)this.textures[n].destroy();(this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t)&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy());this._texture=null,this.baseTexture=null,this.linkedSheets=[]}}]),e}(),Qk=Yk;Qk.BATCH_SIZE=1e3;var Kk=["jpg","png","jpeg","avif","webp"];function Zk(e,t,n){var r={};if(e.forEach((function(e){r[e]=t})),Object.keys(t.textures).forEach((function(e){r[e]=t.textures[e]})),!n){var i=Dp.dirname(e[0]);t.linkedSheets.forEach((function(e,n){var a=Zk(["".concat(i,"/").concat(t.data.meta.related_multi_packs[n])],e,!0);Object.assign(r,a)}))}return r}var $k={extension:Bv.Asset,cache:{test:function(e){return e instanceof Qk},getCacheableAssets:function(e,t){return Zk(e,t,!1)}},resolver:{test:function(e){var t=e.split("?")[0].split("."),n=t.pop(),r=t.pop();return"json"===n&&Kk.includes(r)},parse:function(e){var t,n,r=e.split(".");return{resolution:parseFloat(null!==(t=null===(n=lp.RETINA_PREFIX.exec(e))||void 0===n?void 0:n[1])&&void 0!==t?t:"1"),format:r[r.length-2],src:e}}},loader:{name:"spritesheetLoader",extension:{type:Bv.LoadParser,priority:d_.Normal},testParse:function(e,t){return Ge(qe.mark((function n(){return qe.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",".json"===Dp.extname(t.src).toLowerCase()&&!!e.frames);case 1:case"end":return n.stop()}}),n)})))()},parse:function(e,t,n){return Ge(qe.mark((function r(){var i,a,o,s,u,l,c,f,h,d,p,v,m,g;return qe.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(a=Dp.dirname(t.src))&&a.lastIndexOf("/")!==a.length-1&&(a+="/"),o=a+e.meta.image,o=Z_(o,t.src),r.next=6,n.load([o]);case 6:return s=r.sent,u=s[o],l=new Qk(u.baseTexture,e,t.src),r.next=11,l.parse();case 11:if(c=null===e||void 0===e||null===(i=e.meta)||void 0===i?void 0:i.related_multi_packs,!Array.isArray(c)){r.next=41;break}f=[],h=L(c),r.prev=15,h.s();case 17:if((d=h.n()).done){r.next=28;break}if("string"===typeof(v=d.value)){r.next=21;break}return r.abrupt("continue",26);case 21:if(m=a+v,null===(p=t.data)||void 0===p||!p.ignoreMultiPack){r.next=24;break}return r.abrupt("continue",26);case 24:m=Z_(m,t.src),f.push(n.load({src:m,data:{ignoreMultiPack:!0}}));case 26:r.next=17;break;case 28:r.next=33;break;case 30:r.prev=30,r.t0=r.catch(15),h.e(r.t0);case 33:return r.prev=33,h.f(),r.finish(33);case 36:return r.next=38,Promise.all(f);case 38:g=r.sent,l.linkedSheets=g,g.forEach((function(e){e.linkedSheets=[l].concat(l.linkedSheets.filter((function(t){return t!==e})))}));case 41:return r.abrupt("return",l);case 42:case"end":return r.stop()}}),r,null,[[15,30,33,36]])})))()},unload:function(e){e.destroy(!0)}}};Fv.add($k);var Jk=V((function e(){U(this,e),this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]})),ew=function(){function e(){U(this,e)}return V(e,null,[{key:"test",value:function(e){return"string"===typeof e&&e.startsWith("info face=")}},{key:"parse",value:function(e){var t=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var r in t){var i=t[r].match(/^[a-z]+/gm)[0],a=t[r].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),o={};for(var s in a){var u=a[s].split("="),l=u[0],c=u[1].replace(/"/gm,""),f=parseFloat(c),h=isNaN(f)?c:f;o[l]=h}n[i].push(o)}var d=new Jk;return n.info.forEach((function(e){return d.info.push({face:e.face,size:parseInt(e.size,10)})})),n.common.forEach((function(e){return d.common.push({lineHeight:parseInt(e.lineHeight,10)})})),n.page.forEach((function(e){return d.page.push({id:parseInt(e.id,10),file:e.file})})),n.char.forEach((function(e){return d.char.push({id:parseInt(e.id,10),page:parseInt(e.page,10),x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xoffset:parseInt(e.xoffset,10),yoffset:parseInt(e.yoffset,10),xadvance:parseInt(e.xadvance,10)})})),n.kerning.forEach((function(e){return d.kerning.push({first:parseInt(e.first,10),second:parseInt(e.second,10),amount:parseInt(e.amount,10)})})),n.distanceField.forEach((function(e){return d.distanceField.push({distanceRange:parseInt(e.distanceRange,10),fieldType:e.fieldType})})),d}}]),e}(),tw=function(){function e(){U(this,e)}return V(e,null,[{key:"test",value:function(e){var t=e;return"getElementsByTagName"in t&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")}},{key:"parse",value:function(e){for(var t=new Jk,n=e.getElementsByTagName("info"),r=e.getElementsByTagName("common"),i=e.getElementsByTagName("page"),a=e.getElementsByTagName("char"),o=e.getElementsByTagName("kerning"),s=e.getElementsByTagName("distanceField"),u=0;u<n.length;u++)t.info.push({face:n[u].getAttribute("face"),size:parseInt(n[u].getAttribute("size"),10)});for(var l=0;l<r.length;l++)t.common.push({lineHeight:parseInt(r[l].getAttribute("lineHeight"),10)});for(var c=0;c<i.length;c++)t.page.push({id:parseInt(i[c].getAttribute("id"),10)||0,file:i[c].getAttribute("file")});for(var f=0;f<a.length;f++){var h=a[f];t.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(var d=0;d<o.length;d++)t.kerning.push({first:parseInt(o[d].getAttribute("first"),10),second:parseInt(o[d].getAttribute("second"),10),amount:parseInt(o[d].getAttribute("amount"),10)});for(var p=0;p<s.length;p++)t.distanceField.push({fieldType:s[p].getAttribute("fieldType"),distanceRange:parseInt(s[p].getAttribute("distanceRange"),10)});return t}}]),e}(),nw=function(){function e(){U(this,e)}return V(e,null,[{key:"test",value:function(e){return!("string"!==typeof e||!e.includes("<font>"))&&tw.test(lp.ADAPTER.parseXML(e))}},{key:"parse",value:function(e){return tw.parse(lp.ADAPTER.parseXML(e))}}]),e}(),rw=[ew,tw,nw];function iw(e,t,n,r,i,a,o){var s=n.text,u=n.fontProperties;t.translate(r,i),t.scale(a,a);var l=o.strokeThickness/2,c=-o.strokeThickness/2;if(t.font=o.toFontString(),t.lineWidth=o.strokeThickness,t.textBaseline=o.textBaseline,t.lineJoin=o.lineJoin,t.miterLimit=o.miterLimit,t.fillStyle=function(e,t,n,r,i,a){var o,s=n.fill;if(!Array.isArray(s))return s;if(1===s.length)return s[0];var u=n.dropShadow?n.dropShadowDistance:0,l=n.padding||0,c=e.width/r-u-2*l,f=e.height/r-u-2*l,h=s.slice(),d=n.fillGradientStops.slice();if(!d.length)for(var p=h.length+1,v=1;v<p;++v)d.push(v/p);if(h.unshift(s[0]),d.unshift(0),h.push(s[s.length-1]),d.push(1),n.fillGradientType===gb.LINEAR_VERTICAL){o=t.createLinearGradient(c/2,l,c/2,f+l);for(var m=0,g=(a.fontProperties.fontSize+n.strokeThickness)/f,y=0;y<i.length;y++)for(var b=a.lineHeight*y,_=0;_<h.length;_++){var x=b/f+("number"===typeof d[_]?d[_]:_/h.length)*g,k=Math.max(m,x);k=Math.min(k,1),o.addColorStop(k,h[_]),m=k}}else{o=t.createLinearGradient(l,f/2,c+l,f/2);for(var w=h.length+1,S=1,T=0;T<h.length;T++){var E=void 0;E="number"===typeof d[T]?d[T]:S/w,o.addColorStop(E,h[T]),S++}}return o}(e,t,o,a,[s],n),t.strokeStyle=o.stroke,o.dropShadow){var f=o.dropShadowColor,h=o.dropShadowBlur*a,d=o.dropShadowDistance*a;t.shadowColor=pv.shared.setValue(f).setAlpha(o.dropShadowAlpha).toRgbaString(),t.shadowBlur=h,t.shadowOffsetX=Math.cos(o.dropShadowAngle)*d,t.shadowOffsetY=Math.sin(o.dropShadowAngle)*d}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;o.stroke&&o.strokeThickness&&t.strokeText(s,l,c+n.lineHeight-u.descent),o.fill&&t.fillText(s,l,c+n.lineHeight-u.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function aw(e){return Array.from?Array.from(e):e.split("")}function ow(e){return e.codePointAt?e.codePointAt(0):e.charCodeAt(0)}var sw=["chars","padding","resolution","textureWidth","textureHeight"],uw=function(){function e(t,n,r){var i,a;U(this,e);var o=p(t.info,1)[0],s=p(t.common,1)[0],u=p(t.page,1)[0],l=p(t.distanceField,1)[0],c=Dv(u.file),f={};this._ownsTextures=r,this.font=o.face,this.size=o.size,this.lineHeight=s.lineHeight/c,this.chars={},this.pageTextures=f;for(var h=0;h<t.page.length;h++){var d=t.page[h],v=d.id,m=d.file;f[v]=n instanceof Array?n[h]:n[m],null!==l&&void 0!==l&&l.fieldType&&"none"!==l.fieldType&&(f[v].baseTexture.alphaMode=tp.NO_PREMULTIPLIED_ALPHA,f[v].baseTexture.mipmap=ep.OFF)}for(var g=0;g<t.char.length;g++){var y=t.char[g],b=y.id,_=y.page,x=t.char[g],k=x.x,w=x.y,S=x.width,T=x.height,E=x.xoffset,C=x.yoffset,A=x.xadvance;w/=c,S/=c,T/=c,E/=c,C/=c,A/=c;var P=new pm((k/=c)+f[_].frame.x/c,w+f[_].frame.y/c,S,T);this.chars[b]={xOffset:E,yOffset:C,xAdvance:A,kerning:{},texture:new vg(f[_].baseTexture,P),page:_}}for(var I=0;I<t.kerning.length;I++){var O=t.kerning[I],M=O.first,R=O.second,N=O.amount;M/=c,R/=c,N/=c,this.chars[R]&&(this.chars[R].kerning[M]=N)}this.distanceFieldRange=null===l||void 0===l?void 0:l.distanceRange,this.distanceFieldType=null!==(i=null===l||void 0===l||null===(a=l.fieldType)||void 0===a?void 0:a.toLowerCase())&&void 0!==i?i:"none"}return V(e,[{key:"destroy",value:function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}}],[{key:"install",value:function(t,n,r){var i;if(t instanceof Jk)i=t;else{var a=function(e){for(var t=0;t<rw.length;t++)if(rw[t].test(e))return rw[t];return null}(t);if(!a)throw new Error("Unrecognized data format for font.");i=a.parse(t)}n instanceof vg&&(n=[n]);var o=new e(i,n,r);return e.available[o.font]=o,o}},{key:"uninstall",value:function(t){var n=e.available[t];if(!n)throw new Error("No font found named '".concat(t,"'"));n.destroy(),delete e.available[t]}},{key:"from",value:function(t,n,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},e.defaultOptions,r),a=i.chars,s=i.padding,u=i.resolution,l=i.textureWidth,c=i.textureHeight,h=Qa(i,sw),d=function(e){"string"===typeof e&&(e=[e]);for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];if(Array.isArray(i)){if(2!==i.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got ".concat(i.length,"."));var a=i[0].charCodeAt(0),s=i[1].charCodeAt(0);if(s<a)throw new Error("[BitmapFont]: Invalid character range.");for(var u=a,l=s;u<=l;u++)t.push(String.fromCharCode(u))}else t.push.apply(t,o(aw(i)))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}(a),p=n instanceof wb?n:new wb(n),v=l,m=new Jk;m.info[0]={face:p.fontFamily,size:p.fontSize},m.common[0]={lineHeight:p.fontSize};for(var g,y,b,_=0,x=0,k=0,w=[],S=[],T=0;T<d.length;T++){g||((g=lp.ADAPTER.createCanvas()).width=l,g.height=c,y=g.getContext("2d"),b=new Zv(g,f({resolution:u},h)),w.push(b),S.push(new vg(b)),m.page.push({id:S.length-1,file:""}));var E=d[T],C=_b.measureText(E,p,!1,g),A=C.width,P=Math.ceil(C.height),I=Math.ceil(("italic"===p.fontStyle?2:1)*A);if(x>=c-P*u){if(0===x)throw new Error("[BitmapFont] textureHeight ".concat(c,"px is too small (fontFamily: '").concat(p.fontFamily,"', fontSize: ").concat(p.fontSize,"px, char: '").concat(E,"')"));--T,g=null,y=null,b=null,x=0,_=0,k=0}else if(k=Math.max(P+C.fontProperties.descent,k),I*u+_>=v){if(0===_)throw new Error("[BitmapFont] textureWidth ".concat(l,"px is too small (fontFamily: '").concat(p.fontFamily,"', fontSize: ").concat(p.fontSize,"px, char: '").concat(E,"')"));--T,x+=k*u,x=Math.ceil(x),_=0,k=0}else{iw(g,y,C,_,x,u,p);var O=ow(C.text);m.char.push({id:O,page:S.length-1,x:_/u,y:x/u,width:I,height:P,xoffset:0,yoffset:0,xadvance:A-(p.dropShadow?p.dropShadowDistance:0)-(p.stroke?p.strokeThickness:0)}),_+=(I+2*s)*u,_=Math.ceil(_)}}for(var M=0,R=d.length;M<R;M++)for(var N=d[M],D=0;D<R;D++){var B=d[D],L=y.measureText(N).width,j=y.measureText(B).width,F=y.measureText(N+B).width-(L+j);F&&m.kerning.push({first:ow(N),second:ow(B),amount:F})}var U=new e(m,S,!0);return void 0!==e.available[t]&&e.uninstall(t),e.available[t]=U,U}}]),e}(),lw=uw;lw.ALPHA=[["a","z"],["A","Z"]," "],lw.NUMERIC=[["0","9"]],lw.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],lw.ASCII=[[" ","~"]],lw.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:uw.ALPHANUMERIC},lw.available={};var cw=[],fw=[],hw=[],dw=function(e){X(n,e);var t=K(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};U(this,n),r=t.call(this);var a=Object.assign({},n.styleDefaults,i),o=a.align,s=a.tint,u=a.maxWidth,l=a.letterSpacing,c=a.fontName,f=a.fontSize;if(!lw.available[c])throw new Error('Missing BitmapFont "'.concat(c,'"'));return r._activePagesMeshData=[],r._textWidth=0,r._textHeight=0,r._align=o,r._tintColor=new pv(s),r._font=void 0,r._fontName=c,r._fontSize=f,r.text=e,r._maxWidth=u,r._maxLineHeight=0,r._letterSpacing=l,r._anchor=new Am((function(){r.dirty=!0}),H(r),0,0),r._roundPixels=lp.ROUND_PIXELS,r.dirty=!0,r._resolution=lp.RESOLUTION,r._autoResolution=!0,r._textureCache={},r}return V(n,[{key:"updateText",value:function(){for(var e=lw.available[this._fontName],t=this.fontSize,n=t/e.size,r=new hm,i=[],a=[],s=[],u=aw(this._text.replace(/(?:\r\n|\r)/g,"\n")||" "),l=this._maxWidth*e.size/t,c="none"===e.distanceFieldType?cw:fw,f=null,h=0,d=0,p=0,v=-1,m=0,g=0,y=0,b=0,_=0;_<u.length;_++){var x=u[_],k=ow(x);if(/(?:\s)/.test(x)&&(v=_,m=h,b++),"\r"!==x&&"\n"!==x){var w=e.chars[k];if(w){f&&w.kerning[f]&&(r.x+=w.kerning[f]);var S=hw.pop()||{texture:vg.EMPTY,line:0,charCode:0,prevSpaces:0,position:new hm};S.texture=w.texture,S.line=p,S.charCode=k,S.position.x=Math.round(r.x+w.xOffset+this._letterSpacing/2),S.position.y=Math.round(r.y+w.yOffset),S.prevSpaces=b,i.push(S),h=S.position.x+Math.max(w.xAdvance-w.xOffset,w.texture.orig.width),r.x+=w.xAdvance+this._letterSpacing,y=Math.max(y,w.yOffset+w.texture.height),f=k,-1!==v&&l>0&&r.x>l&&(xv(i,1+v-++g,1+_-v),_=v,v=-1,a.push(m),s.push(i.length>0?i[i.length-1].prevSpaces:0),d=Math.max(d,m),p++,r.x=0,r.y+=e.lineHeight,f=null,b=0)}}else a.push(h),s.push(-1),d=Math.max(d,h),++p,++g,r.x=0,r.y+=e.lineHeight,f=null,b=0}var T=u[u.length-1];"\r"!==T&&"\n"!==T&&(/(?:\s)/.test(T)&&(h=m),a.push(h),d=Math.max(d,h),s.push(-1));for(var E=[],C=0;C<=p;C++){var A=0;"right"===this._align?A=d-a[C]:"center"===this._align?A=(d-a[C])/2:"justify"===this._align&&(A=s[C]<0?0:(d-a[C])/s[C]),E.push(A)}var P=i.length,I={},O=[],M=this._activePagesMeshData;c.push.apply(c,o(M));for(var R=0;R<P;R++){var N=i[R].texture,D=N.baseTexture.uid;if(!I[D]){var B=c.pop();if(!B){var L=new Tk,j=void 0,F=void 0;"none"===e.distanceFieldType?(j=new Ek(vg.EMPTY),F=qd.NORMAL):(j=new Ek(vg.EMPTY,{program:Xm.from("// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n","// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n  if (median < 0.01) {\r\n    alpha = 0.0;\r\n  } else if (median > 0.99) {\r\n    alpha = 1.0;\r\n  }\r\n\r\n  // Gamma correction for coverage-like alpha\r\n  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r\n  float gamma = mix(1.0, 1.0 / 2.2, luma);\r\n  float coverage = pow(uColor.a * alpha, gamma);  \r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, coverage);\r\n}\r\n"),uniforms:{uFWidth:0}}),F=qd.NORMAL_NPM);var U=new Sk(L,j);U.blendMode=F,B={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:U,vertices:null,uvs:null,indices:null}}B.index=0,B.indexCount=0,B.vertexCount=0,B.uvsCount=0,B.total=0;var z=this._textureCache;z[D]=z[D]||new vg(N.baseTexture),B.mesh.texture=z[D],B.mesh.tint=this._tintColor.value,O.push(B),I[D]=B}I[D].total++}for(var V=0;V<M.length;V++)O.includes(M[V])||this.removeChild(M[V].mesh);for(var H=0;H<O.length;H++)O[H].mesh.parent!==this&&this.addChild(O[H].mesh);for(var W in this._activePagesMeshData=O,I){var G,q=I[W],X=q.total;if(!((null===(G=q.indices)||void 0===G?void 0:G.length)>6*X)||q.vertices.length<2*Sk.BATCHABLE_SIZE)q.vertices=new Float32Array(8*X),q.uvs=new Float32Array(8*X),q.indices=new Uint16Array(6*X);else for(var Y=q.total,Q=q.vertices,K=4*Y*2;K<Q.length;K++)Q[K]=0;q.mesh.size=6*X}for(var Z=0;Z<P;Z++){var $=i[Z],J=$.position.x+E[$.line]*("justify"===this._align?$.prevSpaces:1);this._roundPixels&&(J=Math.round(J));var ee=J*n,te=$.position.y*n,ne=$.texture,re=I[ne.baseTexture.uid],ie=ne.frame,ae=ne._uvs,oe=re.index++;re.indices[6*oe+0]=0+4*oe,re.indices[6*oe+1]=1+4*oe,re.indices[6*oe+2]=2+4*oe,re.indices[6*oe+3]=0+4*oe,re.indices[6*oe+4]=2+4*oe,re.indices[6*oe+5]=3+4*oe,re.vertices[8*oe+0]=ee,re.vertices[8*oe+1]=te,re.vertices[8*oe+2]=ee+ie.width*n,re.vertices[8*oe+3]=te,re.vertices[8*oe+4]=ee+ie.width*n,re.vertices[8*oe+5]=te+ie.height*n,re.vertices[8*oe+6]=ee,re.vertices[8*oe+7]=te+ie.height*n,re.uvs[8*oe+0]=ae.x0,re.uvs[8*oe+1]=ae.y0,re.uvs[8*oe+2]=ae.x1,re.uvs[8*oe+3]=ae.y1,re.uvs[8*oe+4]=ae.x2,re.uvs[8*oe+5]=ae.y2,re.uvs[8*oe+6]=ae.x3,re.uvs[8*oe+7]=ae.y3}for(var se in this._textWidth=d*n,this._textHeight=(r.y+e.lineHeight)*n,I){var ue=I[se];if(0!==this.anchor.x||0!==this.anchor.y)for(var le=0,ce=this._textWidth*this.anchor.x,fe=this._textHeight*this.anchor.y,he=0;he<ue.total;he++)ue.vertices[le++]-=ce,ue.vertices[le++]-=fe,ue.vertices[le++]-=ce,ue.vertices[le++]-=fe,ue.vertices[le++]-=ce,ue.vertices[le++]-=fe,ue.vertices[le++]-=ce,ue.vertices[le++]-=fe;this._maxLineHeight=y*n;var de=ue.mesh.geometry.getBuffer("aVertexPosition"),pe=ue.mesh.geometry.getBuffer("aTextureCoord"),ve=ue.mesh.geometry.getIndex();de.data=ue.vertices,pe.data=ue.uvs,ve.data=ue.indices,de.update(),pe.update(),ve.update()}for(var me=0;me<i.length;me++)hw.push(i[me]);this._font=e,this.dirty=!1}},{key:"updateTransform",value:function(){this.validate(),this.containerUpdateTransform()}},{key:"_render",value:function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);var t=lw.available[this._fontName],r=t.distanceFieldRange,i=t.distanceFieldType,a=t.size;if("none"!==i){var o,s=this.worldTransform,u=s.a,l=s.b,c=s.c,f=s.d,h=Math.sqrt(u*u+l*l),d=Math.sqrt(c*c+f*f),p=(Math.abs(h)+Math.abs(d))/2,v=this.fontSize/a,m=e._view.resolution,g=L(this._activePagesMeshData);try{for(g.s();!(o=g.n()).done;){o.value.mesh.shader.uniforms.uFWidth=p*r*v*m}}catch(y){g.e(y)}finally{g.f()}}G(W(n.prototype),"_render",this).call(this,e)}},{key:"getLocalBounds",value:function(){return this.validate(),G(W(n.prototype),"getLocalBounds",this).call(this)}},{key:"validate",value:function(){var e=lw.available[this._fontName];if(!e)throw new Error('Missing BitmapFont "'.concat(this._fontName,'"'));this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}},{key:"tint",get:function(){return this._tintColor.value},set:function(e){if(this.tint!==e){this._tintColor.setValue(e);for(var t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}}},{key:"align",get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)}},{key:"fontName",get:function(){return this._fontName},set:function(e){if(!lw.available[e])throw new Error('Missing BitmapFont "'.concat(e,'"'));this._fontName!==e&&(this._fontName=e,this.dirty=!0)}},{key:"fontSize",get:function(){var e;return null!==(e=this._fontSize)&&void 0!==e?e:lw.available[this._fontName].size},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}},{key:"anchor",get:function(){return this._anchor},set:function(e){"number"===typeof e?this._anchor.set(e):this._anchor.copyFrom(e)}},{key:"text",get:function(){return this._text},set:function(e){e=String(null===e||void 0===e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}},{key:"roundPixels",get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}},{key:"resolution",get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}},{key:"destroy",value:function(e){var t=this._textureCache,r="none"===lw.available[this._fontName].distanceFieldType?cw:fw;r.push.apply(r,o(this._activePagesMeshData));var i,a=L(this._activePagesMeshData);try{for(a.s();!(i=a.n()).done;){var s=i.value;this.removeChild(s.mesh)}}catch(l){a.e(l)}finally{a.f()}for(var u in this._activePagesMeshData=[],r.filter((function(e){return t[e.mesh.texture.baseTexture.uid]})).forEach((function(e){e.mesh.texture=vg.EMPTY})),t){t[u].destroy(),delete t[u]}this._font=null,this._tintColor=null,this._textureCache=null,G(W(n.prototype),"destroy",this).call(this,e)}}]),n}(nb),pw=dw;pw.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};var vw=[".xml",".fnt"],mw={extension:{type:Bv.LoadParser,priority:d_.Normal},name:"loadBitmapFont",test:function(e){return vw.includes(Dp.extname(e).toLowerCase())},testParse:function(e){return Ge(qe.mark((function t(){return qe.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ew.test(e)||nw.test(e));case 1:case"end":return t.stop()}}),t)})))()},parse:function(e,t,n){return Ge(qe.mark((function r(){var i,a,o,s,u,l,c,f,h;return qe.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(i=ew.test(e)?ew.parse(e):nw.parse(e),a=t.src,o=i.page,s=[],u=0;u<o.length;++u)l=o[u].file,c=Dp.join(Dp.dirname(a),l),c=Z_(c,a),s.push(c);return r.next=7,n.load(s);case 7:return f=r.sent,h=s.map((function(e){return f[e]})),r.abrupt("return",lw.install(i,h,!0));case 10:case"end":return r.stop()}}),r)})))()},load:function(e,t){return Ge(qe.mark((function t(){var n;return qe.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lp.ADAPTER.fetch(e);case 2:return n=t.sent,t.abrupt("return",n.text());case 4:case"end":return t.stop()}}),t)})))()},unload:function(e){e.destroy()}};Fv.add(mw);var gw=function(e){X(n,e);var t=K(n);function n(){var e;return U(this,n),(e=t.apply(this,arguments))._fonts=[],e._overrides=[],e._stylesheet="",e.fontsDirty=!1,e}return V(n,[{key:"cleanFonts",value:function(){this._fonts.length>0&&(this._fonts.forEach((function(e){URL.revokeObjectURL(e.src),e.refs--,0===e.refs&&(e.fontFace&&document.fonts.delete(e.fontFace),delete n.availableFonts[e.originalUrl])})),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}},{key:"loadFont",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.availableFonts;if(i[e]){var a=i[e];return this._fonts.push(a),a.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return lp.ADAPTER.fetch(e).then((function(e){return e.blob()})).then(function(){var e=Ge(qe.mark((function e(t){return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=URL.createObjectURL(t),i=new FileReader;i.onload=function(){return e([r,i.result])},i.onerror=n,i.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then(function(){var n=Ge(qe.mark((function n(a){var o,s,u,l,c;return qe.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=p(a,2),s=o[0],u=o[1],l=Object.assign({family:Dp.basename(e,Dp.extname(e)),weight:"normal",style:"normal",src:s,dataSrc:u,refs:1,originalUrl:e,fontFace:null},r),i[e]=l,t._fonts.push(l),t.styleID++,c=new FontFace(l.family,"url(".concat(l.src,")"),{weight:l.weight,style:l.style}),l.fontFace=c,n.next=9,c.load();case 9:return document.fonts.add(c),n.next=12,document.fonts.ready;case 12:t.styleID++,t.fontsDirty=!0;case 14:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}},{key:"addOverride",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i,a=n.filter((function(t){return!e._overrides.includes(t)}));a.length>0&&((i=this._overrides).push.apply(i,o(a)),this.styleID++)}},{key:"removeOverride",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter((function(t){return e._overrides.includes(t)}));i.length>0&&(this._overrides=this._overrides.filter((function(e){return!i.includes(e)})),this.styleID++)}},{key:"toCSS",value:function(e){return["transform: scale(".concat(e,")"),"transform-origin: top left","display: inline-block","color: ".concat(this.normalizeColor(this.fill)),"font-size: ".concat(this.fontSize,"px"),"font-family: ".concat(this.fontFamily),"font-weight: ".concat(this.fontWeight),"font-style: ".concat(this.fontStyle),"font-variant: ".concat(this.fontVariant),"letter-spacing: ".concat(this.letterSpacing,"px"),"text-align: ".concat(this.align),"padding: ".concat(this.padding,"px"),"white-space: ".concat(this.whiteSpace)].concat(o(this.lineHeight?["line-height: ".concat(this.lineHeight,"px")]:[]),o(this.wordWrap?["word-wrap: ".concat(this.breakWords?"break-all":"break-word"),"max-width: ".concat(this.wordWrapWidth,"px")]:[]),o(this.strokeThickness?["-webkit-text-stroke-width: ".concat(this.strokeThickness,"px"),"-webkit-text-stroke-color: ".concat(this.normalizeColor(this.stroke)),"text-stroke-width: ".concat(this.strokeThickness,"px"),"text-stroke-color: ".concat(this.normalizeColor(this.stroke)),"paint-order: stroke"]:[]),o(this.dropShadow?[this.dropShadowToCSS()]:[]),o(this._overrides)).join(";")}},{key:"toGlobalCSS",value:function(){return this._fonts.reduce((function(e,t){return"".concat(e,'\n            @font-face {\n                font-family: "').concat(t.family,"\";\n                src: url('").concat(t.dataSrc,"');\n                font-weight: ").concat(t.weight,";\n                font-style: ").concat(t.style,"; \n            }")}),this._stylesheet)}},{key:"stylesheet",get:function(){return this._stylesheet},set:function(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}},{key:"normalizeColor",value:function(e){return Array.isArray(e)&&(e=function(e){return Lp("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),pv.shared.setValue(e).toNumber()}(e)),"number"===typeof e?(t=e,Lp("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),pv.shared.setValue(t).toHex()):e;var t}},{key:"dropShadowToCSS",value:function(){var e=this.normalizeColor(this.dropShadowColor),t=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),r=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&t<1&&(e+=(255*t|0).toString(16).padStart(2,"0"));var i="".concat(n,"px ").concat(r,"px");return this.dropShadowBlur>0?"text-shadow: ".concat(i," ").concat(this.dropShadowBlur,"px ").concat(e):"text-shadow: ".concat(i," ").concat(e)}},{key:"reset",value:function(){Object.assign(this,n.defaultOptions)}},{key:"onBeforeDraw",value:function(){var e=this.fontsDirty;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise((function(e){return setTimeout(e,100)})):Promise.resolve()}},{key:"isSafari",get:function(){var e=lp.ADAPTER.getNavigator().userAgent;return/^((?!chrome|android).)*safari/i.test(e)}},{key:"fillGradientStops",get:function(){return G(W(n.prototype),"fillGradientStops",this)},set:function(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}},{key:"fillGradientType",get:function(){return G(W(n.prototype),"fillGradientType",this)},set:function(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}},{key:"miterLimit",get:function(){return G(W(n.prototype),"miterLimit",this)},set:function(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}},{key:"trim",get:function(){return G(W(n.prototype),"trim",this)},set:function(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}},{key:"textBaseline",get:function(){return G(W(n.prototype),"textBaseline",this)},set:function(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}},{key:"leading",get:function(){return G(W(n.prototype),"leading",this)},set:function(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}},{key:"lineJoin",get:function(){return G(W(n.prototype),"lineJoin",this)},set:function(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}}],[{key:"from",value:function(e){return new n(Object.keys(n.defaultOptions).reduce((function(t,n){return f(f({},t),{},l({},n,e[n]))}),{}))}}]),n}(wb),yw=gw;yw.availableFonts={},yw.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};var bw=function(e){X(n,e);var t=K(n);function n(){var e,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};U(this,n),(r=t.call(this,vg.EMPTY))._text=null,r._style=null,r._autoResolution=!0,r._loading=!1,r.localStyleID=-1,r.dirty=!1,r.ownsStyle=!1;var o=new Image,s=vg.from(o,{scaleMode:lp.SCALE_MODE,resourceOptions:{autoLoad:!1}});s.orig=new pm,s.trim=new pm,r.texture=s;var u="http://www.w3.org/2000/svg",l="http://www.w3.org/1999/xhtml",c=document.createElementNS(u,"svg"),f=document.createElementNS(u,"foreignObject"),h=document.createElementNS(l,"div"),d=document.createElementNS(l,"style");return f.setAttribute("width","10000"),f.setAttribute("height","10000"),f.style.overflow="hidden",c.appendChild(f),r.maxWidth=n.defaultMaxWidth,r.maxHeight=n.defaultMaxHeight,r._domElement=h,r._styleElement=d,r._svgRoot=c,r._foreignObject=f,r._foreignObject.appendChild(d),r._foreignObject.appendChild(h),r._image=o,r._loadImage=new Image,r._autoResolution=n.defaultAutoResolution,r._resolution=null!==(e=n.defaultResolution)&&void 0!==e?e:lp.RESOLUTION,r.text=i,r.style=a,r}return V(n,[{key:"measureText",value:function(e){var t=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e),n=t.text,r=t.style,i=t.resolution;Object.assign(this._domElement,{innerHTML:n,style:r.toCSS(i)}),this._styleElement.textContent=r.toGlobalCSS(),document.body.appendChild(this._svgRoot);var a=this._domElement.getBoundingClientRect();this._svgRoot.remove();var o,s,u=Math.min(this.maxWidth,Math.ceil(a.width)),l=Math.min(this.maxHeight,Math.ceil(a.height));(this._svgRoot.setAttribute("width",u.toString()),this._svgRoot.setAttribute("height",l.toString()),n!==this._text&&(this._domElement.innerHTML=this._text),r!==this._style)&&(Object.assign(this._domElement,{style:null===(o=this._style)||void 0===o?void 0:o.toCSS(i)}),this._styleElement.textContent=null===(s=this._style)||void 0===s?void 0:s.toGlobalCSS());return{width:u+2*r.padding,height:l+2*r.padding}}},{key:"updateText",value:function(){var e=Ge(qe.mark((function e(){var t,n,r,i,a,o,s,u=this,l=arguments;return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(l.length>0&&void 0!==l[0])||l[0],n=this.style,r=this._image,i=this._loadImage,this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),this.dirty||!t){e.next=5;break}return e.abrupt("return");case 5:if(a=this.measureText(),o=a.width,s=a.height,r.width=i.width=Math.ceil(Math.max(1,o)),r.height=i.height=Math.ceil(Math.max(1,s)),this._loading){e.next=12;break}return this._loading=!0,e.next=12,new Promise((function(e){i.onload=Ge(qe.mark((function t(){return qe.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.onBeforeDraw();case 2:u._loading=!1,r.src=i.src,i.onload=null,i.src="",u.updateTexture(),e();case 8:case"end":return t.stop()}}),t)})));var t=(new XMLSerializer).serializeToString(u._svgRoot);i.src="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(t))}));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"source",get:function(){return this._image}},{key:"updateTexture",value:function(){var e=this.style,t=this.texture,n=this._image,r=this.resolution,i=e.padding,a=t.baseTexture;t.trim.width=t._frame.width=n.width/r,t.trim.height=t._frame.height=n.height/r,t.trim.x=-i,t.trim.y=-i,t.orig.width=t._frame.width-2*i,t.orig.height=t._frame.height-2*i,this._onTextureUpdate(),a.setRealSize(n.width,n.height,r),this.dirty=!1}},{key:"_render",value:function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),G(W(n.prototype),"_render",this).call(this,e)}},{key:"_renderCanvas",value:function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),G(W(n.prototype),"_renderCanvas",this).call(this,e)}},{key:"getLocalBounds",value:function(e){return this.updateText(!0),G(W(n.prototype),"getLocalBounds",this).call(this,e)}},{key:"_calculateBounds",value:function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}},{key:"_onStyleChange",value:function(){this.dirty=!0}},{key:"destroy",value:function(e){var t,r,i,a;"boolean"===typeof e&&(e={children:e}),e=Object.assign({},n.defaultDestroyOptions,e),G(W(n.prototype),"destroy",this).call(this,e);var o,s=null;this.ownsStyle&&(null===(o=this._style)||void 0===o||o.cleanFonts());this._style=s,null===(t=this._svgRoot)||void 0===t||t.remove(),this._svgRoot=s,null===(r=this._domElement)||void 0===r||r.remove(),this._domElement=s,null===(i=this._foreignObject)||void 0===i||i.remove(),this._foreignObject=s,null===(a=this._styleElement)||void 0===a||a.remove(),this._styleElement=s,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=s,this._image.src="",this._image=s}},{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution},set:function(e){this.updateText(!0);var t=kv(this.scale.x)||1;this.scale.x=t*e/this._image.width/this.resolution,this._width=e}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution},set:function(e){this.updateText(!0);var t=kv(this.scale.y)||1;this.scale.y=t*e/this._image.height/this.resolution,this._height=e}},{key:"style",get:function(){return this._style},set:function(e){this._style!==e&&((e=e||{})instanceof yw?(this.ownsStyle=!1,this._style=e):e instanceof wb?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=yw.from(e)):(this.ownsStyle=!0,this._style=new yw(e)),this.localStyleID=-1,this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(e){e=String(""===e||null===e||void 0===e?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}},{key:"resolution",get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}},{key:"sanitiseText",value:function(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}}]),n}(ab),_w=bw;_w.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},_w.defaultMaxWidth=2024,_w.defaultMaxHeight=2024,_w.defaultAutoResolution=!0;var xw,kw=new pm,ww=function(){function e(t){U(this,e),this.renderer=t}return V(e,[{key:"image",value:function(){var e=Ge(qe.mark((function e(t,n,r){var i;return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new Image,e.next=3,this.base64(t,n,r);case 3:return i.src=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"base64",value:function(){var e=Ge(qe.mark((function e(t,n,r){var i,a;return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(i=this.canvas(t)).toBlob){e.next=3;break}return e.abrupt("return",new Promise((function(e,t){i.toBlob((function(n){if(n){var r=new FileReader;r.onload=function(){return e(r.result)},r.onerror=t,r.readAsDataURL(n)}else t(new Error("ICanvas.toBlob failed!"))}),n,r)})));case 3:if(void 0===i.toDataURL){e.next=5;break}return e.abrupt("return",i.toDataURL(n,r));case 5:if(void 0===i.convertToBlob){e.next=10;break}return e.next=8,i.convertToBlob({type:n,quality:r});case 8:return a=e.sent,e.abrupt("return",new Promise((function(e,t){var n=new FileReader;n.onload=function(){return e(n.result)},n.onerror=t,n.readAsDataURL(a)})));case 10:throw new Error("CanvasExtract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented");case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"canvas",value:function(e,t){var n,r,i,a,o=this.renderer;if(!o)throw new Error("The CanvasExtract has already been destroyed");(e&&(i=e instanceof mg?e:o.generateTexture(e,{resolution:o.resolution})),i)?(n=i.baseTexture._canvasRenderTarget.context,r=i.baseTexture._canvasRenderTarget.resolution,t=null!==(a=t)&&void 0!==a?a:i.frame):(n=o.canvasContext.rootContext,r=o._view.resolution,t||((t=kw).width=o.width/r,t.height=o.height/r));var s=Math.round(t.x*r),u=Math.round(t.y*r),l=Math.round(t.width*r),c=Math.round(t.height*r),f=new Ov(l,c,1),h=n.getImageData(s,u,l,c);return f.context.putImageData(h,0,0),f.canvas}},{key:"pixels",value:function(e,t){var n,r,i,a,o=this.renderer;if(!o)throw new Error("The CanvasExtract has already been destroyed");(e&&(i=e instanceof mg?e:o.generateTexture(e,{resolution:o.resolution})),i)?(n=i.baseTexture._canvasRenderTarget.context,r=i.baseTexture._canvasRenderTarget.resolution,t=null!==(a=t)&&void 0!==a?a:i.frame):(n=o.canvasContext.rootContext,r=o.resolution,t||((t=kw).width=o.width/r,t.height=o.height/r));var s=Math.round(t.x*r),u=Math.round(t.y*r),l=Math.round(t.width*r),c=Math.round(t.height*r);return n.getImageData(s,u,l,c).data}},{key:"destroy",value:function(){this.renderer=null}}]),e}();ww.extension={name:"extract",type:Bv.CanvasRendererSystem},Fv.add(ww);var Sw=new bm;bk.prototype.generateCanvasTexture=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.getLocalBounds(),r=mg.create({width:n.width,height:n.height,scaleMode:e,resolution:t});xw||(xw=new Yy),this.transform.updateLocalTransform(),this.transform.localTransform.copyTo(Sw),Sw.invert(),Sw.tx-=n.x,Sw.ty-=n.y,xw.render(this,{renderTexture:r,clear:!0,transform:Sw});var i=vg.from(r.baseTexture._canvasRenderTarget.canvas,{scaleMode:e});return i.baseTexture.setResolution(t),i},bk.prototype.cachedGraphicsData=[],bk.prototype._renderCanvas=function(e){!0!==this.isMask&&(this.finishPoly(),e.plugins.graphics.render(this))};var Tw=function(){function e(){U(this,e)}return V(e,null,[{key:"offsetPolygon",value:function(t,n){var r=[],i=t.length;n=e.isPolygonClockwise(t)?n:-1*n;for(var a=0;a<i;a+=2){var s=a-2;s<0&&(s+=i);var u=(a+2)%i,l=t[a]-t[s],c=t[a+1]-t[s+1],f=Math.sqrt(l*l+c*c);l/=f,c/=f;var h=-(c*=n),d=l*=n,p=[t[s]+h,t[s+1]+d],v=[t[a]+h,t[a+1]+d],m=t[u]-t[a],g=t[u+1]-t[a+1];m/=f=Math.sqrt(m*m+g*g),g/=f;var y=-(g*=n),b=m*=n,_=[t[a]+y,t[a+1]+b],x=[t[u]+y,t[u+1]+b],k=e.findIntersection(p[0],p[1],v[0],v[1],_[0],_[1],x[0],x[1]);k&&r.push.apply(r,o(k))}return r}},{key:"findIntersection",value:function(e,t,n,r,i,a,o,s){var u=(s-a)*(n-e)-(o-i)*(r-t),l=(o-i)*(t-a)-(s-a)*(e-i);if(0===u)return 0===l&&0===(n-e)*(t-a)-(r-t)*(e-i)?[(e+n)/2,(t+r)/2]:null;var c=l/u;return[e+c*(n-e),t+c*(r-t)]}},{key:"isPolygonClockwise",value:function(e){for(var t=0,n=0,r=e.length-2;n<e.length;r=n,n+=2)t+=(e[n]-e[r])*(e[n+1]+e[r+1]);return t>0}}]),e}(),Ew=function(){function e(t){U(this,e),this._svgMatrix=null,this._tempMatrix=new bm,this.renderer=t}return V(e,[{key:"_calcCanvasStyle",value:function(e,t){var n;return e.texture&&e.texture.baseTexture!==vg.WHITE.baseTexture?e.texture.valid?(n=Qy.getTintedPattern(e.texture,t),this.setPatternTransform(n,e.matrix||bm.IDENTITY)):n="#808080":n="#".concat("00000".concat((0|t).toString(16)).slice(-6)),n}},{key:"render",value:function(e){var t=this.renderer,n=t.canvasContext.activeContext,r=e.worldAlpha,i=e.transform.worldTransform;t.canvasContext.setContextTransform(i),t.canvasContext.setBlendMode(e.blendMode);for(var a,o,s=e.geometry.graphicsData,u=pv.shared.setValue(e.tint).toArray(),l=0;l<s.length;l++){var c=s[l],f=c.shape,h=c.fillStyle,d=c.lineStyle,p=0|c.fillStyle.color,v=0|c.lineStyle.color;if(c.matrix&&t.canvasContext.setContextTransform(i.copyTo(this._tempMatrix).append(c.matrix)),h.visible&&(a=this._calcCanvasStyle(h,pv.shared.setValue(p).multiply(u).toNumber())),d.visible&&(o=this._calcCanvasStyle(d,pv.shared.setValue(v).multiply(u).toNumber())),n.lineWidth=d.width,n.lineCap=d.cap,n.lineJoin=d.join,n.miterLimit=d.miterLimit,c.type===fm.POLY){n.beginPath();var m=f,g=m.points,y=c.holes,b=void 0,_=void 0,x=void 0,k=void 0,w=void 0;n.moveTo(g[0],g[1]);for(var S=2;S<g.length;S+=2)n.lineTo(g[S],g[S+1]);if(m.closeStroke&&n.closePath(),y.length>0){w=[],b=0,x=g[0],k=g[1];for(var T=2;T+2<g.length;T+=2)b+=(g[T]-x)*(g[T+3]-k)-(g[T+2]-x)*(g[T+1]-k);for(var E=0;E<y.length;E++)if(g=y[E].shape.points){_=0,x=g[0],k=g[1];for(var C=2;C+2<g.length;C+=2)_+=(g[C]-x)*(g[C+3]-k)-(g[C+2]-x)*(g[C+1]-k);if(_*b<0){n.moveTo(g[0],g[1]);for(var A=2;A<g.length;A+=2)n.lineTo(g[A],g[A+1])}else{n.moveTo(g[g.length-2],g[g.length-1]);for(var P=g.length-4;P>=0;P-=2)n.lineTo(g[P],g[P+1])}y[E].shape.closeStroke&&n.closePath(),w[E]=_*b<0}}h.visible&&(n.globalAlpha=h.alpha*r,n.fillStyle=a,n.fill()),d.visible&&this.paintPolygonStroke(m,d,o,y,w,r,n)}else if(c.type===fm.RECT){var I=f;if(h.visible&&(n.globalAlpha=h.alpha*r,n.fillStyle=a,n.fillRect(I.x,I.y,I.width,I.height)),d.visible){var O=d.width*(.5-(1-d.alignment)),M=I.width+2*O,R=I.height+2*O;n.globalAlpha=d.alpha*r,n.strokeStyle=o,n.strokeRect(I.x-O,I.y-O,M,R)}}else if(c.type===fm.CIRC){var N=f;if(n.beginPath(),n.arc(N.x,N.y,N.radius,0,2*Math.PI),n.closePath(),h.visible&&(n.globalAlpha=h.alpha*r,n.fillStyle=a,n.fill()),d.visible){if(.5!==d.alignment){var D=d.width*(.5-(1-d.alignment));n.beginPath(),n.arc(N.x,N.y,N.radius+D,0,2*Math.PI),n.closePath()}n.globalAlpha=d.alpha*r,n.strokeStyle=o,n.stroke()}}else if(c.type===fm.ELIP){var B=f,L=1===d.alignment;if(L||this.paintEllipse(B,h,d,a,r,n),d.visible){if(.5!==d.alignment){var j=.5522848,F=d.width*(.5-(1-d.alignment)),U=2*(B.width+F),z=2*(B.height+F),V=B.x-U/2,H=B.y-z/2,W=U/2*j,G=z/2*j,q=V+U,X=H+z,Y=V+U/2,Q=H+z/2;n.beginPath(),n.moveTo(V,Q),n.bezierCurveTo(V,Q-G,Y-W,H,Y,H),n.bezierCurveTo(Y+W,H,q,Q-G,q,Q),n.bezierCurveTo(q,Q+G,Y+W,X,Y,X),n.bezierCurveTo(Y-W,X,V,Q+G,V,Q),n.closePath()}n.globalAlpha=d.alpha*r,n.strokeStyle=o,n.stroke()}L&&this.paintEllipse(B,h,d,a,r,n)}else if(c.type===fm.RREC){var K=f,Z=1===d.alignment;if(Z||this.paintRoundedRectangle(K,h,d,a,r,n),d.visible){if(.5!==d.alignment){var $=K.width,J=K.height,ee=d.width*(.5-(1-d.alignment)),te=K.x-ee,ne=K.y-ee,re=K.width+2*ee,ie=K.height+2*ee,ae=ee*(d.alignment>=1?Math.min(re/$,ie/J):Math.min($/re,J/ie)),oe=K.radius+ae,se=Math.min(re,ie)/2;oe=oe>se?se:oe,n.beginPath(),n.moveTo(te,ne+oe),n.lineTo(te,ne+ie-oe),n.quadraticCurveTo(te,ne+ie,te+oe,ne+ie),n.lineTo(te+re-oe,ne+ie),n.quadraticCurveTo(te+re,ne+ie,te+re,ne+ie-oe),n.lineTo(te+re,ne+oe),n.quadraticCurveTo(te+re,ne,te+re-oe,ne),n.lineTo(te+oe,ne),n.quadraticCurveTo(te,ne,te,ne+oe),n.closePath()}n.globalAlpha=d.alpha*r,n.strokeStyle=o,n.stroke()}Z&&this.paintRoundedRectangle(K,h,d,a,r,n)}}}},{key:"paintPolygonStroke",value:function(e,t,n,r,i,a,o){if(.5!==t.alignment){var s,u=t.width*(.5-(1-t.alignment)),l=Tw.offsetPolygon(e.points,u);o.beginPath(),o.moveTo(l[0],l[1]);for(var c=2;c<l.length;c+=2)o.lineTo(l[c],l[c+1]);e.closeStroke&&o.closePath();for(var f=0;f<r.length;f++){if(s=r[f].shape.points,l=Tw.offsetPolygon(s,u),i[f]){o.moveTo(l[0],l[1]);for(var h=2;h<l.length;h+=2)o.lineTo(l[h],l[h+1])}else{o.moveTo(l[l.length-2],l[l.length-1]);for(var d=l.length-4;d>=0;d-=2)o.lineTo(l[d],l[d+1])}r[f].shape.closeStroke&&o.closePath()}}o.globalAlpha=t.alpha*a,o.strokeStyle=n,o.stroke()}},{key:"paintEllipse",value:function(e,t,n,r,i,a){var o=2*e.width,s=2*e.height,u=e.x-o/2,l=e.y-s/2,c=.5522848,f=o/2*c,h=s/2*c,d=u+o,p=l+s,v=u+o/2,m=l+s/2;0===n.alignment&&a.save(),a.beginPath(),a.moveTo(u,m),a.bezierCurveTo(u,m-h,v-f,l,v,l),a.bezierCurveTo(v+f,l,d,m-h,d,m),a.bezierCurveTo(d,m+h,v+f,p,v,p),a.bezierCurveTo(v-f,p,u,m+h,u,m),a.closePath(),0===n.alignment&&a.clip(),t.visible&&(a.globalAlpha=t.alpha*i,a.fillStyle=r,a.fill()),0===n.alignment&&a.restore()}},{key:"paintRoundedRectangle",value:function(e,t,n,r,i,a){var o=e.x,s=e.y,u=e.width,l=e.height,c=e.radius,f=Math.min(u,l)/2;c=c>f?f:c,0===n.alignment&&a.save(),a.beginPath(),a.moveTo(o,s+c),a.lineTo(o,s+l-c),a.quadraticCurveTo(o,s+l,o+c,s+l),a.lineTo(o+u-c,s+l),a.quadraticCurveTo(o+u,s+l,o+u,s+l-c),a.lineTo(o+u,s+c),a.quadraticCurveTo(o+u,s,o+u-c,s),a.lineTo(o+c,s),a.quadraticCurveTo(o,s,o,s+c),a.closePath(),0===n.alignment&&a.clip(),t.visible&&(a.globalAlpha=t.alpha*i,a.fillStyle=r,a.fill()),0===n.alignment&&a.restore()}},{key:"setPatternTransform",value:function(e,t){if(!1!==this._svgMatrix){if(!this._svgMatrix){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");if(null!==n&&void 0!==n&&n.createSVGMatrix&&(this._svgMatrix=n.createSVGMatrix()),!this._svgMatrix||!e.setTransform)return void(this._svgMatrix=!1)}this._svgMatrix.a=t.a,this._svgMatrix.b=t.b,this._svgMatrix.c=t.c,this._svgMatrix.d=t.d,this._svgMatrix.e=t.tx,this._svgMatrix.f=t.ty,e.setTransform(this._svgMatrix.inverse())}}},{key:"destroy",value:function(){this.renderer=null,this._svgMatrix=null,this._tempMatrix=null}}]),e}();Ew.extension={name:"graphics",type:Bv.CanvasRendererPlugin},Fv.add(Ew),Object.defineProperties(lp,{MESH_CANVAS_PADDING:{get:function(){return Sk.defaultCanvasPadding},set:function(e){Lp("7.1.0","settings.MESH_CANVAS_PADDING is deprecated, use Mesh.defaultCanvasPadding"),Sk.defaultCanvasPadding=e}}}),Ek.prototype._renderCanvas=function(e,t){e.plugins.mesh.render(t)},Ik.prototype._cachedTint=16777215,Ik.prototype._tintedCanvas=null,Ik.prototype._canvasUvs=null,Ik.prototype._renderCanvas=function(e){var t=e.canvasContext.activeContext,n=this.worldTransform,r=16777215!==this.tintValue,i=this.texture;if(i.valid){r&&this._cachedTint!==this.tintValue&&(this._cachedTint=this.tintValue,this._tintedCanvas=Qy.getTintedCanvas(this,this.tintValue));var a=r?this._tintedCanvas:i.baseTexture.getDrawableSource();this._canvasUvs||(this._canvasUvs=[0,0,0,0,0,0,0,0]);var o=this.vertices,s=this._canvasUvs,u=r?0:i.frame.x,l=r?0:i.frame.y,c=u+i.frame.width,f=l+i.frame.height;s[0]=u,s[1]=u+this._leftWidth,s[2]=c-this._rightWidth,s[3]=c,s[4]=l,s[5]=l+this._topHeight,s[6]=f-this._bottomHeight,s[7]=f;for(var h=0;h<8;h++)s[h]*=i.baseTexture.resolution;t.globalAlpha=this.worldAlpha,e.canvasContext.setBlendMode(this.blendMode),e.canvasContext.setContextTransform(n,this.roundPixels);for(var d=0;d<3;d++)for(var p=0;p<3;p++){var v=2*p+8*d,m=Math.max(1,s[p+1]-s[p]),g=Math.max(1,s[d+5]-s[d+4]),y=Math.max(1,o[v+10]-o[v]),b=Math.max(1,o[v+11]-o[v+1]);t.drawImage(a,s[p],s[d+4],m,g,o[v],o[v+1],y,b)}}};var Cw=!1;Sk.prototype._cachedTint=16777215,Sk.prototype._tintedCanvas=null,Sk.prototype._cachedTexture=null,Sk.prototype._renderCanvas=function(e){this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.material._renderCanvas?this.material._renderCanvas(e,this):Cw||(Cw=!0,globalThis.console.warn("Mesh with custom shaders are not supported in CanvasRenderer."))},Sk.prototype._canvasPadding=null,Sk.defaultCanvasPadding=0,Object.defineProperty(Sk.prototype,"canvasPadding",{get:function(){var e;return null!==(e=this._canvasPadding)&&void 0!==e?e:Sk.defaultCanvasPadding},set:function(e){this._canvasPadding=e}}),Ok.prototype._renderCanvas=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),this.shader.update&&this.shader.update(),this.calculateUvs(),this.material._renderCanvas(e,this)},Mk.prototype._renderCanvas=function(e){(this.autoUpdate||this.geometry._width!==this.shader.texture.height)&&(this.geometry._width=this.shader.texture.height,this.geometry.update()),this.shader.update&&this.shader.update(),this.calculateUvs(),this.material._renderCanvas(e,this)};var Aw=function(){function e(t){U(this,e),this.renderer=t}return V(e,[{key:"render",value:function(e){var t=this.renderer,n=e.worldTransform;t.canvasContext.activeContext.globalAlpha=e.worldAlpha,t.canvasContext.setBlendMode(e.blendMode),t.canvasContext.setContextTransform(n,e.roundPixels),e.drawMode!==Xd.TRIANGLES?this._renderTriangleMesh(e):this._renderTriangles(e)}},{key:"_renderTriangleMesh",value:function(e){for(var t=e.geometry.buffers[0].data.length,n=0;n<t-2;n++){var r=2*n;this._renderDrawTriangle(e,r,r+2,r+4)}}},{key:"_renderTriangles",value:function(e){for(var t=e.geometry.getIndex().data,n=t.length,r=0;r<n;r+=3){var i=2*t[r],a=2*t[r+1],o=2*t[r+2];this._renderDrawTriangle(e,i,a,o)}}},{key:"_renderDrawTriangle",value:function(e,t,n,r){var i=this.renderer.canvasContext.activeContext,a=e.geometry.buffers[0].data,o=e.uvs,s=e.texture;if(s.valid){var u,l=16777215!==e.tintValue,c=s.baseTexture,f=c.width,h=c.height;if(e._cachedTexture&&e._cachedTexture.baseTexture!==c)e._cachedTint=16777215,null===(u=e._cachedTexture)||void 0===u||u.destroy(),e._cachedTexture=null,e._tintedCanvas=null;l&&e._cachedTint!==e.tintValue&&(e._cachedTint=e.tintValue,e._cachedTexture=e._cachedTexture||new vg(c),e._tintedCanvas=Qy.getTintedCanvas({texture:e._cachedTexture},e.tintValue));var d=l?e._tintedCanvas:c.getDrawableSource(),p=o[t]*c.width,v=o[n]*c.width,m=o[r]*c.width,g=o[t+1]*c.height,y=o[n+1]*c.height,b=o[r+1]*c.height,_=a[t],x=a[n],k=a[r],w=a[t+1],S=a[n+1],T=a[r+1],E=e.canvasPadding/this.renderer.canvasContext.activeResolution;if(E>0){var C=e.worldTransform,A=C.a,P=C.b,I=C.c,O=C.d,M=(_+x+k)/3,R=(w+S+T)/3,N=_-M,D=w-R,B=A*N+I*D,L=P*N+O*D,j=Math.sqrt(B*B+L*L),F=1+E/j;_=M+N*F,w=R+D*F,B=A*(N=x-M)+I*(D=S-R),L=P*N+O*D,x=M+N*(F=1+E/(j=Math.sqrt(B*B+L*L))),S=R+D*F,B=A*(N=k-M)+I*(D=T-R),L=P*N+O*D,k=M+N*(F=1+E/(j=Math.sqrt(B*B+L*L))),T=R+D*F}i.save(),i.beginPath(),i.moveTo(_,w),i.lineTo(x,S),i.lineTo(k,T),i.closePath(),i.clip();var U=p*y+g*m+v*b-y*m-g*v-p*b,z=_*y+g*k+x*b-y*k-g*x-_*b,V=p*x+_*m+v*k-x*m-_*v-p*k,H=p*y*k+g*x*m+_*v*b-_*y*m-g*v*k-p*x*b,W=w*y+g*T+S*b-y*T-g*S-w*b,G=p*S+w*m+v*T-S*m-w*v-p*T,q=p*y*T+g*S*m+w*v*b-w*y*m-g*v*T-p*S*b;i.transform(z/U,W/U,V/U,G/U,H/U,q/U),i.drawImage(d,0,0,f*c.resolution,h*c.resolution,0,0,f,h),i.restore(),this.renderer.canvasContext.invalidateBlendMode()}}},{key:"renderMeshFlat",value:function(e){var t=this.renderer.canvasContext.activeContext,n=e.geometry.getBuffer("aVertexPosition").data,r=n.length/2;t.beginPath();for(var i=1;i<r-2;++i){var a=2*i,o=n[a],s=n[a+1],u=n[a+2],l=n[a+3],c=n[a+4],f=n[a+5];t.moveTo(o,s),t.lineTo(u,l),t.lineTo(c,f)}t.fillStyle="#FF0000",t.fill(),t.closePath()}},{key:"destroy",value:function(){this.renderer=null}}]),e}();Aw.extension={name:"mesh",type:Bv.CanvasRendererPlugin},Fv.add(Aw);function Pw(e,t){var n=e;if(t instanceof Zv){var r=t.source,i=0===r.width?n.canvas.width:Math.min(n.canvas.width,r.width),a=0===r.height?n.canvas.height:Math.min(n.canvas.height,r.height);return n.ctx.drawImage(r,0,0,i,a,0,0,n.canvas.width,n.canvas.height),!0}return!1}var Iw=function(e){X(n,e);var t=K(n);function n(e){var r;return U(this,n),(r=t.call(this,e)).uploadHookHelper=H(r),r.canvas=lp.ADAPTER.createCanvas(16,16),r.ctx=r.canvas.getContext("2d"),r.registerUploadHook(Pw),r}return V(n,[{key:"destroy",value:function(){G(W(n.prototype),"destroy",this).call(this),this.ctx=null,this.canvas=null}}]),n}(Vk);Iw.extension={name:"prepare",type:Bv.CanvasRendererSystem},Fv.add(Iw),ab.prototype._tintedCanvas=null,ab.prototype._renderCanvas=function(e){e.plugins.sprite.render(this)};var Ow=new bm,Mw=function(){function e(t){U(this,e),this.renderer=t}return V(e,[{key:"render",value:function(e){var t=e._texture,n=this.renderer,r=n.canvasContext.activeContext,i=n.canvasContext.activeResolution;if(t.valid){var a=t._frame.width,o=t._frame.height,s=t._frame.width,u=t._frame.height;t.trim&&(s=t.trim.width,u=t.trim.height);var l=e.transform.worldTransform,c=0,f=0,h=t.baseTexture.getDrawableSource();if(!(t.orig.width<=0||t.orig.height<=0)&&t.valid&&h){n.canvasContext.setBlendMode(e.blendMode,!0),r.globalAlpha=e.worldAlpha;var d=t.baseTexture.scaleMode===$d.LINEAR,p=n.canvasContext.smoothProperty;p&&r[p]!==d&&(r[p]=d),t.trim?(c=t.trim.width/2+t.trim.x-e.anchor.x*t.orig.width,f=t.trim.height/2+t.trim.y-e.anchor.y*t.orig.height):(c=(.5-e.anchor.x)*t.orig.width,f=(.5-e.anchor.y)*t.orig.height),t.rotate&&(l.copyTo(Ow),l=Ow,Cm.matrixAppendRotationInv(l,t.rotate,c,f),c=0,f=0),c-=s/2,f-=u/2,n.canvasContext.setContextTransform(l,e.roundPixels,1),e.roundPixels&&(c|=0,f|=0);var v=t.baseTexture.resolution,m=n.canvasContext._outerBlend;m&&(r.save(),r.beginPath(),r.rect(c*i,f*i,s*i,u*i),r.clip()),16777215!==e.tint?(e._cachedTint===e.tintValue&&e._tintedCanvas.tintId===e._texture._updateID||(e._cachedTint=e.tintValue,e._tintedCanvas=Qy.getTintedCanvas(e,e.tintValue)),r.drawImage(e._tintedCanvas,0,0,Math.floor(a*v),Math.floor(o*v),Math.floor(c*i),Math.floor(f*i),Math.floor(s*i),Math.floor(u*i))):r.drawImage(h,t._frame.x*v,t._frame.y*v,Math.floor(a*v),Math.floor(o*v),Math.floor(c*i),Math.floor(f*i),Math.floor(s*i),Math.floor(u*i)),m&&r.restore(),n.canvasContext.setBlendMode(qd.NORMAL)}}}},{key:"destroy",value:function(){this.renderer=null}}]),e}();function Rw(e){return Rw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rw(e)}function Nw(e){var t=function(e,t){if("object"!==Rw(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Rw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Rw(t)?t:String(t)}function Dw(e,t,n){return(t=Nw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lw(e){return function(e){if(Array.isArray(e))return Bw(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Bw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bw(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jw(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]}Mw.extension={name:"sprite",type:Bv.CanvasRendererPlugin},Fv.add(Mw);var Fw="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{};var Uw=function(e){return null==e};function zw(e){var t=[];if(void 0===e)return t;if("string"==typeof e)t=e.split(",");else if("number"==typeof e)t=[e];else if(Array.isArray(e))t=Lw(e);else{if(null===e||"object"!==Rw(e))return t;t=[e&&(null==e?void 0:e.x)||0,e&&(null==e?void 0:e.y)||0]}return t.filter((function(e){return!Uw(e)&&!isNaN(e)})).map(Number)}function Vw(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Hw(e){return e instanceof hm||e instanceof Am}var Ww=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function Gw(e,t,n){if(Hw(e[t])&&Hw(n))e[t].copyFrom(n);else if(Hw(e[t])){var r=zw(n);jw(void 0!==r&&r.length>0&&r.length<3,"The property `%s` is a `PIXI.Point` or `PIXI.ObservablePoint` and must be set to a comma-separated string of either 1 or 2 coordinates, a 1 or 2 element array containing coordinates, or a PIXI Point/ObservablePoint. If only one coordinate is given then X and Y will be set to the provided value. Received: `%s` of type `%s`.",t,JSON.stringify(n),Rw(n)),e[t].set(r.shift(),r.shift())}else e[t]=n}var qw,Xw=function(e){var t,n=e;if(!Array.isArray(n)){if(t=e,"[object Object]"!==Object.prototype.toString.call(t))throw new Error("collection needs to be an Array or Object");n=Object.keys(e)}var r={};return n.forEach((function(e){r[e]=!0})),function(e){return void 0!==r[e]}},Yw=function(e){return function(){return!e.apply(void 0,arguments)}},Qw="children",Kw=(Dw(qw={},Qw,!0),Dw(qw,"parent",!0),Dw(qw,"worldAlpha",!0),Dw(qw,"worldTransform",!0),Dw(qw,"worldVisible",!0),qw),Zw={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},$w=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=function(e){return requestAnimationFrame((function(){var t,n;null==e||null===(t=e.__reactpixi)||void 0===t||null===(n=t.root)||void 0===n||n.emit("__REACT_PIXI_REQUEST_RENDER__")}))},i=function(t,r){if(n.hasOwnProperty(t))return jw(r.typeofs.some((function(e){return Rw(n[t])===e}))||r.instanceofs.some((function(e){return n[t]instanceof e})),"".concat(e," ").concat(t," prop is invalid")),n[t]};if(n.texture)return jw(n.texture instanceof vg,"".concat(e," texture needs to be typeof `Texture`")),n.texture;var a=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,vg]});jw(!!a,"".concat(e," could not get texture from props"));var o=vg.from(a);return o.__reactpixi={root:t},o.once("update",r),o.once("loaded",r),o.valid&&r(o),o},Jw=Yw(Xw([].concat(Lw(Object.keys(Kw)),Lw(Ww))));function eS(e,t,n){var r=!1;if(jw(Zy.prototype.isPrototypeOf(e),"instance needs to be typeof `DisplayObject`, got `%s`",Rw(e)),!n.ignoreEvents)for(var i="function"==typeof e.removeListener,a="function"==typeof e.on,o=0;o<Ww.length;o++){var s=Ww[o];t[s]!==n[s]&&(r=!0,"function"==typeof t[s]&&i&&e.removeListener(s,t[s]),"function"==typeof n[s]&&a&&e.on(s,n[s]))}var u=Object.keys(n||{});if(n.overwriteProps){for(var l=0;l<u.length;l++){var c=u[l];t[c]!==n[c]&&(r=!0,Gw(e,c,n[c]))}return r}for(var f=u.filter(Jw),h=0;h<f.length;h++){var d=f[h],p=n[d];n[d]!==t[d]&&(r=!0),void 0!==p?Gw(e,d,p):d in Zw?(console.warn("setting default value: ".concat(d,", from: ").concat(e[d]," to: ").concat(p," for"),e),r=!0,Gw(e,d,Zw[d])):console.warn("ignoring prop: ".concat(d,", from ").concat(e[d]," to ").concat(p," for"),e)}return r}function tS(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var nS=["draw","geometry"],rS=["image","texture"];function iS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iS(Object(n),!0).forEach((function(t){Dw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oS=["image","texture"],sS=["textures","isPlaying","initialFrame","images"],uS=["tileScale","tilePosition","image","texture"],lS=["image","texture"],cS=["image","texture"],fS=Object.freeze({__proto__:null,BitmapText:function(e,t){var n=t.text,r=t.style;return new pw(n,r)},Container:function(){return new nb},Graphics:function(e,t){var n=t.geometry;jw(!n||n instanceof bk,"Graphics geometry needs to be a `PIXI.Graphics`");var r=n?new bk(n.geometry):new bk;return r.applyProps=function(e,t,n){var i=n.draw;n.geometry;var a=eS(e,t,tS(n,nS));return t.draw!==i&&"function"==typeof i&&(a=!0,i.call(r,r)),a},r},NineSlicePlane:function(e,t){var n=t.leftWidth,r=void 0===n?10:n,i=t.topHeight,a=void 0===i?10:i,o=t.rightWidth,s=void 0===o?10:o,u=t.bottomHeight,l=void 0===u?10:u,c=$w("NineSlicePlane",e,t),f=new Ik(c,r,a,s,l);return f.applyProps=function(t,n,r){var i=r.image,a=r.texture,o=eS(t,n,tS(r,rS));return(i||a)&&(a!==n.texture&&(o=!0),t.texture=$w("NineSlicePlane",e,r)),o},f},ParticleContainer:function(e,t){var n=t.maxSize,r=void 0===n?1500:n,i=t.batchSize,a=void 0===i?16384:i,o=t.autoResize,s=void 0!==o&&o,u=aS(aS({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),t.properties||{}),l=aS(aS({},{children:!1,texture:!1,baseTexture:!1}),t.destroyOptions||{}),c=new pb(r,u,a,s);return c.willUnmount=function(e,t,n){e.destroy(l)},c},Sprite:function(e,t){var n=new ab($w("Sprite",e,t));return n.applyProps=function(t,n,r){var i=r.image,a=r.texture,o=eS(t,n,tS(r,oS));return(a&&n.texture!==r.texture||i&&n.image!==r.image)&&(n.texture!==r.texture&&(o=!0),t.texture=$w("Sprite",e,r)),o},n},Text:function(e,t){var n=t.text,r=void 0===n?"":n,i=t.style,a=void 0===i?{}:i,o=t.isSprite,s=new Ab(r,a);return o?(s.updateText(),new ab(s.texture)):s},TilingSprite:function(e,t){var n=t.width,r=void 0===n?100:n,i=t.height,a=void 0===i?100:i,o=$w("TilingSprite",e,t),s=new sb(o,r,a);return s.applyProps=function(t,n,r){var i=r.tileScale,a=r.tilePosition,o=r.image,s=r.texture,u=eS(t,n,tS(r,uS));if(a){var l,c=zw(a);(l=t.tilePosition).set.apply(l,Lw(c)),u=!Vw(zw(n.tilePosition),c)||u}if(i){var f,h=zw(i);(f=t.tileScale).set.apply(f,Lw(h)),u=!Vw(zw(n.tileScale),h)||u}return(o||s)&&(s!==n.texture&&(u=!0),t.texture=$w("Sprite",e,r)),u},s},SimpleMesh:function(e,t){var n=$w("Mesh",e,t),r=t.vertices,i=t.uvs,a=t.indices,o=t.drawMode,s=void 0===o?Xd.TRIANGLES:o,u=new Ok(n,r,i,a,s);return u.applyProps=function(t,n,r){var i=r.image,a=r.texture,o=eS(t,n,tS(r,lS));return(i||a)&&(a!==n.texture&&(o=!0),t.texture=$w("Mesh",e,r)),o},u},SimpleRope:function(e,t){var n=$w("SimpleRope",e,t),r=t.points,i=new Mk(n,r);return i.applyProps=function(t,n,r){var i=r.image,a=r.texture,o=tS(r,cS);jw(Array.isArray(r.points),"SimpleRope points needs to be %s","Array<PIXI.Point>");var s=eS(t,n,o);return(i||a)&&(a!==n.texture&&(s=!0),t.texture=$w("SimpleRope",e,r)),s},i},AnimatedSprite:function(e,t){var n=t.textures,r=t.images,i=t.isPlaying,a=void 0===i||i,o=t.initialFrame,s=function(e){return e.map((function(e){return jw(e instanceof vg||(null==e?void 0:e.texture),"AnimationSprite texture needs to be an array of `PIXI.Texture` or `{ texture: PIXI.Texture, time:\n                number }`"),e}))},u=r?Xk.fromImages(r):new Xk(s(n));return u[a?"gotoAndPlay":"gotoAndStop"](o||0),u.applyProps=function(e,t,n){var r=n.textures,i=n.isPlaying,a=n.initialFrame,o=n.images,l=eS(e,t,tS(n,sS));if(o&&t.images!==o){for(var c=[],f=0;f<o.length;++f)c.push(vg.from(o[f]));e.textures=c,l=!0}if(r&&t.textures!==r&&(e.textures=s(r),l=!0),i!==t.isPlaying||a!==t.initialFrame){var h="number"==typeof a?a:u.currentFrame||0;u[i?"gotoAndPlay":"gotoAndStop"](h),l=!0}return l},u}});function hS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hS(Object(n),!0).forEach((function(t){Dw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pS={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},vS=Object.keys(pS).reduce((function(e,t){return dS(dS({},e),{},Dw({},t,fS[t]))}),{}),mS={};var gS,yS,bS,_S,xS={},kS={},wS={get exports(){return kS},set exports(e){kS=e}},SS={};function TS(){return yS||(yS=1,wS.exports=(gS||(gS=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>i(u,n))l<a&&0>i(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<a&&0>i(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var u=[],l=[],c=1,f=null,h=3,d=!1,p=!1,v=!1,m="function"==typeof setTimeout?setTimeout:null,g="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(l);null!==i;){if(null===i.callback)r(l);else{if(!(i.startTime<=e))break;r(l),i.sortIndex=i.expirationTime,t(u,i)}i=n(l)}}function _(e){if(v=!1,b(e),!p)if(null!==n(u))p=!0,M(x);else{var t=n(l);null!==t&&R(_,t.startTime-e)}}function x(t,i){p=!1,v&&(v=!1,g(T),T=-1),d=!0;var a=h;try{for(b(i),f=n(u);null!==f&&(!(f.expirationTime>i)||t&&!A());){var o=f.callback;if("function"==typeof o){f.callback=null,h=f.priorityLevel;var s=o(f.expirationTime<=i);i=e.unstable_now(),"function"==typeof s?f.callback=s:f===n(u)&&r(u),b(i)}else r(u);f=n(u)}if(null!==f)var c=!0;else{var m=n(l);null!==m&&R(_,m.startTime-i),c=!1}return c}finally{f=null,h=a,d=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,w=!1,S=null,T=-1,E=5,C=-1;function A(){return!(e.unstable_now()-C<E)}function P(){if(null!==S){var t=e.unstable_now();C=t;var n=!0;try{n=S(!0,t)}finally{n?k():(w=!1,S=null)}}else w=!1}if("function"==typeof y)k=function(){y(P)};else if("undefined"!=typeof MessageChannel){var I=new MessageChannel,O=I.port2;I.port1.onmessage=P,k=function(){O.postMessage(null)}}else k=function(){m(P,0)};function M(e){S=e,w||(w=!0,k())}function R(t,n){T=m((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||d||(p=!0,M(x))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?o+a:o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return r={id:c++,callback:i,priorityLevel:r,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(r.sortIndex=a,t(l,r),null===n(u)&&r===n(l)&&(v?(g(T),T=-1):v=!0,R(_,a-o))):(r.sortIndex=s,t(u,r),p||d||(p=!0,M(x))),r},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(SS)),SS)),kS}({get exports(){return xS},set exports(e){xS=e}}).exports=(_S||(_S=1,bS=function(t){var n={},r=e,i=TS(),a=Object.assign;function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=Symbol.for("react.element"),l=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),p=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),x=Symbol.iterator;function k(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=x&&e[x]||e["@@iterator"])?e:null}function w(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case c:return"Fragment";case l:return"Portal";case h:return"Profiler";case f:return"StrictMode";case m:return"Suspense";case g:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case p:return(e.displayName||"Context")+".Consumer";case d:return(e._context.displayName||"Context")+".Provider";case v:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case y:return null!==(t=e.displayName||null)?t:w(e.type)||"Memo";case b:t=e._payload,e=e._init;try{return w(e(t))}catch(e){}}return null}function S(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return w(t);case 8:return t===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function T(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function E(e){if(T(e)!==e)throw Error(o(188))}function C(e){var t=e.alternate;if(!t){if(null===(t=T(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return E(i),e;if(a===r)return E(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}function A(e){return null!==(e=C(e))?P(e):null}function P(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=P(e);if(null!==t)return t;e=e.sibling}return null}function I(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=I(e);if(null!==t)return t}e=e.sibling}return null}var O,M=Array.isArray,R=t.getPublicInstance,N=t.getRootHostContext,D=t.getChildHostContext,B=t.prepareForCommit,L=t.resetAfterCommit,j=t.createInstance,F=t.appendInitialChild,U=t.finalizeInitialChildren,z=t.prepareUpdate,V=t.shouldSetTextContent,H=t.createTextInstance,W=t.scheduleTimeout,G=t.cancelTimeout,q=t.noTimeout,X=t.isPrimaryRenderer,Y=t.supportsMutation,Q=t.supportsPersistence,K=t.supportsHydration,Z=t.getInstanceFromNode,$=t.preparePortalMount,J=t.getCurrentEventPriority,ee=t.detachDeletedInstance,te=t.supportsMicrotasks,ne=t.scheduleMicrotask,re=t.supportsTestSelectors,ie=t.findFiberRoot,ae=t.getBoundingRect,oe=t.getTextContent,se=t.isHiddenSubtree,ue=t.matchAccessibilityRole,le=t.setFocusIfFocusable,ce=t.setupIntersectionObserver,fe=t.appendChild,he=t.appendChildToContainer,de=t.commitTextUpdate,pe=t.commitMount,ve=t.commitUpdate,me=t.insertBefore,ge=t.insertInContainerBefore,ye=t.removeChild,be=t.removeChildFromContainer,_e=t.resetTextContent,xe=t.hideInstance,ke=t.hideTextInstance,we=t.unhideInstance,Se=t.unhideTextInstance,Te=t.clearContainer,Ee=t.cloneInstance,Ce=t.createContainerChildSet,Ae=t.appendChildToContainerChildSet,Pe=t.finalizeContainerChildren,Ie=t.replaceContainerChildren,Oe=t.cloneHiddenInstance,Me=t.cloneHiddenTextInstance,Re=t.canHydrateInstance,Ne=t.canHydrateTextInstance,De=t.canHydrateSuspenseInstance,Be=t.isSuspenseInstancePending,Le=t.isSuspenseInstanceFallback,je=t.getSuspenseInstanceFallbackErrorDetails,Fe=t.registerSuspenseInstanceRetry,Ue=t.getNextHydratableSibling,ze=t.getFirstHydratableChild,Ve=t.getFirstHydratableChildWithinContainer,He=t.getFirstHydratableChildWithinSuspenseInstance,We=t.hydrateInstance,Ge=t.hydrateTextInstance,qe=t.hydrateSuspenseInstance,Xe=t.getNextHydratableInstanceAfterSuspenseInstance,Ye=t.commitHydratedContainer,Qe=t.commitHydratedSuspenseInstance,Ke=t.clearSuspenseBoundary,Ze=t.clearSuspenseBoundaryFromContainer,$e=t.shouldDeleteUnhydratedTailInstances,Je=t.didNotMatchHydratedContainerTextInstance,et=t.didNotMatchHydratedTextInstance;function tt(e){if(void 0===O)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var nt=!1;function rt(e,t){if(!e||nt)return"";nt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{nt=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?tt(e):""}var it=Object.prototype.hasOwnProperty,at=[],ot=-1;function st(e){return{current:e}}function ut(e){0>ot||(e.current=at[ot],at[ot]=null,ot--)}function lt(e,t){ot++,at[ot]=e.current,e.current=t}var ct={},ft=st(ct),ht=st(!1),dt=ct;function pt(e,t){var n=e.type.contextTypes;if(!n)return ct;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function vt(e){return null!=e.childContextTypes}function mt(){ut(ht),ut(ft)}function gt(e,t,n){if(ft.current!==ct)throw Error(o(168));lt(ft,t),lt(ht,n)}function yt(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,S(e)||"Unknown",i));return a({},n,r)}function bt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ct,dt=ft.current,lt(ft,e),lt(ht,ht.current),!0}function _t(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=yt(e,t,dt),r.__reactInternalMemoizedMergedChildContext=e,ut(ht),ut(ft),lt(ft,e)):ut(ht),lt(ht,n)}var xt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(kt(e)/wt|0)|0},kt=Math.log,wt=Math.LN2,St=64,Tt=4194304;function Et(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ct(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=Et(s):0!==(a&=o)&&(r=Et(a))}else 0!==(o=n&~i)?r=Et(o):0!==a&&(r=Et(a));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!=(4194240&a)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-xt(t)),r|=e[n],t&=~i;return r}function At(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function It(){var e=St;return 0==(4194240&(St<<=1))&&(St=64),e}function Ot(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-xt(t)]=n}function Rt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Nt=0;function Dt(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var Bt=i.unstable_scheduleCallback,Lt=i.unstable_cancelCallback,jt=i.unstable_shouldYield,Ft=i.unstable_requestPaint,Ut=i.unstable_now,zt=i.unstable_ImmediatePriority,Vt=i.unstable_UserBlockingPriority,Ht=i.unstable_NormalPriority,Wt=i.unstable_IdlePriority,Gt=null,qt=null,Xt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Yt=null,Qt=!1,Kt=!1;function Zt(e){null===Yt?Yt=[e]:Yt.push(e)}function $t(){if(!Kt&&null!==Yt){Kt=!0;var e=0,t=Nt;try{var n=Yt;for(Nt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Yt=null,Qt=!1}catch(t){throw null!==Yt&&(Yt=Yt.slice(e+1)),Bt(zt,$t),t}finally{Nt=t,Kt=!1}}return null}var Jt=[],en=0,tn=null,nn=0,rn=[],an=0,on=null,sn=1,un="";function ln(e,t){Jt[en++]=nn,Jt[en++]=tn,tn=e,nn=t}function cn(e,t,n){rn[an++]=sn,rn[an++]=un,rn[an++]=on,on=e;var r=sn;e=un;var i=32-xt(r)-1;r&=~(1<<i),n+=1;var a=32-xt(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,sn=1<<32-xt(t)+i|n<<i|r,un=a+e}else sn=1<<a|n<<i|r,un=e}function fn(e){null!==e.return&&(ln(e,1),cn(e,1,0))}function hn(e){for(;e===tn;)tn=Jt[--en],Jt[en]=null,nn=Jt[--en],Jt[en]=null;for(;e===on;)on=rn[--an],rn[an]=null,un=rn[--an],rn[an]=null,sn=rn[--an],rn[an]=null}var dn=null,pn=null,vn=!1,mn=!1,gn=null;function yn(e,t){var n=ss(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function bn(e,t){switch(e.tag){case 5:return null!==(t=Re(t,e.type,e.pendingProps))&&(e.stateNode=t,dn=e,pn=ze(t),!0);case 6:return null!==(t=Ne(t,e.pendingProps))&&(e.stateNode=t,dn=e,pn=null,!0);case 13:if(null!==(t=De(t))){var n=null!==on?{id:sn,overflow:un}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=ss(18,null,null,0)).stateNode=t,n.return=e,e.child=n,dn=e,pn=null,!0}return!1;default:return!1}}function _n(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function xn(e){if(vn){var t=pn;if(t){var n=t;if(!bn(e,t)){if(_n(e))throw Error(o(418));t=Ue(n);var r=dn;t&&bn(e,t)?yn(r,n):(e.flags=-4097&e.flags|2,vn=!1,dn=e)}}else{if(_n(e))throw Error(o(418));e.flags=-4097&e.flags|2,vn=!1,dn=e}}}function kn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;dn=e}function wn(e){if(!K||e!==dn)return!1;if(!vn)return kn(e),vn=!0,!1;if(3!==e.tag&&(5!==e.tag||$e(e.type)&&!V(e.type,e.memoizedProps))){var t=pn;if(t){if(_n(e))throw Sn(),Error(o(418));for(;t;)yn(e,t),t=Ue(t)}}if(kn(e),13===e.tag){if(!K)throw Error(o(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));pn=Xe(e)}else pn=dn?Ue(e.stateNode):null;return!0}function Sn(){for(var e=pn;e;)e=Ue(e)}function Tn(){K&&(pn=dn=null,mn=vn=!1)}function En(e){null===gn?gn=[e]:gn.push(e)}var Cn=s.ReactCurrentBatchConfig;function An(e,t){if(Xt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!it.call(t,i)||!Xt(e[i],t[i]))return!1}return!0}function Pn(e){switch(e.tag){case 5:return tt(e.type);case 16:return tt("Lazy");case 13:return tt("Suspense");case 19:return tt("SuspenseList");case 0:case 2:case 15:return rt(e.type,!1);case 11:return rt(e.type.render,!1);case 1:return rt(e.type,!0);default:return""}}function In(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var On=st(null),Mn=null,Rn=null,Nn=null;function Dn(){Nn=Rn=Mn=null}function Bn(e,t,n){X?(lt(On,t._currentValue),t._currentValue=n):(lt(On,t._currentValue2),t._currentValue2=n)}function Ln(e){var t=On.current;ut(On),X?e._currentValue=t:e._currentValue2=t}function jn(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Fn(e,t){Mn=e,Nn=Rn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Ni=!0),e.firstContext=null)}function Un(e){var t=X?e._currentValue:e._currentValue2;if(Nn!==e)if(e={context:e,memoizedValue:t,next:null},null===Rn){if(null===Mn)throw Error(o(308));Rn=e,Mn.dependencies={lanes:0,firstContext:e}}else Rn=Rn.next=e;return t}var zn=null;function Vn(e){null===zn?zn=[e]:zn.push(e)}function Hn(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Vn(t)):(n.next=i.next,i.next=n),t.interleaved=n,Wn(e,r)}function Wn(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Gn=!1;function qn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qn(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&no)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Wn(e,n)}return null===(i=r.interleaved)?(t.next=t,Vn(r)):(t.next=i.next,i.next=t),r.interleaved=t,Wn(e,n)}function Kn(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Rt(e,n)}}function Zn(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $n(e,t,n,r){var i=e.updateQueue;Gn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var l=u,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var f=e.alternate;null!==f&&(u=(f=f.updateQueue).lastBaseUpdate)!==s&&(null===u?f.firstBaseUpdate=c:u.next=c,f.lastBaseUpdate=l)}if(null!==o){var h=i.baseState;for(s=0,f=c=l=null,u=o;;){var d=u.lane,p=u.eventTime;if((r&d)===d){null!==f&&(f=f.next={eventTime:p,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var v=e,m=u;switch(d=t,p=n,m.tag){case 1:if("function"==typeof(v=m.payload)){h=v.call(p,h,d);break e}h=v;break e;case 3:v.flags=-65537&v.flags|128;case 0:if(null==(d="function"==typeof(v=m.payload)?v.call(p,h,d):v))break e;h=a({},h,d);break e;case 2:Gn=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[u]:d.push(u))}else p={eventTime:p,lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===f?(c=f=p,l=h):f=f.next=p,s|=d;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(d=u).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===f&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=f,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);co|=s,e.lanes=s,e.memoizedState=h}}function Jn(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var er=(new r.Component).refs;function tr(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var nr={isMounted:function(e){return!!(e=e._reactInternals)&&T(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Oo(),i=Mo(e),a=Yn(r,i);a.payload=t,null!=n&&(a.callback=n),null!==(t=Qn(e,a,i))&&(Ro(t,e,i,r),Kn(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Oo(),i=Mo(e),a=Yn(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=Qn(e,a,i))&&(Ro(t,e,i,r),Kn(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Oo(),r=Mo(e),i=Yn(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=Qn(e,i,r))&&(Ro(t,e,r,n),Kn(t,e,r))}};function rr(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||!An(n,r)||!An(i,a)}function ir(e,t,n){var r=!1,i=ct,a=t.contextType;return"object"==typeof a&&null!==a?a=Un(a):(i=vt(t)?dt:ft.current,a=(r=null!=(r=t.contextTypes))?pt(e,i):ct),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=nr,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ar(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&nr.enqueueReplaceState(t,t.state,null)}function or(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=er,qn(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=Un(a):(a=vt(t)?dt:ft.current,i.context=pt(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(tr(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&nr.enqueueReplaceState(i,i.state,null),$n(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function sr(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===er&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function ur(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lr(e){return(0,e._init)(e._payload)}function cr(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=ls(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function f(e,t,n,r){return null===t||6!==t.tag?((t=ds(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n,r){var a=n.type;return a===c?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===b&&lr(a)===t.type)?((r=i(t,n.props)).ref=sr(e,t,n),r.return=e,r):((r=cs(n.type,n.key,n.props,null,e.mode,r)).ref=sr(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ps(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,a){return null===t||7!==t.tag?((t=fs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function v(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=ds(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case u:return(n=cs(t.type,t.key,t.props,null,e.mode,n)).ref=sr(e,null,t),n.return=e,n;case l:return(t=ps(t,e.mode,n)).return=e,t;case b:return v(e,(0,t._init)(t._payload),n)}if(M(t)||k(t))return(t=fs(t,e.mode,n,null)).return=e,t;ur(e,t)}return null}function m(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:f(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case u:return n.key===i?h(e,t,n,r):null;case l:return n.key===i?d(e,t,n,r):null;case b:return m(e,t,(i=n._init)(n._payload),r)}if(M(n)||k(n))return null!==i?null:p(e,t,n,r,null);ur(e,n)}return null}function g(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return f(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case u:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i);case l:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case b:return g(e,t,n,(0,r._init)(r._payload),i)}if(M(r)||k(r))return p(t,e=e.get(n)||null,r,i,null);ur(t,r)}return null}function y(i,o,s,u){for(var l=null,c=null,f=o,h=o=0,d=null;null!==f&&h<s.length;h++){f.index>h?(d=f,f=null):d=f.sibling;var p=m(i,f,s[h],u);if(null===p){null===f&&(f=d);break}e&&f&&null===p.alternate&&t(i,f),o=a(p,o,h),null===c?l=p:c.sibling=p,c=p,f=d}if(h===s.length)return n(i,f),vn&&ln(i,h),l;if(null===f){for(;h<s.length;h++)null!==(f=v(i,s[h],u))&&(o=a(f,o,h),null===c?l=f:c.sibling=f,c=f);return vn&&ln(i,h),l}for(f=r(i,f);h<s.length;h++)null!==(d=g(f,i,h,s[h],u))&&(e&&null!==d.alternate&&f.delete(null===d.key?h:d.key),o=a(d,o,h),null===c?l=d:c.sibling=d,c=d);return e&&f.forEach((function(e){return t(i,e)})),vn&&ln(i,h),l}function _(i,s,u,l){var c=k(u);if("function"!=typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var f=c=null,h=s,d=s=0,p=null,y=u.next();null!==h&&!y.done;d++,y=u.next()){h.index>d?(p=h,h=null):p=h.sibling;var b=m(i,h,y.value,l);if(null===b){null===h&&(h=p);break}e&&h&&null===b.alternate&&t(i,h),s=a(b,s,d),null===f?c=b:f.sibling=b,f=b,h=p}if(y.done)return n(i,h),vn&&ln(i,d),c;if(null===h){for(;!y.done;d++,y=u.next())null!==(y=v(i,y.value,l))&&(s=a(y,s,d),null===f?c=y:f.sibling=y,f=y);return vn&&ln(i,d),c}for(h=r(i,h);!y.done;d++,y=u.next())null!==(y=g(h,i,d,y.value,l))&&(e&&null!==y.alternate&&h.delete(null===y.key?d:y.key),s=a(y,s,d),null===f?c=y:f.sibling=y,f=y);return e&&h.forEach((function(e){return t(i,e)})),vn&&ln(i,d),c}return function e(r,a,o,f){if("object"==typeof o&&null!==o&&o.type===c&&null===o.key&&(o=o.props.children),"object"==typeof o&&null!==o){switch(o.$$typeof){case u:e:{for(var h=o.key,d=a;null!==d;){if(d.key===h){if((h=o.type)===c){if(7===d.tag){n(r,d.sibling),(a=i(d,o.props.children)).return=r,r=a;break e}}else if(d.elementType===h||"object"==typeof h&&null!==h&&h.$$typeof===b&&lr(h)===d.type){n(r,d.sibling),(a=i(d,o.props)).ref=sr(r,d,o),a.return=r,r=a;break e}n(r,d);break}t(r,d),d=d.sibling}o.type===c?((a=fs(o.props.children,r.mode,f,o.key)).return=r,r=a):((f=cs(o.type,o.key,o.props,null,r.mode,f)).ref=sr(r,a,o),f.return=r,r=f)}return s(r);case l:e:{for(d=o.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=ps(o,r.mode,f)).return=r,r=a}return s(r);case b:return e(r,a,(d=o._init)(o._payload),f)}if(M(o))return y(r,a,o,f);if(k(o))return _(r,a,o,f);ur(r,o)}return"string"==typeof o&&""!==o||"number"==typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=ds(o,r.mode,f)).return=r,r=a),s(r)):n(r,a)}}var fr=cr(!0),hr=cr(!1),dr={},pr=st(dr),vr=st(dr),mr=st(dr);function gr(e){if(e===dr)throw Error(o(174));return e}function yr(e,t){lt(mr,t),lt(vr,e),lt(pr,dr),e=N(t),ut(pr),lt(pr,e)}function br(){ut(pr),ut(vr),ut(mr)}function _r(e){var t=gr(mr.current),n=gr(pr.current);n!==(t=D(n,e.type,t))&&(lt(vr,e),lt(pr,t))}function xr(e){vr.current===e&&(ut(pr),ut(vr))}var kr=st(0);function wr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Be(n)||Le(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sr=[];function Tr(){for(var e=0;e<Sr.length;e++){var t=Sr[e];X?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}Sr.length=0}var Er=s.ReactCurrentDispatcher,Cr=s.ReactCurrentBatchConfig,Ar=0,Pr=null,Ir=null,Or=null,Mr=!1,Rr=!1,Nr=0,Dr=0;function Br(){throw Error(o(321))}function Lr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xt(e[n],t[n]))return!1;return!0}function jr(e,t,n,r,i,a){if(Ar=a,Pr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Er.current=null===e||null===e.memoizedState?xi:ki,e=n(r,i),Rr){a=0;do{if(Rr=!1,Nr=0,25<=a)throw Error(o(301));a+=1,Or=Ir=null,t.updateQueue=null,Er.current=wi,e=n(r,i)}while(Rr)}if(Er.current=_i,t=null!==Ir&&null!==Ir.next,Ar=0,Or=Ir=Pr=null,Mr=!1,t)throw Error(o(300));return e}function Fr(){var e=0!==Nr;return Nr=0,e}function Ur(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Or?Pr.memoizedState=Or=e:Or=Or.next=e,Or}function zr(){if(null===Ir){var e=Pr.alternate;e=null!==e?e.memoizedState:null}else e=Ir.next;var t=null===Or?Pr.memoizedState:Or.next;if(null!==t)Or=t,Ir=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Ir=e).memoizedState,baseState:Ir.baseState,baseQueue:Ir.baseQueue,queue:Ir.queue,next:null},null===Or?Pr.memoizedState=Or=e:Or=Or.next=e}return Or}function Vr(e,t){return"function"==typeof t?t(e):t}function Hr(e){var t=zr(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Ir,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,l=null,c=a;do{var f=c.lane;if((Ar&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=h,s=r):l=l.next=h,Pr.lanes|=f,co|=f}c=c.next}while(null!==c&&c!==a);null===l?s=r:l.next=u,Xt(r,t.memoizedState)||(Ni=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,Pr.lanes|=a,co|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Wr(e){var t=zr(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Xt(a,t.memoizedState)||(Ni=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Gr(){}function qr(e,t){var n=Pr,r=zr(),i=t(),a=!Xt(r.memoizedState,i);if(a&&(r.memoizedState=i,Ni=!0),r=r.queue,ii(Qr.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==Or&&1&Or.memoizedState.tag){if(n.flags|=2048,Jr(9,Yr.bind(null,n,r,i,t),void 0,null),null===ro)throw Error(o(349));0!=(30&Ar)||Xr(n,t,i)}return i}function Xr(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Pr.updateQueue)?(t={lastEffect:null,stores:null},Pr.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Yr(e,t,n,r){t.value=n,t.getSnapshot=r,Kr(t)&&Zr(e)}function Qr(e,t,n){return n((function(){Kr(t)&&Zr(e)}))}function Kr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xt(e,n)}catch(e){return!0}}function Zr(e){var t=Wn(e,1);null!==t&&Ro(t,e,1,-1)}function $r(e){var t=Ur();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:e},t.queue=e,e=e.dispatch=mi.bind(null,Pr,e),[t.memoizedState,e]}function Jr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Pr.updateQueue)?(t={lastEffect:null,stores:null},Pr.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ei(){return zr().memoizedState}function ti(e,t,n,r){var i=Ur();Pr.flags|=e,i.memoizedState=Jr(1|t,n,void 0,void 0===r?null:r)}function ni(e,t,n,r){var i=zr();r=void 0===r?null:r;var a=void 0;if(null!==Ir){var o=Ir.memoizedState;if(a=o.destroy,null!==r&&Lr(r,o.deps))return void(i.memoizedState=Jr(t,n,a,r))}Pr.flags|=e,i.memoizedState=Jr(1|t,n,a,r)}function ri(e,t){return ti(8390656,8,e,t)}function ii(e,t){return ni(2048,8,e,t)}function ai(e,t){return ni(4,2,e,t)}function oi(e,t){return ni(4,4,e,t)}function si(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ui(e,t,n){return n=null!=n?n.concat([e]):null,ni(4,4,si.bind(null,t,e),n)}function li(){}function ci(e,t){var n=zr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Lr(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function fi(e,t){var n=zr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Lr(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function hi(e,t,n){return 0==(21&Ar)?(e.baseState&&(e.baseState=!1,Ni=!0),e.memoizedState=n):(Xt(n,t)||(n=It(),Pr.lanes|=n,co|=n,e.baseState=!0),t)}function di(e,t){var n=Nt;Nt=0!==n&&4>n?n:4,e(!0);var r=Cr.transition;Cr.transition={};try{e(!1),t()}finally{Nt=n,Cr.transition=r}}function pi(){return zr().memoizedState}function vi(e,t,n){var r=Mo(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gi(e)?yi(t,n):null!==(n=Hn(e,t,n,r))&&(Ro(n,e,r,Oo()),bi(n,t,r))}function mi(e,t,n){var r=Mo(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gi(e))yi(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Xt(s,o)){var u=t.interleaved;return null===u?(i.next=i,Vn(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(e){}null!==(n=Hn(e,t,i,r))&&(Ro(n,e,r,i=Oo()),bi(n,t,r))}}function gi(e){var t=e.alternate;return e===Pr||null!==t&&t===Pr}function yi(e,t){Rr=Mr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function bi(e,t,n){if(0!=(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Rt(e,n)}}var _i={readContext:Un,useCallback:Br,useContext:Br,useEffect:Br,useImperativeHandle:Br,useInsertionEffect:Br,useLayoutEffect:Br,useMemo:Br,useReducer:Br,useRef:Br,useState:Br,useDebugValue:Br,useDeferredValue:Br,useTransition:Br,useMutableSource:Br,useSyncExternalStore:Br,useId:Br,unstable_isNewReconciler:!1},xi={readContext:Un,useCallback:function(e,t){return Ur().memoizedState=[e,void 0===t?null:t],e},useContext:Un,useEffect:ri,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ti(4194308,4,si.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ti(4194308,4,e,t)},useInsertionEffect:function(e,t){return ti(4,2,e,t)},useMemo:function(e,t){var n=Ur();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ur();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=vi.bind(null,Pr,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ur().memoizedState=e},useState:$r,useDebugValue:li,useDeferredValue:function(e){return Ur().memoizedState=e},useTransition:function(){var e=$r(!1),t=e[0];return e=di.bind(null,e[1]),Ur().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Pr,i=Ur();if(vn){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===ro)throw Error(o(349));0!=(30&Ar)||Xr(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,ri(Qr.bind(null,r,a,e),[e]),r.flags|=2048,Jr(9,Yr.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ur(),t=ro.identifierPrefix;if(vn){var n=un;t=":"+t+"R"+(n=(sn&~(1<<32-xt(sn)-1)).toString(32)+n),0<(n=Nr++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Dr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ki={readContext:Un,useCallback:ci,useContext:Un,useEffect:ii,useImperativeHandle:ui,useInsertionEffect:ai,useLayoutEffect:oi,useMemo:fi,useReducer:Hr,useRef:ei,useState:function(){return Hr(Vr)},useDebugValue:li,useDeferredValue:function(e){return hi(zr(),Ir.memoizedState,e)},useTransition:function(){return[Hr(Vr)[0],zr().memoizedState]},useMutableSource:Gr,useSyncExternalStore:qr,useId:pi,unstable_isNewReconciler:!1},wi={readContext:Un,useCallback:ci,useContext:Un,useEffect:ii,useImperativeHandle:ui,useInsertionEffect:ai,useLayoutEffect:oi,useMemo:fi,useReducer:Wr,useRef:ei,useState:function(){return Wr(Vr)},useDebugValue:li,useDeferredValue:function(e){var t=zr();return null===Ir?t.memoizedState=e:hi(t,Ir.memoizedState,e)},useTransition:function(){return[Wr(Vr)[0],zr().memoizedState]},useMutableSource:Gr,useSyncExternalStore:qr,useId:pi,unstable_isNewReconciler:!1};function Si(e,t){try{var n="",r=t;do{n+=Pn(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function Ti(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function Ei(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var Ci="function"==typeof WeakMap?WeakMap:Map;function Ai(e,t,n){(n=Yn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){xo||(xo=!0,ko=r),Ei(0,t)},n}function Pi(e,t,n){(n=Yn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ei(0,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){Ei(0,t),"function"!=typeof r&&(null===wo?wo=new Set([this]):wo.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Ii(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Ci;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ts.bind(null,e,t,n),t.then(e,e))}function Oi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Mi(e,t,n,r,i){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Yn(-1,1)).tag=2,Qn(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var Ri=s.ReactCurrentOwner,Ni=!1;function Di(e,t,n,r){t.child=null===e?hr(t,null,n,r):fr(t,e.child,n,r)}function Bi(e,t,n,r,i){n=n.render;var a=t.ref;return Fn(t,i),r=jr(e,t,n,r,a,i),n=Fr(),null===e||Ni?(vn&&n&&fn(t),t.flags|=1,Di(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,aa(e,t,i))}function Li(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||us(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=cs(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ji(e,t,a,r,i))}if(a=e.child,0==(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:An)(o,r)&&e.ref===t.ref)return aa(e,t,i)}return t.flags|=1,(e=ls(a,r)).ref=t.ref,e.return=t,t.child=e}function ji(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(An(a,r)&&e.ref===t.ref){if(Ni=!1,t.pendingProps=r=a,0==(e.lanes&i))return t.lanes=e.lanes,aa(e,t,i);0!=(131072&e.flags)&&(Ni=!0)}}return zi(e,t,n,r,i)}function Fi(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(so,oo),oo|=n;else{if(0==(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,lt(so,oo),oo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,lt(so,oo),oo|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,lt(so,oo),oo|=r;return Di(e,t,i,n),t.child}function Ui(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function zi(e,t,n,r,i){var a=vt(n)?dt:ft.current;return a=pt(t,a),Fn(t,i),n=jr(e,t,n,r,a,i),r=Fr(),null===e||Ni?(vn&&r&&fn(t),t.flags|=1,Di(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,aa(e,t,i))}function Vi(e,t,n,r,i){if(vt(n)){var a=!0;bt(t)}else a=!1;if(Fn(t,i),null===t.stateNode)ia(e,t),ir(t,n,r),or(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;l="object"==typeof l&&null!==l?Un(l):pt(t,l=vt(n)?dt:ft.current);var c=n.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;f||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||u!==l)&&ar(t,o,r,l),Gn=!1;var h=t.memoizedState;o.state=h,$n(t,r,o,i),u=t.memoizedState,s!==r||h!==u||ht.current||Gn?("function"==typeof c&&(tr(t,n,c,r),u=t.memoizedState),(s=Gn||rr(t,n,s,r,h,u,l))?(f||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Xn(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:In(t.type,s),o.props=l,f=t.pendingProps,h=o.context,u="object"==typeof(u=n.contextType)&&null!==u?Un(u):pt(t,u=vt(n)?dt:ft.current);var d=n.getDerivedStateFromProps;(c="function"==typeof d||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==f||h!==u)&&ar(t,o,r,u),Gn=!1,h=t.memoizedState,o.state=h,$n(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||ht.current||Gn?("function"==typeof d&&(tr(t,n,d,r),p=t.memoizedState),(l=Gn||rr(t,n,l,r,h,p,u)||!1)?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Hi(e,t,n,r,a,i)}function Hi(e,t,n,r,i,a){Ui(e,t);var o=0!=(128&t.flags);if(!r&&!o)return i&&_t(t,n,!1),aa(e,t,a);r=t.stateNode,Ri.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=fr(t,e.child,null,a),t.child=fr(t,null,s,a)):Di(e,t,s,a),t.memoizedState=r.state,i&&_t(t,n,!0),t.child}function Wi(e){var t=e.stateNode;t.pendingContext?gt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gt(0,t.context,!1),yr(e,t.containerInfo)}function Gi(e,t,n,r,i){return Tn(),En(i),t.flags|=256,Di(e,t,n,r),t.child}var qi,Xi,Yi,Qi,Ki={dehydrated:null,treeContext:null,retryLane:0};function Zi(e){return{baseLanes:e,cachePool:null,transitions:null}}function $i(e,t,n){var r,i=t.pendingProps,a=kr.current,s=!1,u=0!=(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),lt(kr,1&a),null===e)return xn(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:Le(e)?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0==(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=hs(u,i,0,null),e=fs(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Zi(n),t.memoizedState=Ki,e):Ji(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,ea(e,t,s,r=Ti(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=hs({mode:"visible",children:r.children},i,0,null),(a=fs(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!=(1&t.mode)&&fr(t,e.child,null,s),t.child.memoizedState=Zi(s),t.memoizedState=Ki,a);if(0==(1&t.mode))return ea(e,t,s,null);if(Le(i))return r=je(i).digest,ea(e,t,s,r=Ti(a=Error(o(419)),r,void 0));if(n=0!=(s&e.childLanes),Ni||n){if(null!==(r=ro)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!=(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Wn(e,i),Ro(r,e,i,-1))}return Go(),ea(e,t,s,r=Ti(Error(o(421))))}return Be(i)?(t.flags|=128,t.child=e.child,t=rs.bind(null,e),Fe(i,t),null):(e=a.treeContext,K&&(pn=He(i),dn=t,vn=!0,gn=null,mn=!1,null!==e&&(rn[an++]=sn,rn[an++]=un,rn[an++]=on,sn=e.id,un=e.overflow,on=t)),(t=Ji(t,r.children)).flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:i.children};return 0==(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=ls(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=ls(r,s):(s=fs(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Zi(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ki,i}return e=(s=e.child).sibling,i=ls(s,{mode:"visible",children:i.children}),0==(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ji(e,t){return(t=hs({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ea(e,t,n,r){return null!==r&&En(r),fr(t,e.child,null,n),(e=Ji(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ta(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),jn(e.return,t,n)}function na(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function ra(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Di(e,t,r.children,n),0!=(2&(r=kr.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ta(e,n,t);else if(19===e.tag)ta(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(lt(kr,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===wr(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),na(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===wr(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}na(t,!0,n,null,a);break;case"together":na(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ia(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function aa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),co|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=ls(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ls(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function oa(e){e.flags|=4}function sa(e,t){if(null!==e&&e.child===t.child)return!0;if(0!=(16&t.flags))return!1;for(e=t.child;null!==e;){if(0!=(12854&e.flags)||0!=(12854&e.subtreeFlags))return!1;e=e.sibling}return!0}if(Y)qi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)F(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Xi=function(){},Yi=function(e,t,n,r,i){if((e=e.memoizedProps)!==r){var a=t.stateNode,o=gr(pr.current);n=z(a,n,e,r,i,o),(t.updateQueue=n)&&oa(t)}},Qi=function(e,t,n,r){n!==r&&oa(t)};else if(Q){qi=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=Oe(a,i.type,i.memoizedProps,i)),F(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=Me(a,i.memoizedProps,i)),F(e,a);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),qi(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var ua=function e(t,n,r,i){for(var a=n.child;null!==a;){if(5===a.tag){var o=a.stateNode;r&&i&&(o=Oe(o,a.type,a.memoizedProps,a)),Ae(t,o)}else if(6===a.tag)o=a.stateNode,r&&i&&(o=Me(o,a.memoizedProps,a)),Ae(t,o);else if(4!==a.tag)if(22===a.tag&&null!==a.memoizedState)null!==(o=a.child)&&(o.return=a),e(t,a,!0,!0);else if(null!==a.child){a.child.return=a,a=a.child;continue}if(a===n)break;for(;null===a.sibling;){if(null===a.return||a.return===n)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Xi=function(e,t){var n=t.stateNode;if(!sa(e,t)){e=n.containerInfo;var r=Ce(e);ua(r,t,!1,!1),n.pendingChildren=r,oa(t),Pe(e,r)}},Yi=function(e,t,n,r,i){var a=e.stateNode,o=e.memoizedProps;if((e=sa(e,t))&&o===r)t.stateNode=a;else{var s=t.stateNode,u=gr(pr.current),l=null;o!==r&&(l=z(s,n,o,r,i,u)),e&&null===l?t.stateNode=a:(a=Ee(a,l,n,o,r,t,e,s),U(a,n,r,i,u)&&oa(t),t.stateNode=a,e?oa(t):qi(a,t,!1,!1))}},Qi=function(e,t,n,r){n!==r?(e=gr(mr.current),n=gr(pr.current),t.stateNode=H(r,e,n,t),oa(t)):t.stateNode=e.stateNode}}else Xi=function(){},Yi=function(){},Qi=function(){};function la(e,t){if(!vn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ca(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fa(e,t,n){var r=t.pendingProps;switch(hn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ca(t),null;case 1:case 17:return vt(t.type)&&mt(),ca(t),null;case 3:return n=t.stateNode,br(),ut(ht),ut(ft),Tr(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(wn(t)?oa(t):null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==gn&&(Lo(gn),gn=null))),Xi(e,t),ca(t),null;case 5:xr(t),n=gr(mr.current);var i=t.type;if(null!==e&&null!=t.stateNode)Yi(e,t,i,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return ca(t),null}if(e=gr(pr.current),wn(t)){if(!K)throw Error(o(175));e=We(t.stateNode,t.type,t.memoizedProps,n,e,t,!mn),t.updateQueue=e,null!==e&&oa(t)}else{var a=j(i,r,n,e,t);qi(a,t,!1,!1),t.stateNode=a,U(a,i,r,n,e)&&oa(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ca(t),null;case 6:if(e&&null!=t.stateNode)Qi(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));if(e=gr(mr.current),n=gr(pr.current),wn(t)){if(!K)throw Error(o(176));if(e=t.stateNode,n=t.memoizedProps,(r=Ge(e,n,t,!mn))&&null!==(i=dn))switch(i.tag){case 3:Je(i.stateNode.containerInfo,e,n,0!=(1&i.mode));break;case 5:et(i.type,i.memoizedProps,i.stateNode,e,n,0!=(1&i.mode))}r&&oa(t)}else t.stateNode=H(r,e,n,t)}return ca(t),null;case 13:if(ut(kr),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(vn&&null!==pn&&0!=(1&t.mode)&&0==(128&t.flags))Sn(),Tn(),t.flags|=98560,i=!1;else if(i=wn(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!K)throw Error(o(344));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));qe(i,t)}else Tn(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ca(t),i=!1}else null!==gn&&(Lo(gn),gn=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!=(128&t.flags)?(t.lanes=n,t):((n=null!==r)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&kr.current)?0===uo&&(uo=3):Go())),null!==t.updateQueue&&(t.flags|=4),ca(t),null);case 4:return br(),Xi(e,t),null===e&&$(t.stateNode.containerInfo),ca(t),null;case 10:return Ln(t.type._context),ca(t),null;case 19:if(ut(kr),null===(i=t.memoizedState))return ca(t),null;if(r=0!=(128&t.flags),null===(a=i.rendering))if(r)la(i,!1);else{if(0!==uo||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=wr(e))){for(t.flags|=128,la(i,!1),null!==(e=a.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,n=t.child;null!==n;)i=e,(r=n).flags&=14680066,null===(a=r.alternate)?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,i=a.dependencies,r.dependencies=null===i?null:{lanes:i.lanes,firstContext:i.firstContext}),n=n.sibling;return lt(kr,1&kr.current|2),t.child}e=e.sibling}null!==i.tail&&Ut()>go&&(t.flags|=128,r=!0,la(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=wr(a))){if(t.flags|=128,r=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),la(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!vn)return ca(t),null}else 2*Ut()-i.renderingStartTime>go&&1073741824!==n&&(t.flags|=128,r=!0,la(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ut(),t.sibling=null,e=kr.current,lt(kr,r?1&e|2:1&e),t):(ca(t),null);case 22:case 23:return zo(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!=(1&t.mode)?0!=(1073741824&oo)&&(ca(t),Y&&6&t.subtreeFlags&&(t.flags|=8192)):ca(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function ha(e,t){switch(hn(t),t.tag){case 1:return vt(t.type)&&mt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return br(),ut(ht),ut(ft),Tr(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return xr(t),null;case 13:if(ut(kr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));Tn()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ut(kr),null;case 4:return br(),null;case 10:return Ln(t.type._context),null;case 22:case 23:return zo(),null;default:return null}}var da=!1,pa=!1,va="function"==typeof WeakSet?WeakSet:Set,ma=null;function ga(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){es(e,t,n)}else n.current=null}function ya(e,t,n){try{n()}catch(n){es(e,t,n)}}var ba=!1;function _a(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ya(t,n,a)}i=i.next}while(i!==r)}}function xa(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ka(e){var t=e.ref;if(null!==t){var n=e.stateNode;e=5===e.tag?R(n):n,"function"==typeof t?t(e):t.current=e}}function wa(e){var t=e.alternate;null!==t&&(e.alternate=null,wa(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&ee(t),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sa(e){return 5===e.tag||3===e.tag||4===e.tag}function Ta(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Sa(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ea(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ge(n,e,t):he(n,e);else if(4!==r&&null!==(e=e.child))for(Ea(e,t,n),e=e.sibling;null!==e;)Ea(e,t,n),e=e.sibling}function Ca(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?me(n,e,t):fe(n,e);else if(4!==r&&null!==(e=e.child))for(Ca(e,t,n),e=e.sibling;null!==e;)Ca(e,t,n),e=e.sibling}var Aa=null,Pa=!1;function Ia(e,t,n){for(n=n.child;null!==n;)Oa(e,t,n),n=n.sibling}function Oa(e,t,n){if(qt&&"function"==typeof qt.onCommitFiberUnmount)try{qt.onCommitFiberUnmount(Gt,n)}catch(e){}switch(n.tag){case 5:pa||ga(n,t);case 6:if(Y){var r=Aa,i=Pa;Aa=null,Ia(e,t,n),Pa=i,null!==(Aa=r)&&(Pa?be(Aa,n.stateNode):ye(Aa,n.stateNode))}else Ia(e,t,n);break;case 18:Y&&null!==Aa&&(Pa?Ze(Aa,n.stateNode):Ke(Aa,n.stateNode));break;case 4:Y?(r=Aa,i=Pa,Aa=n.stateNode.containerInfo,Pa=!0,Ia(e,t,n),Aa=r,Pa=i):(Q&&(r=n.stateNode.containerInfo,i=Ce(r),Ie(r,i)),Ia(e,t,n));break;case 0:case 11:case 14:case 15:if(!pa&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!=(2&a)||0!=(4&a))&&ya(n,t,o),i=i.next}while(i!==r)}Ia(e,t,n);break;case 1:if(!pa&&(ga(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){es(n,t,e)}Ia(e,t,n);break;case 21:Ia(e,t,n);break;case 22:1&n.mode?(pa=(r=pa)||null!==n.memoizedState,Ia(e,t,n),pa=r):Ia(e,t,n);break;default:Ia(e,t,n)}}function Ma(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new va),t.forEach((function(t){var r=is.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ra(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t;if(Y){var u=s;e:for(;null!==u;){switch(u.tag){case 5:Aa=u.stateNode,Pa=!1;break e;case 3:case 4:Aa=u.stateNode.containerInfo,Pa=!0;break e}u=u.return}if(null===Aa)throw Error(o(160));Oa(a,s,i),Aa=null,Pa=!1}else Oa(a,s,i);var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(e){es(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Na(t,e),t=t.sibling}function Na(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ra(t,e),Da(e),4&r){try{_a(3,e,e.return),xa(3,e)}catch(t){es(e,e.return,t)}try{_a(5,e,e.return)}catch(t){es(e,e.return,t)}}break;case 1:Ra(t,e),Da(e),512&r&&null!==n&&ga(n,n.return);break;case 5:if(Ra(t,e),Da(e),512&r&&null!==n&&ga(n,n.return),Y){if(32&e.flags){var i=e.stateNode;try{_e(i)}catch(t){es(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps;if(n=null!==n?n.memoizedProps:a,r=e.type,t=e.updateQueue,e.updateQueue=null,null!==t)try{ve(i,t,r,n,a,e)}catch(t){es(e,e.return,t)}}}break;case 6:if(Ra(t,e),Da(e),4&r&&Y){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps,n=null!==n?n.memoizedProps:a;try{de(i,n,a)}catch(t){es(e,e.return,t)}}break;case 3:if(Ra(t,e),Da(e),4&r){if(Y&&K&&null!==n&&n.memoizedState.isDehydrated)try{Ye(t.containerInfo)}catch(t){es(e,e.return,t)}if(Q){i=t.containerInfo,a=t.pendingChildren;try{Ie(i,a)}catch(t){es(e,e.return,t)}}}break;case 4:if(Ra(t,e),Da(e),4&r&&Q){i=(a=e.stateNode).containerInfo,a=a.pendingChildren;try{Ie(i,a)}catch(t){es(e,e.return,t)}}break;case 13:Ra(t,e),Da(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(mo=Ut())),4&r&&Ma(e);break;case 22:var s=null!==n&&null!==n.memoizedState;if(1&e.mode?(pa=(n=pa)||s,Ra(t,e),pa=n):Ra(t,e),Da(e),8192&r){if(n=null!==e.memoizedState,(e.stateNode.isHidden=n)&&!s&&0!=(1&e.mode))for(ma=e,r=e.child;null!==r;){for(t=ma=r;null!==ma;){var u=(s=ma).child;switch(s.tag){case 0:case 11:case 14:case 15:_a(4,s,s.return);break;case 1:ga(s,s.return);var l=s.stateNode;if("function"==typeof l.componentWillUnmount){var c=s,f=s.return;try{var h=c;l.props=h.memoizedProps,l.state=h.memoizedState,l.componentWillUnmount()}catch(e){es(c,f,e)}}break;case 5:ga(s,s.return);break;case 22:if(null!==s.memoizedState){Fa(t);continue}}null!==u?(u.return=s,ma=u):Fa(t)}r=r.sibling}if(Y)e:if(r=null,Y)for(t=e;;){if(5===t.tag){if(null===r){r=t;try{i=t.stateNode,n?xe(i):we(t.stateNode,t.memoizedProps)}catch(t){es(e,e.return,t)}}}else if(6===t.tag){if(null===r)try{a=t.stateNode,n?ke(a):Se(a,t.memoizedProps)}catch(t){es(e,e.return,t)}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}}break;case 19:Ra(t,e),Da(e),4&r&&Ma(e);break;case 21:break;default:Ra(t,e),Da(e)}}function Da(e){var t=e.flags;if(2&t){try{if(Y){e:{for(var n=e.return;null!==n;){if(Sa(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(_e(i),r.flags&=-33),Ca(e,Ta(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;Ea(e,Ta(e),a);break;default:throw Error(o(161))}}}catch(t){es(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ba(e,t,n){ma=e,La(e)}function La(e,t,n){for(var r=0!=(1&e.mode);null!==ma;){var i=ma,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||da;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||pa;s=da;var l=pa;if(da=o,(pa=u)&&!l)for(ma=i;null!==ma;)u=(o=ma).child,22===o.tag&&null!==o.memoizedState?Ua(i):null!==u?(u.return=o,ma=u):Ua(i);for(;null!==a;)ma=a,La(a),a=a.sibling;ma=i,da=s,pa=l}ja(e)}else 0!=(8772&i.subtreeFlags)&&null!==a?(a.return=i,ma=a):ja(e)}}function ja(e){for(;null!==ma;){var t=ma;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:pa||xa(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!pa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:In(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Jn(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=R(t.child.stateNode);break;case 1:n=t.child.stateNode}Jn(t,s,n)}break;case 5:var u=t.stateNode;null===n&&4&t.flags&&pe(u,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(K&&null===t.memoizedState){var l=t.alternate;if(null!==l){var c=l.memoizedState;if(null!==c){var f=c.dehydrated;null!==f&&Qe(f)}}}break;default:throw Error(o(163))}pa||512&t.flags&&ka(t)}catch(e){es(t,t.return,e)}}if(t===e){ma=null;break}if(null!==(n=t.sibling)){n.return=t.return,ma=n;break}ma=t.return}}function Fa(e){for(;null!==ma;){var t=ma;if(t===e){ma=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ma=n;break}ma=t.return}}function Ua(e){for(;null!==ma;){var t=ma;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{xa(4,t)}catch(e){es(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){es(t,i,e)}}var a=t.return;try{ka(t)}catch(e){es(t,a,e)}break;case 5:var o=t.return;try{ka(t)}catch(e){es(t,o,e)}}}catch(e){es(t,t.return,e)}if(t===e){ma=null;break}var s=t.sibling;if(null!==s){s.return=t.return,ma=s;break}ma=t.return}}var za=0,Va=1,Ha=2,Wa=3,Ga=4;if("function"==typeof Symbol&&Symbol.for){var qa=Symbol.for;za=qa("selector.component"),Va=qa("selector.has_pseudo_class"),Ha=qa("selector.role"),Wa=qa("selector.test_id"),Ga=qa("selector.text")}function Xa(e){var t=Z(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw Error(o(364));return t}if(null===(e=ie(e)))throw Error(o(362));return e.stateNode.current}function Ya(e,t){switch(t.$$typeof){case za:if(e.type===t.value)return!0;break;case Va:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],i=e[n++],a=t[i];if(5!==r.tag||!se(r)){for(;null!=a&&Ya(r,a);)a=t[++i];if(i===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,i),r=r.sibling}}t=!1}return t;case Ha:if(5===e.tag&&ue(e.stateNode,t.value))return!0;break;case Ga:if((5===e.tag||6===e.tag)&&null!==(e=oe(e))&&0<=e.indexOf(t.value))return!0;break;case Wa:if(5===e.tag&&"string"==typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase())return!0;break;default:throw Error(o(365))}return!1}function Qa(e){switch(e.$$typeof){case za:return"<"+(w(e.value)||"Unknown")+">";case Va:return":has("+(Qa(e)||"")+")";case Ha:return'[role="'+e.value+'"]';case Ga:return'"'+e.value+'"';case Wa:return'[data-testname="'+e.value+'"]';default:throw Error(o(365))}}function Ka(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],a=e[r++],o=t[a];if(5!==i.tag||!se(i)){for(;null!=o&&Ya(i,o);)o=t[++a];if(a===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,a),i=i.sibling}}return n}function Za(e,t){if(!re)throw Error(o(363));e=Ka(e=Xa(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)se(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var $a=Math.ceil,Ja=s.ReactCurrentDispatcher,eo=s.ReactCurrentOwner,to=s.ReactCurrentBatchConfig,no=0,ro=null,io=null,ao=0,oo=0,so=st(0),uo=0,lo=null,co=0,fo=0,ho=0,po=null,vo=null,mo=0,go=1/0,yo=null;function bo(){go=Ut()+500}var _o,xo=!1,ko=null,wo=null,So=!1,To=null,Eo=0,Co=0,Ao=null,Po=-1,Io=0;function Oo(){return 0!=(6&no)?Ut():-1!==Po?Po:Po=Ut()}function Mo(e){return 0==(1&e.mode)?1:0!=(2&no)&&0!==ao?ao&-ao:null!==Cn.transition?(0===Io&&(Io=It()),Io):0!==(e=Nt)?e:J()}function Ro(e,t,n,r){if(50<Co)throw Co=0,Ao=null,Error(o(185));Mt(e,n,r),0!=(2&no)&&e===ro||(e===ro&&(0==(2&no)&&(fo|=n),4===uo&&jo(e,ao)),No(e,r),1===n&&0===no&&0==(1&t.mode)&&(bo(),Qt&&$t()))}function No(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-xt(a),s=1<<o,u=i[o];-1===u?0!=(s&n)&&0==(s&r)||(i[o]=At(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=Ct(e,e===ro?ao:0);if(0===r)null!==n&&Lt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Lt(n),1===t)0===e.tag?function(e){Qt=!0,Zt(e)}(Fo.bind(null,e)):Zt(Fo.bind(null,e)),te?ne((function(){0==(6&no)&&$t()})):Bt(zt,$t),n=null;else{switch(Dt(r)){case 1:n=zt;break;case 4:n=Vt;break;case 16:default:n=Ht;break;case 536870912:n=Wt}n=as(n,Do.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Do(e,t){if(Po=-1,Io=0,0!=(6&no))throw Error(o(327));var n=e.callbackNode;if($o()&&e.callbackNode!==n)return null;var r=Ct(e,e===ro?ao:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=qo(e,r);else{t=r;var i=no;no|=2;var a=Wo();for(ro===e&&ao===t||(yo=null,bo(),Vo(e,t));;)try{Yo();break}catch(t){Ho(e,t)}Dn(),Ja.current=a,no=i,null!==io?t=0:(ro=null,ao=0,t=uo)}if(0!==t){if(2===t&&0!==(i=Pt(e))&&(r=i,t=Bo(e,i)),1===t)throw n=lo,Vo(e,0),jo(e,r),No(e,Ut()),n;if(6===t)jo(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Xt(a(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=qo(e,r))&&0!==(a=Pt(e))&&(r=a,t=Bo(e,a)),1===t))throw n=lo,Vo(e,0),jo(e,r),No(e,Ut()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Zo(e,vo,yo);break;case 3:if(jo(e,r),(130023424&r)===r&&10<(t=mo+500-Ut())){if(0!==Ct(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Oo(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=W(Zo.bind(null,e,vo,yo),t);break}Zo(e,vo,yo);break;case 4:if(jo(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-xt(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Ut()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$a(r/1960))-r)){e.timeoutHandle=W(Zo.bind(null,e,vo,yo),r);break}Zo(e,vo,yo);break;default:throw Error(o(329))}}}return No(e,Ut()),e.callbackNode===n?Do.bind(null,e):null}function Bo(e,t){var n=po;return e.current.memoizedState.isDehydrated&&(Vo(e,t).flags|=256),2!==(e=qo(e,t))&&(t=vo,vo=n,null!==t&&Lo(t)),e}function Lo(e){null===vo?vo=e:vo.push.apply(vo,e)}function jo(e,t){for(t&=~ho,t&=~fo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xt(t),r=1<<n;e[n]=-1,t&=~r}}function Fo(e){if(0!=(6&no))throw Error(o(327));$o();var t=Ct(e,0);if(0==(1&t))return No(e,Ut()),null;var n=qo(e,t);if(0!==e.tag&&2===n){var r=Pt(e);0!==r&&(t=r,n=Bo(e,r))}if(1===n)throw n=lo,Vo(e,0),jo(e,t),No(e,Ut()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zo(e,vo,yo),No(e,Ut()),null}function Uo(e){null!==To&&0===To.tag&&0==(6&no)&&$o();var t=no;no|=1;var n=to.transition,r=Nt;try{if(to.transition=null,Nt=1,e)return e()}finally{Nt=r,to.transition=n,0==(6&(no=t))&&$t()}}function zo(){oo=so.current,ut(so)}function Vo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==q&&(e.timeoutHandle=q,G(n)),null!==io)for(n=io.return;null!==n;){var r=n;switch(hn(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&mt();break;case 3:br(),ut(ht),ut(ft),Tr();break;case 5:xr(r);break;case 4:br();break;case 13:case 19:ut(kr);break;case 10:Ln(r.type._context);break;case 22:case 23:zo()}n=n.return}if(ro=e,io=e=ls(e.current,null),ao=oo=t,uo=0,lo=null,ho=fo=co=0,vo=po=null,null!==zn){for(t=0;t<zn.length;t++)if(null!==(r=(n=zn[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}zn=null}return e}function Ho(e,t){for(;;){var n=io;try{if(Dn(),Er.current=_i,Mr){for(var r=Pr.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Mr=!1}if(Ar=0,Or=Ir=Pr=null,Rr=!1,Nr=0,eo.current=null,null===n||null===n.return){uo=1,lo=t,io=null;break}e:{var a=e,s=n.return,u=n,l=t;if(t=ao,u.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l,f=u,h=f.tag;if(0==(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=Oi(s);if(null!==p){p.flags&=-257,Mi(p,s,u,0,t),1&p.mode&&Ii(a,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0==(1&t)){Ii(a,c,t),Go();break e}l=Error(o(426))}else if(vn&&1&u.mode){var g=Oi(s);if(null!==g){0==(65536&g.flags)&&(g.flags|=256),Mi(g,s,u,0,t),En(Si(l,u));break e}}a=l=Si(l,u),4!==uo&&(uo=2),null===po?po=[a]:po.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Zn(a,Ai(0,l,t));break e;case 1:u=l;var y=a.type,b=a.stateNode;if(0==(128&a.flags)&&("function"==typeof y.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===wo||!wo.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Zn(a,Pi(a,u,t));break e}}a=a.return}while(null!==a)}Ko(n)}catch(e){t=e,io===n&&null!==n&&(io=n=n.return);continue}break}}function Wo(){var e=Ja.current;return Ja.current=_i,null===e?_i:e}function Go(){0!==uo&&3!==uo&&2!==uo||(uo=4),null===ro||0==(268435455&co)&&0==(268435455&fo)||jo(ro,ao)}function qo(e,t){var n=no;no|=2;var r=Wo();for(ro===e&&ao===t||(yo=null,Vo(e,t));;)try{Xo();break}catch(t){Ho(e,t)}if(Dn(),no=n,Ja.current=r,null!==io)throw Error(o(261));return ro=null,ao=0,uo}function Xo(){for(;null!==io;)Qo(io)}function Yo(){for(;null!==io&&!jt();)Qo(io)}function Qo(e){var t=_o(e.alternate,e,oo);e.memoizedProps=e.pendingProps,null===t?Ko(e):io=t,eo.current=null}function Ko(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=fa(n,t,oo)))return void(io=n)}else{if(null!==(n=ha(n,t)))return n.flags&=32767,void(io=n);if(null===e)return uo=6,void(io=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(io=t);io=t=e}while(null!==t);0===uo&&(uo=5)}function Zo(e,t,n){var r=Nt,i=to.transition;try{to.transition=null,Nt=1,function(e,t,n,r){do{$o()}while(null!==To);if(0!=(6&no))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-xt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,a),e===ro&&(io=ro=null,ao=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||So||(So=!0,as(Ht,(function(){return $o(),null}))),a=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||a){a=to.transition,to.transition=null;var s=Nt;Nt=1;var u=no;no|=4,eo.current=null,function(e,t){for(B(e.containerInfo),ma=t;null!==ma;)if(t=(e=ma).child,0!=(1028&e.subtreeFlags)&&null!==t)t.return=e,ma=t;else for(;null!==ma;){e=ma;try{var n=e.alternate;if(0!=(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var r=n.memoizedProps,i=n.memoizedState,a=e.stateNode,s=a.getSnapshotBeforeUpdate(e.elementType===e.type?r:In(e.type,r),i);a.__reactInternalSnapshotBeforeUpdate=s}break;case 3:Y&&Te(e.stateNode.containerInfo);break;default:throw Error(o(163))}}catch(t){es(e,e.return,t)}if(null!==(t=e.sibling)){t.return=e.return,ma=t;break}ma=e.return}n=ba,ba=!1}(e,n),Na(n,e),L(e.containerInfo),e.current=n,Ba(n),Ft(),no=u,Nt=s,to.transition=a}else e.current=n;if(So&&(So=!1,To=e,Eo=i),0===(a=e.pendingLanes)&&(wo=null),function(e){if(qt&&"function"==typeof qt.onCommitFiberRoot)try{qt.onCommitFiberRoot(Gt,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode),No(e,Ut()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(xo)throw xo=!1,e=ko,ko=null,e;0!=(1&Eo)&&0!==e.tag&&$o(),0!=(1&(a=e.pendingLanes))?e===Ao?Co++:(Co=0,Ao=e):Co=0,$t()}(e,t,n,r)}finally{to.transition=i,Nt=r}return null}function $o(){if(null!==To){var e=Dt(Eo),t=to.transition,n=Nt;try{if(to.transition=null,Nt=16>e?16:e,null===To)var r=!1;else{if(e=To,To=null,Eo=0,0!=(6&no))throw Error(o(331));var i=no;for(no|=4,ma=e.current;null!==ma;){var a=ma,s=a.child;if(0!=(16&ma.flags)){var u=a.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(ma=c;null!==ma;){var f=ma;switch(f.tag){case 0:case 11:case 15:_a(8,f,a)}var h=f.child;if(null!==h)h.return=f,ma=h;else for(;null!==ma;){var d=(f=ma).sibling,p=f.return;if(wa(f),f===c){ma=null;break}if(null!==d){d.return=p,ma=d;break}ma=p}}}var v=a.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}ma=a}}if(0!=(2064&a.subtreeFlags)&&null!==s)s.return=a,ma=s;else e:for(;null!==ma;){if(0!=(2048&(a=ma).flags))switch(a.tag){case 0:case 11:case 15:_a(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,ma=y;break e}ma=a.return}}var b=e.current;for(ma=b;null!==ma;){var _=(s=ma).child;if(0!=(2064&s.subtreeFlags)&&null!==_)_.return=s,ma=_;else e:for(s=b;null!==ma;){if(0!=(2048&(u=ma).flags))try{switch(u.tag){case 0:case 11:case 15:xa(9,u)}}catch(e){es(u,u.return,e)}if(u===s){ma=null;break e}var x=u.sibling;if(null!==x){x.return=u.return,ma=x;break e}ma=u.return}}if(no=i,$t(),qt&&"function"==typeof qt.onPostCommitFiberRoot)try{qt.onPostCommitFiberRoot(Gt,e)}catch(e){}r=!0}return r}finally{Nt=n,to.transition=t}}return!1}function Jo(e,t,n){e=Qn(e,t=Ai(0,t=Si(n,t),1),1),t=Oo(),null!==e&&(Mt(e,1,t),No(e,t))}function es(e,t,n){if(3===e.tag)Jo(e,e,n);else for(;null!==t;){if(3===t.tag){Jo(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===wo||!wo.has(r))){t=Qn(t,e=Pi(t,e=Si(n,e),1),1),e=Oo(),null!==t&&(Mt(t,1,e),No(t,e));break}}t=t.return}}function ts(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Oo(),e.pingedLanes|=e.suspendedLanes&n,ro===e&&(ao&n)===n&&(4===uo||3===uo&&(130023424&ao)===ao&&500>Ut()-mo?Vo(e,0):ho|=n),No(e,t)}function ns(e,t){0===t&&(0==(1&e.mode)?t=1:(t=Tt,0==(130023424&(Tt<<=1))&&(Tt=4194304)));var n=Oo();null!==(e=Wn(e,t))&&(Mt(e,t,n),No(e,n))}function rs(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ns(e,n)}function is(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),ns(e,n)}function as(e,t){return Bt(e,t)}function os(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ss(e,t,n,r){return new os(e,t,n,r)}function us(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ls(e,t){var n=e.alternate;return null===n?((n=ss(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function cs(e,t,n,r,i,a){var s=2;if(r=e,"function"==typeof e)us(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case c:return fs(n.children,i,a,t);case f:s=8,i|=8;break;case h:return(e=ss(12,n,t,2|i)).elementType=h,e.lanes=a,e;case m:return(e=ss(13,n,t,i)).elementType=m,e.lanes=a,e;case g:return(e=ss(19,n,t,i)).elementType=g,e.lanes=a,e;case _:return hs(n,i,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case d:s=10;break e;case p:s=9;break e;case v:s=11;break e;case y:s=14;break e;case b:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=ss(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function fs(e,t,n,r){return(e=ss(7,e,r,t)).lanes=n,e}function hs(e,t,n,r){return(e=ss(22,e,r,t)).elementType=_,e.lanes=n,e.stateNode={isHidden:!1},e}function ds(e,t,n){return(e=ss(6,e,null,t)).lanes=n,e}function ps(e,t,n){return(t=ss(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vs(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=q,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ot(0),this.expirationTimes=Ot(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ot(0),this.identifierPrefix=r,this.onRecoverableError=i,K&&(this.mutableSourceEagerHydrationData=null)}function ms(e,t,n,r,i,a,o,s,u){return e=new vs(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=ss(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qn(a),e}function gs(e){if(!e)return ct;e:{if(T(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(vt(n))return yt(e,n,t)}return t}function ys(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return null===(e=A(t))?null:e.stateNode}function bs(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function _s(e,t){bs(e,t),(e=e.alternate)&&bs(e,t)}function xs(e){return null===(e=A(e))?null:e.stateNode}function ks(){return null}return _o=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ht.current)Ni=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return Ni=!1,function(e,t,n){switch(t.tag){case 3:Wi(t),Tn();break;case 5:_r(t);break;case 1:vt(t.type)&&bt(t);break;case 4:yr(t,t.stateNode.containerInfo);break;case 10:Bn(0,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(lt(kr,1&kr.current),t.flags|=128,null):0!=(n&t.child.childLanes)?$i(e,t,n):(lt(kr,1&kr.current),null!==(e=aa(e,t,n))?e.sibling:null);lt(kr,1&kr.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return ra(e,t,n);t.flags|=128}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),lt(kr,kr.current),r)break;return null;case 22:case 23:return t.lanes=0,Fi(e,t,n)}return aa(e,t,n)}(e,t,n);Ni=0!=(131072&e.flags)}else Ni=!1,vn&&0!=(1048576&t.flags)&&cn(t,nn,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ia(e,t),e=t.pendingProps;var i=pt(t,ft.current);Fn(t,n),i=jr(null,t,r,e,i,n);var a=Fr();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vt(r)?(a=!0,bt(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,qn(t),i.updater=nr,t.stateNode=i,i._reactInternals=t,or(t,r,e,n),t=Hi(null,t,r,!0,a,n)):(t.tag=0,vn&&a&&fn(t),Di(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ia(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return us(e)?1:0;if(null!=e){if((e=e.$$typeof)===v)return 11;if(e===y)return 14}return 2}(r),e=In(r,e),i){case 0:t=zi(null,t,r,e,n);break e;case 1:t=Vi(null,t,r,e,n);break e;case 11:t=Bi(null,t,r,e,n);break e;case 14:t=Li(null,t,r,In(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,zi(e,t,r,i=t.elementType===r?i:In(r,i),n);case 1:return r=t.type,i=t.pendingProps,Vi(e,t,r,i=t.elementType===r?i:In(r,i),n);case 3:e:{if(Wi(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Xn(e,t),$n(t,r,null,n);var s=t.memoizedState;if(r=s.element,K&&a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Gi(e,t,r,n,i=Si(Error(o(423)),t));break e}if(r!==i){t=Gi(e,t,r,n,i=Si(Error(o(424)),t));break e}for(K&&(pn=Ve(t.stateNode.containerInfo),dn=t,vn=!0,gn=null,mn=!1),n=hr(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Tn(),r===i){t=aa(e,t,n);break e}Di(e,t,r,n)}t=t.child}return t;case 5:return _r(t),null===e&&xn(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,V(r,i)?s=null:null!==a&&V(r,a)&&(t.flags|=32),Ui(e,t),Di(e,t,s,n),t.child;case 6:return null===e&&xn(t),null;case 13:return $i(e,t,n);case 4:return yr(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=fr(t,null,r,n):Di(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Bi(e,t,r,i=t.elementType===r?i:In(r,i),n);case 7:return Di(e,t,t.pendingProps,n),t.child;case 8:case 12:return Di(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,Bn(0,r,s=i.value),null!==a)if(Xt(a.value,s)){if(a.children===i.children&&!ht.current){t=aa(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=Yn(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),jn(a.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),jn(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}Di(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Fn(t,n),r=r(i=Un(i)),t.flags|=1,Di(e,t,r,n),t.child;case 14:return i=In(r=t.type,t.pendingProps),Li(e,t,r,i=In(r.type,i),n);case 15:return ji(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:In(r,i),ia(e,t),t.tag=1,vt(r)?(e=!0,bt(t)):e=!1,Fn(t,n),ir(t,r,i),or(t,r,i,n),Hi(null,t,r,!0,e,n);case 19:return ra(e,t,n);case 22:return Fi(e,t,n)}throw Error(o(156,t.tag))},n.attemptContinuousHydration=function(e){if(13===e.tag){var t=Wn(e,134217728);null!==t&&Ro(t,e,134217728,Oo()),_s(e,134217728)}},n.attemptDiscreteHydration=function(e){if(13===e.tag){var t=Wn(e,1);null!==t&&Ro(t,e,1,Oo()),_s(e,1)}},n.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=Mo(e),n=Wn(e,t);null!==n&&Ro(n,e,t,Oo()),_s(e,t)}},n.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Et(t.pendingLanes);0!==n&&(Rt(t,1|n),No(t,Ut()),0==(6&no)&&(bo(),$t()))}break;case 13:Uo((function(){var t=Wn(e,1);if(null!==t){var n=Oo();Ro(t,e,1,n)}})),_s(e,1)}},n.batchedUpdates=function(e,t){var n=no;no|=1;try{return e(t)}finally{0===(no=n)&&(bo(),Qt&&$t())}},n.createComponentSelector=function(e){return{$$typeof:za,value:e}},n.createContainer=function(e,t,n,r,i,a,o){return ms(e,t,!1,null,0,r,0,a,o)},n.createHasPseudoClassSelector=function(e){return{$$typeof:Va,value:e}},n.createHydrationContainer=function(e,t,n,r,i,a,o,s,u){return(e=ms(n,r,!0,e,0,a,0,s,u)).context=gs(null),n=e.current,(a=Yn(r=Oo(),i=Mo(n))).callback=null!=t?t:null,Qn(n,a,i),e.current.lanes=i,Mt(e,i,r),No(e,r),e},n.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:l,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},n.createRoleSelector=function(e){return{$$typeof:Ha,value:e}},n.createTestNameSelector=function(e){return{$$typeof:Wa,value:e}},n.createTextSelector=function(e){return{$$typeof:Ga,value:e}},n.deferredUpdates=function(e){var t=Nt,n=to.transition;try{return to.transition=null,Nt=16,e()}finally{Nt=t,to.transition=n}},n.discreteUpdates=function(e,t,n,r,i){var a=Nt,o=to.transition;try{return to.transition=null,Nt=1,e(t,n,r,i)}finally{Nt=a,to.transition=o,0===no&&bo()}},n.findAllNodes=Za,n.findBoundingRects=function(e,t){if(!re)throw Error(o(363));t=Za(e,t),e=[];for(var n=0;n<t.length;n++)e.push(ae(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,i=r+n.width,a=n.y,s=a+n.height,u=t-1;0<=u;u--)if(t!==u){var l=e[u],c=l.x,f=c+l.width,h=l.y,d=h+l.height;if(r>=c&&a>=h&&i<=f&&s<=d){e.splice(t,1);break}if(!(r!==c||n.width!==l.width||d<a||h>s)){h>a&&(l.height+=h-a,l.y=a),d<s&&(l.height=s-h),e.splice(t,1);break}if(!(a!==h||n.height!==l.height||f<r||c>i)){c>r&&(l.width+=c-r,l.x=r),f<i&&(l.width=i-c),e.splice(t,1);break}}return e},n.findHostInstance=ys,n.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=C(e))?I(e):null)?null:e.stateNode},n.findHostInstanceWithWarning=function(e){return ys(e)},n.flushControlled=function(e){var t=no;no|=1;var n=to.transition,r=Nt;try{to.transition=null,Nt=1,e()}finally{Nt=r,to.transition=n,0===(no=t)&&(bo(),$t())}},n.flushPassiveEffects=$o,n.flushSync=Uo,n.focusWithin=function(e,t){if(!re)throw Error(o(363));for(t=Ka(e=Xa(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!se(n)){if(5===n.tag&&le(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Nt},n.getFindAllNodesFailureDescription=function(e,t){if(!re)throw Error(o(363));var n=0,r=[];e=[Xa(e),0];for(var i=0;i<e.length;){var a=e[i++],s=e[i++],u=t[s];if((5!==a.tag||!se(a))&&(Ya(a,u)&&(r.push(Qa(u)),++s>n&&(n=s)),s<t.length))for(a=a.child;null!==a;)e.push(a,s),a=a.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(Qa(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},n.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?R(e.child.stateNode):e.child.stateNode:null},n.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:xs,findFiberByHostInstance:e.findFiberByHostInstance||ks,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Gt=t.inject(e),qt=t}catch(e){}e=!!t.checkDCE}}return e},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(e,t,n,r){if(!re)throw Error(o(363));e=Za(e,t);var i=ce(e,n,r).disconnect;return{disconnect:function(){i()}}},n.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},n.runWithPriority=function(e,t){var n=Nt;try{return Nt=e,t()}finally{Nt=n}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(e,t,n,r){var i=t.current,a=Oo(),o=Mo(i);return n=gs(n),null===t.context?t.context=n:t.pendingContext=n,(t=Yn(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Qn(i,t,o))&&(Ro(e,i,o,a),Kn(e,i,o)),o},n}),bS);var ES=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(xS),CS={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},AS={},PS={get exports(){return AS},set exports(e){AS=e}};(function(){var e,t,n,r,i,a;"undefined"!=typeof performance&&null!==performance&&performance.now?PS.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(PS.exports=function(){return(e()-i)/1e6},t=process.hrtime,r=(e=function(){var e;return 1e9*(e=t())[0]+e[1]})(),a=1e9*process.uptime(),i=r-a):Date.now?(PS.exports=function(){return Date.now()-n},n=Date.now()):(PS.exports=function(){return(new Date).getTime()-n},n=(new Date).getTime())}).call(Fw);var IS,OS={},MS={};({get exports(){return OS},set exports(e){OS=e}}).exports=(IS||(IS=1,MS.ConcurrentRoot=1,MS.ContinuousEventPriority=4,MS.DefaultEventPriority=16,MS.DiscreteEventPriority=1,MS.IdleEventPriority=536870912,MS.LegacyRoot=0),MS);var RS={};function NS(e,t){e.addChild&&(e.addChild(t),"function"==typeof t.didMount&&t.didMount(t,e))}function DS(e,t){var n,r,i;null===(n=e.willUnmount)||void 0===n||n.call(e,e,t),!1!==(null===(r=e.config)||void 0===r?void 0:r.destroyChildren)&&null!==(i=e.children)&&void 0!==i&&i.length&&Lw(e.children).forEach((function(t){DS(t,e)}))}function BS(e,t){var n;DS(t,e),e.removeChild(t);var r=null!==(n=t.config)&&void 0!==n?n:{},i=r.destroy,a=void 0===i||i,o=r.destroyChildren,s=void 0===o||o,u=r.destroyTexture,l=void 0!==u&&u,c=r.destroyBaseTexture,f=void 0!==c&&c;a&&t.destroy({children:s,texture:l,baseTexture:f})}function LS(e,t,n){jw(t!==n,"pixi-react: PixiFiber cannot insert node before itself"),-1!==e.children.indexOf(t)&&e.removeChild(t);var r=e.getChildIndex(n);e.addChildAt(t,r)}var jS=null,FS=ES({getRootHostContext:function(){return RS},getChildHostContext:function(e){return e},getChildHostContextForEventComponent:function(e){return e},getPublicInstance:function(e){return e},getCurrentEventPriority:function(){return function(){var e,t;if("undefined"==typeof window)return OS.DefaultEventPriority;switch(null===(e=window)||void 0===e||null===(t=e.event)||void 0===t?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return OS.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return OS.ContinuousEventPriority;default:return OS.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=vS[e];if("function"==typeof a&&(t=a(i,r)),!t){var o=mS[e];o&&((t=o.create(r,{root:i})).didMount=o.didMount?o.didMount.bind(t):void 0,t.willUnmount=o.willUnmount?o.willUnmount.bind(t):void 0,t.applyProps=o.applyProps?o.applyProps.bind(t):void 0,t.config=o.config)}return t&&(t.__reactpixi={root:i},("function"==typeof(null===(n=t)||void 0===n?void 0:n.applyProps)?t.applyProps:eS)(t,{},r)),t},hideInstance:function(e){e.visible=!1},unhideInstance:function(e,t){var n=null==t||!t.hasOwnProperty("visible")||t.visible;e.visible=n},finalizeInitialChildren:function(e,t,n){return!1},prepareUpdate:function(e,t,n,r,i,a){return jS=function(e,t,n,r){var i=null;for(var a in n)!r.hasOwnProperty(a)&&n.hasOwnProperty(a)&&null!==n[a]&&(a===Qw||(i||(i=[]),i.push(a,null)));for(var o in r){var s=r[o],u=null!==n?n[o]:void 0;!r.hasOwnProperty(o)||s===u||null===s&&null===u||o===Qw||(i||(i=[]),i.push(o,s))}return i}(0,0,n,r)},shouldSetTextContent:function(e,t){return!1},shouldDeprioritizeSubtree:function(e,t){var n=void 0===t.alpha||t.alpha>0,r=void 0===t.renderable||!0===t.renderable,i=void 0===t.visible||!0===t.visible;return!(n&&r&&i)},createTextInstance:function(e,t,n){jw(!1,'pixi-react: Error trying to add text node "'.concat(e,'"'),"PixiFiber does not support text nodes as children of a Pixi component. To pass a string value to your component, use a property other than children. If you wish to display some text, you can use &lt;Text text={string} /&gt; instead.")},unhideTextInstance:function(e,t){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:AS,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var e,t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=NS.apply(null,r);return null===(e=r[0].__reactpixi)||void 0===e||null===(t=e.root)||void 0===t||t.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),a},appendChild:function(){for(var e,t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=NS.apply(null,r);return null===(e=r[0].__reactpixi)||void 0===e||null===(t=e.root)||void 0===t||t.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),a},appendChildToContainer:function(){for(var e,t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=NS.apply(null,r);return null===(e=r[0].__reactpixi)||void 0===e||null===(t=e.root)||void 0===t||t.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),a},removeChild:function(){for(var e,t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=BS.apply(null,r);return null===(e=r[0].__reactpixi)||void 0===e||null===(t=e.root)||void 0===t||t.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),a},removeChildFromContainer:function(){for(var e,t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=BS.apply(null,r);return null===(e=r[0].__reactpixi)||void 0===e||null===(t=e.root)||void 0===t||t.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),a},insertBefore:LS,insertInContainerBefore:function(){for(var e,t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=LS.apply(null,r);return null===(e=r[0].__reactpixi)||void 0===e||null===(t=e.root)||void 0===t||t.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),a},commitUpdate:function(e,t,n,r,i){var a,o,s=e&&e.applyProps;"function"!=typeof s&&(s=eS),(s(e,r,i)||jS)&&(null===(a=e.__reactpixi)||void 0===a||null===(o=a.root)||void 0===o||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(e,t,n,r,i){},commitTextUpdate:function(e,t,n){},resetTextContent:function(e){},clearContainer:function(e){},getFundamentalComponentInstance:function(e){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(e){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(e){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(e){throw new Error("Not yet implemented.")},getInstanceFromNode:function(e){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(e){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(e){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(e){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(e){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(e){}}),US=CS.dependencies["react-dom"].replace(/[^0-9.]/g,""),zS=CS.name;FS.injectIntoDevTools({bundleType:0,version:US,rendererPackageName:zS,findHostInstanceByFiber:FS.findHostInstance});new Map;function VS(){return VS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VS.apply(this,arguments)}function HS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nw(r.key),r)}}function WS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GS(e,t){return GS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},GS(e,t)}function qS(e){return qS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qS(e)}var XS=e.createContext(null),YS=XS.Provider;XS.Consumer;function QS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qS(e);if(t){var i=qS(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Rw(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return WS(e)}(this,n)}}function KS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KS(Object(n),!0).forEach((function(t){Dw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $S=function(){},JS={width:hd().number,height:hd().number,onMount:hd().func,onUnmount:hd().func,raf:hd().bool,renderOnComponentChange:hd().bool,children:hd().node,options:hd().shape({autoStart:hd().bool,width:hd().number,height:hd().number,useContextAlpha:hd().bool,backgroundAlpha:hd().number,autoDensity:hd().bool,antialias:hd().bool,preserveDrawingBuffer:hd().bool,resolution:hd().number,forceCanvas:hd().bool,backgroundColor:hd().number,clearBeforeRender:hd().bool,powerPreference:hd().string,sharedTicker:hd().bool,sharedLoader:hd().bool,resizeTo:function(e,t){var n=e[t];n&&jw(n===window||n instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(Rw(n),", expect `window` or an `HTMLElement`."))},view:function(e,t,n){var r=e[t];r&&jw(r instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(Rw(r),", supplied to ").concat(n,", expected `<canvas> Element`"))}})},eT={width:800,height:600,onMount:$S,onUnmount:$S,raf:!0,renderOnComponentChange:!0},tT=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GS(e,t)}(a,e.Component);var n,r,i=QS(a);function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Dw(WS(e=i.call.apply(i,[this].concat(n))),"_canvas",null),Dw(WS(e),"_mediaQuery",null),Dw(WS(e),"_ticker",null),Dw(WS(e),"_needsUpdate",!0),Dw(WS(e),"app",null),Dw(WS(e),"updateSize",(function(){var t=e.props,n=t.width,r=t.height,i=t.options;null!=i&&i.resolution||(e.app.renderer.resolution=window.devicePixelRatio,e.resetInteractionManager()),e.app.renderer.resize(n,r)})),Dw(WS(e),"needsRenderUpdate",(function(){e._needsUpdate=!0})),Dw(WS(e),"renderStage",(function(){var t=e.props,n=t.renderOnComponentChange;!t.raf&&n&&e._needsUpdate&&(e._needsUpdate=!1,e.app.renderer.render(e.app.stage))})),e}return n=a,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.onMount,n=e.width,r=e.height,i=e.options,a=e.raf,o=e.renderOnComponentChange;this.app=new r_(ZS(ZS({width:n,height:r,view:this._canvas},i),{},{autoDensity:!1!==(null==i?void 0:i.autoDensity)})),this.app.ticker.autoStart=!1,this.app.ticker[a?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=FS.createContainer(this.app.stage),FS.updateContainer(this.getChildren(),this.mountNode,this),t(this.app),null!=i&&i.autoDensity&&window.matchMedia&&void 0===(null==i?void 0:i.resolution)&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),o&&!a&&(this._ticker=new xy,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(e,t,n){var r,i=this.props,a=i.width,o=i.height,s=i.raf,u=i.renderOnComponentChange,l=i.options;void 0!==(null==l?void 0:l.resolution)&&(null==e?void 0:e.options.resolution)!==(null==l?void 0:l.resolution)&&(this.app.renderer.resolution=l.resolution,this.resetInteractionManager()),e.height===o&&e.width===a&&(null===(r=e.options)||void 0===r?void 0:r.resolution)===(null==l?void 0:l.resolution)||this.updateSize(),e.raf!==s&&this.app.ticker[s?"start":"stop"](),FS.updateContainer(this.getChildren(),this.mountNode,this),e.width===a&&e.height===o&&e.raf===s&&e.renderOnComponentChange===u&&e.options===l||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var e=this.app.renderer.plugins.interaction;null!=e&&e.resolution&&(e.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var t=this.props.children;return e.createElement(YS,{value:this.app},t)}},{key:"componentDidCatch",value:function(e,t){console.error("Error occurred in `Stage`."),console.error(e),console.error(t)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),FS.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var t,n,r=this,i=this.props.options;return i&&i.view?(jw(i.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):e.createElement("canvas",VS({},(t=this.props,n=[].concat(Lw(Object.keys(JS)),Lw(Object.keys(Zw))),Object.keys(t).filter((function(e){return!n.includes(e)})).reduce((function(e,n){return ZS(ZS({},e),{},Dw({},n,t[n]))}),{})),{ref:function(e){return r._canvas=e}}))}}])&&HS(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),a}();tT.propTypes=JS,tT.defaultProps=eT;var nT=tT;var rT=pS.Container,iT=pS.Graphics,aT=pS.Sprite,oT=pS.Text,sT=(0,e.createContext)({}),uT=function(t){var n=t.children,r=(0,e.useRef)(function(){var e=new xy;return e.autoStart=!0,e}());return(0,e.useEffect)((function(){return function(){r.current.stop()}}),[]),(0,m.jsx)(sT.Provider,{value:{ticker:r.current},children:n})},lT=function(){return(0,e.useContext)(sT)};var cT=function(t){var n=t.img,r=t.top,i=t.left,a=t.position,o=t.stepWidth,s=t.direction,u=t.flipX,l=t.getValue,c=St(),f=lT().ticker,h=p((0,e.useState)(null),2),d=h[0],v=h[1],g=(0,e.useRef)(NaN),y=(0,e.useRef)(null),b=(0,e.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=l();if(g.current!==t||e){g.current=t;var c,f=_d(a,o,t),h=f.current,d=f.max,p={x:i,y:r};switch(s){case"left":case"right":c={x:0,y:0,width:h,height:n.height};break;case"up":c={x:0,y:d-h,width:n.width,height:h};break;case"down":c={x:0,y:0,width:n.width,height:h}}!u||"up"!==s&&"down"!==s||(p.x+=n.width),v({maskProps:c,position:p,flipX:u})}}),[n,r,i,a,o,s,u,l]);(0,e.useEffect)((function(){b(!0)}),[b]);var _="play"===c.status||!d||0!==g.current,x=(0,e.useCallback)((function(){b()}),[b]);return(0,e.useEffect)((function(){if(_)return f.add(x),function(){f.remove(x)}}),[x,_]),(0,e.useMemo)((function(){if(!d)return null;var e=d.maskProps;return(0,m.jsxs)(rT,{position:d.position,scale:{x:d.flipX?-1:1,y:1},mask:y.current,visible:!!y.current,children:[(0,m.jsx)(aT,{texture:n}),(0,m.jsx)(iT,{draw:function(t){t.clear().beginFill(16777215).drawRect(e.x,e.y,e.width,e.height).endFill()},ref:y})]})}),[n,d])};var fT=function(t){var n=t.img,r=t.startAngle,i=t.stopAngle,a=t.distance,o=t.origin,s=t.getValue,u=St(),l=lT().ticker,c=p((0,e.useState)(null),2),f=c[0],h=c[1],d=(0,e.useRef)(NaN),v=(0,e.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=s();if(d.current!==t||e){d.current=t;var u={x:o.x,y:o.y},l=xd(r,i,t),c={x:n.width/2,y:n.height/2+a};h({position:u,pivot:c,angle:l})}}),[n,r,i,a,o,s]);(0,e.useEffect)((function(){v(!0)}),[v]);var g="play"===u.status||!f||0!==d.current,y=(0,e.useCallback)((function(){v()}),[v]);return(0,e.useEffect)((function(){if(g)return l.add(y),function(){l.remove(y)}}),[y,g]),(0,e.useMemo)((function(){return f?(0,m.jsx)(aT,{texture:n,position:f.position,angle:f.angle,pivot:f.pivot}):null}),[n,f])};var hT=function(t){var n=t.img,r=t.top,i=t.left,a=t.position,o=t.stepWidth,s=t.direction,u=t.flipX,l=t.getValue,c=St(),f=lT().ticker,h=p((0,e.useState)(null),2),d=h[0],v=h[1],g=(0,e.useRef)(NaN),y=(0,e.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=l();if(g.current!==t||e){g.current=t;var c,f=_d(a,o,t).current;switch(s){case"left":c={x:i-f,y:r};break;case"right":c={x:i+f,y:r};break;case"up":c={x:i,y:r-f};break;case"down":c={x:i,y:r+f}}!u||"up"!==s&&"down"!==s||(c.x+=n.width),v({position:c,flipX:u})}}),[n,r,i,a,o,s,u,l]);(0,e.useEffect)((function(){y(!0)}),[y]);var b="play"===c.status||!d||0!==g.current,_=(0,e.useCallback)((function(){y()}),[y]);return(0,e.useEffect)((function(){if(b)return f.add(_),function(){f.remove(_)}}),[_,b]),(0,e.useMemo)((function(){return d?(0,m.jsx)(aT,{texture:n,position:d.position,scale:{x:d.flipX?-1:1,y:1}}):null}),[n,d])},dT={left:0,right:0,mono:0};var pT=function(t){var n=lT().ticker,r=t.config,i=t.assets,a=Je().socket,o=(0,e.useRef)(dT);(0,e.useEffect)((function(){n.maxFPS=1/r.uiRefreshPeriod}),[r.uiRefreshPeriod]),(0,e.useEffect)((function(){if(a){var e=function(e){o.current=e};return a.on("nowPlayingVUMeterData",e),function(){a.off("nowPlayingVUMeterData",e),o.current=dT}}}),[a]);var s=(0,e.useCallback)((function(){if("circular"===r.type){var e={img:i.images.indicator,stepsPerDegree:r.stepsPerDegree,distance:r.distance};return 1===r.channels?(0,m.jsx)(fT,f(f({},e),{},{origin:r.monoOrigin,startAngle:r.angle.start,stopAngle:r.angle.stop,getValue:function(){return o.current.mono}})):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(fT,f(f({},e),{},{origin:r.leftOrigin,startAngle:r.angle.leftStart,stopAngle:r.angle.leftStop,getValue:function(){return o.current.left}})),(0,m.jsx)(fT,f(f({},e),{},{origin:r.rightOrigin,startAngle:r.angle.rightStart,stopAngle:r.angle.rightStop,getValue:function(){return o.current.right}}))]})}if("linear"===r.type){var t=function(e){switch(r.direction){case"left-right":return"right";case"bottom-top":return"up";case"top-bottom":return"down";case"center-edges":return"left"===e?"left":"right";case"edges-center":return"left"===e?"right":"left"}},n={img:i.images.indicator,top:r.left.y,left:r.left.x,position:r.position,stepWidth:r.stepWidth,direction:t("left"),flipX:r.flipLeft.x,getValue:function(){return o.current.left}},a={img:i.images.indicator,top:r.right.y,left:r.right.x,position:r.position,stepWidth:r.stepWidth,direction:t("right"),flipX:r.flipRight.x,getValue:function(){return o.current.right}};return"single"===r.indicatorType?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(hT,f({},n)),(0,m.jsx)(hT,f({},a))]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(cT,f({},n)),(0,m.jsx)(cT,f({},a))]})}}),[r,i]),u=(0,e.useMemo)((function(){return i.images.foreground?(0,m.jsx)(aT,{texture:i.images.foreground}):null}),[r,i]);return(0,m.jsxs)(rT,{position:{x:r.meter.x,y:r.meter.y},children:[(0,m.jsx)(aT,{texture:i.images.background}),s(),u]})},vT=["children","forceCanvas"],mT=function(e){var t=e.children,n=e.render;return(0,m.jsx)(pe.Consumer,{children:function(e){return(0,m.jsx)(bt.Consumer,{children:function(r){return(0,m.jsx)(xt.Consumer,{children:function(i){return(0,m.jsx)(Ze.Consumer,{children:function(a){return n((0,m.jsx)(pe.Provider,{value:e,children:(0,m.jsx)(bt.Provider,{value:r,children:(0,m.jsx)(xt.Provider,{value:i,children:(0,m.jsx)(Ze.Provider,{value:a,children:t})})})}))}})}})}})}})},gT=function(e){var t=e.children,n=e.forceCanvas,r=void 0!==n&&n,i=Qa(e,vT);return(0,m.jsx)(mT,{render:function(e){return(0,m.jsx)(nT,f(f({},i),{},{raf:!1,renderOnComponentChange:!0,options:{antialias:!0,resolution:window.devicePixelRatio,forceCanvas:r},children:e}))},children:(0,m.jsx)(uT,{children:t})})};function yT(e){return h(e)||i(e)||a(e)||d()}var bT=function(t){var n=lT().ticker,r=t.text,i=t.style,a=t.position,o=t.maxWidth,s=t.center,u=p((0,e.useState)(!1),2),l=u[0],c=u[1],f=(0,e.useRef)(null),h=p((0,e.useState)(null),2),d=h[0],v=h[1],g=(0,e.useRef)(null),y=(0,e.useRef)(null),b=(0,e.useMemo)((function(){return _b.measureText(r,i)}),[r,i]);(0,e.useEffect)((function(){if(b.width>o){var e=b.width+function(e){return 3*e.height}(b),t=(0,m.jsxs)(rT,{ref:y,cacheAsBitmap:!0,children:[(0,m.jsx)(oT,{text:r,style:i}),(0,m.jsx)(oT,{text:r,style:i,position:{x:e,y:0}})]},Date.now().toString());return f.current={textElement:t,left:0,scrollDistancePerSecond:.05*o,cycleDistance:e,pauseState:{active:!0,millisPaused:0}},c(!0),function(){y.current&&y.current.destroy()}}f.current=null,c(!1)}),[b,r,i,o]);var _=(0,e.useCallback)((function(){var e=f.current;if(e){var t=n.elapsedMS;if(e.pauseState.active){var r=e.pauseState.millisPaused+t;if(r<2e3)return e.pauseState.millisPaused=r,void v({textElement:e.textElement,left:e.left});e.pauseState.active=!1,e.pauseState.millisPaused=0}var i=e.scrollDistancePerSecond/1e3*t,a=e.left-i;a+e.cycleDistance<0&&(a=0,e.pauseState.active=!0),e.left=a,v({textElement:e.textElement,left:a})}}),[]);(0,e.useEffect)((function(){if(l)return n.add(_),function(){n.remove(_)}}),[l]);var x=(0,e.useCallback)((function(e){e.clear().beginFill(16777215).drawRect(0,0,o,b.height).endFill()}),[o,b.height]);return l&&d?(0,m.jsxs)(rT,{position:a,mask:g.current,visible:!!g.current,children:[(0,m.jsx)(rT,{position:{x:d.left,y:0},children:d.textElement}),(0,m.jsx)(iT,{draw:x,ref:g})]}):(0,m.jsx)(oT,{text:r,style:i,position:{x:a.x+(s?(o-b.width)/2:0),y:a.y}})};var _T=function(t){var n=St(),r=Tt().currentSeekPosition,i=t.config,a=i.timeRemaining,o=i.font,s=(0,e.useMemo)((function(){return a?new wb({fontFamily:[yd.digi,"Roboto","sans-serif"],fontSize:o.size.digi,fill:a.color}):null}),[o,a]);if(!s||!a||0===n.duration||"stop"===n.status)return null;var u=kd(n.duration,r);return(0,m.jsx)(oT,{text:u,position:a.position,style:s})},xT=n(3699),kT=function(e){var t=e.replace(/"/g,"'").replace(/>\s{1,}</g,"><").replace(/\s{2,}/g," ").replace(/[\r\n%#()<>?[\\\]^`{|}]/g,encodeURIComponent);return"data:image/svg+xml,".concat(t)},wT=function e(t,n){"path"===t.name&&(t.attributes.fill=n,t.attributes.style||(t.attributes.style=""),t.attributes.style+="; fill: ".concat(n)),t.children.forEach((function(t){return e(t,n)}))};var ST=function(t){var n=t.position,r=t.size,i=t.color,a=t.formatIconUrl,o=p((0,e.useState)(null),2),s=o[0],u=o[1];return(0,e.useEffect)((function(){return function(){null!==s&&void 0!==s&&s.texture&&s.texture.destroy(!0)}}),[null===s||void 0===s?void 0:s.texture]),(0,e.useEffect)((function(){var e,t=!1,o=function(e,t,n){return new Promise((function(r,i){var a=new Image(t,n);a.onload=function(){var e=vg.from(a,{width:t,height:n});r(e)},a.onerror=function(){i("Failed to obtain texture from Image element with data URI: ".concat(e))},a.src=e}))},s=function(){var s=Ge(Xe().mark((function s(){var l,c,f,h,d,v,m,g,y,b,_,x,k,w,S,T,E;return Xe().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,fetch(a);case 3:return s.next=5,s.sent.text();case 5:return l=s.sent,s.next=8,xT.parse(l);case 8:if(c=s.sent,(f=Reflect.get(c.attributes,"viewBox"))&&"string"===typeof f){s.next=12;break}throw Error("Attribute 'viewBox' missing or invalid");case 12:if(h=f.split(" ").slice(2),d=p(h,2),v=d[0],m=d[1],g=Number(v),y=Number(m),!isNaN(g)&&!isNaN(y)){s.next=17;break}throw Error("Invalid viewbox size");case 17:return b=Math.min(r.width/g,r.height/y),_=b*g,x=b*y,wT(c,i),k=xT.stringify(c),w=kT(k),s.next=25,o(w,_,x);case 25:S=s.sent,T=(r.height-x)/2,E=(r.width-_)/2,e={texture:S,position:{x:n.x+E,y:n.y+T},width:_,height:x},s.next=35;break;case 31:s.prev=31,s.t0=s.catch(0),console.log("Failed to load SVG from ".concat(a,":"),s.t0),e=null;case 35:t||u(e);case 36:case"end":return s.stop()}}),s,null,[[0,31]])})));return function(){return s.apply(this,arguments)}}();return s(),function(){t=!0,e&&u(null)}}),[n,r,i,a]),s&&s.texture.valid?(0,m.jsx)(aT,f({},s)):null};var TT=function(t){var n=ge(),r=n.pluginInfo,i=n.host,a=t.src,o=t.config,s=o.albumart,u=o.font,l=(0,e.useRef)(null),c=p((0,e.useState)(null),2),f=c[0],h=c[1],d=p((0,e.useState)(null),2),v=d[0],g=d[1];(0,e.useEffect)((function(){return function(){f&&f.destroy(!0)}}),[f]);var y=(0,e.useCallback)(function(){var e=Ge(Xe().mark((function e(t){var n,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",null);case 2:return n=ne(t||null,i),(a=new URL("proxy",r.appUrl)).searchParams.set("url",n),e.prev=5,e.next=8,vg.fromURL(a.toString());case 8:o=e.sent,e.next=17;break;case 11:if(e.prev=11,e.t0=e.catch(5),console.log("Failed to load albumart through proxy from ".concat(n,":"),e.t0),!t){e.next=16;break}return e.abrupt("return",y());case 16:o=null;case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t){return e.apply(this,arguments)}}(),[r,i]);(0,e.useEffect)((function(){if(s&&l.current!==a){var e=!1;return y(a).then((function(t){e?t&&t.destroy(!0):(l.current=t?a:null,h(t))})),function(){e=!0}}}),[a,s,y]);var b=(0,e.useCallback)((function(e){s&&e.clear().beginFill(16777215).drawRect(0,0,s.size.width,s.size.height).endFill()}),[s]);if(!f||!f.valid||!s)return null;var _=Math.max(s.size.width/f.width,s.size.height/f.height),x=f.width*_,k=f.height*_,w={x:(s.size.width-x)/2,y:(s.size.height-k)/2},S=null;return s.border&&(S=(0,m.jsx)(iT,{draw:function(e){var t;e.clear().lineStyle({width:null===(t=s.border)||void 0===t?void 0:t.width,color:u.color}).drawRect(0,0,s.size.width,s.size.height)}})),(0,m.jsxs)(rT,{position:s.position,mask:v,visible:!!v,children:[(0,m.jsx)(aT,{texture:f,position:w,width:x,height:k}),(0,m.jsx)(iT,{ref:function(e){return g(e)},draw:b}),S]})};var ET=function(t){var n=ge().pluginInfo,r=St(),i=t.config,a=i.playInfo,o=i.font,s=i.albumart,u=p((0,e.useState)(!1),2),l=u[0],c=u[1];if(!a)return null;(0,e.useEffect)((function(){return o&&wd(o).then((function(){c(!0)})),function(){c(!1)}}),[o]);var h=(0,e.useMemo)((function(){if(!a.title||!r.title)return null;var e=new wb({fontFamily:[yd[a.title.style],"Roboto","sans-serif"],fontSize:o.size[a.title.style],fill:o.color});return(0,m.jsx)(bT,{text:r.title,style:e,position:a.title.position,maxWidth:a.maxWidth,center:a.center})}),[a,o,r.title]),d=(0,e.useCallback)((function(e,t){if(!l)return null;var n,i,s=a[e],u="samplerate"===t?ie(r):r[t];if(!s||!u)return null;"sampleRate"===e?n=(null===(i=a.trackType)||void 0===i?void 0:i.color)||o.color:n=o.color;var c=new wb({fontFamily:[yd[s.style],"Roboto","sans-serif"],fontSize:o.size[s.style],fill:n}),h=function(e,t,n){var r=e.split(""),i=yT(_b.measureText("".concat("...","\n").concat(r.join("\n")),t).lineWidths),a=i[0],o=i.slice(1).reduce((function(e,t,i){return e.width+t+a>=n?f(f({},e),{},{width:n,overflow:!0}):{str:e.str+r[i],width:e.width+t,overflow:!1}}),{str:"",width:0,overflow:!1}),s=o.str+(o.overflow?"...":"");return{text:s,metrics:_b.measureText(s,t)}}(u.toString(),c,a.maxWidth),d={x:s.position.x+(a.center?(a.maxWidth-h.metrics.width)/2:0),y:s.position.y};return(0,m.jsx)(oT,{text:h.text,style:c,position:d})}),[l,a,o,r]),v=(0,e.useMemo)((function(){return d("artist","artist")}),[d]),g=(0,e.useMemo)((function(){return d("album","album")}),[d]),y=(0,e.useMemo)((function(){return d("sampleRate","samplerate")}),[d]),b=(0,e.useMemo)((function(){return(0,m.jsx)(TT,{src:r.albumart,config:i})}),[s,o,r.albumart]);return(0,m.jsxs)(m.Fragment,{children:[b,h,v,g,y,function(){if(!a.trackType)return null;var e=n?ae(r.trackType,n.appUrl):null;return e?(0,m.jsx)(ST,f(f({},a.trackType),{},{formatIconUrl:e})):null}(),(0,m.jsx)(_T,{config:i})]})},CT=new wb({fontFamily:["Roboto","sans-serif"],fontSize:24,fill:"#00FF00",align:"right"});var AT=function(t){var n=lT().ticker,r=t.position,i=t.anchor,a=t.extraStats,o=p((0,e.useState)(""),2),s=o[0],u=o[1];return(0,e.useEffect)((function(){var e=function(){var e=["".concat((0,Xh.round)(n.FPS,2).toFixed(2)," FPS"),"Ticks: ".concat(n.count)];if(a)for(var t=0,r=Object.entries(a);t<r.length;t++){var i=p(r[t],2),o=i[0],s=i[1];e.push("".concat(o,": ").concat(s))}u(e.join("\n"))};return n.add(e),function(){n.remove(e)}}),[a]),(0,m.jsx)(oT,{text:s,style:CT,anchor:i||{x:0,y:0},position:r})},PT=function(){var e=Ge(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=n,e.next=4,vg.fromURL(t);case 4:return e.t1=e.sent,e.abrupt("return",{error:!1,assetName:e.t0,texture:e.t1});case 8:return e.prev=8,e.t2=e.catch(0),e.abrupt("return",{error:!0,assetName:n,url:t});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}();var IT=function(t){var n=dt(fe.CommonSettingsCategory.Performance).settings,r=t.meter,i=t.offset,a=t.size,o=t.impl,s=p((0,e.useState)(null),2),u=s[0],l=s[1],c=p((0,e.useState)(!1),2),f=c[0],h=c[1],d=(0,e.useRef)(!0),v=(0,e.useRef)(jp());(0,e.useEffect)((function(){return function(){var e=null===u||void 0===u?void 0:u.assets;e&&!e.error&&Object.keys(e.images).forEach((function(t){e.images[t].destroy(!0)}))}}),[u]),(0,e.useEffect)((function(){if(!d.current){h(!0);var e=setTimeout((function(){h(!1)}),500);return function(){clearTimeout(e)}}}),[o]);var g=(0,e.useCallback)(function(){var e=Ge(Xe().mark((function e(t){var n,r,i,a,o,s,u,l,c,f,h,d,v,m,g;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[PT(t.images.background,"background"),PT(t.images.indicator,"indicator")],t.images.screenBackground&&n.push(PT(t.images.screenBackground,"screenBackground")),t.images.foreground&&n.push(PT(t.images.foreground,"foreground")),e.next=5,Promise.all(n);case 5:r=e.sent,i=function(e,t){return r.forEach((function(e){e.error||e.texture.destroy(!0)})),{error:!0,message:"Failed to load VU meter ".concat(t," from: ").concat(e)}},a=p(r,4),o=a[0],s=a[1],u=a[2],l=a[3],c=0,f=[o,s];case 9:if(!(c<f.length)){e.next=16;break}if(!(h=f[c]).error){e.next=13;break}return e.abrupt("return",i(h.url,h.assetName));case 13:c++,e.next=9;break;case 16:for(d={background:o.texture,indicator:s.texture},v=0,m=[u,l];v<m.length;v++)(g=m[v])&&(g.error?console.warn("Failed to load VU meter ".concat(g.assetName," from: ").concat(g.url)):d[g.assetName]=g.texture);return e.abrupt("return",{error:!1,images:d});case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);(0,e.useEffect)((function(){var e=!1;return g(r).then((function(t){e||l({meter:r,assets:t})})),function(){e=!0}}),[r,g]);var y=(0,e.useMemo)((function(){return u&&bd(u.meter)?(0,m.jsx)(ET,{config:u.meter}):null}),[u]),b=(0,e.useMemo)((function(){if(n.vuMeterWebGLShowStats)return{Template:r.template,Meter:r.name}}),[n.vuMeterWebGLShowStats,r.name]);if((0,e.useEffect)((function(){d.current=!1}),[]),!u||f)return null;var _=u.assets;if(_.error)return(0,m.jsx)(Fd,{message:_.message});var x=1,k={top:0,left:0},w=_.images.screenBackground||_.images.background,S={width:w.width,height:w.height};_.images.screenBackground||(S.width+=u.meter.meter.x,S.height+=u.meter.meter.y),a&&a.height>0&&a.width>0&&(x=Math.min(a.width/w.width,a.height/w.height),S.width=w.width*x,S.height=w.height*x,k={top:(a.height-S.height)/2,left:(a.width-S.width)/2});var T={"--top":"".concat((i?i.top:0)+k.top,"px"),"--left":"".concat((i?i.left:0)+k.left,"px")};return(0,m.jsxs)(gT,{className:Vd,width:S.width,height:S.height,style:T,forceCanvas:"canvas"===o||!v.current,children:[(0,m.jsxs)(rT,{position:{x:0,y:0},scale:x,children:[_.images.screenBackground?(0,m.jsx)(aT,{texture:_.images.screenBackground,position:{x:0,y:0}}):null,(0,m.jsx)(pT,{config:u.meter,assets:_}),y]}),n.vuMeterWebGLShowStats?(0,m.jsx)(AT,{position:{x:S.width-18,y:S.height-18},anchor:{x:1,y:1},extraStats:b}):null]})};var OT=function(t){var n=ge().pluginInfo,r=St(),i=t.config,a=p((0,e.useState)(null),2),o=a[0],s=a[1],u=(0,e.useRef)(null),l=(0,e.useRef)(null),c=(0,e.useRef)(NaN),h=(null===n||void 0===n?void 0:n.appUrl)||null,d=p((0,e.useState)(NaN),2),v=d[0],g=d[1],y=(0,e.useRef)(r),b=(0,e.useRef)(null),_="random"===i.templateType||"random"===i.meterType?i.randomRefreshInterval:0,x=("random"===i.templateType||"random"===i.meterType)&&i.randomRefreshOnTrackChange,k=(0,e.useCallback)((function(){b.current&&(clearTimeout(b.current),b.current=null)}),[]);(0,e.useEffect)((function(){return function(){k()}}),[k]);var w=(0,e.useCallback)((function(){return k(),_>0&&(b.current=setTimeout((function(){g(Date.now())}),1e3*_)),function(){k()}}),[k,_]);(0,e.useEffect)((function(){if(x){var e=y.current;(r.uri!==e.uri||r.title!==e.title||r.artist!==e.artist||r.album!==e.album)&&(y.current=f({},r),g(Date.now()))}}),[r.uri,r.title,r.artist,r.album,x]);var S="fixed"===i.templateType?i.template:null,T="fixed"===i.templateType&&"fixed"===i.meterType?i.meter:null,E=(0,e.useCallback)(function(){var e=Ge(Xe().mark((function e(t,n){var r,i,a,o,s,u;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h){e.next=2;break}return e.abrupt("return",null);case 2:return r=t?"".concat(h,"/vumeter/").concat(t):"".concat(h,"/vumeter"),e.prev=3,e.next=6,fetch(r);case 6:return i=e.sent,e.next=9,i.json();case 9:if(!(a=e.sent).error){e.next=12;break}return e.abrupt("return",{error:!0,message:a.error});case 12:if((o=a.meters)&&0!==o.length){e.next=16;break}return s=t?"No VU meters defined in '".concat(t):"No VU meters found",e.abrupt("return",{error:!0,message:s});case 16:if(u=null,!t||!n){e.next=23;break}if(u=o.find((function(e){return e.name===n}))||null,u){e.next=21;break}return e.abrupt("return",{error:!0,message:"Meter '".concat(n,"' not found in '").concat(t,"'")});case 21:e.next=24;break;case 23:u=o[(0,Xh.random)(0,o.length-1)];case 24:return e.abrupt("return",{error:!1,meter:u});case 27:return e.prev=27,e.t0=e.catch(3),e.abrupt("return",{error:!0,message:"Failed to load VU meter template from: ".concat(r)});case 30:case"end":return e.stop()}}),e,null,[[3,27]])})));return function(t,n){return e.apply(this,arguments)}}(),[h]),C=(0,e.useCallback)((function(e){e?e.error?(u.current=null,s(e)):le()(e.meter,u.current)||(u.current=e.meter,s(e)):(u.current=null,s(null))}),[]);return(0,e.useEffect)((function(){var e={template:S,meter:T};c.current===v&&le()(e,l.current)||(c.current=v,E(S,T).then((function(t){!t||t.error?l.current=null:l.current=e,C(t),w()})))}),[S,T,E,v,w]),o?o.error?(0,m.jsx)(Fd,{message:o.message}):"webgl"===t.impl||"canvas"===t.impl?(0,m.jsx)(IT,{meter:o.meter,size:t.size,offset:t.offset,impl:t.impl}):(0,m.jsx)(zd,{meter:o.meter,size:t.size,offset:t.offset}):null};var MT=function(t){var n,r,i=ge().isKiosk,a=dt(fe.CommonSettingsCategory.Performance).settings,o=p((0,e.useState)({width:window.innerWidth,height:window.innerHeight}),2),s=o[0],u=o[1];(0,e.useEffect)((function(){var e=function(){u({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),"fixed"===t.templateType?(r="random"===t.meterType?{meterType:"random",randomRefreshInterval:t.randomRefreshInterval,randomRefreshOnTrackChange:t.randomRefreshOnTrackChange}:{meterType:"fixed",meter:t.meter},n=f({templateType:"fixed",template:t.template},r)):n={templateType:"random",randomRefreshInterval:t.randomRefreshInterval,randomRefreshOnTrackChange:t.randomRefreshOnTrackChange};var l=i?a.vuMeterRenderingKiosk:a.vuMeterRenderingOtherDevices;return(0,m.jsx)("div",{className:qh,children:(0,m.jsx)(OT,{config:n,size:s,impl:l})})},RT=function(e){switch(e.activeScreen){case"nowPlaying.basicView":return"basic";case"nowPlaying.infoView":return"info";case"nowPlaying.vuMeter":return"vuMeter";default:return}};var NT=function(t){var n=St(),r=_(),i=r.openModal,a=r.disableModal,s=r.enableModal,u=dt(fe.CommonSettingsCategory.NowPlayingScreen).settings,l=dt(fe.CommonSettingsCategory.Startup).settings,c=(0,e.useRef)(null),h=Rf(),d=h.activeScreenId,y=h.switchScreen,b=Ha().get("NowPlayingScreen.restoreState",{},!0),x=b.previouslyMounted?void 0:RT(l),w=p((0,e.useState)(x||b.view||t.view||"basic"),2),S=w[0],T=w[1],E=Lr().t;(0,e.useEffect)((function(){return function(){b.previouslyMounted=!0}}),[]),(0,e.useEffect)((function(){if(!b.previouslyMounted){var e=RT(l);e&&T(e)}}),[l,b]),(0,e.useEffect)((function(){b.view=S}),[b,S]);var C=(0,e.useCallback)((function(){i(io)}),[i]),A=(0,e.useMemo)((function(){var e={};return"custom"===u.fontSizes&&(e["--title-font-size"]=u.titleFontSize,e["--artist-font-size"]=u.artistFontSize,e["--album-font-size"]=u.albumFontSize,e["--media-info-font-size"]=u.mediaInfoFontSize,e["--seek-time-font-size"]=u.seekTimeFontSize,e["--metadata-font-size"]=u.metadataFontSize),"custom"===u.fontColors&&(e["--title-font-color"]=u.titleFontColor,e["--artist-font-color"]=u.artistFontColor,e["--album-font-color"]=u.albumFontColor,e["--media-info-font-color"]=u.mediaInfoFontColor,e["--seek-time-font-color"]=u.seekTimeFontColor,e["--metadata-font-color"]=u.metadataFontColor),u.textAlignmentH&&(e["--text-alignment-h"]=u.textAlignmentH),u.textAlignmentV&&(e["--text-alignment-v"]=u.textAlignmentV),u.textAlignmentLyrics&&(e["--text-alignment-lyrics"]=u.textAlignmentLyrics),"custom"===u.textMargins&&(e["--title-margin"]=u.titleMargin,e["--artist-margin"]=u.artistMargin,e["--album-margin"]=u.albumMargin,e["--media-info-margin"]=u.mediaInfoMargin),"custom"===u.maxLines&&(e["--max-title-lines"]=u.maxTitleLines,e["--max-artist-lines"]=u.maxArtistLines,e["--max-album-lines"]=u.maxAlbumLines),"custom"===u.widgetColors&&(e["--widget-primary-color"]=u.widgetPrimaryColor,e["--widget-highlight-color"]=u.widgetHighlightColor),"custom"===u.playbackButtonSizeType&&(e["--playback-buttons-size"]=u.playbackButtonSize),"custom"===u.widgetMargins&&(e["--playback-buttons-margin"]=u.playbackButtonsMargin,e["--seekbar-margin"]=u.seekbarMargin),"custom"===u.albumartSize&&(e["--albumart-width"]=u.albumartWidth,e["--albumart-height"]=u.albumartHeight),u.albumartFit&&(e["--albumart-fit"]=u.albumartFit),u.albumartBorder&&(e["--albumart-border"]=u.albumartBorder),u.albumartBorderRadius&&(e["--albumart-border-radius"]=u.albumartBorderRadius),e}),[u]),P=function(e){var t=[],n="vuMeter"===S,r=function(t){return t.enabled&&t.placement===e&&(!n||t.showInVUMeterView)},i=u.dockedVolumeIndicator;r(i)&&t.push({order:Number(i.displayOrder)||0,component:(0,m.jsx)(Fh,{},"dockedVolumeIndicator")});var a=u.dockedClock;r(a)&&t.push({order:Number(a.displayOrder)||0,component:(0,m.jsx)(zh,{},"dockedClock")});var o=u.dockedWeather||{};r(o)&&t.push({order:Number(o.displayOrder)||0,component:(0,m.jsx)(Hh,{},"dockedWeather")});var s=t.sort((function(e,t){return e.order-t.order})).map((function(e){return e.component}));return r(f(f({},u.dockedActionPanelTrigger),{},{placement:"top"}))&&s.unshift((0,m.jsx)(Gh,{onClick:C},"actionPanelTrigger")),r(f(f({},u.dockedMenu),{},{placement:"top-right"}))&&s.push(L()),s},I="custom"===u.trackInfoVisibility?{title:u.titleVisibility,artist:u.artistVisibility,album:u.albumVisibility,mediaInfo:u.mediaInfoVisibility}:void 0,O="custom"===u.widgetVisibility?{playbackButtons:u.playbackButtonsVisibility,seekbar:u.seekbarVisibility}:void 0,M=(0,e.useMemo)((function(){var e=["title","artist","album","mediaInfo"];if("custom"===u.trackInfoOrder){var t=[{key:"title",order:Number(u.trackInfoTitleOrder)||-1},{key:"artist",order:Number(u.trackInfoArtistOrder)||-1},{key:"album",order:Number(u.trackInfoAlbumOrder)||-1},{key:"mediaInfo",order:Number(u.trackInfoMediaInfoOrder)||-1}];return t.sort((function(t,n){var r=-1!==t.order?t.order:e.indexOf(t.key),i=-1!==n.order?n.order:e.indexOf(n.key);return r===i?e.indexOf(t.key)>e.indexOf(n.key)?1:-1:r>i?1:-1})),t.map((function(e){return e.key}))}return e}),[u]);(0,e.useEffect)((function(){u.dockedVolumeIndicator.enabled&&"NowPlaying"===d?a(ao):s(ao)}),[d,u,a,s]);var R=(0,e.useCallback)((function(e){var t;if(t=e.event instanceof Event?e.event:e.event.nativeEvent,null!==c.current&&!F(t,c.current)){var n=o(e.initial),r=n[0],i=n[1],a=c.current.offsetWidth,s=c.current.offsetHeight;"Down"===e.dir&&i<.5*s?C():"Right"===e.dir&&r<.5*a||"Left"===e.dir&&r>.5*a?y({screenId:"Browse",enterTransition:"slide".concat(e.dir)}):"Up"===e.dir&&i>.5*s&&y({screenId:"Queue",enterTransition:"slide".concat(e.dir)})}}),[C,y]),N=B({onSwiped:R}),D=function(e){e.syntheticEvent.stopPropagation();var t=e.value.action;switch(t){case"setBasicView":"basic"!==S&&T("basic");break;case"setInfoView":"info"!==S&&T("info");break;case"setVUMeterView":"vuMeter"!==S&&T("vuMeter");break;case"gotoArtist":case"gotoAlbum":y({screenId:"Browse",enterTransition:"slideLeft",screenProps:{location:{type:"goto",params:{type:"gotoArtist"===t?"artist":"album",playerState:n}}}})}},L=function(){var e=[{type:"item",key:"setBasicView",value:{action:"setBasicView"},icon:"art_track",title:E("screen.nowPlaying.basicView"),selected:"basic"===S},{type:"item",key:"setInfoView",value:{action:"setInfoView"},icon:"newspaper",title:E("screen.nowPlaying.infoView"),selected:"info"===S},{type:"item",key:"setVUMeterView",value:{action:"setVUMeterView"},icon:"speed",title:E("screen.nowPlaying.vuMeterView"),selected:"vuMeter"===S},{type:"divider",key:"divider1"},{type:"item",key:"gotoArtist",value:{action:"gotoArtist"},icon:"person",title:E("action.gotoArtist")},{type:"item",key:"gotoAlbum",value:{action:"gotoAlbum"},icon:"album",title:E("action.gotoAlbum")}];return(0,m.jsx)(Oh,{styles:{baseClassName:"PopupMenu",bundle:v,extraClassNames:["no-swipe"]},align:"end",direction:"bottom",onMenuItemClick:D,menuItems:e},"nowPlayingPopupMenu")},j=u.vuMeter,U=(0,e.useMemo)((function(){return"vuMeter"!==S?null:(0,m.jsx)(MT,f({},j))}),[S,j.templateType,j.template,j.meterType,j.meter,j.randomRefreshInterval,j.randomRefreshOnTrackChange]),z=k()([v.Layout,t.className]),V=u.trackInfoMarqueeTitle;return(0,m.jsxs)("div",f(f({className:z,style:f(f({},A),t.style)},N),{},{ref:function(e){N.ref(e),c.current=e},children:[(0,m.jsx)(g,{position:"topLeft",children:P("top-left")}),(0,m.jsx)(g,{position:"top",children:P("top")}),(0,m.jsx)(g,{position:"topRight",children:P("top-right")}),(0,m.jsx)(g,{position:"left",children:P("left")}),(0,m.jsx)(g,{position:"right",children:P("right")}),(0,m.jsx)(g,{position:"bottomLeft",children:P("bottom-left")}),(0,m.jsx)(g,{position:"bottom",children:P("bottom")}),(0,m.jsx)(g,{position:"bottomRight",children:P("bottom-right")}),(0,m.jsx)("div",{className:v.Layout__view,children:"basic"===S?(0,m.jsx)(Dh,{playerState:n,trackInfoVisibility:I,widgetsVisibility:O,albumartVisibility:u.albumartVisibility,trackInfoOrder:M,marqueeTitle:V}):"info"===S?(0,m.jsx)(Lh,{playerState:n}):"vuMeter"===S?U:null})]}))},DT=n(5083),BT=n.n(DT),LT=function(){window.location.reload()};var jT=function(){var t=ge(),n=t.host,r=t.pluginInfo,i=t.setPluginInfo,a=pt().disableTransitions,o=Je(),s=o.socket,u=o.setSocket,l=(0,e.useRef)(null);return(0,e.useEffect)((function(){if(n){var e=BT().connect(n,{autoConnect:!1});return u(e),function(){e.disconnect()}}}),[n,u]),(0,e.useEffect)((function(){return a&&document.body.classList.add("no-transitions"),function(){document.body.classList.remove("no-transitions")}}),[a]),(0,e.useEffect)((function(){if(s){var e=function(){s.emit("callMethod",{endpoint:"user_interface/now_playing",method:"getPluginInfo"})};return["connect","reconnect"].forEach((function(t){s.on(t,e)})),s.on("nowPlayingPluginInfo",i),s.on("nowPlayingRefresh",LT),s.connect(),function(){["connect","reconnect"].forEach((function(t){s.off(t,e)})),s.off("nowPlayingPluginInfo",i),s.off("nowPlayingRefresh",LT)}}}),[s,i]),(0,e.useEffect)((function(){if(r&&l.current){var e=l.current;r.appUrl!==e.appUrl&&window.location.href.startsWith(e.appUrl)?window.location.href=r.appUrl:r.version!==e.version&&LT()}l.current=r}),[r]),jt().setAppElement("#root"),null};var FT=function(){var t=_().openModal,n=St(),r=(0,e.useRef)(null);return(0,e.useEffect)((function(){if(void 0!==n.volume){var e=r.current;(!e||(e.level!==n.volume||e.mute!==n.mute))&&(r.current={level:n.volume,mute:n.mute},e&&t(ao,{autoClose:1500}))}}),[n.volume,n.mute,t]),null};var UT=function(){var t=Je().socket,n=Ba();return(0,e.useEffect)((function(){if(t)return t.on("pushToastMessage",n),function(){t.off("pushToastMessage",n)}}),[t,n]),null};var zT=function(){var t=Je().socket,n=p((0,e.useState)(!1),2),r=n[0],i=n[1],a=(0,e.useCallback)((function(){i(!1)}),[i]),o=(0,e.useCallback)((function(){i(!0)}),[i]);return(0,e.useEffect)((function(){if(t)return t.on("connect",a),t.on("disconnect",o),function(){t.off("connect",a),t.off("disconnect",o)}}),[t,a,o]),(0,m.jsx)(Ft,{isOpen:r,closeTimeoutMS:200,overlayClassName:{base:"DisconnectedIndicatorOverlay",afterOpen:"DisconnectedIndicatorOverlay--after-open",beforeClose:"DisconnectedIndicatorOverlay--before-close"},className:{base:"DisconnectedIndicator",afterOpen:"DisconnectedIndicator--after-open",beforeClose:"DisconnectedIndicator--before-close"},children:(0,m.jsx)("span",{className:"material-icons DisconnectedIndicator__icon",children:"rotate_right"})})},VT=n(3329),HT=n.n(VT),WT={Layout:"BrowseScreen_Layout__dG0sl",Layout__contents:"BrowseScreen_Layout__contents__B5NZh",FakeLoadingBar:"BrowseScreen_FakeLoadingBar__GjWY-",Contents:"BrowseScreen_Contents__d0MGd"};var GT=function(t){var n=(0,e.useRef)(null),r=t.styles,i=t.data,a=t.index,o=Lr().t,s=(0,e.useCallback)((function(e){return e.albumart||!e.icon&&void 0===e.tracknumber?(0,m.jsx)(be,{className:r.Item__image,src:e.albumart}):e.icon?(0,m.jsx)("div",{className:r.Item__icon,children:(0,m.jsx)("i",{className:e.icon})}):(0,m.jsx)("div",{className:r.Item__trackNumber,children:e.tracknumber})}),[r]),u=i,l=u.title||u.name||"",c=u.album||"",f=u.artist||"",h=u.duration?function(e){var t=Math.trunc(e/60),n="".concat(Math.trunc(e%60));return 1===n.length&&(n="0".concat(n)),"".concat(t,":").concat(n)}(u.duration):"",d=u.album||"";u.artist&&(d+=d?" - ":"",d+=u.artist);var p=s(i),v=qt(i)?(0,m.jsx)(Pt,{styles:{baseClassName:"Item__button",bundle:r,extraClassNames:[r["Item__button--play"]]},icon:"play_arrow",onClick:function(e){e.stopPropagation(),t.onPlayClick(i,a)}}):null;return(0,m.jsxs)("div",{ref:n,className:r.Item,onClick:function(e){null===n.current||j(e.nativeEvent,"menu-button",n.current)||(e.stopPropagation(),t.onClick(i,a))},children:[(0,m.jsxs)("div",{className:r.Item__albumart,children:[p,v]}),(0,m.jsxs)("div",{className:r.Item__titleAlbumArtist,children:[(0,m.jsx)("div",{className:r.Item__title,dangerouslySetInnerHTML:{__html:l}}),(0,m.jsx)("div",{className:r.Item__album,dangerouslySetInnerHTML:{__html:c}}),(0,m.jsx)("div",{className:r.Item__artist,dangerouslySetInnerHTML:{__html:f}}),(0,m.jsx)("div",{className:r.Item__albumArtist,dangerouslySetInnerHTML:{__html:d}})]}),(0,m.jsx)("div",{className:r.Item__duration,children:h}),function(){var e=function(e,t){if(!Xt(t))return null;var n=[];return qt(t)&&n.push({icon:"play_arrow",action:"play"}),function(e){return"folder"===e.type||"song"===e.type||"mywebradio"===e.type||"webradio"===e.type||"playlist"===e.type||"remdisk"===e.type||"cuefile"===e.type||"folder-with-favourites"===e.type||"internal-folder"===e.type}(t)&&n.push({icon:"add_to_queue",action:"browse"===e.type&&"playlists"===e.uri?"addPlaylistToQueue":"addToQueue"}),qt(t)&&n.push({icon:"playlist_play",action:"clearAndPlay"}),function(e){return"folder"===e.type||"song"===e.type||"remdisk"===e.type||"folder-with-favourites"===e.type||"internal-folder"===e.type}(t)&&n.push({icon:"playlist_add",action:"addToPlaylist"}),"browse"===e.type&&e.browseItem&&"playlist"===e.browseItem.type&&n.push({icon:"playlist_remove",action:"removeFromPlaylist"}),"playlist"===t.type&&n.push({icon:"delete_outline",action:"deletePlaylist"}),"remdisk"===t.type&&n.push({icon:"eject",action:"removeDrive"}),"folder"!==t.type&&"internal-folder"!==t.type||n.push({icon:"sync",action:"updateFolder"}),"internal-folder"===t.type&&n.push({icon:"folder_delete",action:"deleteFolder"}),"song"!==t.type&&"folder-with-favourites"!==t.type||"browse"===e.type&&"favourites"===e.uri||t.favourite||n.push({icon:"favorite",action:"addToFavorites"}),("browse"===e.type&&"favourites"===e.uri||t.favourite)&&n.push({icon:"favorite_border",action:"removeFromFavorites"}),"mywebradio-category"===t.type&&n.push({icon:"add",action:"addWebRadio"}),"mywebradio"===t.type&&n.push({icon:"edit",action:"editWebRadio"}),"mywebradio"===t.type&&"browse"===e.type&&"radio/myWebRadio"===e.uri&&n.push({icon:"delete",action:"deleteWebRadio"}),"browse"===e.type&&"radio/favourites"===e.uri||"webradio"!==t.type&&"mywebradio"!==t.type||n.push({icon:"favorite",action:"addWebRadioToFavorites"}),"browse"!==e.type||"radio/favourites"!==e.uri||"webradio"!==t.type&&"mywebradio"!==t.type||n.push({icon:"favorite_border",action:"removeWebRadioFromFavorites"}),"song"===t.type&&n.push({icon:"info",action:"viewInfo"}),n}(t.location,t.data);if(!e||0===e.length)return null;var n=e.map((function(e){var t=e.action,n=e.icon;return{type:"item",key:"".concat(t,"_").concat(a),value:{itemIndex:a,action:t},icon:n,title:o("action.".concat(t))}}));return(0,m.jsx)(Oh,{styles:{baseClassName:"PopupMenu",bundle:r,extraClassNames:["menu-button"]},menuItems:n,onMenuItemClick:t.onMenuItemClick,onMenuOverlay:t.onMenuOverlay})}()]},a)},qT=e.memo((function(t){var n=(0,e.useCallback)((function(){return t.items.map((function(e,n){return(0,m.jsx)(GT,{styles:t.styles,index:n,location:t.location,data:e,onClick:t.onItemClick,onPlayClick:t.onPlayClick,onMenuItemClick:t.onMenuItemClick,onMenuOverlay:t.onMenuOverlay},n)}))}),[t.items,t.styles,t.location,t.onItemClick,t.onPlayClick,t.onMenuItemClick,t.onMenuOverlay]);return(0,m.jsx)(m.Fragment,{children:n()})}));qT.displayName="BrowseScreenItems";var XT=qT,YT={Layout:"Section_Layout__adX06","Layout--grid":"Section_Layout--grid__2y1YE","Layout--list":"Section_Layout--list__W1+FR",Title:"Section_Title__RcvIN","Title--empty":"Section_Title--empty__YLURL","Layout--maximized":"Section_Layout--maximized__BYTlg","Title--first":"Section_Title--first__45b4d","Items--list":"Section_Items--list__i94sW",Item:"Section_Item__YyYN5","Title--rich":"Section_Title--rich__kcWg9",Items:"Section_Items__p7cu7",Button:"Section_Button__lItGj","Items--grid":"Section_Items--grid__ipiyW","Item__button--play":"Section_Item__button--play__6j384",Item__button:"Section_Item__button__+3L7p",PopupMenu__menuButton:"Section_PopupMenu__menuButton__S-R1J","Button--toggleable":"Section_Button--toggleable__-SmoY",Button__icon:"Section_Button__icon__ra7Sl",Button__text:"Section_Button__text__k1cgA","Button--toggled":"Section_Button--toggled__3DNnG",PopupMenu__menuItemIcon:"Section_PopupMenu__menuItemIcon__ecmQh",PopupMenu__overlay:"Section_PopupMenu__overlay__zMA7s",Item__image:"Section_Item__image__T5EXH",Item__icon:"Section_Item__icon__DjxXA",Item__albumart:"Section_Item__albumart__YK+RO",Item__titleAlbumArtist:"Section_Item__titleAlbumArtist__lIJHS",Item__trackNumber:"Section_Item__trackNumber__-UQao",Item__title:"Section_Item__title__45L35",Item__album:"Section_Item__album__TxoP3",Item__artist:"Section_Item__artist__5+bcg",Item__albumArtist:"Section_Item__albumArtist__MzNRT",Item__duration:"Section_Item__duration__04ehW",PopupMenu:"Section_PopupMenu__M+j41","Items--noAlbum":"Section_Items--noAlbum__-Wnmx","Items--noArtist":"Section_Items--noArtist__-Y56D","Items--noDuration":"Section_Items--noDuration__Wgppu","Items--noMenu":"Section_Items--noMenu__vxDo0","PopupMenu--opened":"Section_PopupMenu--opened__enn+Z"},QT=n(3469),KT=n.n(QT);var ZT=function(t){var n=ge().host,r=(0,e.useMemo)((function(){var e=t.list.availableListViews;Array.isArray(e)&&0!==e.length||(e=["list","grid"]);var n=t.preferredListView||"grid";return e.includes(n)?n:e[0]}),[t.list.availableListViews,t.preferredListView]),i=t.list.title||"",a=k()([YT.Title,0===t.sectionIndex?YT["Title--first"]:null,i?null:YT["Title--empty"]]),o=(0,e.useMemo)((function(){var e={album:!1,artist:!1,duration:!1,menu:!1};if(t.list.items){var n,r=L(t.list.items);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=i;if(a.album&&(e.album=!0),a.artist&&(e.artist=!0),a.duration&&(e.duration=!0),Xt(i)&&(e.menu=!0),e.album&&e.artist&&e.duration)break}}catch(o){r.e(o)}finally{r.f()}}return e}),[t.list.items]),s=k()([YT.Items,YT["Items--".concat(r)],o.album?null:YT["Items--noAlbum"],o.artist?null:YT["Items--noArtist"],o.duration?null:YT["Items--noDuration"],o.menu?null:YT["Items--noMenu"]]),u=(0,e.useCallback)((function(e){if(!/<[a-z][\s\S]*>/i.test(e))return e;var t=KT()("<div>".concat(e,"</div>"));return t.find("img").each((function(){var e=KT()(this),t=e.attr("src");null!==t&&void 0!==t&&t.startsWith("/albumart")&&e.attr("src",n+t);var r=e.parent("div");r.css({display:"flex","align-items":"center"}),"right"===r.css("text-align")&&r.css("justify-content","flex-end")})),t.find("div").each((function(){var e=KT()(this),t=e.css("margin-bottom");(t?parseInt(t,10):0)<0&&e.css("margin-bottom","0"),e.css("top")&&e.css("top","0")})),'\n      <div class="'.concat(YT["Title--rich"],'">\n        ').concat(t.html(),"\n      </div>")}),[n]),l=k()(YT.Layout,YT["Layout--".concat(r)],t.maximized?YT["Layout--maximized"]:null);return(0,m.jsxs)("section",{className:l,children:[(0,m.jsx)("div",{className:a,dangerouslySetInnerHTML:{__html:u(i)}}),(0,m.jsx)("div",{className:s,children:(0,m.jsx)(XT,{styles:YT,items:t.list.items||[],location:t.location,onItemClick:function(e,n){t.onItemClick(e,t.list,n)},onPlayClick:function(e,n){t.onPlayClick(e,t.list,n)},onMenuItemClick:function(e){e.syntheticEvent.stopPropagation();var n=e.value,r=n.itemIndex,i=n.action;t.list.items&&t.callItemAction(t.list.items[r],t.list,r,i)},onMenuOverlay:t.onMenuOverlay})})]})},$T=e.forwardRef((function(t,n){var r=(0,e.useRef)(null),i=(0,e.useRef)(null),a=(0,e.useRef)(null),o=(0,e.useCallback)((function(e){i.current&&(clearInterval(i.current),i.current=null),a.current&&(clearTimeout(a.current),a.current=null);var t=r.current;if(t){var n=function(){t.style.setProperty("--loading-percent","0")};e?(t.style.setProperty("--loading-percent","100%"),a.current=setTimeout(n,100)):n()}}),[]);(0,e.useEffect)((function(){return function(){o()}}),[o]);var s=(0,e.useCallback)((function(){var e=r.current;if(e){o();var t=.5,n=0;i.current=setInterval((function(){n+=t;var r=Math.min(Math.round(Math.atan(n)/(Math.PI/2)*100*1e3)/1e3,100);e.style.setProperty("--loading-percent","".concat(r,"%")),r>=70&&(t=.1)}),100)}}),[o]);return(0,e.useImperativeHandle)(n,(function(){return{start:s,stop:o}})),(0,m.jsx)("div",{ref:r,className:t.styles.FakeLoadingBar})}));$T.displayName="FakeLoadingBar";var JT=$T,eE={"material-icons":"SearchBox_material-icons__UzzCX",TextField__icon:"SearchBox_TextField__icon__cbJ1R",App:"SearchBox_App__CYwMD","szh-menu-container--theme-dark":"SearchBox_szh-menu-container--theme-dark__KizNa","szh-menu":"SearchBox_szh-menu__1w4X7","szh-menu__item":"SearchBox_szh-menu__item__mBAYj","szh-menu__item--active":"SearchBox_szh-menu__item--active__gUE3Z","szh-menu__item--hover":"SearchBox_szh-menu__item--hover__oE6I4",Scrollbar__handle:"SearchBox_Scrollbar__handle__+3yWY","no-transitions":"SearchBox_no-transitions__obrqG",InitialLoading:"SearchBox_InitialLoading__3a6cc",TextField:"SearchBox_TextField__BRJEc",TextField__input:"SearchBox_TextField__input__rKuJR","TextField--focus":"SearchBox_TextField--focus__A8yzv"},tE=e.forwardRef((function(t,n){var r=(0,e.useRef)(null);return(0,m.jsx)(no,{ref:n,placeholder:t.placeholder,icon:"search",onChange:function(e){r.current&&(clearTimeout(r.current),r.current=null);var n=e.currentTarget.value.trim();t.onQuery&&t.onQuery(n,!1),n.length>=3&&(r.current=setTimeout((function(){t.onQuery&&t.onQuery(n,!0),r.current=null}),500))},defaultValue:t.defaultValue,styles:{baseClassName:"TextField",bundle:eE,extraClassNames:["no-swipe"]}})})),nE=tE,rE={Layout:"Toolbar_Layout__rh+Sa",Layout__main:"Toolbar_Layout__main__tKyTu",Layout__screen:"Toolbar_Layout__screen__2Z-zi","Layout--maximized":"Toolbar_Layout--maximized__Rb7UJ",Search:"Toolbar_Search__HL39W",Button:"Toolbar_Button__FZ-TW","Button--toggleable":"Toolbar_Button--toggleable__ZsA0o",Button__icon:"Toolbar_Button__icon__tZBLK",Button__text:"Toolbar_Button__text__LAL-E","Button--toggled":"Toolbar_Button--toggled__r07vp","Button--search":"Toolbar_Button--search__grbRj","Search--collapsibleExpanded":"Toolbar_Search--collapsibleExpanded__2uBjB"},iE=e.forwardRef((function(t,n){var r=(0,e.useRef)(null),i=p((0,e.useState)(!1),2),a=i[0],o=i[1],s=(0,e.useCallback)((function(){r.current&&(a?r.current.blur():r.current.focus(),o(!a))}),[o,a]),u=(0,e.useCallback)((function(){return"grid"===("grid"===t.currentListView?"list":"grid")?"grid_view":"view_list"}),[t.currentListView]),l=function(e){if(e.currentTarget){var n=e.currentTarget;n.dataset.action&&t.onButtonClick(n.dataset.action)}},c=k()([rE.Search,a?rE["Search--collapsibleExpanded"]:null,"no-swipe"]),h={baseClassName:"Button",bundle:rE},d=function(e){return f(f({},h),{},{extraClassNames:[rE["Button--".concat(e)],"no-swipe"]})},v=k()(rE.Layout,t.screenMaximized?rE["Layout--maximized"]:null);return(0,m.jsxs)("div",{ref:n,className:v,children:[(0,m.jsxs)("div",{className:rE.Layout__main,children:[(0,m.jsx)(Pt,{styles:d("home"),icon:"home","data-action":"home",onClick:l}),Ht(t.currentLocation)?null:(0,m.jsx)(Pt,{styles:d("back"),icon:"arrow_back","data-action":"back",onClick:l}),function(){var e=t.currentContents||{};return!(!e.navigation||!Array.isArray(e.navigation.lists))&&e.navigation.lists.find((function(e){return Array.isArray(e.availableListViews)&&e.availableListViews.length>1}))}()?(0,m.jsx)(Pt,{styles:d("toggleListView"),icon:u(),"data-action":"toggleListView",onClick:l}):null,(0,m.jsx)(Pt,{styles:d("search"),icon:"search",toggled:a,onClick:s}),(0,m.jsx)("div",{className:c,children:(0,m.jsx)(nE,{ref:r,onQuery:t.onSearchQuery,defaultValue:t.initialSearchQuery,placeholder:t.currentLocation.service?t.currentLocation.service.prettyName:""})})]}),(0,m.jsxs)("div",{className:rE.Layout__screen,children:[t.screenMaximizable?(0,m.jsx)(Pt,{styles:d("toggleScreenMaximize"),icon:t.screenMaximized?"fullscreen_exit":"fullscreen","data-action":"toggleScreenMaximize",onClick:l}):null,(0,m.jsx)(Pt,{styles:d("actionPanel"),icon:"more_horiz","data-action":"openActionPanel",onClick:l}),(0,m.jsx)(Pt,{styles:d("close"),icon:"close","data-action":"close",onClick:l})]})]})})),aE=iE,oE={Button:"Header_Button__L6FH+",PopupMenu__menuButton:"Header_PopupMenu__menuButton__VGid4","Button--toggleable":"Header_Button--toggleable__6CW0u",Button__icon:"Header_Button__icon__ps8yx",Button__text:"Header_Button__text__YdxcP","Button--toggled":"Header_Button--toggled__I2zLn",PopupMenu__menuItemIcon:"Header_PopupMenu__menuItemIcon__ku3Ze",PopupMenu__overlay:"Header_PopupMenu__overlay__KuPZr",Layout:"Header_Layout__-8D2Z","Layout--maximized":"Header_Layout--maximized__MoDqb",Layout__contents:"Header_Layout__contents__AceNK",Layout__background:"Header_Layout__background__R6tNd",BackgroundImage:"Header_BackgroundImage__gyPaa",AlbumArt:"Header_AlbumArt__0OCpe",AlbumArt__image:"Header_AlbumArt__image__dF4y6",Info:"Header_Info__4MZoh",Info__title:"Header_Info__title__iSovf",Info__artist:"Header_Info__artist__mO6F8",Info__extra:"Header_Info__extra__JO2m9","Info__extra--separator":"Header_Info__extra--separator__EwQl9",Buttons:"Header_Buttons__Ter2r","Button--play":"Header_Button--play__b-i1w"};var sE=function(e){var t=e.info;if(t.type&&["play-playlist"].includes(t.type))return null;var n=t.title||t.album||t.artist||"",r=!t.title&&!t.album&&t.artist?"":t.artist||"",i=["year","duration","genre","trackType"].reduce((function(e,n){return t[n]&&(e.push((0,m.jsx)("span",{children:t[n]},n)),e.push((0,m.jsx)("span",{className:oE["Info__extra--separator"],children:"\u2027"},"".concat(n,"-separator")))),e}),[]),a=[];a.push((0,m.jsx)(Pt,{styles:{baseClassName:"Button",bundle:oE,extraClassNames:[oE["Button--play"]]},icon:"play_arrow","data-action":"play",onClick:function(n){n.stopPropagation();var r=n.currentTarget;r.dataset.action&&e.callItemAction(t,r.dataset.action)}},"play"));var o=[];o.push({type:"item",key:"addToPlaylist",title:"Add to Playlist",icon:"playlist_add",value:{action:"addToPlaylist"}}),o.push({type:"item",key:"addToQueue",title:"Add to Queue",icon:"add_to_queue",value:{action:"addToQueue"}}),("album"===t.type||"artist"===t.type||t.artist||t.album)&&o.push({type:"item",key:"viewInfo",title:"View Info",icon:"info",value:{action:"viewInfo"}}),a.push((0,m.jsx)(Oh,{styles:{baseClassName:"PopupMenu",bundle:oE},direction:"bottom",boundingBoxRef:e.screenRef,menuButtonIcon:"more_horiz",menuItems:o,onMenuItemClick:function(n){n.syntheticEvent.stopPropagation();var r=n.value.action;e.callItemAction(t,r)},onMenuOverlay:e.onMenuOverlay},"headerMenu"));var s=k()(oE.Layout,e.screenMaximized?oE["Layout--maximized"]:null);return(0,m.jsxs)("div",{className:s,children:[(0,m.jsx)("div",{className:oE.Layout__background,children:(0,m.jsx)(be,{className:oE.BackgroundImage,src:t.albumart})}),(0,m.jsxs)("div",{className:oE.Layout__contents,children:[(0,m.jsx)("div",{className:oE.AlbumArt,children:(0,m.jsx)(be,{className:oE.AlbumArt__image,src:t.albumart})}),(0,m.jsxs)("div",{className:oE.Info,children:[(0,m.jsx)("div",{className:oE.Info__title,children:n}),(0,m.jsx)("div",{className:oE.Info__artist,children:r}),(0,m.jsx)("div",{className:oE.Info__extra,children:i}),(0,m.jsx)("div",{className:oE.Buttons,children:a})]})]})]})},uE={type:"browse",uri:"",service:null},lE="screen.browse.maximized",cE=function(){return window.innerWidth>=1024};var fE=function(t){var n=Ha(),r=Ha("persistent"),i=n.get("BrowseScreen.restoreState",{},!0),a=Je().socket,o=Ba(),s=_().openModal,u=_r(),l=xr(),c=br("browseService"),h=p((0,e.useState)(i.listView||"grid"),2),d=h[0],v=h[1],g=p((0,e.useState)({}),2),y=g[0],b=g[1],x=(0,e.useRef)(uE),w=(0,e.useRef)(null),S=(0,e.useRef)(null),T=Rf().switchScreen,E=(0,e.useRef)(null),C=(0,e.useRef)(null),A=(0,e.useRef)(0),P=p((0,e.useState)(cE()),2),I=P[0],O=P[1],M=p((0,e.useState)(r.get(lE)||!1),2),R=M[0],N=M[1];(0,e.useEffect)((function(){var e=function(){O(cE())};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),(0,e.useEffect)((function(){r.set(lE,R)}),[r,R]),(0,e.useEffect)((function(){var e=function(){te()},t=function(e){var t=e.contents,n=e.context;n.isBack||n.isRestore||c.addCurrentToHistory(D()),x.current=n.location,b(f(f({},t),{},{__scroll:n.scrollPosition})),ne(!0)},n=function(e){b(f(f({},e.contents),{},{__scroll:D()}))},r=function(e){o({type:"error",message:e.message}),ne()};return c.on("contentsLoading",e),c.on("contentsLoaded",t),c.on("contentsRefreshed",n),c.on("error",r),function(){c.off("contentsLoading",e),c.off("contentsLoaded",t),c.off("contentsRefreshed",n),c.off("error",r)}}),[b,c,o]),(0,e.useEffect)((function(){i.listView=d}),[i,d]),(0,e.useEffect)((function(){return t.location||c.restoreCurrentDisplayed(i.scrollPosition||0),function(){i.scrollPosition=A.current}}),[c,i,t.location]);var D=function(){return w.current&&w.current.getScrollTop()||0};A.current=D();var L=(0,e.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];c.browse(e,t)}),[c]),j=(0,e.useCallback)((function(e,t){c.search(e,t)}),[c]),U=(0,e.useCallback)((function(){c.goBack()}),[c]);(0,e.useEffect)((function(){var e=t.location;if(e)if("browse"===e.type)if(e.uri){var n={type:"browse",service:Wt(e.uri,c.getBrowseSources()),uri:e.uri};L(n)}else L(uE);else if("search"===e.type){var r,i=null!==(r=e.service)&&void 0!==r&&r.name?Gt(e.service.name,c.getBrowseSources()):null;j(e.query,i)}else if("goto"===e.type){var a=e.params,o=a.type,s=a.playerState;o&&s&&c.gotoCurrentPlaying(o,s)}}),[t.location,c,L,j]);var z=(0,e.useCallback)((function(){v("grid"===d?"list":"grid")}),[v,d]),V=(0,e.useCallback)((function(e,t){i.searchQuery=e,t&&j(e)}),[j,i]),H=(0,e.useCallback)((function(){s(io)}),[s]),W=(0,e.useCallback)((function(e){switch(e){case"home":L(uE);break;case"back":U();break;case"toggleListView":z();break;case"toggleScreenMaximize":N(!R);break;case"openActionPanel":H();break;case"close":T({screenId:"NowPlaying"})}}),[L,U,z,H,T,R]),G=(0,e.useCallback)((function(e,t,n){l.play(e,t,n)}),[l]),q=(0,e.useCallback)((function(e){if(!e.uri)return null;var t,n=e;if(n.service||n.plugin_name)if(n.plugin_name)t={name:n.plugin_name,prettyName:"mpd"!==n.plugin_name?n.name:"Music Library"};else if(x.current.service&&n.service===x.current.service.name)t=x.current.service;else{var r;if("mpd"===n.service)r="Music Library";else{var i=c.getBrowseSources().find((function(e){return e.plugin_name===n.service}));r=(null===i||void 0===i?void 0:i.name)||""}t={name:n.service,prettyName:r}}else t=null;return{type:"browse",browseItem:e,uri:e.uri,service:t}}),[c]),X=(0,e.useCallback)((function(e,t,n){if(e.uri)if(function(e){if(e)return Vt.includes(e)}(e.type))G(e,t,n);else{var r=q(e);r&&L(r)}}),[G,L,q]),Y=(0,e.useCallback)((function(e,t,n){G(e,t,n)}),[G]),Q=(0,e.useCallback)((function(e,t,n,r){var i=!1;if("play"===r)l.play(e,t,n);else if("addToQueue"===r)l.addToQueue(e);else if("addPlaylistToQueue"===r)l.addToQueue(e,!0);else if("clearAndPlay"===r)l.clearAndPlay(e);else if("addToPlaylist"===r)s(oo,{data:{addType:"item",item:e}});else if("removeFromPlaylist"===r){var o;"browse"===x.current.type&&null!==(o=x.current.browseItem)&&void 0!==o&&o.title&&(u.removeFromPlaylist(e,x.current.browseItem.title),i=!0)}else if("deletePlaylist"===r&&e.title)u.deletePlaylist(e.title),i=!0;else if("removeDrive"===r&&e.title)a&&(a.emit("safeRemoveDrive",e.title),i=!0);else if("updateFolder"===r)a&&a.emit("updateDb",e.uri);else if("deleteFolder"===r&&"browse"===x.current.type)a&&(a.emit("deleteFolder",{curUri:x.current.uri,item:e}),i=!0);else if("addToFavorites"===r)u.addToFavorites(e);else if("removeFromFavorites"===r)u.removeFromFavorites(e),i=!0;else if("addWebRadio"===r)s(so,{data:{mode:"add"}});else if("editWebRadio"===r)s(so,{data:{mode:"edit",name:e.title,url:e.uri}});else if("deleteWebRadio"===r)u.deleteWebRadio(e),i=!0;else if("addWebRadioToFavorites"===r)u.addWebRadioToFavorites(e);else if("removeWebRadioFromFavorites"===r)u.removeWebRadioFromFavorites(e),i=!0;else if("viewInfo"===r){var f={};"song"===e.type?(f.song=e.title,f.album=e.album,f.artist=e.artist):"album"===e.type?(f.album=e.title||e.album,f.artist=e.artist):"artist"===e.type?f.artist=e.title:(f.album=e.album,f.artist=e.artist),(f.album||f.artist)&&(f.placeholderImage=e.albumart,s(uo,{data:f}))}c.registerAction({action:r,expectsContentsRefresh:i,originatingLocation:x.current})}),[l,u,c,s,a]),K=(0,e.useCallback)((function(e,t){Q(e,{},0,t)}),[Q]),Z=(0,e.useMemo)((function(){if(y.navigation&&Array.isArray(y.navigation.lists)){var e="".concat(HT()(JSON.stringify(x.current)),"_section-"),t=x.current;return y.navigation.lists.map((function(n,r){return(0,m.jsx)(ZT,{list:n,location:t,preferredListView:d,sectionIndex:r,onItemClick:X,onPlayClick:Y,callItemAction:Q,maximized:R},e+r)}))}return null}),[y.navigation,d,X,Y,Q,R]),$=(0,e.useMemo)((function(){return y.navigation&&y.navigation.info?(0,m.jsx)(sE,{screenRef:C,info:y.navigation.info,callItemAction:K,screenMaximized:R}):null}),[y.navigation,K,R]);(0,e.useEffect)((function(){w.current&&w.current.scrollTop(y.__scroll||0)}),[y]);var J=(0,e.useCallback)((function(e){var t;t=e.event instanceof Event?e.event:e.event.nativeEvent,null===E.current||F(t,E.current)||"Down"===e.dir&&H()}),[H]),ee=B({onSwiped:J}),te=function(){S.current&&S.current.start()},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];S.current&&S.current.stop(e)},re=k()([WT.Layout,t.className]);return(0,e.useEffect)((function(){var e={fetchLibrary:function(e){e.uri&&L({type:"browse",service:x.current.service,uri:e.uri})},socketService:a},t={scope:function(){return{browse:e}}},n={element:function(e){if("#browse-page"===e)return t}};window.angular=n}),[L,a]),(0,m.jsxs)("div",{ref:C,className:re,style:t.style,children:[(0,m.jsx)(JT,{ref:S,styles:WT}),(0,m.jsx)(aE,{ref:function(e){ee.ref(e),E.current=e},currentLocation:x.current,currentContents:y,currentListView:d,onButtonClick:W,onSearchQuery:V,initialSearchQuery:i.searchQuery||"",screenMaximizable:I,screenMaximized:R}),(0,m.jsxs)(kr.$B,{ref:w,className:WT.Layout__contents,classes:{thumbVertical:"Scrollbar__handle"},autoHide:!0,children:[$,(0,m.jsx)("div",{className:WT.Contents,children:Z})]})]})},hE="QueueScreen_LayoutWrapper__+0OVr",dE="QueueScreen_LayoutWrapper--maximized__UP4-1",pE="QueueScreen_Layout__fcCOM",vE="QueueScreen_Layout__contents__ayMDc",mE={Layout:"Toolbar_Layout__nw-GJ",Layout__screen:"Toolbar_Layout__screen__GsQgk",Layout__main:"Toolbar_Layout__main__q5bxX",Title:"Toolbar_Title__xkeEF","Title--primary":"Toolbar_Title--primary__+eC1C","Title--secondary":"Toolbar_Title--secondary__WNYGW",PlayerButtonGroup:"Toolbar_PlayerButtonGroup__9KNuG",Button:"Toolbar_Button__O7gbD","Button--toggleable":"Toolbar_Button--toggleable__MD6Qb",Button__icon:"Toolbar_Button__icon__MXwTU",Button__text:"Toolbar_Button__text__4koxj","Button--toggled":"Toolbar_Button--toggled__aAyyg","Button--clear":"Toolbar_Button--clear__MPBSp"},gE=e.forwardRef((function(e,t){var n=function(t){var n=t.currentTarget;n.dataset.action&&e.onButtonClick(n.dataset.action)},r={baseClassName:"Button",bundle:mE},i=function(e){return f(f({},r),{},{extraClassNames:[mE["Button--".concat(e)]]})},a=(0,m.jsx)(Pt,{styles:i("addToPlaylist"),icon:"playlist_add","data-action":"addToPlaylist",onClick:n},"addToPlaylist"),o=(0,m.jsx)(Pt,{styles:i("clear"),icon:"delete_sweep","data-action":"clear",onClick:n},"clear"),s=e.screenMaximizable?(0,m.jsx)(Pt,{styles:i("toggleScreenMaximize"),icon:e.screenMaximized?"fullscreen_exit":"fullscreen","data-action":"toggleScreenMaximize",onClick:n},"maximizeScreen"):null,u=k()([mE.PlayerButtonGroup,"no-swipe"]);return(0,m.jsxs)("div",{ref:t,className:mE.Layout,children:[(0,m.jsxs)("div",{className:mE.Layout__screen,children:[(0,m.jsx)(Pt,{styles:i("close"),icon:"expand_more","data-action":"close",onClick:n}),(0,m.jsxs)("div",{className:mE.Title,children:[(0,m.jsx)("div",{className:mE["Title--primary"],children:"Queue"}),(0,m.jsx)("div",{className:mE["Title--secondary"],children:"".concat(e.itemCount," items")})]})]}),(0,m.jsx)("div",{className:mE.Layout__main,children:(0,m.jsx)(fo,{className:u,buttonStyles:r,buttons:["random","repeat",a,o,s],playerState:e.playerState})})]})})),yE=gE;var bE=function(e){var t,n=e.styles,r=e.data,i=e.index,a=r.title||r.name||"",o=r.artist||"";return r.album&&(o+=o?" - ":"",o+=r.album),(0,m.jsxs)("div",{className:n.Item,onClick:function(t){t.stopPropagation(),e.onClick(i)},children:[(0,m.jsx)("div",{className:n.Item__albumart,children:(0,m.jsx)(be,{className:n.Item__image,src:e.isPlaying?"data:image/gif;base64,R0lGODlhMAAwAIAAAP///////yH/C05FVFNDQVBFMi4wAwEAAAAh+QQJBQABACwHAA0AIQAbAAACUoyPBsucD1+bscLZrD7Ybd0tHxiOVgiYFapGbCuVcPLOnGwreL3ueN+5BUnDAM/lKwIxQibRafwhi8dLErqk6FDUKzezhX675LEnWjanwlo0pgAAIfkECQUAAQAsBwAPACEAGQAAAk6MjwbLnA9fm7HC2aw+2G3dLR8YjlYIcCXZqS2LuTFMKet5o5tuv7jP+80CwUqwGDnejDlUE+iESqOZ3pB6fWJF1hpx6/lOtzIvOKzsFAAAIfkECQUAAQAsBwAQACEAGAAAAlOMjwbLnA9fm2e2iKxTGuDagdrHjaVFBp13UuQqom/YXrOp0h9cr1uO8+l4QKGt6EIaWcrfMkl8HqPSRQxaZVKr12m26/z2rGMfmNwUnrXiNFtTAAAh+QQJBQABACwHAA0AIQAbAAACWIyPqQftvqJ8VNpE390hw+s1TLiFwOiVpGGaaPa2Grt2Mkyn+f3Zus8T7SpDXmwGDB57QaSreFsKk0botMmsYa/arfRkbX2/T2oWOw6X194wufvbgs1cTwEAIfkECQUAAQAsBwAJACEAHwAAAl6Mj6kH7b6ifFTaRN/dIUNueeLHjSPYmR6qrmCbMaIMk6dRa/i85wAd6+WAFWGNqEv5kDbfz5h0PpVB6hHaXGIbTFV3Kv1+b9aoU7w1ocutdTg95rG5abL9DK/L754CACH5BAkFAAEALAcADAAhABwAAAJXjI+pB+2+onxU2kSzvkh7yBnfx3jlmJ2piK4BybaPWsVyQ8/2nYPv7YP9gIAebiczFpEtpVIIJS6HLuk0SnQyUVoqb3uVdq1jMfhpOoOxVbNX926q440CACH5BAkFAAEALAcAEAAhABgAAAJOjI8Gy5wfmjyy0YqtyjfzjXVeJU7gaEafiqZe2QKwc8ZyrbH2rbv7MgPiWkHeT9jLHY2rZbH4GiKdUubvWY0maVsUtjv6UsHQpvlaLRYAACH5BAkFAAEALAcADwAhABkAAAJVjI8Gy5wPX5uxwtmswuvwrn2A92mBSHImuqmtiKXxC2e0fdZz7vK6cwP6fqMgaPiTUYwwJY74LDFZSCHUKq3WnNgr93gFZ8NFbZn8PYfTaap7zUwXAAAh+QQJBQABACwHAA0AIQAbAAACV4yPBsucD1+bscLZrD7Ybd0tHxiOVgiYFapGbCuVZMfJp/0GaM7vtILzYWo/nZACLB6RRuXS0xwmn0RpdFllPqG9bTYzxYbB1+OXu02N0d61yL07v8uMAgAh+QQJBQABACwHAA4AIQAaAAACVIyPBsucD1+bscLZrD7Ybd0tHxhuIcCVZJeyK9bCL6Wo1hnTt43PWe0KnHpC3jBIPCKNyl9x2fQ8ZdNozhnFMrNXada7tQKpX9FYV0adtd+uudooAAAh+QQJBQABACwHAA0AIQAbAAACVYyPBsucD1+bscLZrD7Ybd0tHxiOVghsKFeSHfu6GDzLlNKe+WpneKwD8oK1wLAyPEaSOeTuiRJCozfjlOqxSrE+bZFbZYJFv++Y7A2fU2X1mebGFAAAIfkECQUAAQAsBwARACEAFwAAAlCEf6HL7YsijOkxWgM29u6JdSA1SqL2KRtwoqGaimuJ0Gs2wzep8+5e65l+QI4wSCzajEngknV0RpnFYa65ez6v3Cou5v2+sDfttHzegteYAgAh+QQJBQABACwHAA8AIQAZAAACUYR/ocvti+KbNCKKm025b9NB3xgqI1meXxmom/iariTH7XzVFowDPH3r+XRAIYiYC/Z+SeNQWTQyOdDZ9Fh1XZ/O7RaVxXaR1HGYKyWL0+dtAQAh+QQJBQABACwHAA4AIQAaAAACUoR/ocvti+KbNCKKm00Z7m90HriJCvmZAVqarKW+kitzYm13eEjjI3za/WYrYbBV9B2BydrwspQ9bTvAlNeURqHZ19W6ZX2/oHEYZe6Kz2C1oQAAIfkECQUAAQAsBwAOACEAGgAAAlKMj6kH7Q/dmrHCuawGWG3bJV8VImNUMueTGivbvlIscy54yyqZvzvaW/0uwdMQFqjZkjimrjhz+qCN48hapW6wSyWXq/lqw1pwkywVlsfndqUAACH5BAkFAAEALAcAEAAhABgAAAJLhH+hy40PU5srWknnvZluW4HKF4XlSD4mtKZAi8CkbNCbbXPoGbjxzgK6cMIUseerFTFJJZLXfC2d0WN1Kn36rE1u0rvF5kRaFbYAACH5BAkFAAEALAcAEQAhABcAAAJIjI8Gy3wNo1MSvIqv1Dhy+HVTkFEiaHrpuYQji5KVK9LWytp2KW/4qfvVhLcerMg7vmbEJNMIC0JzxN3TqZQqW9Xm9ZvtThkFACH5BAkFAAEALAcADQAhABsAAAJYjI8Gy5wPX5uxwtmsPtht3S0fGHLhaXbpia2UwqqwHMQ0OtteXeY64Mr4dMHdT8i7HUVD4xLYZCaPRekTOn1liVHstep9gsG4rXM57pbX4i65Z7a24+FOAQAh+QQJBQABACwHAA8AIQAZAAACVYyPBsucD1+bscLZrMLr8K59gPdpgUhyqYit1Ma2sHzGNDrbYK3mupvx2YAOYYy40714N2WRuXQ+cdCfcXSlaqXY6pSL7HLFpWzZmwRfw9semhUOFwAAIfkECQUAAQAsBwAQACEAGAAAAkuEf6HIGgyji2bSa+W6NEPPIaC4hU35oWalks/qYq05JnNYsy+syzufAwR9RF6vc+MEh8jfyblaJosaKC3JrFKB2GlzC5Nacd0xoAAAIfkECQUAAQAsBwANACEAGwAAAlWMj6kH7b6ifLRCmay+mG3tWeFHjaVBiii4po/5tm4Dc3McbDW5A70uO+VutCCOWByqlLfej8UUIn1GG9JZ5WWpURe2m/pOxdftcwkEa9XcsXmbjmsKACH5BAkFAAEALAcADAAhABwAAAJVjI+pB+2+ony0Qpmsvpht3SEfGBqj5aHmSaWVywLwM591c395vu1rjPu9hDFfAMjpEVlGZPBIgiKbTup0maxin07Z1isFWsVfXlQZLpa/6LY2TfsWAAAh+QQJBQABACwHABAAIQAYAAACUIyPqQftvqJ8VNpE390h+8p138h85eidmYpqBvm2a5zSMmSD4o3vs89juYA3YY83hBFlxkYT9Xwqp0hnLlkFRK9MrnXZ2oKhXm2ZWhujf6MCACH5BAkFAAEALAcAEQAhABcAAAJOjI8Gy5wPX5uxwtkOdjbspX2dJyql9QHhNqYr1p5uN5Mpa+L2TeWwz+PsesOgCphBBl9EY1PmFNaiUiiVmSwulSDuDVu9esE88lFbHnsLACH5BAkFAAEALAcADwAhABkAAAJOjI8Gy5wPX5uxwtmsPtht3S0fGI5WCJgVypVk18IvFtMzpbinzt5ZLtsFe0JbgLji6ZJDlLLpNBKjUCkVd3xeRUDrlputbmvYryfsxRQAADs=":r.albumart})}),(0,m.jsxs)("div",{className:n.Item__titleArtistAlbum,children:[(0,m.jsx)("div",{className:n.Item__title,dangerouslySetInnerHTML:{__html:a}}),(0,m.jsx)("div",{className:n.Item__artistAlbum,dangerouslySetInnerHTML:{__html:o}})]}),(0,m.jsx)("div",{className:n.Item__buttons,children:(0,m.jsx)(Pt,{styles:(t="remove",{baseClassName:"Item__button",bundle:n,extraClassNames:[n["Item__button--".concat(t)]]}),icon:"remove_circle_outline",onClick:function(t){t.stopPropagation(),e.onRemoveClick(i)}})})]},i)},_E={Button:"Items_Button__TIz5I",Item__button:"Items_Item__button__giO-U","Button--toggleable":"Items_Button--toggleable__cYj8F",Button__icon:"Items_Button__icon__u5DOw",Button__text:"Items_Button__text__6dEl9","Button--toggled":"Items_Button--toggled__z8R3R",Layout:"Items_Layout__9Pv+Q",Item:"Items_Item__0jGlx",Item__image:"Items_Item__image__n0tmV",Item__icon:"Items_Item__icon__mNyR4","Item__button--play":"Items_Item__button--play__uAVZN",Item__albumart:"Items_Item__albumart__SxJRg",Item__titleArtistAlbum:"Items_Item__titleArtistAlbum__mvEbl",Item__title:"Items_Item__title__bjwnF",Item__artistAlbum:"Items_Item__artistAlbum__29vnu",Item__ellipsis:"Items_Item__ellipsis__0apyn","Item__button--remove":"Items_Item__button--remove__IDY6y"},xE=e.memo((function(t){var n=(0,e.useCallback)((function(){return t.items.map((function(e,n){return(0,m.jsx)(bE,{styles:_E,index:n,data:e,isPlaying:t.currentPlayingPosition===n,onClick:t.onItemClick,onRemoveClick:t.onRemoveClick},n)}))}),[t.items,t.currentPlayingPosition,t.onItemClick,t.onRemoveClick]);return(0,m.jsx)("div",{className:_E.Layout,children:n()})}));xE.displayName="QueueScreenItems";var kE=xE,wE="screen.queue.maximized",SE=function(){return window.innerWidth>=1024};var TE=function(t){var n=Ha(),r=Ha("persistent"),i=n.get("QueueScreen.restoreState",{},!0),a=St(),o=_().openModal,s=xr(),u=p((0,e.useState)(s.getQueue()),2),l=u[0],c=u[1],f=Rf().exitActiveScreen,h=(0,e.useRef)(null),d=(0,e.useRef)(null),v=(0,e.useRef)(0),g=p((0,e.useState)(SE()),2),y=g[0],b=g[1],x=p((0,e.useState)(r.get(wE)||!1),2),w=x[0],S=x[1];(0,e.useEffect)((function(){var e=function(){b(SE())};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),(0,e.useEffect)((function(){r.set(wE,w)}),[r,w]),(0,e.useEffect)((function(){var e=function(e){c(e)};return s.on("queueChanged",e),function(){s.off("queueChanged",e)}}),[s,c]),(0,e.useEffect)((function(){return d.current&&d.current.scrollTop(i.scrollPosition||0),function(){i.scrollPosition=v.current}}),[i]),v.current=d.current&&d.current.getScrollTop()||0;var T=(0,e.useCallback)((function(){f({exitTransition:"slideUp"})}),[f]),E=(0,e.useCallback)((function(e){e.target===e.currentTarget&&(e.stopPropagation(),T())}),[T]),C=(0,e.useCallback)((function(e){switch(e){case"close":T();break;case"addToPlaylist":o(oo,{data:{addType:"queue"}});break;case"clear":s.clearQueue();break;case"toggleScreenMaximize":S(!w)}}),[T,o,s,w]),A=(0,e.useCallback)((function(e){s.playQueue(e)}),[s]),P=(0,e.useCallback)((function(e){s.removeFromQueue(e)}),[s]),I=(0,e.useCallback)((function(e){var t;t=e.event instanceof Event?e.event:e.event.nativeEvent,null===h.current||F(t,h.current)||"Down"===e.dir&&T()}),[T]),O=B({onSwiped:I}),M=a.position&&!isNaN(a.position)&&"play"===a.status?a.position:-1,R=k()([hE,t.className,w?dE:null]);return(0,m.jsx)("div",{className:R,style:t.style,onClick:E,children:(0,m.jsxs)("div",{className:pE,children:[(0,m.jsx)(yE,{ref:function(e){O.ref(e),h.current=e},itemCount:l.length,playerState:a,onButtonClick:C,screenMaximizable:y,screenMaximized:w}),(0,m.jsx)(kr.$B,{ref:d,className:vE,classes:{thumbVertical:"Scrollbar__handle"},autoHide:!0,children:(0,m.jsx)(kE,{items:l,currentPlayingPosition:M,onItemClick:A,onRemoveClick:P})})]})})},EE="VolumioScreen_Layout__JdGOs",CE="VolumioScreen_Layout__header__oM2Zv",AE="VolumioScreen_CloseLink__-EUcY",PE="VolumioScreen_Layout__contents__8FDlj",IE="VolumioScreen_VolumioFrame__DHjU0";var OE=function(t){var n=ge().host,r=Rf().exitActiveScreen,i=k()([EE,t.className]),a=(0,e.useCallback)((function(){r()}),[r]);return(0,m.jsxs)("div",{className:i,children:[(0,m.jsx)("div",{className:CE,children:(0,m.jsx)("span",{className:AE,onClick:a,children:"Close"})}),(0,m.jsx)("div",{className:PE,children:(0,m.jsx)("iframe",{title:"Volumio Interface",className:IE,src:n})})]})};function ME(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ME(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ME(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var NE={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},DE=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};U(this,e),this.init(t,n)}return V(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||NE,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"===typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,RE(RE({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}}]),e}(),BE=new DE,LE=function(){function e(){U(this,e),this.observers={}}return V(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.observers[e]&&[].concat(this.observers[e]).forEach((function(e){e.apply(void 0,n)}));this.observers["*"]&&[].concat(this.observers["*"]).forEach((function(t){t.apply(t,[e].concat(n))}))}}]),e}();function jE(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function FE(e){return null==e?"":""+e}function UE(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"===typeof e}for(var a="string"!==typeof t?[].concat(t):t.split(".");a.length>1;){if(i())return{};var o=r(a.shift());!e[o]&&n&&(e[o]=new n),e=Object.prototype.hasOwnProperty.call(e,o)?e[o]:{}}return i()?{}:{obj:e,k:r(a.shift())}}function zE(e,t,n){var r=UE(e,t,Object);r.obj[r.k]=n}function VE(e,t){var n=UE(e,t),r=n.obj,i=n.k;if(r)return r[i]}function HE(e,t,n){var r=VE(e,n);return void 0!==r?r:VE(t,n)}function WE(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"===typeof e[r]||e[r]instanceof String||"string"===typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):WE(e[r],t[r],n):e[r]=t[r]);return e}function GE(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var qE={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function XE(e){return"string"===typeof e?e.replace(/[&<>"'\/]/g,(function(e){return qE[e]})):e}var YE="undefined"!==typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,QE=[" ",",","?","!",";"];function KE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KE(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Vp){return!1}}();return function(){var n,r=W(e);if(t){var i=W(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Q(this,n)}}function JE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),i=e,a=0;a<r.length;++a){if(!i)return;if("string"===typeof i[r[a]]&&a+1<r.length)return;if(void 0===i[r[a]]){for(var o=2,s=r.slice(a,a+o).join(n),u=i[s];void 0===u&&r.length>a+o;)o++,u=i[s=r.slice(a,a+o).join(n)];if(void 0===u)return;if(t.endsWith(s)){if("string"===typeof u)return u;if(s&&"string"===typeof u[s])return u[s]}var l=r.slice(a+o).join(n);return l?JE(u,l,n):void 0}i=i[r[a]]}return i}}var eC=function(e){X(n,e);var t=$E(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return U(this,n),r=t.call(this),YE&&LE.call(H(r)),r.data=e||{},r.options=i,void 0===r.options.keySeparator&&(r.options.keySeparator="."),void 0===r.options.ignoreJSONStructure&&(r.options.ignoreJSONStructure=!0),r}return V(n,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,a=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,o=[e,t];n&&"string"!==typeof n&&(o=o.concat(n)),n&&"string"===typeof n&&(o=o.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(o=e.split("."));var s=VE(this.data,o);return s||!a||"string"!==typeof n?s:JE(this.data&&this.data[e]&&this.data[e][t],n,i)}},{key:"addResource",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},a=this.options.keySeparator;void 0===a&&(a=".");var o=[e,t];n&&(o=o.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(r=t,t=(o=e.split("."))[1]),this.addNamespaces(t),zE(this.data,o,r),i.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"!==typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},o=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(o=e.split("."))[1]),this.addNamespaces(t);var s=VE(this.data,o)||{};r?WE(s,n,i):s=ZE(ZE({},s),n),zE(this.data,o,s),a.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?ZE(ZE({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),n}(LE),tC={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,i){var a=this;return e.forEach((function(e){a.processors[e]&&(t=a.processors[e].process(t,n,r,i))})),t}};function nC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nC(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iC(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Vp){return!1}}();return function(){var n,r=W(e);if(t){var i=W(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Q(this,n)}}var aC={},oC=function(e){X(n,e);var t=iC(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return U(this,n),r=t.call(this),YE&&LE.call(H(r)),function(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,H(r)),r.options=i,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r.logger=BE.create("translator"),r}return V(n,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(void 0===e||null===e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=t.ns||this.options.defaultNS||[],a=n&&e.indexOf(n)>-1,o=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!function(e,t,n){t=t||"",n=n||"";var r=QE.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===r.length)return!0;var i=new RegExp("(".concat(r.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),a=!i.test(e);if(!a){var o=e.indexOf(n);o>0&&!i.test(e.substring(0,o))&&(a=!0)}return a}(e,n,r);if(a&&!o){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:i};var u=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(r)}return"string"===typeof i&&(i=[i]),{key:e,namespaces:i}}},{key:"translate",value:function(e,t,r){var i=this;if("object"!==s(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),void 0===e||null===e)return"";Array.isArray(e)||(e=[String(e)]);var a=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,o=this.extractFromKey(e[e.length-1],t),u=o.key,l=o.namespaces,c=l[l.length-1],f=t.lng||this.language,h=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f&&"cimode"===f.toLowerCase()){if(h){var d=t.nsSeparator||this.options.nsSeparator;return c+d+u}return u}var p=this.resolve(e,t),v=p&&p.res,m=p&&p.usedKey||u,g=p&&p.exactUsedKey||u,y=Object.prototype.toString.apply(v),b=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject;if(_&&v&&("string"!==typeof v&&"boolean"!==typeof v&&"number"!==typeof v)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(y)<0&&("string"!==typeof b||"[object Array]"!==y)){if(!t.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,v,rC(rC({},t),{},{ns:l})):"key '".concat(u," (").concat(this.language,")' returned an object instead of string.");if(a){var x="[object Array]"===y,k=x?[]:{},w=x?g:m;for(var S in v)if(Object.prototype.hasOwnProperty.call(v,S)){var T="".concat(w).concat(a).concat(S);k[S]=this.translate(T,rC(rC({},t),{joinArrays:!1,ns:l})),k[S]===T&&(k[S]=v[S])}v=k}}else if(_&&"string"===typeof b&&"[object Array]"===y)(v=v.join(b))&&(v=this.extendTranslation(v,e,t,r));else{var E=!1,C=!1,A=void 0!==t.count&&"string"!==typeof t.count,P=n.hasDefaultValue(t),I=A?this.pluralResolver.getSuffix(f,t.count,t):"",O=t["defaultValue".concat(I)]||t.defaultValue;!this.isValidLookup(v)&&P&&(E=!0,v=O),this.isValidLookup(v)||(C=!0,v=u);var M=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&C?void 0:v,R=P&&O!==v&&this.options.updateMissing;if(C||E||R){if(this.logger.log(R?"updateKey":"missingKey",f,c,u,R?O:v),a){var N=this.resolve(u,rC(rC({},t),{},{keySeparator:!1}));N&&N.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var D=[],B=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&B&&B[0])for(var L=0;L<B.length;L++)D.push(B[L]);else"all"===this.options.saveMissingTo?D=this.languageUtils.toResolveHierarchy(t.lng||this.language):D.push(t.lng||this.language);var j=function(e,n,r){var a=P&&r!==v?r:M;i.options.missingKeyHandler?i.options.missingKeyHandler(e,c,n,a,R,t):i.backendConnector&&i.backendConnector.saveMissing&&i.backendConnector.saveMissing(e,c,n,a,R,t),i.emit("missingKey",e,c,n,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&A?D.forEach((function(e){i.pluralResolver.getSuffixes(e,t).forEach((function(n){j([e],u+n,t["defaultValue".concat(n)]||O)}))})):j(D,u,O))}v=this.extendTranslation(v,e,t,p,r),C&&v===u&&this.options.appendNamespaceToMissingKey&&(v="".concat(c,":").concat(u)),(C||E)&&this.options.parseMissingKeyHandler&&(v="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(u,E?v:void 0):this.options.parseMissingKeyHandler(v))}return v}},{key:"extendTranslation",value:function(e,t,n,r,i){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,rC(rC({},this.options.interpolation.defaultVariables),n),r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(rC(rC({},n),{interpolation:rC(rC({},this.options.interpolation),n.interpolation)}));var o,s="string"===typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var u=e.match(this.interpolator.nestingRegexp);o=u&&u.length}var l=n.replace&&"string"!==typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(l=rC(rC({},this.options.interpolation.defaultVariables),l)),e=this.interpolator.interpolate(e,l,n.lng||this.language,n),s){var c=e.match(this.interpolator.nestingRegexp);o<(c&&c.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return i&&i[0]===r[0]&&!n.context?(a.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):a.translate.apply(a,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var f=n.postProcess||this.options.postProcess,h="string"===typeof f?[f]:f;return void 0!==e&&null!==e&&h&&h.length&&!1!==n.applyPostProcessor&&(e=tC.handle(h,e,t,this.options&&this.options.postProcessPassResolved?rC({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,i,a,o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof e&&(e=[e]),e.forEach((function(e){if(!o.isValidLookup(t)){var u=o.extractFromKey(e,s),l=u.key;n=l;var c=u.namespaces;o.options.fallbackNS&&(c=c.concat(o.options.fallbackNS));var f=void 0!==s.count&&"string"!==typeof s.count,h=f&&!s.ordinal&&0===s.count&&o.pluralResolver.shouldUseIntlApi(),d=void 0!==s.context&&("string"===typeof s.context||"number"===typeof s.context)&&""!==s.context,p=s.lngs?s.lngs:o.languageUtils.toResolveHierarchy(s.lng||o.language,s.fallbackLng);c.forEach((function(e){o.isValidLookup(t)||(a=e,!aC["".concat(p[0],"-").concat(e)]&&o.utils&&o.utils.hasLoadedNamespace&&!o.utils.hasLoadedNamespace(a)&&(aC["".concat(p[0],"-").concat(e)]=!0,o.logger.warn('key "'.concat(n,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(n){if(!o.isValidLookup(t)){i=n;var a,u=[l];if(o.i18nFormat&&o.i18nFormat.addLookupKeys)o.i18nFormat.addLookupKeys(u,l,n,e,s);else{var c;f&&(c=o.pluralResolver.getSuffix(n,s.count,s));var p="_zero";if(f&&(u.push(l+c),h&&u.push(l+p)),d){var v="".concat(l).concat(o.options.contextSeparator).concat(s.context);u.push(v),f&&(u.push(v+c),h&&u.push(v+p))}}for(;a=u.pop();)o.isValidLookup(t)||(r=a,t=o.getResource(n,e,a,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:a}}},{key:"isValidLookup",value:function(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}]),n}(LE);function sC(e){return e.charAt(0).toUpperCase()+e.slice(1)}var uC=function(){function e(t){U(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=BE.create("languageUtils")}return V(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"===typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=sC(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=sC(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=sC(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(r))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"===typeof e&&(e=e(t)),"string"===typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],a=function(e){e&&(n.isSupportedCode(e)?i.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"===typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&a(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&a(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&a(this.getLanguagePartFromCode(e))):"string"===typeof e&&a(this.formatLanguageCode(e)),r.forEach((function(e){i.indexOf(e)<0&&a(n.formatLanguageCode(e))})),i}}]),e}(),lC=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],cC={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},fC=["v1","v2","v3"],hC={zero:0,one:1,two:2,few:3,many:4,other:5};var dC=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};U(this,e),this.languageUtils=t,this.options=n,this.logger=BE.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!==typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=function(){var e={};return lC.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:cC[t.fc]}}))})),e}()}return V(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(n){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(e,t){return hC[e]-hC[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):r.numbers.map((function(r){return t.getSuffix(e,r,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),i=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var a=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"===typeof i?"_plural_".concat(i.toString()):a():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?a():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!fC.includes(this.options.compatibilityJSON)}}]),e}();function pC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pC(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mC=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};U(this,e),this.logger=BE.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return V(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:XE,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?GE(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?GE(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?GE(t.nestingPrefix):t.nestingPrefixEscaped||GE("$t("),this.nestingSuffix=t.nestingSuffix?GE(t.nestingSuffix):t.nestingSuffixEscaped||GE(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var i,a,o,s=this,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(e){return e.replace(/\$/g,"$$$$")}var c=function(e){if(e.indexOf(s.formatSeparator)<0){var i=HE(t,u,e);return s.alwaysFormat?s.format(i,void 0,n,vC(vC(vC({},r),t),{},{interpolationkey:e})):i}var a=e.split(s.formatSeparator),o=a.shift().trim(),l=a.join(s.formatSeparator).trim();return s.format(HE(t,u,o),l,n,vC(vC(vC({},r),t),{},{interpolationkey:o}))};this.resetRegExp();var f=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,h=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return l(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?l(s.escape(e)):l(e)}}].forEach((function(t){for(o=0;i=t.regex.exec(e);){var n=i[1].trim();if(void 0===(a=c(n)))if("function"===typeof f){var u=f(e,i,r);a="string"===typeof u?u:""}else if(r&&r.hasOwnProperty(n))a="";else{if(h){a=i[0];continue}s.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),a=""}else"string"===typeof a||s.useRawValueToEscape||(a=FE(a));var l=t.safeValue(a);if(e=e.replace(i[0],l),h?(t.regex.lastIndex+=l.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,++o>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=vC({},a);function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),i="{".concat(r[1]);e=r[0],i=(i=this.interpolate(i,o)).replace(/'/g,'"');try{o=JSON.parse(i),t&&(o=vC(vC({},t),o))}catch(Vp){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),Vp),"".concat(e).concat(n).concat(i)}return delete o.defaultValue,e}for(o.applyPostProcessor=!1,delete o.defaultValue;n=this.nestingRegexp.exec(e);){var u=[],l=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var c=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=c.shift(),u=c,l=!0}if((r=t(s.call(this,n[1].trim(),o),o))&&n[0]===e&&"string"!==typeof r)return r;"string"!==typeof r&&(r=FE(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),l&&(r=u.reduce((function(e,t){return i.format(e,t,a.lng,vC(vC({},a),{},{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();function gC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gC(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bC=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};U(this,e),this.logger=BE.create("formatter"),this.options=t,this.formats={number:function(e,t,n){return new Intl.NumberFormat(t,n).format(e)},currency:function(e,t,n){return new Intl.NumberFormat(t,yC(yC({},n),{},{style:"currency"})).format(e)},datetime:function(e,t,n){return new Intl.DateTimeFormat(t,yC({},n)).format(e)},relativetime:function(e,t,n){return new Intl.RelativeTimeFormat(t,yC({},n)).format(e,n.range||"day")},list:function(e,t,n){return new Intl.ListFormat(t,yC({},n)).format(e)}},this.init(t)}return V(e,[{key:"init",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"format",value:function(e,t,n,r){var i=this,a=t.split(this.formatSeparator).reduce((function(e,t){var a=function(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);"currency"===t&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):"relativetime"===t&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach((function(e){if(e){var t=yT(e.split(":")),r=t[0],i=t.slice(1).join(":");n[r.trim()]||(n[r.trim()]=i.trim()),"false"===i.trim()&&(n[r.trim()]=!1),"true"===i.trim()&&(n[r.trim()]=!0),isNaN(i.trim())||(n[r.trim()]=parseInt(i.trim(),10))}}))}return{formatName:t,formatOptions:n}}(t),o=a.formatName,s=a.formatOptions;if(i.formats[o]){var u=e;try{var l=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},c=l.locale||l.lng||r.locale||r.lng||n;u=i.formats[o](e,c,yC(yC(yC({},s),r),l))}catch(f){i.logger.warn(f)}return u}return i.logger.warn("there was no format function for ".concat(o)),e}),e);return a}}]),e}();function _C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_C(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kC(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Vp){return!1}}();return function(){var n,r=W(e);if(t){var i=W(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Q(this,n)}}var wC=function(e){X(n,e);var t=kC(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return U(this,n),a=t.call(this),YE&&LE.call(H(a)),a.backend=e,a.store=r,a.services=i,a.languageUtils=i.languageUtils,a.options=o,a.logger=BE.create("backendConnector"),a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(i,o.backend,o),a}return V(n,[{key:"queueLoad",value:function(e,t,n,r){var i=this,a=[],o=[],s=[],u=[];return e.forEach((function(e){var r=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&i.store.hasResourceBundle(e,t)?i.state[s]=2:i.state[s]<0||(1===i.state[s]?o.indexOf(s)<0&&o.push(s):(i.state[s]=1,r=!1,o.indexOf(s)<0&&o.push(s),a.indexOf(s)<0&&a.push(s),u.indexOf(t)<0&&u.push(t)))})),r||s.push(e)})),(a.length||o.length)&&this.queue.push({pending:o,loaded:{},errors:[],callback:r}),{toLoad:a,pending:o,toLoadLanguages:s,toLoadNamespaces:u}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),i=r[0],a=r[1];t&&this.emit("failedLoading",i,a,t),n&&this.store.addResourceBundle(i,a,n),this.state[e]=t?-1:2;var o={};this.queue.forEach((function(n){!function(e,t,n,r){var i=UE(e,t,Object),a=i.obj,o=i.k;a[o]=a[o]||[],r&&(a[o]=a[o].concat(n)),r||a[o].push(n)}(n.loaded,[i],a),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(e){o[e]||(o[e]=[]),n.loaded[e].length&&n.loaded[e].forEach((function(t){o[e].indexOf(t)<0&&o[e].push(t)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",o),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,o=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[n](e,t,(function(s,u){s&&u&&i<5?setTimeout((function(){r.read.call(r,e,t,n,i+1,2*a,o)}),a):o(s,u)})):o(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"===typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"===typeof t&&(t=[t]);var a=this.queueLoad(e,t,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(function(r,o){r&&t.logger.warn("".concat(n,"loading namespace ").concat(a," for language ").concat(i," failed"),r),!r&&o&&t.logger.log("".concat(n,"loaded namespace ").concat(a," for language ").concat(i),o),t.loaded(e,r,o)}))}},{key:"saveMissing",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):void 0!==n&&null!==n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,r,null,xC(xC({},a),{},{isUpdate:i})),e&&e[0]&&this.store.addResource(e[0],t,n,r))}}]),n}(LE);function SC(e){return"string"===typeof e.ns&&(e.ns=[e.ns]),"string"===typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"===typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function TC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function EC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TC(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CC(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Vp){return!1}}();return function(){var n,r=W(e);if(t){var i=W(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Q(this,n)}}function AC(){}var PC=function(e){X(n,e);var t=CC(n);function n(){var e,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if(U(this,n),e=t.call(this),YE&&LE.call(H(e)),e.options=SC(i),e.services={},e.logger=BE,e.modules={external:[]},r=H(e),Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach((function(e){"function"===typeof r[e]&&(r[e]=r[e].bind(r))})),a&&!e.isInitialized&&!i.isClone){if(!e.options.initImmediate)return e.init(i,a),Q(e,H(e));setTimeout((function(){e.init(i,a)}),0)}return e}return V(n,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"===typeof t&&(n=t,t={}),!t.defaultNS&&t.ns&&("string"===typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var r={debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===s(e[1])&&(t=e[1]),"string"===typeof e[1]&&(t.defaultValue=e[1]),"string"===typeof e[2]&&(t.tDescription=e[2]),"object"===s(e[2])||"object"===s(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}};function i(e){return e?"function"===typeof e?new e:e:null}if(this.options=EC(EC(EC({},r),this.options),SC(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=EC(EC({},r.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var a;this.modules.logger?BE.init(i(this.modules.logger),this.options):BE.init(null,this.options),this.modules.formatter?a=this.modules.formatter:"undefined"!==typeof Intl&&(a=bC);var o=new uC(this.options);this.store=new eC(this.options.resources,this.options);var u=this.services;u.logger=BE,u.resourceStore=this.store,u.languageUtils=o,u.pluralResolver=new dC(o,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!a||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(u.formatter=i(a),u.formatter.init(u,this.options),this.options.interpolation.format=u.formatter.format.bind(u.formatter)),u.interpolator=new mC(this.options),u.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},u.backendConnector=new wC(i(this.modules.backend),u.resourceStore,u,this.options),u.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.languageDetector&&(u.languageDetector=i(this.modules.languageDetector),u.languageDetector.init(u,this.options.detection,this.options)),this.modules.i18nFormat&&(u.i18nFormat=i(this.modules.i18nFormat),u.i18nFormat.init&&u.i18nFormat.init(this)),this.translator=new oC(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=AC),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&"dev"!==l[0]&&(this.options.lng=l[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var c=jE(),f=function(){var t=function(t,r){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),c.resolve(r),n(t,r)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?f():setTimeout(f,0),c}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:AC,r="string"===typeof e?e:this.language;if("function"===typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase())return n();var i=[],a=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){i.indexOf(e)<0&&i.push(e)}))};if(r)a(r);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(e){return a(e)}));this.options.preload&&this.options.preload.forEach((function(e){return a(e)})),this.services.backendConnector.load(i,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),n(e)}))}else n(null)}},{key:"reloadResources",value:function(e,t,n){var r=jE();return e||(e=this.languages),t||(t=this.options.ns),n||(n=AC),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&tC.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var r=jE();this.emit("languageChanging",e);var i=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},a=function(a){e||a||!n.services.languageDetector||(a=[]);var o="string"===typeof a?a:n.services.languageUtils.getBestMatchFromCodes(a);o&&(n.language||i(o),n.translator.language||n.translator.changeLanguage(o),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(o)),n.loadResources(o,(function(e){!function(e,a){a?(i(a),n.translator.changeLanguage(a),n.isLanguageChangingTo=void 0,n.emit("languageChanged",a),n.logger.log("languageChanged",a)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,o)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(e,t,n){var r=this,i=function e(t,i){var a;if("object"!==s(i)){for(var o=arguments.length,u=new Array(o>2?o-2:0),l=2;l<o;l++)u[l-2]=arguments[l];a=r.options.overloadTranslationOptionHandler([t,i].concat(u))}else a=EC({},i);a.lng=a.lng||e.lng,a.lngs=a.lngs||e.lngs,a.ns=a.ns||e.ns;var c=r.options.keySeparator||".",f=n?"".concat(n).concat(c).concat(t):t;return r.t(f,a)};return"string"===typeof e?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,a=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var o=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,o);if(void 0!==s)return s}return!!this.hasResourceBundle(r,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!o(r,e)||i&&!o(a,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=jE();return this.options.ns?("string"===typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=jE();"string"===typeof e&&(e=[e]);var r=this.options.preload||[],i=e.filter((function(e){return r.indexOf(e)<0}));return i.length?(this.options.preload=r.concat(i),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:AC,i=EC(EC(EC({},this.options),t),{isClone:!0}),a=new n(i);return["store","services","language"].forEach((function(t){a[t]=e[t]})),a.services=EC({},this.services),a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a.translator=new oC(a.services,a.options),a.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a.emit.apply(a,[e].concat(n))})),a.init(i,r),a.translator.options=a.options,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(LE);l(PC,"createInstance",(function(){return new PC(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}));var IC=PC.createInstance();IC.createInstance=PC.createInstance;IC.createInstance,IC.init,IC.loadResources,IC.reloadResources,IC.use,IC.changeLanguage,IC.getFixedT,IC.t,IC.exists,IC.setDefaultNamespace,IC.hasLoadedNamespace,IC.loadNamespaces,IC.loadLanguages;var OC,MC=IC,RC=JSON.parse('[{"locales":["zh-Hant","zh-HK","zh-MO","zh-TW"],"fallback":"zh-TW"},{"locales":["en-AU","en-BN","en-KH","en-CN","en-HK","en-IN","en-MY","en-MM","en-NZ","en-SG"],"fallback":"en-GB"}]'),NC={};MC.use(Ir).use((OC=function(e,t,r){n(548)("./".concat(e,"/").concat(t,".json")).then((function(e){var t=e.default;r(null,t)})).catch((function(e){r(e,null)}))},{type:"backend",init:function(e,t,n){},read:function(e,t,n){if("function"!==typeof OC)n(null,OC&&OC[e]&&OC[e][t]);else{if(OC.length<3){try{var r=OC(e,t);r&&"function"===typeof r.then?r.then((function(e){return n(null,e&&e.default||e)})).catch(n):n(null,r)}catch(i){n(i)}return}OC(e,t,n)}}})).init({load:"currentOnly",fallbackLng:function(e){if(NC[e])return NC[e];if(!e||"en"===e)return["en"];var t=[e],n=RC.find((function(t){return t.locales&&t.locales.includes(e)}));n&&n.fallback&&t.push(n.fallback);var r=e.split("-")[0];return r!==e&&"en"!==r&&t.push(r),t.push("en"),NC[e]=t,t},debug:!1,interpolation:{escapeValue:!1}});var DC=MC;var BC=function(){var t=vt();return(0,e.useEffect)((function(){DC.changeLanguage(t)}),[t]),null};var LC=function(){return(0,e.useEffect)((function(){var e=function(){var e="".concat(.01*window.innerHeight,"px");document.body.style.setProperty("--vh",e)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),(0,m.jsx)(me,{children:(0,m.jsx)(Va,{children:(0,m.jsx)($e,{children:(0,m.jsx)(wt,{children:(0,m.jsxs)(ht,{children:[(0,m.jsx)(jT,{}),(0,m.jsx)(BC,{}),(0,m.jsx)(e.Suspense,{fallback:(0,m.jsx)("div",{className:"InitialLoading"}),children:(0,m.jsx)("div",{className:"App",children:(0,m.jsx)(Da,{children:(0,m.jsxs)(b,{children:[(0,m.jsx)(FT,{}),(0,m.jsx)(UT,{}),(0,m.jsx)(zT,{}),(0,m.jsx)(yr,{children:(0,m.jsx)(pf,{children:(0,m.jsxs)(Mf,{children:[(0,m.jsx)(NT,{screenId:"NowPlaying",mountOnEnter:!0,unmountOnExit:fe.DefaultPerformanceSettings.unmountNowPlayingScreenOnExit}),(0,m.jsx)(fE,{screenId:"Browse",usesTrackBar:!0,mountOnEnter:!0,unmountOnExit:fe.DefaultPerformanceSettings.unmountBrowseScreenOnExit}),(0,m.jsx)(TE,{screenId:"Queue",float:!0,usesTrackBar:!0,mountOnEnter:!0,unmountOnExit:fe.DefaultPerformanceSettings.unmountQueueScreenOnExit}),(0,m.jsx)(OE,{screenId:"Volumio",mountOnEnter:!0,unmountOnExit:fe.DefaultPerformanceSettings.unmountVolumioScreenOnExit}),(0,m.jsx)(co,{})]})})})]})})})})]})})})})})};t.render((0,m.jsx)(LC,{}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.001e3ba3.js.map